<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>myBlog</title>
  
  <subtitle>å‰ç«¯å°è¶´èœ</subtitle>
  <link href="https://wyf195075595.github.io/atom.xml" rel="self"/>
  
  <link href="https://wyf195075595.github.io/"/>
  <updated>2023-03-08T14:41:22.577Z</updated>
  <id>https://wyf195075595.github.io/</id>
  
  <author>
    <name>ç‹ä¸ç•™è¡Œ</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>é›ªä¸­æ‚åˆ€è¡Œ</title>
    <link href="https://wyf195075595.github.io/2023/04/01/index/"/>
    <id>https://wyf195075595.github.io/2023/04/01/index/</id>
    <published>2023-04-01T01:23:10.000Z</published>
    <updated>2023-03-08T14:41:22.577Z</updated>
    
    <content type="html"><![CDATA[<p><img src="/imgs/hello-world/0df431adcbef76091bf6bb1c23dda3cc7dd99eb7.jpg"></p><h3 id="åˆå§‹ç‰ˆ"><a href="#åˆå§‹ç‰ˆ" class="headerlink" title="åˆå§‹ç‰ˆ"></a>åˆå§‹ç‰ˆ</h3><p>æœ‰ä¸ªç™½ç‹è„¸å„¿ï¼Œä½©åŒåˆ€ç»£å†¬æ˜¥é›·ï¼Œè¦åšé‚£å¤©ä¸‹ç¬¬ä¸€ï¼›</p><p>æ¹–åº•æœ‰ç™½å‘è€é­çˆ±åƒè¤ï¼›</p><p>ç¼ºé—¨ç‰™è€ä»†èƒŒå‰‘åŒ£ï¼›</p><p>å±±ä¸Šæœ‰ä¸ªéª‘é’ç‰›çš„å¹´è½»å¸ˆå”ç¥–ï¼Œä¸æ•¢ä¸‹å±±ï¼›</p><p>æœ‰ä¸ªéª‘å¤§çŒ«æ‰›å‘æ—¥è‘µä¸å¤ªå†·çš„å°‘å¥³æ€æ‰‹ï¼›</p><span id="more"></span><h3 id="æ”¶å®˜ç‰ˆ"><a href="#æ”¶å®˜ç‰ˆ" class="headerlink" title="æ”¶å®˜ç‰ˆ"></a>æ”¶å®˜ç‰ˆ</h3><p>æ±Ÿæ¹–æ˜¯ä¸€å¼ ç å¸˜ã€‚å¤§äººç‰©å°äººç‰©ï¼Œæ˜¯ç å­ï¼Œå¤§æ•…äº‹å°æ•…äº‹ï¼Œæ˜¯ä¸²çº¿ã€‚æƒ…ä¹‰äºŒå­—ï¼Œåˆ™æ˜¯é‚£äº›ç å­çš„ç²¾æ°”ç¥ã€‚å¼€å§‹æ”¶å®˜ä¸­ã€‚æœ€ç»ˆç« å°†ä»¥é‚£ä¸€å£°â€œå°äºŒä¸Šé…’â€ç»“å°¾ã€‚</p><h3 id="æ˜¥ç§‹ä¹å›½"><a href="#æ˜¥ç§‹ä¹å›½" class="headerlink" title="æ˜¥ç§‹ä¹å›½"></a>æ˜¥ç§‹ä¹å›½</h3><p>ç¦»é˜³ï¼Œè¥¿æ¥šï¼Œè¥¿èœ€ï¼ŒåŒ—æ±‰ï¼Œå¤§é­ï¼Œåå®‹ã€åéš‹ï¼Œä¸œè¶Šï¼Œå—å”ã€‚å¾éªç­å…­å›½ï¼Œåéš‹ï¼Œè¥¿æ¥šï¼Œåå®‹ï¼Œè¥¿èœ€ï¼ŒåŒ—æ±‰ï¼Œå¤§é­ã€‚é¡¾å‰‘æ£ ç­ä¸œè¶Šï¼Œå—å”ã€‚</p><p>ç¦»é˜³ç‹æœï¼šåŸæœ‰å…­å·ï¼Œç­æ˜¥ç§‹å…«å›½æ·»åä¸‰å·ï¼Œå…±è®¡åä¹å·ã€‚</p><p>åŒ—è½ç‹æœï¼šå åœ°å…«å·ï¼Œåˆ†åˆ«æ˜¯å§‘å¡ï¼Œé¾™è…°ï¼Œä¸œé”¦ï¼Œè¥¿æ²³ï¼Œé‡‘è‰ï¼Œç‰è‰ï¼Œå®ç“¶ï¼Œæ©˜å­ã€‚</p><p>è¥¿èœ€ï¼šä¸¾å›½å…µå’ä¸è¿‡åäºŒä¸‡ï¼Œæˆ˜æ­»ä¹ä¸‡ã€‚è¢«å¾éªä¸¤ä¸ªæœˆç­å›½ã€‚è¥¿èœ€æ›¾å‡¿å¼€çŸ³å£æŒ‚äº†ä¸‰æ¡é“ç´¢æ‹¦æ±Ÿè¯•å›¾é˜»æ‹¦åŒ—å‡‰ä¸´æ—¶æ‹¼å‡‘å‡ºçš„æ°´å¸ˆï¼Œä¸æ›¾æƒ³é‚£åœºæ°´æˆ˜å°šæœªå¼€å¯ä¾¿è½å¹•ï¼Œå¤§æ±Ÿæ²¿å²¸å¤©é™©å°±è¢«åŒ—å‡‰å†›æ‚‰æ•°æ‘§ç ´ã€‚</p><p>è¥¿æ¥šçš‡éƒ½ä¸€æˆ˜ï¼šç¦»çš‡å®«åé‡Œï¼Œèµµå†›å¸ˆç—…æ­»ã€‚å¾éªç‡å†›æŠ•é­æ–­æ±Ÿï¼Œæ­»æˆ˜è¥¿èœ€çš‡éƒ½ã€‚è¥¿èœ€å›½ç ´ï¼Œå¾éªé¡ºåŠ¿ç­å»æ•°ä¸ªåå¤æ— å¸¸çš„å—è›®è±ªå¼ºã€‚</p><p>è¥¿æ¥šï¼šåœ°æ–¹äº”åƒé‡ŒæŒæˆŸç™¾ä¸‡äººã€‚</p><h3 id="æ˜¥ç§‹æˆ˜äº‰"><a href="#æ˜¥ç§‹æˆ˜äº‰" class="headerlink" title="æ˜¥ç§‹æˆ˜äº‰"></a>æ˜¥ç§‹æˆ˜äº‰</h3><p>è¥¿æ¥šæ™¯æ²³ä¹‹æˆ˜ï¼šåäºŒä¸‡å¤§æˆŸå£«å¯¹é˜µåŒ—å‡‰é“éª‘ï¼Œå…¨å†›è¦†æ²¡ï¼Œæ­»æˆ˜ä¸å±ˆã€‚</p><p>è¥¿æ¥šè¥„æ¨Šå®ˆåŸæˆ˜ï¼šæ˜¥ç§‹ç¬¬ä¸€å®ˆå°†ç‹æ˜é˜³åé•‡æ­»å®ˆã€‚äºŒåä¸‡è¥„æ¨Šäººåªå‰©ä¸‹ä¸åˆ°ä¸€ä¸‡ã€‚è¥„æ¨Šæ”»å®ˆï¼ŒåŒ—å‡‰å†›ç²¾é”æŠ˜æŸå¤§åŠï¼Œå…¶ä¸­å°±æœ‰ä¸‰ç™¾åç²¾äºé’»åœ°çš„ç©´å¸ˆï¼Œæ­»äº¡æ®†å°½ã€‚</p><p>è¥¿æ¥šè¥¿å’å£ä¹‹æˆ˜ï¼šè¥¿æ¥šäº¡å›½ä¹‹æˆ˜ã€‚æ˜¥ç§‹å›½æˆ˜æœ€åä¸€æˆ˜ã€‚åŒ—å‡‰å†›ä¸è¥¿æ¥šå†›å¯¹å³™ä¸¤å¹´ã€‚åŒ—å‡‰æ—§éƒ¨é©¬å²­ç­‰åå››äººä»¥æ­»æ›¿å¾éªè¡¨å¿ ã€‚ç‹å¦ƒä¸€è¢­ç™½è¡£ç¼Ÿç´ äº²è‡ªæ•²å“æˆ˜é¼“ï¼Œé¼“å£°å¦‚é›·ï¼Œä¸ç ´è¥¿æ¥šé¼“ä¸ç»ã€‚â€œæ­»æˆ˜ç¬¬ä¸€â€åƒäººé±¼é¼“è¥æ­»æˆ˜ä¸é€€ï¼Œæœ€ç»ˆåªæ´»ä¸‹æ¥åå…­äººï¼Œä¸ºâ€œéª‘æˆ˜ç¬¬ä¸€â€ä¸‰åƒå¤§é›ªé¾™éª‘å…µå¼€è¾Ÿå‡ºä¸€æ¡ç›´æ’å¶ç™½å¤”å¤§æˆŸå†›è…¹åœ°çš„å¦è¡è¡€è·¯ã€‚é™ˆèŠè±¹åé•‡ä¸­å†›ï¼Œè¿ç­¹å¸·å¹„ï¼›ç‹å¦ƒäº²è‡ªæ“‚é¼“ï¼›å¾éªèˆå¼ƒå¤´ç›”ï¼ŒæŒçŸ›é¦–å½“å…¶å†²ï¼›ä¸‰åƒç™½é©¬ç™½ç”²ï¼Œä¸€è·¯å¥”é›·è¸å»ã€‚å…¶ä¸­ä¾¿æœ‰é±¼é¼“è¥åƒä½™äººçš„è¢æ³½å°¸ä½“ã€‚å°äººå± é™ˆèŠè±¹ä¸å¶ç™½å¤”æ­»æˆ˜ã€‚å¶ç™½å¤”æˆ˜æ­»ã€‚æ­¤æˆ˜åï¼Œæ¨å¤ªå²æ›¾åŠ›åŠå¾éªä¸æ€ç¡•å„’æ–¹å­æ¢¨ï¼Œæœ€ç»ˆæ— æœã€‚</p><p>è¥¿æ¥šç­å›½åï¼Œå¾éªå—å°å¤§æŸ±å›½ï¼Œéš”å¤©è¢«å°åŒ—å‡‰ç‹ã€‚</p><p>è€çš‡å¸è¦å°†ä»¥æ­¦ä¹±ç¦çš„æ±Ÿæ¹–æ€ç¿»ï¼Œå¾éªä¸€äººè¯·å‘½é©¬è¸æ±Ÿæ¹–ï¼Œä¸æ›¾å¼€æˆ˜ï¼Œä¾¿æœ‰ä¸¤ä¸‡åç™¾æˆ˜è€å’è¯·è¾è¿˜å®¶ï¼Œæ›´æœ‰æ— æ•°å‡ºèº«æ±Ÿæ¹–çš„çŒ›å°†å¯¹å¾éªå¿ƒç”Ÿæ€¨æ¨ï¼Œè½¬æŠ•å…¶å®ƒå†›ä¼ã€‚</p><h2 id="å¢ƒç•Œåˆ’åˆ†"><a href="#å¢ƒç•Œåˆ’åˆ†" class="headerlink" title="å¢ƒç•Œåˆ’åˆ†"></a>å¢ƒç•Œåˆ’åˆ†</h2><p><a href="javascript:;">ç¼–è¾‘</a><a href="javascript:;"> æ’­æŠ¥</a></p><p><strong>ä¹å“åˆ¶</strong>ï¼ˆä»å°åˆ°å¤§ï¼Œä¹å“è‡³ä¸€å“ï¼‰</p><p>ä¼¤ç”²è€Œä¸ç ´ï¼Œæ˜¯ä¸‹ä¸‰å“</p><p>ç ´å…­ç”²ä»¥ä¸‹ï¼Œä¸­ä¸‰å“</p><p>ç ´ç”²å…«ä¹ï¼Œä¸Šä¸‰å“</p><p>äºŒå“ä¸ºå°å®—å¸ˆ</p><p>ä¸€å“å››å¢ƒï¼šé‡‘åˆšå¢ƒï¼ŒæŒ‡ç„å¢ƒï¼Œå¤©è±¡å¢ƒï¼Œé™†åœ°ç¥ä»™ï¼ˆçš†æœ‰å¤§å°çœŸä¼ªä¹‹åˆ†ï¼Œä¸Šå“ä¸ºå¤§ï¼Œæœ€æ¬¡æ˜¯ä¼ªï¼‰ã€‚</p><p>é‡‘åˆšå¢ƒå–»é‡Šå®¶ï¼Œé‡‘åˆšå¢ƒçš„ä¸»è¦ç‰¹ç‚¹å°±æ˜¯ç†¬ç‚¼ä½“é­„ï¼Œè¿™æ˜¯å››å¢ƒå½“ä¸­æœ€é€‚åˆç†¬ç‚¼ä½“é­„çš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯æé«˜é˜²å¾¡åŠ›å’Œä½“è´¨ã€‚é‡‘åˆšå¢ƒåœ¨æ—©å¹´æ˜¯ä¸è¢«åˆ’å…¥é«˜æ‰‹ä½“ç³»å†…çš„ï¼Œç›´åˆ°é«˜æ ‘éœ²ä»¥è¿™ä¸ªå¢ƒç•Œä»£è¡¨ä½›å®¶ï¼Œæ‰è¢«åˆ’å…¥äº†ä¸€å“å¢ƒã€‚è€Œé‡‘åˆšå¢ƒä¹‹ä¸Šè¿˜æœ‰å¤§é‡‘åˆšå¢ƒï¼Œå¯é”»é€ çœŸæ­£çš„é‡‘åˆšä¸è´¥ä¹‹èº«ï¼Œæ¯”å¦‚ä¸‰æ•™ä¸­çš„æå½“å¿ƒã€å½“å¹´å››å¤§å®—å¸ˆçš„ç¬¦å°†çº¢ç”²ã€‚</p><p>æŒ‡ç„å¢ƒå–»é“å®¶ï¼ŒæŒ‡ç„å¢ƒçš„ä¸»è¦ç‰¹ç‚¹ä¸€ä¸ªæ˜¯æœ‰ç±»ä¼¼äºæœªåœå…ˆçŸ¥ã€æ–™æ•Œäºå…ˆçš„èƒ½åŠ›ã€‚å¦ä¸€ä¸ªåˆ™æ˜¯å¯ä»¥æ‚Ÿå¾—ä¸€äº›äº”èŠ±å…«é—¨çš„æŒ‡ç„ç§˜æœ¯ï¼Œè¿™äº›ç§˜æœ¯åƒå¥‡ç™¾æ€ªï¼ŒæŒ‡ç„å¢ƒä¹‹é—´å¯¹ä¸ŠåŸºæœ¬ä¸Šè°ä¹Ÿä¸æ•¢ç§°è‡ªå·±å¿…èƒœï¼Œå› ä¸ºä½ ä¸çŸ¥é“ä»–æ‚Ÿå‡ºçš„æ˜¯ä»€ä¹ˆç§˜æœ¯ã€‚åƒæ±Ÿæ–§ä¸æ‚Ÿå‡ºçš„æ˜¯â€œç›´æŒ‡å¤©å¿ƒâ€çš„ç…§é•œä¹‹æ³•ï¼Œçœ‹åˆ°åˆ«äººçš„æ­¦å­¦å¯ä»¥è¿‡ç›®ä¸å¿˜ï¼Œæ’·å–å…¶ä¸­çš„ç²¾åï¼Œè€Œå¤©çŒ«éŸ©ç”Ÿå®£æ‚Ÿå‡ºçš„æ˜¯å¯ä»¥æˆªæ–­å¤©è±¡å¢ƒå¤©äººæ„Ÿåº”çš„æŒ‡ç„ç§˜æœ¯ï¼Œå› æ­¤å¯ä»¥æŒ‡ç„æ€å¤©è±¡ã€‚</p><p>å¤©è±¡å¢ƒå–»å„’å®¶ï¼Œå¤©è±¡å¢ƒçš„ç‰¹ç‚¹å°±æ˜¯å¤©äººæ„Ÿåº”ï¼Œä¸å¤©åœ°å…±é¸£ï¼Œå¯ä»¥å€Ÿæ³•å¤©åœ°ï¼Œå¯ä»¥ä¸æ•é”çš„ç›´è§‰è¶‹åˆ©é¿å®³ã€‚æŒ‡ç„å¢ƒè¦æ™‹å‡å¤©è±¡å¢ƒéš¾åº¦ä¸æ¯”äºŒå“å¢ƒæ™‹å‡ä¸€å“å¢ƒå®¹æ˜“ã€‚è€Œä¸”å› ä¸ºå¤©è±¡å¢ƒéœ€è¦å¤©äººæ„Ÿåº”ï¼Œå¦‚æœæ»¥é€ æ€ä¸šçš„è¯ï¼Œä¼šå—æ°”æ•°å½±å“ï¼Œæ‰€ä»¥åƒéŸ©ç”Ÿå®£æ˜¯å¯ä»¥å…¥å¤©è±¡å¢ƒè€Œä¸æ„¿æ„å…¥ã€‚å¤©è±¡å¢ƒå®Œç¾å³ä¸ºå¤§å¤©è±¡å¢ƒï¼Œè·ç¦»åœ°ä»™åªæœ‰ä¸€æ­¥ä¹‹é¥ï¼Œä¾‹å¦‚æŸ³è’¿å¸ˆã€è½©è¾•å¤§ç£ã€ç¨‹ç™½éœœç­‰äººã€‚</p><p>é™†åœ°ç¥ä»™ï¼Œä¸ºä¸‰å®¶æ®Šé€”åŒå½’ã€‚å«æœ‰æ°”æ•°åœ¨èº«ï¼Œé™†åœ°ç¥ä»™ä½æ ¼æ˜¯æœ‰æ•°çš„ï¼Œåªæœ‰å…¶ä»–é™†åœ°ç¥ä»™æ­»äº†æˆ–è€…é£å‡äº†ï¼Œæ‰èƒ½æœ‰æ–°çš„é™†åœ°ç¥ä»™è¯ç”Ÿã€‚</p><p>ä¸€èˆ¬è€Œè¨€ï¼Œä½›é—¨å…¥ä¸€å“ä¸ºé‡‘åˆšï¼Œé“é—¨å…¥ä¸€å“ä¸ºæŒ‡ç„ï¼Œå„’é—¨å…¥ä¸€å“ä¸ºå¤©è±¡ï¼Œåªä¿®å•å¢ƒã€‚è€Œæ±Ÿæ¹–æ­¦å¤«åˆ™å¤§å¤šå¾ªå¢ƒè€Œè¿›ï¼Œé‡‘åˆš-æŒ‡ç„-å¤©è±¡-åœ°ä»™ï¼ˆèä¼šè´¯é€šï¼‰ï¼Œå¤šå¢ƒå åŠ ï¼Œæ•…ä¸‰æ•™ä¸­äººåŒå¢ƒç•Œå¯¹æ‰“ä¸å¦‚æ­¦å¤«ã€‚å½“ç„¶ï¼Œé™¤äº†ä¸‰æ•™ä¸­äººï¼Œæ±Ÿæ¹–æ­¦å¤«ä¹Ÿæœ‰è¶Šå¢ƒå‡çº§è€…ï¼Œå…¶ä¸­å¤šæ˜¯ä»¥æœ¯å…¥æ­¦ï¼Œå¯¹ä½“é­„è¦æ±‚ä¸å¤§ï¼Œæ•…è€Œå…¥ä¸€å“åˆ™æŒ‡ç„ã€‚</p><p>ä¸€å“å¾€ä¸Šï¼Œåˆ™æ˜¯ç ´ç¢è™šç©ºï¼Œå‰‘å¼€å¤©é—¨ï¼Œæˆ–ä¸¾éœé£å‡ï¼Œæˆ–é©¾é¹¤è€Œèµ·ï¼Œæˆ–å¾¡å‰‘è€Œè¡Œã€‚ä¸€å…¥å¤©é—¨ï¼Œé£å‡ä¸Šç•Œï¼Œåˆ™ä¸ºå¤©ä»™ï¼Œå¯å¾—é•¿ç”Ÿï¼Œä½†æ˜¯å¦‚æœå‡ºäº†å¤©é—¨ï¼Œå°±ä¼šæˆä¸ºè°ªä»™äººï¼Œä¸å†é•¿ç”Ÿã€‚è¿‡å¤©é—¨è€Œä¸å…¥ï¼Œåœç•™ä¸‹ç•Œï¼Œåˆ™ä¸ºå¤©äººã€‚æœ‰æ— ç‘•ä¹‹åˆ†ã€‚</p><p>å¤©äººå¤§é•¿ç”Ÿä¸ºå¤©äººåœ†æ»¡ï¼Œæ‹¥æœ‰å¤§é‡‘åˆšå¢ƒçš„å¤©äººä½“é­„ï¼ˆæ— å¢ä¹‹ä½“ï¼‰ã€é“æ•™å¤§é•¿ç”Ÿçš„æŒ‡ç„ã€å„’å®¶åœ£äººçš„å¤©è±¡ï¼Œåœ¨å¤©ä¸Šéƒ½éš¾å¯»æ•Œæ‰‹ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;img src=&quot;/imgs/hello-world/0df431adcbef76091bf6bb1c23dda3cc7dd99eb7.jpg&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;åˆå§‹ç‰ˆ&quot;&gt;&lt;a href=&quot;#åˆå§‹ç‰ˆ&quot; class=&quot;headerlink&quot; title=&quot;åˆå§‹ç‰ˆ&quot;&gt;&lt;/a&gt;åˆå§‹ç‰ˆ&lt;/h3&gt;&lt;p&gt;æœ‰ä¸ªç™½ç‹è„¸å„¿ï¼Œä½©åŒåˆ€ç»£å†¬æ˜¥é›·ï¼Œè¦åšé‚£å¤©ä¸‹ç¬¬ä¸€ï¼›&lt;/p&gt;
&lt;p&gt;æ¹–åº•æœ‰ç™½å‘è€é­çˆ±åƒè¤ï¼›&lt;/p&gt;
&lt;p&gt;ç¼ºé—¨ç‰™è€ä»†èƒŒå‰‘åŒ£ï¼›&lt;/p&gt;
&lt;p&gt;å±±ä¸Šæœ‰ä¸ªéª‘é’ç‰›çš„å¹´è½»å¸ˆå”ç¥–ï¼Œä¸æ•¢ä¸‹å±±ï¼›&lt;/p&gt;
&lt;p&gt;æœ‰ä¸ªéª‘å¤§çŒ«æ‰›å‘æ—¥è‘µä¸å¤ªå†·çš„å°‘å¥³æ€æ‰‹ï¼›&lt;/p&gt;</summary>
    
    
    
    <category term="éšç¬”" scheme="https://wyf195075595.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
    <category term="éšç¬”" scheme="https://wyf195075595.github.io/tags/%E9%9A%8F%E7%AC%94/"/>
    
  </entry>
  
  <entry>
    <title>å¼€å‘è‡ªå·±çš„js plugin</title>
    <link href="https://wyf195075595.github.io/2023/03/22/programming/jsplugin/newnpm/"/>
    <id>https://wyf195075595.github.io/2023/03/22/programming/jsplugin/newnpm/</id>
    <published>2023-03-22T10:53:10.000Z</published>
    <updated>2023-03-22T14:25:51.726Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚é¦–å…ˆå»æ‰¾é€‚åˆå†™æ’ä»¶çš„é¡¹ç›®åŒ…ç®¡ç†å·¥å…·ã€‚å¯¹æ¯”äº†webpack,rollup,gulp,parcel</p><p>ç»è¿‡ä¸€é€šå¯¹æ¯”å°±é€‰ä¸­äº† <strong>rollup</strong>ï¼Œå…·ä½“è¯·è‡ªè¡Œäº†è§£ã€‚ç®€å•è¯´ä¸€ä¸‹æˆ‘ä»¬ç†ŸçŸ¥çš„<strong>vue</strong>,<strong>react</strong>,<strong>taro-ui</strong> ç­‰ å°±æ˜¯ä½¿ç”¨çš„ rolluojs æ‰“åŒ…çš„</p><p>è‡ªå·±å†™äº†ä¸€ä¸ªå¾ˆç®€å•çš„æ’ä»¶ä¸Šä¼ å‘å¸ƒåˆ°npmã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p></blockquote><span id="more"></span><ol><li><p>é¦–å…ˆ æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ npm init åˆå§‹åŒ– å¾—åˆ°package.json</p></li><li><p>å¼•å…¥ rollup</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ä½¿ç”¨äº† yarn å› ä¸º yarn æ‰“åŒ… å¯ä»¥è‡ªå·±æ‰¾åˆ° (yarn rollup) å‘½ä»¤å¯æ‰§è¡Œæ–‡ä»¶</span></span><br><span class="line">yarn add rollup -D</span><br></pre></td></tr></table></figure></li><li><p>å¢åŠ é…ç½®æ–‡ä»¶ rollup.config.js, è·Ÿpackage.json åŒçº§</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ”¯æŒ å¯¼å…¥ josn æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">import</span> json <span class="keyword">from</span> <span class="string">&#x27;rollup-plugin-json&#x27;</span></span><br><span class="line"><span class="comment">// æ”¯æŒå¯¼å…¥ npm ç¬¬ä¸‰æ–¹æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> resolve <span class="keyword">from</span> <span class="string">&#x27;rollup-plugin-node-resolve&#x27;</span></span><br><span class="line"><span class="comment">// å…¼å®¹ commonJs æ¨¡å—</span></span><br><span class="line"><span class="keyword">import</span> commonjs <span class="keyword">from</span> <span class="string">&#x27;rollup-plugin-commonjs&#x27;</span></span><br><span class="line"><span class="comment">// å¤§å°å†™è½¬æ¢</span></span><br><span class="line"><span class="keyword">import</span> changeCase <span class="keyword">from</span> <span class="string">&#x27;change-case&#x27;</span></span><br><span class="line"><span class="comment">// åˆ›å»ºä½œè€…ï¼Œæ—¥æœŸï¼Œåº“åç­‰æ³¨é‡Š</span></span><br><span class="line"><span class="keyword">import</span> createBanner <span class="keyword">from</span> <span class="string">&#x27;create-banner&#x27;</span></span><br><span class="line"><span class="comment">// è¯­æ³•é™çº§,@babel/preset-env,@babel/core</span></span><br><span class="line"><span class="keyword">import</span> &#123; babel &#125; <span class="keyword">from</span> <span class="string">&#x27;@rollup/plugin-babel&#x27;</span></span><br><span class="line"><span class="keyword">import</span> pkg <span class="keyword">from</span> <span class="string">&#x27;./package.json&#x27;</span> assert &#123; <span class="attr">type</span>: <span class="string">&quot;json&quot;</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> name = changeCase.<span class="title function_">pascalCase</span>(pkg.<span class="property">name</span>)</span><br><span class="line"><span class="keyword">const</span> banner = <span class="title function_">createBanner</span>(&#123;</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">`<span class="subst">$&#123;name&#125;</span>.js`</span>,</span><br><span class="line">      <span class="attr">year</span>: <span class="string">&#x27;2023-present&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(name);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="comment">// å…¥å£æ–‡ä»¶</span></span><br><span class="line">    <span class="attr">input</span>: <span class="string">&quot;src/index.js&quot;</span>,</span><br><span class="line">    <span class="comment">// input: [&quot;src/index.js&quot;, &quot;src/album.js&quot;],</span></span><br><span class="line">    <span class="comment">// input: &#123;</span></span><br><span class="line">    <span class="comment">//     foo: &quot;src/index.js&quot;,</span></span><br><span class="line">    <span class="comment">//     bar: &quot;src/album.js&quot;</span></span><br><span class="line">    <span class="comment">// &#125;,</span></span><br><span class="line">    <span class="comment">// è¾“å‡ºè·¯å¾„</span></span><br><span class="line">    <span class="attr">output</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">file</span>: <span class="string">`dist/<span class="subst">$&#123;pkg.name&#125;</span>.amd.js`</span>,</span><br><span class="line">            banner,</span><br><span class="line">            <span class="attr">format</span>: <span class="string">&quot;amd&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            banner,</span><br><span class="line">            name,</span><br><span class="line">            <span class="attr">file</span>: <span class="string">`dist/<span class="subst">$&#123;pkg.name&#125;</span>.js`</span>,</span><br><span class="line">            <span class="attr">format</span>: <span class="string">&#x27;umd&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            banner,</span><br><span class="line">            <span class="attr">file</span>: <span class="string">`dist/<span class="subst">$&#123;pkg.name&#125;</span>.common.js`</span>,</span><br><span class="line">            <span class="attr">format</span>: <span class="string">&#x27;cjs&#x27;</span>,</span><br><span class="line">            <span class="attr">exports</span>: <span class="string">&#x27;auto&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            banner,</span><br><span class="line">            <span class="attr">file</span>: <span class="string">`dist/<span class="subst">$&#123;pkg.name&#125;</span>.esm.js`</span>,</span><br><span class="line">            <span class="attr">format</span>: <span class="string">&#x27;esm&#x27;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            banner,</span><br><span class="line">            <span class="attr">file</span>: <span class="string">`dist/<span class="subst">$&#123;pkg.name&#125;</span>.iife.js`</span>,</span><br><span class="line">            <span class="attr">format</span>: <span class="string">&#x27;iife&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        <span class="title function_">json</span>(),</span><br><span class="line">        <span class="comment">// resolve(),</span></span><br><span class="line">        <span class="title function_">babel</span>(&#123;</span><br><span class="line">            <span class="attr">extensions</span>: [<span class="string">&#x27;.js&#x27;</span>],</span><br><span class="line">            <span class="attr">babelHelpers</span>: <span class="string">&#x27;bundled&#x27;</span>,</span><br><span class="line">            <span class="string">&quot;presets&quot;</span>: [</span><br><span class="line">                [</span><br><span class="line">                    <span class="string">&quot;@babel/preset-env&quot;</span>,</span><br><span class="line">                    &#123;</span><br><span class="line">                    <span class="string">&quot;modules&quot;</span>: <span class="literal">false</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">            ],</span><br><span class="line">            <span class="string">&quot;env&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;test&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;plugins&quot;</span>: [</span><br><span class="line">                        <span class="string">&quot;istanbul&quot;</span></span><br><span class="line">                    ]</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;),</span><br><span class="line">        <span class="title function_">commonjs</span>(),</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–°å»º src æ–‡ä»¶å¤¹æ”¾ç½®æºç ï¼Œdist æ–‡ä»¶å¤¹æ”¾ç½®æ‰“åŒ…æ–‡ä»¶ï¼Œsrc/index.js</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// index.js</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Progress</span> <span class="keyword">extends</span> <span class="title class_ inherited__">HTMLElement</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// è°ƒç”¨è¶…ç±»çš„æ„é€ å™¨</span></span><br><span class="line">        <span class="variable language_">super</span>();</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªå½±å­ DOM æ ‘å¹¶å°†å…¶é™„åŠ åˆ°è¿™ä¸ªå…ƒç´ </span></span><br><span class="line">        <span class="comment">// è®¾ç½®ä¸º this.shadowRoot çš„å€¼</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">attachShadow</span>(&#123;<span class="attr">mode</span>:<span class="string">&#x27;open&#x27;</span>&#125;);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å…‹éš†æ¨¡æ¿ï¼Œå®šä¹‰è‡ªå®šä¹‰ç»„ä»¶çš„åä»£åŠæ ·å¼</span></span><br><span class="line">        <span class="comment">// ç„¶åæŠŠå†…å®¹è¿½åŠ åˆ°å½±å­æ ¹èŠ‚ç‚¹</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">createTemplate</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">shadowRoot</span>.<span class="title function_">append</span>(<span class="variable language_">this</span>.<span class="property">template</span>.<span class="property">content</span>.<span class="title function_">cloneNode</span>(<span class="literal">true</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// å†…å®¹æ¨¡æ¿</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">contentTemplate</span> = <span class="string">`æ­£åœ¨å®‰è£… #percentage %`</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å–å¾—å¯¹å½±å­DOMä¸­é‡è¦å…ƒç´ çš„å¼•ç”¨</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span> = <span class="variable language_">this</span>.<span class="property">shadowRoot</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.progress&#x27;</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progressContent</span> = <span class="variable language_">this</span>.<span class="property">shadowRoot</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.progress-content&#x27;</span>);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progressWrapper</span> = <span class="variable language_">this</span>.<span class="property">shadowRoot</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.progress-wrapper&#x27;</span>);</span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆå§‹åŒ–è¿›åº¦</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">start</span> = <span class="number">0</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">max</span> = <span class="number">100</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é’©å­å‡½æ•°ï¼š è‡ªå®šä¹‰å…ƒç´ å¢åŠ ã€åˆ é™¤ã€ä¿®æ”¹å±æ€§æ—¶ ï¼Œè°ƒç”¨ã€‚</span></span><br><span class="line">    <span class="comment">// è§¦å‘æ­¤å›è°ƒå‡½æ•°ï¼Œå¿…é¡»ç›‘å¬å˜åŒ–çš„å±æ€§static get observedAttributes() ,è¿”å›ç›‘å¬çš„å±æ€§ã€‚</span></span><br><span class="line">    <span class="title function_">attributeChangedCallback</span>(<span class="params">name, oldValue, newValue</span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(name, oldValue, newValue);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ª template å…ƒç´ ï¼Œç”¨äºä¿å­˜æ ·å¼å’Œå…ƒç´ æ ‘,å¯ä»¥åœ¨æ¯ä¸ª å…ƒç´ çš„å®ä¾‹ä¸­ä½¿ç”¨å®ƒé—¨</span></span><br><span class="line">    <span class="title function_">createTemplate</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> template = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;template&#x27;</span>);</span><br><span class="line">        template.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">            &lt;style&gt;</span></span><br><span class="line"><span class="string">              .progress-wrapper &#123;</span></span><br><span class="line"><span class="string">                position: relative;</span></span><br><span class="line"><span class="string">                overflow: hidden;</span></span><br><span class="line"><span class="string">                width: 300px;</span></span><br><span class="line"><span class="string">                height: 20px;</span></span><br><span class="line"><span class="string">                text-align: center;</span></span><br><span class="line"><span class="string">                border-radius: 10px;</span></span><br><span class="line"><span class="string">                background-color: #cdeee3;</span></span><br><span class="line"><span class="string">              &#125;</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">              .progress &#123;</span></span><br><span class="line"><span class="string">                width: 0%;</span></span><br><span class="line"><span class="string">                height: 100%;</span></span><br><span class="line"><span class="string">                transition: all 200ms;</span></span><br><span class="line"><span class="string">                background-color: #3da985;</span></span><br><span class="line"><span class="string">              &#125;</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">              p &#123;</span></span><br><span class="line"><span class="string">                font-size: 12px;</span></span><br><span class="line"><span class="string">                font-weight: bolder;</span></span><br><span class="line"><span class="string">                position: absolute;</span></span><br><span class="line"><span class="string">                z-index: 10;</span></span><br><span class="line"><span class="string">                top: 0;</span></span><br><span class="line"><span class="string">                left: 0;</span></span><br><span class="line"><span class="string">                width: 100%;</span></span><br><span class="line"><span class="string">                height: 100%;</span></span><br><span class="line"><span class="string">                margin: 0;</span></span><br><span class="line"><span class="string">                transition: all 200ms;</span></span><br><span class="line"><span class="string">                background-image: linear-gradient(to right, #cdeee3 0%, #3da985 0%);</span></span><br><span class="line"><span class="string">                -webkit-background-clip: text;</span></span><br><span class="line"><span class="string">                -webkit-text-fill-color: transparent;</span></span><br><span class="line"><span class="string">                display: flex;</span></span><br><span class="line"><span class="string">                align-items: center;</span></span><br><span class="line"><span class="string">                justify-content: center;</span></span><br><span class="line"><span class="string">              &#125;</span></span><br><span class="line"><span class="string">            &lt;/style&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;progress-wrapper&quot;&gt;</span></span><br><span class="line"><span class="string">                &lt;div class=&quot;progress&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">                &lt;p class=&quot;progress-content&quot;&gt;æ­£åœ¨å®‰è£… 0%&lt;/p&gt;</span></span><br><span class="line"><span class="string">            &lt;/div&gt;</span></span><br><span class="line"><span class="string">        `</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">template</span> = template;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ›´æ–°è¿›åº¦æ¡</span></span><br><span class="line">    <span class="title function_">updateProgress</span>(<span class="params">percentage</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progress</span>.<span class="property">style</span>.<span class="property">width</span> = percentage + <span class="string">&quot;%&quot;</span>;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progressContent</span>.<span class="property">innerText</span> = <span class="variable language_">this</span>.<span class="property">contentTemplate</span>.<span class="title function_">replace</span>(<span class="string">&quot;#percentage&quot;</span>, percentage);</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">progressContent</span>.<span class="property">style</span>.<span class="property">backgroundImage</span> = <span class="string">`linear-gradient(to right, #cdeee3 <span class="subst">$&#123;percentage&#125;</span>%, #3da985 <span class="subst">$&#123;percentage&#125;</span>%)`</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¸¸ç”¨å±æ€§è¯»å†™</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">percentage</span>() &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">start</span> &#125;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">width</span>() &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">progressWrapper</span>.<span class="property">style</span>.<span class="property">width</span> &#125;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">height</span>() &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">progressWrapper</span>.<span class="property">style</span>.<span class="property">height</span> &#125;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">fontSize</span>() &#123; <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">progressContent</span>.<span class="property">style</span>.<span class="property">fontSize</span> &#125;</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">percentage</span>(<span class="params">pt</span>) &#123; </span><br><span class="line">        <span class="keyword">if</span>(<span class="title class_">String</span>(pt).<span class="property">length</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span>(pt &gt;= <span class="variable language_">this</span>.<span class="property">max</span>) pt = <span class="variable language_">this</span>.<span class="property">max</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">start</span> = pt;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">updateProgress</span>(pt);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setAttribute</span>(<span class="string">&quot;data-percentage&quot;</span>, pt);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">height</span>(<span class="params">val</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(val) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">progressWrapper</span>.<span class="property">style</span>.<span class="property">height</span> = val;</span><br><span class="line">            <span class="keyword">let</span> fontSize = <span class="built_in">parseInt</span>(<span class="number">1</span>/<span class="number">3</span> * (+<span class="title class_">String</span>(val).<span class="title function_">replace</span>(<span class="string">&quot;px&quot;</span>, <span class="string">&quot;&quot;</span>)))</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">fontSize</span> = fontSize + <span class="string">&quot;px&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">width</span>(<span class="params">val</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(val) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">progressWrapper</span>.<span class="property">style</span>.<span class="property">width</span> = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">set</span> <span class="title function_">fontSize</span>(<span class="params">val</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(val) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">progressContent</span>.<span class="property">style</span>.<span class="property">fontSize</span> = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿™ä¸ªé™æ€å±æ€§å¯¹ attributeChangedCallback æ–¹æ³•æ˜¯å¿…é¡»çš„ï¼Œåªæœ‰åœ¨è¿™ä¸ªæ•°ç»„ä¸­åˆ—å‡ºçš„å±æ€§åæ‰ä¼šè§¦å‘å¯¹è¯¥æ–¹æ³•çš„è°ƒç”¨</span></span><br><span class="line"><span class="title class_">Progress</span>.<span class="property">observedAttributes</span> = [<span class="string">&#x27;innerText&#x27;</span>, <span class="string">&#x27;value&#x27;</span>,<span class="string">&#x27;data-percentage&#x27;</span>];</span><br><span class="line">customElements.<span class="title function_">define</span>(<span class="string">&#x27;my-progress&#x27;</span>, <span class="title class_">Progress</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Progress</span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>è¿è¡Œæ‰“åŒ…</p> <figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-c è¡¨ç¤ºä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œä¸åŠ é»˜è®¤ä¸ä½¿ç”¨</span></span><br><span class="line">yarn rollup -c</span><br></pre></td></tr></table></figure></li><li><p>ä¸Šä¼ è‡³npm</p><blockquote><p>å‡†å¤‡ï¼šæ³¨å†Œnpmè´¦å·</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å–æ¶ˆæ·˜å®é•œåƒï¼Œè®¾ç½®npmå®˜æ–¹åœ°å€ï¼Œå¦åˆ™å‘å¸ƒä¸äº†</span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æŸ¥çœ‹npmé…ç½®</span></span><br><span class="line">npm config list</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å¦‚æœè®¾ç½®äº†æ·˜å®é•œåƒï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤,ä¸€å®šè¦æ˜¯https å¦åˆ™ä¼šæŠ¥é”™</span></span><br><span class="line">npm config set registry=https://registry.npmjs.org</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">ç™»å½• npm è´¦æˆ·ï¼Œæç¤ºğŸ”—è·³è½¬è‡³ç½‘é¡µç™»å½•</span></span><br><span class="line">npm adduser</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">æ£€æŸ¥æ˜¯å¦ç™»å½•ï¼Œç™»å½•æˆåŠŸä¼šæ˜¾ç¤ºä½ çš„ç”¨æˆ·å</span></span><br><span class="line">npm who am i</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">å‘å¸ƒ, æ­¤å¤„å¦‚æœæŠ¥é”™403ï¼Œé‡åé”™è¯¯ã€‚ä¿®æ”¹package.json name å±æ€§ã€‚åº”ä¸ºå…¨ç½‘nameä¸èƒ½é‡å¤ã€‚æäº¤æ—¶å¯ä»¥å¢åŠ  å¿½ç•¥æ–‡ä»¶ .gitignore</span></span><br><span class="line">npm publish</span><br></pre></td></tr></table></figure></blockquote></li></ol><blockquote><p>ç»“è¯­ï¼š æ’ä»¶å†™çš„å¾ˆæ‹‰ï¼Œä¸»è¦æ˜¯ä½“éªŒä¸€æŠŠè¿‡ç¨‹</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;å·¥æ¬²å–„å…¶äº‹ï¼Œå¿…å…ˆåˆ©å…¶å™¨ã€‚é¦–å…ˆå»æ‰¾é€‚åˆå†™æ’ä»¶çš„é¡¹ç›®åŒ…ç®¡ç†å·¥å…·ã€‚å¯¹æ¯”äº†webpack,rollup,gulp,parcel&lt;/p&gt;
&lt;p&gt;ç»è¿‡ä¸€é€šå¯¹æ¯”å°±é€‰ä¸­äº† &lt;strong&gt;rollup&lt;/strong&gt;ï¼Œå…·ä½“è¯·è‡ªè¡Œäº†è§£ã€‚ç®€å•è¯´ä¸€ä¸‹æˆ‘ä»¬ç†ŸçŸ¥çš„&lt;strong&gt;vue&lt;/strong&gt;,&lt;strong&gt;react&lt;/strong&gt;,&lt;strong&gt;taro-ui&lt;/strong&gt; ç­‰ å°±æ˜¯ä½¿ç”¨çš„ rolluojs æ‰“åŒ…çš„&lt;/p&gt;
&lt;p&gt;è‡ªå·±å†™äº†ä¸€ä¸ªå¾ˆç®€å•çš„æ’ä»¶ä¸Šä¼ å‘å¸ƒåˆ°npmã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="js" scheme="https://wyf195075595.github.io/categories/js/"/>
    
    
    <category term="npm" scheme="https://wyf195075595.github.io/tags/npm/"/>
    
  </entry>
  
  <entry>
    <title>æ‰“åŒ…å·¥å…·å¯¹æ¯”</title>
    <link href="https://wyf195075595.github.io/2023/03/21/programming/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/%E6%8B%93%E5%B1%95/"/>
    <id>https://wyf195075595.github.io/2023/03/21/programming/%E6%9E%84%E5%BB%BA%E5%B7%A5%E5%85%B7/%E6%8B%93%E5%B1%95/</id>
    <published>2023-03-21T08:10:10.000Z</published>
    <updated>2023-03-21T08:15:35.591Z</updated>
    
    <content type="html"><![CDATA[<h3 id="webpackã€gulpã€rollup-ä½¿ç”¨å¯¹æ¯”å’Œé€‚ç”¨åœºæ™¯"><a href="#webpackã€gulpã€rollup-ä½¿ç”¨å¯¹æ¯”å’Œé€‚ç”¨åœºæ™¯" class="headerlink" title="webpackã€gulpã€rollup ä½¿ç”¨å¯¹æ¯”å’Œé€‚ç”¨åœºæ™¯"></a><a href="https://my.oschina.net/nieyao/blog/5506339">webpackã€gulpã€rollup ä½¿ç”¨å¯¹æ¯”å’Œé€‚ç”¨åœºæ™¯</a></h3><h4 id="webpack"><a href="#webpack" class="headerlink" title="webpack"></a>webpack</h4><blockquote><p>æ‰“åŒ…å·¥å…·ï¼Œæ ¹æ®æˆ‘ä»¬çš„èµ„æºä¾èµ–æ ‘ï¼Œåˆ†ä¸åŒç±»å‹æ‰“åŒ…æˆé™æ€èµ„æºï¼Œæ”¯æŒçƒ­æ›´æ–°ï¼Œä»£ç æ¨¡å—åˆ‡åˆ†ï¼Œthree-shakingã€å¼‚æ­¥åŠ è½½ç­‰ã€</p></blockquote><p><strong>ç‰¹æ€§ï¼š</strong></p><blockquote><p>ä¸åŒèµ„æºçš„æ¨¡å—æ‰“åŒ… çƒ­æ›´æ–° ä»£ç åˆ†å‰² é™æ€èµ„æºå‹ç¼© å¼‚æ­¥åŠ è½½ three-shaking</p></blockquote><p><strong>é€‚ç”¨åœºæ™¯</strong></p><blockquote><p>åº”ç”¨ç¨‹åºæ‰“åŒ…</p></blockquote><h4 id="rollup"><a href="#rollup" class="headerlink" title="rollup"></a><a href="https://www.oschina.net/action/GoToLink?url=https://www.rollupjs.com/guide/faqs">rollup</a></h4><blockquote><p>Rollup æ˜¯ä¸€ä¸ª<strong>æ¨¡å—</strong>æ‰“åŒ…å·¥å…·ï¼Œå¯ä»¥å°†æˆ‘ä»¬æŒ‰ç…§ ESM (ES2015 Module) è§„èŒƒç¼–å†™çš„æºç æ„å»ºè¾“å‡ºå¦‚ä¸‹æ ¼å¼:</p></blockquote><ul><li>IIFE: è‡ªæ‰§è¡Œå‡½æ•°ï¼Œå¯é€šè¿‡ &lt;script&gt; æ ‡ç­¾åŠ è½½</li><li>AMD: é€šè¿‡ RequireJS åŠ è½½</li><li>CommonJS: Node é»˜è®¤çš„æ¨¡å—è§„èŒƒï¼Œå¯é€šè¿‡ Webpack åŠ è½½</li><li>UMD: å…¼å®¹ IIFE, AMD, CJS ä¸‰ç§æ¨¡å—è§„èŒƒ</li><li>ESM: ES2015 Module è§„èŒƒï¼Œå¯ç”¨ Webpack, Rollup åŠ è½½ -</li></ul><p><strong>ç‰¹æ€§ï¼š</strong></p><blockquote><p>æ”¯æŒåŠ¨æ€å¯¼å…¥ã€‚</p><p>æ”¯æŒ tree shakingã€‚ä»…åŠ è½½æ¨¡å—é‡Œç”¨å¾—åˆ°çš„å‡½æ•°ä»¥å‡å°æ–‡ä»¶å¤§å°ã€‚</p><p>Scope Hoistingã€‚ rollup å¯ä»¥å°†æ‰€æœ‰å°æ–‡ä»¶ç”Ÿæˆåˆ°ä¸€ä¸ªå¤§æ–‡ä»¶ä¸­ï¼Œæ‰€æœ‰ä»£ç éƒ½åœ¨åŒä¸€ä¸ªå‡½æ•°ä½œç”¨åŸŸé‡Œ:ï¼Œ ä¸ä¼šåƒ Webpack é‚£æ ·ç”¨å¾ˆå¤šå‡½æ•°æ¥åŒ…è£…æ¨¡å—ã€‚</p><p>æ²¡æœ‰å…¶ä»–å†—ä½™ä»£ç ï¼Œæ‰§è¡Œå¾ˆå¿«ã€‚é™¤äº†å¿…è¦çš„ cjs, umd å¤´å¤–ï¼Œbundle ä»£ç åŸºæœ¬å’Œæºç å·®ä¸å¤šï¼Œä¹Ÿæ²¡æœ‰å¥‡æ€ªçš„ <strong>webpack_require</strong>, Object.defineProperty ä¹‹ç±»çš„ä¸œè¥¿ï¼Œ</p></blockquote><p><strong>ç¼ºç‚¹ï¼š</strong></p><blockquote><p>ä¸æ”¯æŒçƒ­æ›´æ–°åŠŸèƒ½ï¼›å¯¹äº commonjs æ¨¡å—ï¼Œéœ€è¦é¢å¤–çš„æ’ä»¶å°†å…¶è½¬åŒ–ä¸º es2015 ä¾› rollup å¤„ç†ï¼›æ— æ³•è¿›è¡Œå…¬å…±ä»£ç æ‹†åˆ†ã€‚ è¿è¡Œæ—¶æ€çš„åŠ¨æ€å¯¼å…¥ dynamic imports at runtime.</p><p>rollup é€šè¿‡æ’ä»¶æ¥ç¼–è¯‘å¤„ç†å„ç±»é™æ€èµ„æºï¼š</p></blockquote><ul><li>rollup-plugin-typescript2</li><li>rollup-plugin-babel</li><li>rollup-plugin-uglify</li><li>rollup-plugin-commonjs</li><li>rollup-plugin-postcss</li><li>rollup-plugin-img</li><li>rollup-plugin-json</li></ul><p><strong>é€‚ç”¨åœºæ™¯ï¼š</strong></p><blockquote><p>ç”±çº¯ js å¼€å‘çš„ç¬¬ä¸‰æ–¹åº“ï¼› éœ€è¦ç”Ÿæˆå•ä¸€çš„ umd æ–‡ä»¶çš„åœºæ™¯</p></blockquote><h4 id="gulp"><a href="#gulp" class="headerlink" title="gulp"></a><a href="https://www.oschina.net/action/GoToLink?url=https://www.gulpjs.com.cn/docs/getting-started/quick-start/">gulp</a></h4><blockquote><p>è‡ªåŠ¨åŒ–æ„å»ºå·¥å…·ï¼ŒæŠŠé¡¹ç›®å·¥ä½œæŠ½è±¡æˆè‡ªåŠ¨åŒ–ä»»åŠ¡ ç”¨ gulp æ„å»ºè‡ªåŠ¨åŒ–å·¥ä½œæµï¼Œå¤„ç†é¡¹ç›®ä¸­çš„èµ„æºï¼ŒåŸºäºæµå¼æ“ä½œã€‚</p></blockquote><p><strong>ç‰¹æ€§</strong> </p><blockquote><p>gulp æ–‡æ¡£ç®€å•ï¼Œå­¦ä¹ æˆæœ¬ä½ï¼Œä½¿ç”¨ç®€å•ï¼›å¯¹å¤§é‡æºæ–‡ä»¶å¯ä»¥è¿›è¡Œæµå¼å¤„ç†ï¼Œå€ŸåŠ©æ’ä»¶ï¼Œå¯ä»¥å¯¹æ–‡ä»¶ç±»å‹è¿›è¡Œå¤šç§æ“ä½œå¤„ç†ã€‚</p></blockquote><p><strong>é€‚ç”¨åœºæ™¯</strong> </p><blockquote><p>é™æ€èµ„æºå¯†é›†æ“ä½œå‹åœºæ™¯ï¼Œä¸»è¦ç”¨äº cssã€å›¾ç‰‡ç­‰é™æ€èµ„æºçš„å¤„ç†æ“ä½œã€‚ æ–‡ä»¶å¤„ç†ï¼š</p></blockquote><p>gulp é€šè¿‡å„ç§ä¸­é—´ä»¶å¤„ç†é™æ€èµ„æºçš„ç¼–è¯‘ï¼š</p><ul><li>gulp-load-pluginsï¼šè‡ªåŠ¨åŠ è½½ package.json ä¸­çš„ gulp æ’ä»¶</li><li>gulp-renameï¼š é‡å‘½å</li><li>gulp-uglifyï¼šæ–‡ä»¶å‹ç¼©</li><li>gulp-concatï¼šæ–‡ä»¶åˆå¹¶</li><li>gulp-lessï¼šç¼–è¯‘ less</li><li>gulp-sassï¼šç¼–è¯‘ sass</li><li>gulp-clean-cssï¼šå‹ç¼© CSS æ–‡ä»¶</li><li>gulp-htmlminï¼šå‹ç¼© HTML æ–‡ä»¶</li><li>gulp-babel: ä½¿ç”¨ babel ç¼–è¯‘ JS æ–‡ä»¶</li><li>gulp-jshintï¼šjshint æ£€æŸ¥</li><li>gulp-imageminï¼šå‹ç¼© jpgã€pngã€gif ç­‰å›¾ç‰‡</li><li>gulp-livereloadï¼šå½“ä»£ç å˜åŒ–æ—¶ï¼Œå®ƒå¯ä»¥å¸®æˆ‘ä»¬è‡ªåŠ¨åˆ·æ–°é¡µé¢</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;webpackã€gulpã€rollup-ä½¿ç”¨å¯¹æ¯”å’Œé€‚ç”¨åœºæ™¯&quot;&gt;&lt;a href=&quot;#webpackã€gulpã€rollup-ä½¿ç”¨å¯¹æ¯”å’Œé€‚ç”¨åœºæ™¯&quot; class=&quot;headerlink&quot; title=&quot;webpackã€gulpã€rollup ä½¿ç”¨å¯¹æ¯”å’Œé€‚ç”¨åœºæ™¯&quot;&gt;&lt;/a</summary>
      
    
    
    
    <category term="webpack" scheme="https://wyf195075595.github.io/categories/webpack/"/>
    
    
    <category term="eslint" scheme="https://wyf195075595.github.io/tags/eslint/"/>
    
  </entry>
  
  <entry>
    <title>Linux å®‰è£… redis</title>
    <link href="https://wyf195075595.github.io/2023/03/09/programming/linux/redis/"/>
    <id>https://wyf195075595.github.io/2023/03/09/programming/linux/redis/</id>
    <published>2023-03-09T00:23:10.000Z</published>
    <updated>2023-03-09T01:25:43.194Z</updated>
    
    <content type="html"><![CDATA[<h3 id="linux-å®‰è£…-redis"><a href="#linux-å®‰è£…-redis" class="headerlink" title="linux å®‰è£… redis"></a>linux å®‰è£… redis</h3><p>1ã€å»<a href="redis.io">å®˜ç½‘</a>ä¸‹è½½ redis ,ä¸Šä¼ è§£å‹ã€‚</p><p>ç„¶åä¼šå‘ç° æ–‡ä»¶å¤¹ä¸­æœ‰ MakeFile æ–‡ä»¶ï¼Œè¿™æ˜¯ç¼–è¯‘æ‰€éœ€æ–‡ä»¶</p><p>2ã€ç¼–è¯‘</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make</span><br></pre></td></tr></table></figure><p>3ã€å®‰è£…</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make install</span><br></pre></td></tr></table></figure><blockquote><p>å®‰è£…åå¾—å‘½ä»¤åœ¨ /usr/local/bin ç›®å½•ä¸‹</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;linux-å®‰è£…-redis&quot;&gt;&lt;a href=&quot;#linux-å®‰è£…-redis&quot; class=&quot;headerlink&quot; title=&quot;linux å®‰è£… redis&quot;&gt;&lt;/a&gt;linux å®‰è£… redis&lt;/h3&gt;&lt;p&gt;1ã€å»&lt;a href=&quot;redis.io&quot;&gt;</summary>
      
    
    
    
    <category term="linux" scheme="https://wyf195075595.github.io/categories/linux/"/>
    
    
    <category term="redis" scheme="https://wyf195075595.github.io/tags/redis/"/>
    
  </entry>
  
  <entry>
    <title>æµè§ˆå™¨çŸ¥è¯†</title>
    <link href="https://wyf195075595.github.io/2023/03/08/computer/%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    <id>https://wyf195075595.github.io/2023/03/08/computer/%E6%B5%8F%E8%A7%88%E5%99%A8/</id>
    <published>2023-03-08T05:23:10.000Z</published>
    <updated>2023-03-08T05:29:33.102Z</updated>
    
    <content type="html"><![CDATA[<h3 id="åœ¨æµè§ˆå™¨ä¸­æ‰¾åˆ°æ‹“å±•ç¨‹åºä½ç½®"><a href="#åœ¨æµè§ˆå™¨ä¸­æ‰¾åˆ°æ‹“å±•ç¨‹åºä½ç½®" class="headerlink" title="åœ¨æµè§ˆå™¨ä¸­æ‰¾åˆ°æ‹“å±•ç¨‹åºä½ç½®"></a>åœ¨æµè§ˆå™¨ä¸­æ‰¾åˆ°æ‹“å±•ç¨‹åºä½ç½®</h3><blockquote><p>åœ°å€æ è¾“å…¥chrome:version å›è½¦ï¼Œç”¨èµ„æºç®¡ç†å™¨æ‰“å¼€â€ä¸ªäººèµ„æ–™è·¯å¾„â€æ çš„è·¯å¾„,è¯¥è·¯å¾„ä¸‹çš„Extensionsæ–‡ä»¶å¤¹å³é»˜è®¤çš„æ‰©å±•å®‰è£…è·¯å¾„</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;åœ¨æµè§ˆå™¨ä¸­æ‰¾åˆ°æ‹“å±•ç¨‹åºä½ç½®&quot;&gt;&lt;a href=&quot;#åœ¨æµè§ˆå™¨ä¸­æ‰¾åˆ°æ‹“å±•ç¨‹åºä½ç½®&quot; class=&quot;headerlink&quot; title=&quot;åœ¨æµè§ˆå™¨ä¸­æ‰¾åˆ°æ‹“å±•ç¨‹åºä½ç½®&quot;&gt;&lt;/a&gt;åœ¨æµè§ˆå™¨ä¸­æ‰¾åˆ°æ‹“å±•ç¨‹åºä½ç½®&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;åœ°å€æ è¾“å…¥chrome:v</summary>
      
    
    
    
    <category term="computer" scheme="https://wyf195075595.github.io/categories/computer/"/>
    
    
    <category term="æµè§ˆå™¨" scheme="https://wyf195075595.github.io/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>springbootåŸºç¡€</title>
    <link href="https://wyf195075595.github.io/2023/03/02/programming/java/springboot/"/>
    <id>https://wyf195075595.github.io/2023/03/02/programming/java/springboot/</id>
    <published>2023-03-02T08:40:00.000Z</published>
    <updated>2023-03-21T06:52:26.065Z</updated>
    
    <content type="html"><![CDATA[<h3 id="é…ç½®å®¹å™¨"><a href="#é…ç½®å®¹å™¨" class="headerlink" title="é…ç½®å®¹å™¨"></a>é…ç½®å®¹å™¨</h3><ul><li><p>xmlé…ç½®å®¹å™¨</p><p>  å°±æ˜¯spring çš„ xmlæ–‡ä»¶ä¸­é‚£æ ·çš„å†™æ³•</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span> = <span class="string">&quot;createStudent&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xxx.Student&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>javaConfigé…ç½®å®¹å™¨</p><p>  é‡‡ç”¨javaç±»çš„æ–¹å¼æ¥é…ç½®</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> <span class="comment">// è¡¨ç¤ºå½“å‰ç±»æ˜¯ä½œä¸ºé…ç½®æ–‡ä»¶ä½¿ç”¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    åˆ›å»ºæ–¹æ³•ï¼Œæ–¹æ³•çš„è¿”å›å€¼æ˜¯å¯¹è±¡ã€‚åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Š@Bean</span></span><br><span class="line"><span class="comment">    æ–¹æ³•çš„è¿”å›å€¼å¯¹è±¡å°±æ³¨å…¥åˆ°å®¹å™¨ä¸­ã€‚æ–¹æ³•åæ˜¯é»˜è®¤çš„Bean id</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Student <span class="title function_">createStudent</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        stu.setName(<span class="string">&quot;å¼ ä¸‰&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> stu;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  æŠŠXMLæ–‡ä»¶ä½çš„çš„Beanå¯¼å…¥åˆ°å®¹å™¨</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ImportResource(&quot;classpath:applicationContext.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  å¼•å…¥å¤–éƒ¨å±æ€§é…ç½®æ–‡ä»¶</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@PropertySource(&quot;classpath:comfig.properties&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  æ‰«æç»„ä»¶æ³¨è§£</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(basePackage=&quot;com.xxx.service&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConfig</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="spring-boot"><a href="#spring-boot" class="headerlink" title="spring boot"></a>spring boot</h3><blockquote><p>å®ƒæ˜¯springä¸­çš„ä¸€ä¸ªæˆå‘˜ï¼Œå¯ä»¥ç®€åŒ–Spring MVCçš„ä½¿ç”¨ï¼Œä»–çš„æ ¸å¿ƒè¿˜æ˜¯IOCå®¹å™¨ã€‚</p></blockquote><p>ç‰¹ç‚¹ï¼š</p><ol><li>å†…åµŒ tomcatï¼Œjettyï¼ŒUndertow</li><li>æä¾›èµ·æ­¥ä¾èµ–ï¼Œç®€åŒ–é…ç½®</li><li>è‡ªåŠ¨é…ç½®springå’Œç¬¬ä¸‰æ–¹åº“</li><li>å¥åº·æ£€æŸ¥ï¼Œç»Ÿè®¡ï¼Œå¤–éƒ¨åŒ–é…ç½®</li><li>ä¸åŒç”Ÿæˆä»£ç ï¼Œä¸ç”¨ä½¿ç”¨xmlåšé…ç½®</li></ol><span id="more"></span><h3 id="åˆ›å»ºspringbooté¡¹ç›®"><a href="#åˆ›å»ºspringbooté¡¹ç›®" class="headerlink" title="åˆ›å»ºspringbooté¡¹ç›®"></a>åˆ›å»ºspringbooté¡¹ç›®</h3><ul><li><p>é€šè¿‡ IDEA æ–¹å¼</p></li><li><p>æµè§ˆå™¨è®¿é—® start.springboot.io</p></li><li><p>åˆ›å»ºä¸€ä¸ªæ™®é€šmavené¡¹ç›®ç„¶ååœ¨<strong>pom</strong>æ–‡ä»¶ä¸­åŠ å…¥parent</p></li></ul><h3 id="springæ³¨è§£"><a href="#springæ³¨è§£" class="headerlink" title="springæ³¨è§£"></a>springæ³¨è§£</h3><p>@SpringBootApplication</p><blockquote><p>æ­¤æ³¨è§£ç”± 3 ä¸ªæ³¨è§£ç»„æˆ</p><ul><li><p>@SpringBootConfiguration æ³¨è§£æ ‡æ³¨ç±» å¯ä½œä¸ºé…ç½®æ–‡ä»¶ä½¿ç”¨ï¼Œæ³¨å†ŒBean</p><ul><li>@Configuration  </li></ul></li><li><p>@EnableAutoConfiguration å¯ç”¨è‡ªåŠ¨é…ç½®</p></li><li><p>@ComponentScan  ç»„ä»¶æ‰«æå™¨ï¼Œä»ä¸»æ–‡ä»¶ä½ç½®æ‰«æ</p></li></ul></blockquote><h3 id="spring-boot-çš„é…ç½®æ–‡ä»¶"><a href="#spring-boot-çš„é…ç½®æ–‡ä»¶" class="headerlink" title="spring boot çš„é…ç½®æ–‡ä»¶"></a>spring boot çš„é…ç½®æ–‡ä»¶</h3><blockquote><p>é…ç½®æ–‡ä»¶åï¼š application</p><p>æ‹“å±•åï¼šï¼ˆproperties(k:v), yml(k: v)ï¼‰</p><p>ä¸¤ç§æ ¼å¼åŒæ—¶å­˜åœ¨ç³»ç»Ÿé»˜è®¤è¯»å– application.properties</p></blockquote><p>application.yml</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">18080</span></span><br><span class="line">  <span class="attr">tomcat:</span></span><br><span class="line">    <span class="attr">uri-encoding:</span>  <span class="string">UTF-8</span></span><br><span class="line">  <span class="attr">dzi:</span></span><br><span class="line">    <span class="attr">install:</span></span><br><span class="line">      <span class="attr">path:</span>  <span class="string">/home/image2dzi/</span></span><br><span class="line">  <span class="attr">enable:</span></span><br><span class="line">    <span class="attr">gpu:</span>  <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">http:</span></span><br><span class="line">    <span class="attr">encoding:</span></span><br><span class="line">      <span class="attr">force:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">charset:</span> <span class="string">UTF-8</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">multipart:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">max-file-size:</span> <span class="string">10240MB</span></span><br><span class="line">      <span class="attr">max-request-size:</span> <span class="string">11000MB</span></span><br><span class="line">      <span class="attr">file-size-threshold:</span> <span class="string">512KB</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">labelSystem</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">      <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">      <span class="attr">password:</span> <span class="string">dbajydw1234</span></span><br><span class="line">      <span class="attr">url:</span> <span class="string">jdbc:mysql://192.168.1.232:3306/labelsystem_test?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC</span></span><br><span class="line">      <span class="attr">driver-class-name:</span>  <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">      <span class="attr">initial-size:</span>  <span class="number">5</span></span><br><span class="line">  <span class="comment">#devtools:</span></span><br><span class="line">  <span class="comment">#  restart:</span></span><br><span class="line">  <span class="comment">#    enabled: true  #è®¾ç½®å¼€å¯çƒ­éƒ¨ç½²</span></span><br><span class="line"></span><br><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="attr">typeAliasesPackage:</span> <span class="string">com.pcl.pojo</span></span><br><span class="line">  <span class="attr">mapperLocations:</span> <span class="string">classpath:mapper/*.xml</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line"><span class="attr">logging:</span></span><br><span class="line">  <span class="attr">file:</span> <span class="string">labelsystem.log</span></span><br><span class="line">  <span class="attr">path:</span> <span class="string">logs/</span></span><br><span class="line"><span class="attr">minio:</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">http://192.168.1.245:9000/</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">minioadmin</span></span><br><span class="line">  <span class="attr">password:</span>  <span class="string">minioadmin</span></span><br><span class="line"><span class="comment">#  å­˜å‚¨ä¸Šä¼ çš„zipæ–‡ä»¶ä»¥ä¾›å¤‡ä»½/label-zip/xx.zip</span></span><br><span class="line">  <span class="attr">zipBucketName:</span> <span class="string">label-zip</span></span><br><span class="line"><span class="comment">#  å­˜å‚¨è§£å‹çš„å›¾ç‰‡/label-img/datasetName/xx.jpg</span></span><br><span class="line">  <span class="attr">imgBucketName:</span> <span class="string">label-img</span></span><br><span class="line"><span class="comment">#  å­˜å‚¨è‡ªåŠ¨æ ‡æ³¨åçš„xmlæ–‡ä»¶/label-xml/datasetName/xx.xml</span></span><br><span class="line">  <span class="attr">xmlBucketName:</span> <span class="string">label-xml</span></span><br><span class="line"><span class="comment">#  å­˜å‚¨è‡ªåŠ¨æ ‡æ³¨åçš„é¢„è§ˆå›¾ç‰‡base64ç¼–ç /label-baseCode/datasetName/xx.txt</span></span><br><span class="line">  <span class="attr">baseCodeBucketName:</span> <span class="string">label-basecode</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç®—æ³•æœ‰å…³å‚æ•°é…ç½®</span></span><br><span class="line"><span class="attr">alogrithom:</span></span><br><span class="line">  <span class="comment">#ç®—æ³•è®¿é—®é“¾æ¥</span></span><br><span class="line">  <span class="attr">url:</span> <span class="string">http://36.7.72.75:9148/Upload</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#ç›´æ¥è®¿é—®çš„minioå­˜å‚¨ä½ç½®/home</span></span><br><span class="line"><span class="attr">pictureURL:</span> <span class="string">http://192.168.1.245:18088</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿œç¨‹è®¿é—®æœåŠ¡å™¨é…ç½®</span></span><br><span class="line"><span class="attr">sftp:</span></span><br><span class="line">  <span class="comment">#æœåŠ¡å™¨ip</span></span><br><span class="line">  <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.245</span></span><br><span class="line">  <span class="comment">#sshç«¯å£</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">22</span></span><br><span class="line">  <span class="comment">#ç”¨æˆ·å</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">zkrd</span></span><br><span class="line">  <span class="comment">#å¯†ç </span></span><br><span class="line">  <span class="attr">password:</span> <span class="string">zkrd12#$</span></span><br><span class="line">  <span class="comment"># ä¸Šä¼ æ ‡æ³¨æ–‡ä»¶æœåŠ¡å™¨è·¯å¾„</span></span><br><span class="line">  <span class="comment">#  uploadAnnotateFile: /home/zkrd/label_system/</span></span><br><span class="line">  <span class="attr">uploadAnnotateFile:</span> <span class="string">F:/sampleManagement/</span></span><br><span class="line">  <span class="comment">#è¿æ¥æ± å‚æ•°</span></span><br><span class="line">  <span class="attr">pool:</span></span><br><span class="line">    <span class="comment">#å¯¹è±¡æ± ä¸­ç®¡ç†çš„æœ€å¤šå¯¹è±¡ä¸ªæ•°ã€‚é»˜è®¤å€¼æ˜¯8</span></span><br><span class="line">    <span class="attr">max-total:</span> <span class="number">10</span></span><br><span class="line">    <span class="comment">#å¯¹è±¡æ± ä¸­æœ€å¤§çš„ç©ºé—²å¯¹è±¡ä¸ªæ•°ã€‚é»˜è®¤å€¼æ˜¯8</span></span><br><span class="line">    <span class="attr">max-idle:</span> <span class="number">10</span></span><br><span class="line">    <span class="comment">#å¯¹è±¡æ± ä¸­æœ€å°çš„ç©ºé—²å¯¹è±¡ä¸ªæ•°ã€‚é»˜è®¤å€¼æ˜¯0</span></span><br><span class="line">    <span class="attr">min-idle:</span> <span class="number">0</span></span><br><span class="line"><span class="comment"># åˆ†é¡µé…ç½®</span></span><br><span class="line"><span class="attr">pagehelper:</span></span><br><span class="line">  <span class="attr">helper-dialect:</span> <span class="string">mysql</span></span><br><span class="line">  <span class="attr">reasonable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">support-methods-arguments:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">params:</span> <span class="string">count=countsql</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ–‡ä»¶å¤šç¯å¢ƒé…ç½®"><a href="#é…ç½®æ–‡ä»¶å¤šç¯å¢ƒé…ç½®" class="headerlink" title="é…ç½®æ–‡ä»¶å¤šç¯å¢ƒé…ç½®"></a>é…ç½®æ–‡ä»¶å¤šç¯å¢ƒé…ç½®</h4><p>application-dev.yml    å¼€å‘ç¯å¢ƒ</p><p>application-prod.yml    ç”Ÿäº§ç¯å¢ƒ</p><p>application.properties/application.yml</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># æ¿€æ´»ä½¿ç”¨æŒ‰ä¸ªé…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="string">spring.profiles.active=dev</span></span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ–‡ä»¶æ•°æ®æ˜ å°„ä¸ºJavaå¯¹è±¡"><a href="#é…ç½®æ–‡ä»¶æ•°æ®æ˜ å°„ä¸ºJavaå¯¹è±¡" class="headerlink" title="é…ç½®æ–‡ä»¶æ•°æ®æ˜ å°„ä¸ºJavaå¯¹è±¡"></a>é…ç½®æ–‡ä»¶æ•°æ®æ˜ å°„ä¸ºJavaå¯¹è±¡</h4><p>è‡ªå®šä¹‰å±æ€§</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">sftp:</span></span><br><span class="line">  <span class="comment">#æœåŠ¡å™¨ip</span></span><br><span class="line">  <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.245</span></span><br><span class="line">  <span class="comment">#sshç«¯å£</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">22</span></span><br><span class="line">  <span class="comment">#ç”¨æˆ·å</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">zkrd</span></span><br><span class="line">  <span class="comment">#å¯†ç </span></span><br><span class="line">  <span class="attr">password:</span> <span class="string">zkrd12#$</span></span><br></pre></td></tr></table></figure><p>Javaå¯¹è±¡ä¸­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@ConfigurationProperties(prefix=&quot;sftp&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SftpConfig</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String host;</span><br><span class="line">    <span class="keyword">private</span> String port;</span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="spring-ä¸­è·å–å®¹å™¨"><a href="#spring-ä¸­è·å–å®¹å™¨" class="headerlink" title="spring ä¸­è·å–å®¹å™¨"></a>spring ä¸­è·å–å®¹å™¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ConfigurableApplicationContext</span> <span class="variable">app</span> <span class="operator">=</span> SpringApplication.run(SpringbootTestApplication.class, args);</span><br><span class="line"></span><br><span class="line">app.getBean(<span class="string">&quot;&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="CommandLineRunner"><a href="#CommandLineRunner" class="headerlink" title="CommandLineRunner"></a>CommandLineRunner</h4><blockquote><p>å¼€å‘ä¸­å¯èƒ½ä¼šæœ‰è¿™æ ·çš„æƒ…æ™¯ã€‚éœ€è¦åœ¨å®¹å™¨å¯åŠ¨åæ‰§è¡Œä¸€äº›å†…å®¹ã€‚æ¯”å¦‚è¯»å–é…ç½®æ–‡ä»¶ï¼Œæ•°æ®åº“è¿æ¥ä¹‹ç±»çš„ã€‚SpringBoot ç»™æˆ‘ä»¬æä¾›äº†ä¸¤ä¸ªæ¥å£æ¥å¸®åŠ©æˆ‘ä»¬å®ç°è¿™ç§éœ€æ±‚ã€‚è¿™ä¸¤ä¸ªæ¥å£åˆ†åˆ«ä¸º <strong>CommandLineRunner</strong> å’Œ <strong>ApplicationRunner</strong>ã€‚ä»–ä»¬çš„æ‰§è¡Œæ—¶æœºä¸ºå®¹å™¨å¯åŠ¨å®Œæˆçš„æ—¶å€™è¿™ä¸¤ä¸ªæ¥å£ä¸­æœ‰ä¸€ä¸ª run æ–¹æ³•ï¼Œæˆ‘ä»¬åªéœ€è¦å®ç°è¿™ä¸ªæ–¹æ³•å³å¯ã€‚è¿™ä¸¤ä¸ªæ¥å£çš„ä¸åŒä¹‹å¤„è€Œåœ¨äº:ApplicationRunner ä¸­ run æ–¹æ³•çš„å‚æ•°ä¸º ApplicationArgumentsï¼ŒCommandLineRunner<br>æ¥å£ä¸­run æ–¹æ³•çš„å‚æ•°ä¸º String æ•°ç»„</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Runner</span> <span class="keyword">implements</span> <span class="title class_">CommandLineRunner</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(String... args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘çš„ Runner run æ–¹æ³•è°ƒç”¨äº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤ç»„ä»¶ä¼šåœ¨ä¸»æ–¹æ³•ä¹‹å‰è°ƒç”¨</p><h3 id="webç»„ä»¶"><a href="#webç»„ä»¶" class="headerlink" title="webç»„ä»¶"></a>webç»„ä»¶</h3><h4 id="æ‹¦æˆªå™¨"><a href="#æ‹¦æˆªå™¨" class="headerlink" title="æ‹¦æˆªå™¨"></a>æ‹¦æˆªå™¨</h4><blockquote><p>èƒ½æ‹¦æˆª Control çš„æ¥å£è¯·æ±‚</p></blockquote><p>åˆ›å»º MyInterceptor</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line"><span class="comment">// è¿”å› true æ”¾è¡Œï¼Œè¿”å›false æ‹¦æˆª</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;preHandle&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> HandlerInterceptor.<span class="built_in">super</span>.preHandle(request, response, handler);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨å†Œæ‹¦æˆªå™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyAppConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line">    <span class="comment">// æ·»åŠ æ‹¦æˆªå™¨å¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line"><span class="comment">//        WebMvcConfigurer.super.addInterceptors(registry);</span></span><br><span class="line">        <span class="comment">// åˆ›å»ºè¿‡æ»¤å™¨ï¼Œä½¿ç”¨è‡ªå·±çš„ Filter</span></span><br><span class="line">        <span class="type">MyInterceptor</span> <span class="variable">myInterceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyInterceptor</span>();</span><br><span class="line">        <span class="type">InterceptorRegistration</span> <span class="variable">interceptor</span> <span class="operator">=</span> registry.addInterceptor(myInterceptor);</span><br><span class="line">        <span class="comment">// æŒ‡å®šæ‹¦æˆªçš„URLåœ°å€</span></span><br><span class="line">        String[] path  = &#123;<span class="string">&quot;/*&quot;</span>&#125;;</span><br><span class="line">        <span class="comment">// æŒ‡å®šä¸æ‹¦æˆªçš„åœ°å€</span></span><br><span class="line">        String[] excludePath  = &#123;<span class="string">&quot;/login&quot;</span>&#125;;</span><br><span class="line">        interceptor.addPathPatterns()</span><br><span class="line">                .addPathPatterns(path)</span><br><span class="line">                .excludePathPatterns(excludePath);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="springboot-ä¸­ä½¿ç”¨-servlet"><a href="#springboot-ä¸­ä½¿ç”¨-servlet" class="headerlink" title="springboot ä¸­ä½¿ç”¨ servlet"></a>springboot ä¸­ä½¿ç”¨ servlet</h4><p>æ–°å»ºservlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TestService</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest req, HttpServletResponse res)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        res.setContentType(<span class="string">&quot;text/html;charset=utf-8;&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> res.getWriter();</span><br><span class="line">        writer.println(<span class="string">&quot;servlet è¯·æ±‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨å†Œservlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegistorServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ServletRegistrationBean <span class="title function_">ServletRegistrationBean</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ServletRegistrationBean bean = new ServletRegistrationBean&lt;&gt;(new TestService(), &quot;/servlet&quot;);</span></span><br><span class="line">        <span class="type">ServletRegistrationBean</span> <span class="variable">bean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServletRegistrationBean</span>());</span><br><span class="line">        bean.setServlet(<span class="keyword">new</span> <span class="title class_">TestService</span>());</span><br><span class="line">        bean.setUrlMappings(<span class="string">&quot;/servlet1&quot;</span>,<span class="string">&quot;/servlet2&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h4><p>åˆ›å»º MyFilter</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyFilter</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest request, ServletResponse response, FilterChain chain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿‡æ»¤å™¨å¯åŠ¨&quot;</span>);</span><br><span class="line">        chain.doFilter(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨å†Œ Filter</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegisterFilter</span> &#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> FilterRegistrationBean <span class="title function_">filterRegisterBean</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">FilterRegistrationBean</span> <span class="variable">bean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FilterRegistrationBean</span>();</span><br><span class="line">        bean.setFilter(<span class="keyword">new</span> <span class="title class_">MyFilter</span>());</span><br><span class="line">        bean.addUrlPatterns(<span class="string">&quot;/*&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> bean;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ·»åŠ å­—ç¬¦é›†è¿‡æ»¤</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> FilterRegistrationBean <span class="title function_">filterEncoding</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">FilterRegistrationBean</span> <span class="variable">bean</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FilterRegistrationBean</span>();</span><br><span class="line">    <span class="comment">// æ¡†æ¶å†…ç½®çš„è¿‡æ»¤å™¨ CharacterEncodingFilter</span></span><br><span class="line">    <span class="type">CharacterEncodingFilter</span> <span class="variable">filter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CharacterEncodingFilter</span>();</span><br><span class="line">    <span class="comment">// æŒ‡å®šç¼–ç æ–¹å¼</span></span><br><span class="line">    filter.setEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">    <span class="comment">// è®© req,res å¯¹è±¡éƒ½ä½¿ç”¨ utf-8</span></span><br><span class="line">    filter.setForceEncoding(<span class="literal">true</span>);</span><br><span class="line">    bean.setFilter(filter);</span><br><span class="line">    bean.addUrlPatterns(<span class="string">&quot;/*&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> bean;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ç”¨å­—ç¬¦é›†è¿‡æ»¤å™¨</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">encoding:</span></span><br><span class="line">      <span class="attr">enabled:</span> <span class="literal">false</span> <span class="comment"># springboot é»˜è®¤å¯ç”¨é…ç½®äº†å­—ç¬¦é›† IOS-8859-1</span></span><br></pre></td></tr></table></figure><p>å…¶å®æˆ‘æ²¡å¯ä»¥ä½¿ç”¨spring booté»˜è®¤çš„å­—ç¬¦é›†é…ç½®ï¼Œåªéœ€è¦æ”¹å˜é»˜è®¤å­—ç¬¦é›†</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">servlet:</span></span><br><span class="line">  <span class="attr">encoding:</span></span><br><span class="line">    <span class="attr">enabled:</span> <span class="literal">true</span> <span class="comment"># springboot é»˜è®¤é…ç½®äº†å­—ç¬¦é›† IOS-8859-1</span></span><br><span class="line">    <span class="attr">charset:</span> <span class="string">utf-8</span></span><br><span class="line">    <span class="attr">force:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h3 id="é›†æˆmybatis"><a href="#é›†æˆmybatis" class="headerlink" title="é›†æˆmybatis"></a>é›†æˆmybatis</h3><p>ä¾èµ–ï¼šåˆ›å»ºé¡¹ç›®æ—¶é€‰æ‹© springWeb, MybaatisFragment, Mysql-Driver</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.spring.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-spring-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>runtime<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®æ•°æ®åº“</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">root</span></span><br><span class="line">    <span class="attr">password:</span> <span class="number">123465</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:mysql://127.0.0.1:3306/mydb01?useUnicode=true&amp;characterEncoding=UTF-8&amp;serverTimezone=UTC</span></span><br><span class="line">    <span class="attr">driver-class-name:</span> <span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line">    <span class="attr">initial-size:</span> <span class="number">5</span></span><br></pre></td></tr></table></figure><p>åˆ›å»º modelï¼Œcontrolï¼Œservice, mapper</p><h4 id="Mapper-æ³¨è§£"><a href="#Mapper-æ³¨è§£" class="headerlink" title="@Mapper æ³¨è§£"></a>@Mapper æ³¨è§£</h4><blockquote><p>æ”¾åœ¨ mapper æ¥å£ä¸Šã€‚æ¯ä¸ªmapper éƒ½è¦åŠ ã€‚å®ƒä¼šè‡ªåŠ¨ç”Ÿæˆ å®ç°ç±»</p></blockquote><h4 id="MapperScan"><a href="#MapperScan" class="headerlink" title="@MapperScan"></a>@MapperScan</h4><blockquote><p>é…ç½®æ‰«æï¼Œå¯ä»¥ç»™æŒ‡å®šç›®å½•ä¸‹æ–‡ä»¶æ·»åŠ  @Mapperæ³¨è§£ã€‚é€šå¸¸é…ç½®åœ¨é¡¹ç›®ä¸»ç±»ä¸Š</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MapperScan(basePackages = &#123;&quot;com.xxx.mapper&quot;, &quot;com.xxx.dao&quot;&#125;)</span></span><br></pre></td></tr></table></figure><h4 id="æŒ‡å®š-xml-æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶ç›®å½•ä½ç½®"><a href="#æŒ‡å®š-xml-æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶ç›®å½•ä½ç½®" class="headerlink" title="æŒ‡å®š xml æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶ç›®å½•ä½ç½®"></a>æŒ‡å®š xml æ–‡ä»¶æ‰€åœ¨æ–‡ä»¶ç›®å½•ä½ç½®</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis:</span></span><br><span class="line">  <span class="comment"># æŒ‡å®šmapperæ–‡ä»¶ä½ç½®</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span></span><br></pre></td></tr></table></figure><h4 id="æŒ‡å®šæ—¥å¿—è¾“å‡ºæ ¼å¼"><a href="#æŒ‡å®šæ—¥å¿—è¾“å‡ºæ ¼å¼" class="headerlink" title="æŒ‡å®šæ—¥å¿—è¾“å‡ºæ ¼å¼"></a>æŒ‡å®šæ—¥å¿—è¾“å‡ºæ ¼å¼</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="attr">configuration:</span></span><br><span class="line">  <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.log4j.Log4jImpl</span></span><br></pre></td></tr></table></figure><h3 id="springbootäº‹åŠ¡ç®¡ç†"><a href="#springbootäº‹åŠ¡ç®¡ç†" class="headerlink" title="springbootäº‹åŠ¡ç®¡ç†"></a>springbootäº‹åŠ¡ç®¡ç†</h3><blockquote><p>åœ¨å…¥å£ç±»ä½¿ç”¨æ³¨è§£ @EnableTransactionManagement å¼€å¯äº‹åŠ¡æ”¯æŒ</p><p>åœ¨ä¸šåŠ¡æ–¹æ³•ä¸­ åŠ å…¥ @transactional è¡¨ç¤ºäº‹åŠ¡æ”¯æŒã€‚</p></blockquote><h3 id="æ¥å£æ¶æ„é£æ ¼"><a href="#æ¥å£æ¶æ„é£æ ¼" class="headerlink" title="æ¥å£æ¶æ„é£æ ¼"></a>æ¥å£æ¶æ„é£æ ¼</h3><blockquote><p>APIï¼šå¯ä»¥æŒ‡è®¿é—®servletï¼Œcontrollerçš„urlï¼Œè°ƒç”¨å…¶ä»–ç¨‹åºçš„å‡½æ•°</p></blockquote><p>RESTful é£æ ¼</p><blockquote><p>Representational State Trasfer ã€è¡¨ç°å±‚çŠ¶æ€è½¬ç§»ã€‘</p><p>å®ƒæ˜¯ä¸€ç§æ¶æ„é£æ ¼å’Œè®¾è®¡çš„ç†å¿µï¼Œä¸æ˜¯æ ‡å‡†</p><p>ä¼˜ç‚¹ï¼šæ›´ç®€æ´ï¼Œæ›´åˆå±‚æ¬¡</p><p><strong>ä½¿ç”¨urlè¡¨ç¤ºèµ„æºï¼Œä½¿ç”¨httpåŠ¨ä½œæ“ä½œèµ„æº</strong></p></blockquote><p>ç›¸å…³æ³¨è§£ï¼š</p><p>@PathVariable: ä»urlä¸­è·å–æ•°æ®</p><p>@GetMapper: æ”¯æŒgetè¯·æ±‚</p><p>@PostMappingï¼šæ”¯æŒpostè¯·æ±‚æ–¹å¼â€™</p><p>@PutMapper: æ”¯æŒputè¯·æ±‚</p><p>@DeleteMappingï¼šæ”¯æŒdeleteè¯·æ±‚</p><p>@RestController: ç¬¦åˆæ³¨è§£ï¼Œæ˜¯@Controllerå’Œ@ResponseBodyç»„åˆ</p><p>â€‹    è¡¨ç¤ºå½“å‰ç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½åŠ å…¥ @ResponseBody</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@PathVariable</span> è·å–urlä¸­æ•°æ®</span></span><br><span class="line"><span class="comment"> &#123;id&#125; å®šä¹‰è·¯å¾„å˜é‡</span></span><br><span class="line"><span class="comment"> * */</span></span><br><span class="line"><span class="meta">@ResponseBody</span></span><br><span class="line"><span class="meta">@GetMapping(&quot;/queryStudent/&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">queryStudent</span><span class="params">(<span class="meta">@PathVariable(value=&quot;id&quot;)</span> <span class="type">int</span> id)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;id=&quot;</span> + id;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ³¨è§£æ€»ç»“"><a href="#æ³¨è§£æ€»ç»“" class="headerlink" title="æ³¨è§£æ€»ç»“"></a>æ³¨è§£æ€»ç»“</h3><h4 id="Spring-SpringMVC-SpringBoot"><a href="#Spring-SpringMVC-SpringBoot" class="headerlink" title="Spring + SpringMVC + SpringBoot"></a>Spring + SpringMVC + SpringBoot</h4><p><strong>åˆ›å»ºå¯¹è±¡çš„:</strong><br>@Contro1ler: æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œåˆ›å»ºæ§åˆ¶å™¨å¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨ä¸­</p><p>@RestContro11er: æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œåˆ›å»ºæ§åˆ¶å™¨å¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨ä¸­ã€‚<br>ä½œç”¨: å¤åˆæ³¨è§£æ˜¯</p><p>@Contro1ler ï¼Œ@ResponseBodyï¼Œä½¿ç”¨è¿™ä¸ªæ³¨è§£ç±»çš„ï¼Œé‡Œé¢çš„æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼éƒ½æ˜¯æ•°æ®</p><p>@Service :æ”¾åœ¨ä¸šåŠ¡å±‚çš„å®ç°ç±»ä¸Šé¢ï¼Œåˆ›å»ºserviceå¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨</p><p>@Repository : æ”¾åœ¨daoå±‚çš„å®ç°ç±»ä¸Šé¢ï¼Œåˆ›å»ºdaoå¯¹è±¡ï¼Œæ”¾å…¥åˆ°å®¹å™¨ã€‚ æ²¡æœ‰ä½¿ç”¨è¿™ä¸ªæ³¨è§£ï¼Œæ˜¯å› ä¸ºç°åœ¨ä½¿ç”¨MyBatisæ¢…æ¶ï¼Œdaoå¯¹è±¡æ˜¯MyBatisé€šè¿‡ä»£ç†ç”Ÿæˆçš„ã€‚ ä¸éœ€è¦ä½¿ç”¨</p><p>@Component: æ‰€ä»¥æ²¡æœ‰ä½¿ç”¨ã€‚æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œåˆ›å»ºæ­¤ç±»çš„å¯¹è±¡ï¼Œæ”¾å…¥åˆ°å®¹å™¨ä¸­ã€‚</p><p><strong>èµ‹å€¼çš„:</strong></p><p>@Value: ç®€å•ç±»å‹çš„èµ‹å€¼ï¼Œ ä¾‹å¦‚ åœ¨å±æ€§çš„ä¸Šé¢ä½¿ç”¨@Value(â€œæå››â€) private string name@vaTue :è¿˜å¯ä»¥ä½¿ç”¨@Value,è·å–é…ç½®æ–‡ä»¶è€…çš„æ•°æ®(propertiesæˆ–ym])ã€‚@Value(â€œsfserver .port}â€) private Integer port</p><p>@Autowired: å¼•ç”¨ç±»å‹èµ‹å€¼è‡ªåŠ¨æ³¨å…¥çš„ï¼Œæ”¯æŒbyNameï¼ŒbyType.é»˜è®¤æ˜¯byType ã€‚æ”¾åœ¨å±æ€§çš„ä¸Šé¢ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨æ„é€ æ–¹æ³•çš„ä¸Šé¢ã€‚ æ¨èæ˜¯æ”¾åœ¨æ„é€ æ–¹æ³•çš„ä¸Šé¢ç»™å¼•ç”¨ç±»å‹èµ‹å€¼ï¼Œä½¿ç”¨byNameæ–¹å¼ã€‚</p><p>@Qualifer: @Qualiferéƒ½æ˜¯Springæ¡†æ¶æä¾›çš„ã€‚</p><p>@Resource :æ¥è‡ªidkä¸­çš„å®šä¹‰ï¼Œ javax.annotationã€‚ å®ç°å¼•ç”¨ç±»å‹çš„è‡ªåŠ¨æ³¨å…¥ï¼Œ æ”¯æŒbyNameï¼ŒbyType.é»‘è®¤æ˜¯byWameï¼Œå¦‚æœbyNameå¤±è´¥ï¼Œ å†ä½¿ç”¨byTypeæ³¨å…¥ã€‚ åœ¨å±æ€§ä¸Šé¢ä½¿ç”¨</p><p><strong>å…¶ä»–</strong></p><p>@Configuration :æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸ªé…ç½®ç±»ï¼Œç›¸å½“äºxmlé…ç½®æ–‡ä»¶</p><p>@Bean: æ”¾åœ¨æ–¹æ³•çš„ä¸Šé¢ï¼Œ æŠŠæ–¹æ³•çš„è¿”å›å€¼å¯¹è±¡ï¼Œæ³¨å…¥åˆ°springå®¹å™¨ä¸­ã€‚</p><p>@ImportResource :åŠ è½½å…¶ä»–çš„xmé…ç½®æ–‡ä»¶ï¼Œ æŠŠæ–‡ä»¶ä¸­çš„å¯¹è±¡æ³¨å…¥åˆ°springå®¹å™¨ä¸­</p><p>@PropertySource :è¯»å–å…¶ä»–çš„propertieså±æ€§é…ç½®æ–‡ä»¶</p><p>@ComponentScan :æ‰«æå™¨ï¼ŒæŒ‡å®šåŒ…åï¼Œæ‰«ææ³¨è§£çš„</p><p>@ResponseBody: æ”¾åœ¨æ–¹æ³•çš„ä¸Šé¢ï¼Œè¡¨ç¤ºæ–¹æ³•çš„è¿”å›å€¼æ˜¯æ•°æ®ï¼Œä¸æ˜¯è§†å›¾</p><p>@RequestBody : æŠŠè¯·æ±‚ä½“ä¸­çš„æ•°æ®ï¼Œè¯»å–å‡ºæ¥ï¼Œ è½¬ä¸ºiavaå¯¹è±¡ä½¿ç”¨ã€‚</p><p>@ControlTerAdvice:æ§åˆ¶å™¨å¢å¼ºï¼Œ æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œ è¡¨ç¤ºæ­¤ç±»æä¾›äº†æ–¹æ³•ï¼Œå¯ä»¥å¯¹controllerå¢å¼ºåŠŸèƒ½ã€‚</p><p>@ExceptionHandler : å¤„ç†å¼‚å¸¸çš„ï¼Œæ”¾åœ¨æ–¹æ³•çš„ä¸Šé¢</p><p><strong>SpringBootä¸­ä½¿ç”¨çš„æ³¨è§£</strong></p><p>@SpringBootConfiguration: æ”¾åœ¨å¯åŠ¨ç±»ä¸Šé¢ï¼Œ åŒ…å«äº†@SpringBootApplication :@EnabTeAutoConfiguration, @ComponentScan</p><p><strong>MyBatisç›¸å…³çš„æ³¨è§£</strong></p><p>@Mapper : æ”¾åœ¨ç±»çš„ä¸Šé¢ ï¼Œ è®©MyBatisæ‰¾åˆ°æ¥å£ï¼Œåˆ›å»ºä»–çš„ä»£ç†å¯¹è±¡(MapperScan :æ”¾åœ¨ä¸»ç±»çš„ä¸Šé¢ ï¼Œ æŒ‡å®šæ‰«æçš„åŒ…ï¼Œ æŠŠè¿™ä¸ªåŒ…ä¸­çš„æ‰€æœ‰æ¥å£éƒ½åˆ›å»ºä»£ç†å¯¹è±¡ã€‚ å¯¹è±¡æ³¨å…¥åˆ°å®¹å™¨ä¸­</p><p>@Param :æ”¾åœ¨daoæ¥å£çš„æ–¹æ³•çš„å½¢å‚å‰é¢ï¼Œä½œä¸ºå‘½åå‚æ•°ä½¿ç”¨çš„ã€‚</p><p><strong>Dubboæ³¨è§£</strong></p><p>@Dubboservice: åœ¨æä¾›è€…ç«¯ä½¿ç”¨çš„ï¼Œæš´éœ²æœåŠ¡çš„ï¼Œ æ”¾åœ¨æ¥å£çš„å®ç°ç±»ä¸Šé¢@DubboReference: åœ¨æ¶ˆè´¹è€…ç«¯ä½¿ç”¨çš„ï¼Œ å¼•ç”¨è¿œç¨‹æœåŠ¡ï¼Œ æ”¾åœ¨å±æ€§ä¸Šé¢ä½¿ç”¨ã€‚@EnableDubbo : æ”¾åœ¨ä¸»ç±»ä¸Šé¢ï¼Œ è¡¨ç¤ºå½“å‰å¼•ç”¨å¯ç”¨DubboåŠŸèƒ½ã€‚</p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;é…ç½®å®¹å™¨&quot;&gt;&lt;a href=&quot;#é…ç½®å®¹å™¨&quot; class=&quot;headerlink&quot; title=&quot;é…ç½®å®¹å™¨&quot;&gt;&lt;/a&gt;é…ç½®å®¹å™¨&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;xmlé…ç½®å®¹å™¨&lt;/p&gt;
&lt;p&gt;  å°±æ˜¯spring çš„ xmlæ–‡ä»¶ä¸­é‚£æ ·çš„å†™æ³•&lt;/p&gt;
  &lt;figure class=&quot;highlight xml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;id&lt;/span&gt; = &lt;span class=&quot;string&quot;&gt;&amp;quot;createStudent&amp;quot;&lt;/span&gt; &lt;span class=&quot;attr&quot;&gt;class&lt;/span&gt;=&lt;span class=&quot;string&quot;&gt;&amp;quot;com.xxx.Student&amp;quot;&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;tag&quot;&gt;&amp;lt;/&lt;span class=&quot;name&quot;&gt;bean&lt;/span&gt;&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;&lt;p&gt;javaConfigé…ç½®å®¹å™¨&lt;/p&gt;
&lt;p&gt;  é‡‡ç”¨javaç±»çš„æ–¹å¼æ¥é…ç½®&lt;/p&gt;
  &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Configuration&lt;/span&gt; &lt;span class=&quot;comment&quot;&gt;// è¡¨ç¤ºå½“å‰ç±»æ˜¯ä½œä¸ºé…ç½®æ–‡ä»¶ä½¿ç”¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;SpringConfig&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/*&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;    	åˆ›å»ºæ–¹æ³•ï¼Œæ–¹æ³•çš„è¿”å›å€¼æ˜¯å¯¹è±¡ã€‚åœ¨æ–¹æ³•ä¸ŠåŠ ä¸Š@Bean&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;    	æ–¹æ³•çš„è¿”å›å€¼å¯¹è±¡å°±æ³¨å…¥åˆ°å®¹å™¨ä¸­ã€‚æ–¹æ³•åæ˜¯é»˜è®¤çš„Bean id&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;    */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;meta&quot;&gt;@Bean&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; Student &lt;span class=&quot;title function_&quot;&gt;createStudent&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;()&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;Student&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;stu&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Student&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        stu.setName(&lt;span class=&quot;string&quot;&gt;&amp;quot;å¼ ä¸‰&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; stu;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  æŠŠXMLæ–‡ä»¶ä½çš„çš„Beanå¯¼å…¥åˆ°å®¹å™¨&lt;/p&gt;
  &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Configuration&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@ImportResource(&amp;quot;classpath:applicationContext.xml&amp;quot;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;SpringConfig&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  å¼•å…¥å¤–éƒ¨å±æ€§é…ç½®æ–‡ä»¶&lt;/p&gt;
  &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Configuration&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@PropertySource(&amp;quot;classpath:comfig.properties&amp;quot;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;SpringConfig&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;  æ‰«æç»„ä»¶æ³¨è§£&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@Configuration&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;meta&quot;&gt;@ComponentScan(basePackage=&amp;quot;com.xxx.service&amp;quot;)&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;SpringConfig&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;h3 id=&quot;spring-boot&quot;&gt;&lt;a href=&quot;#spring-boot&quot; class=&quot;headerlink&quot; title=&quot;spring boot&quot;&gt;&lt;/a&gt;spring boot&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;å®ƒæ˜¯springä¸­çš„ä¸€ä¸ªæˆå‘˜ï¼Œå¯ä»¥ç®€åŒ–Spring MVCçš„ä½¿ç”¨ï¼Œä»–çš„æ ¸å¿ƒè¿˜æ˜¯IOCå®¹å™¨ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç‰¹ç‚¹ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;å†…åµŒ tomcatï¼Œjettyï¼ŒUndertow&lt;/li&gt;
&lt;li&gt;æä¾›èµ·æ­¥ä¾èµ–ï¼Œç®€åŒ–é…ç½®&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨é…ç½®springå’Œç¬¬ä¸‰æ–¹åº“&lt;/li&gt;
&lt;li&gt;å¥åº·æ£€æŸ¥ï¼Œç»Ÿè®¡ï¼Œå¤–éƒ¨åŒ–é…ç½®&lt;/li&gt;
&lt;li&gt;ä¸åŒç”Ÿæˆä»£ç ï¼Œä¸ç”¨ä½¿ç”¨xmlåšé…ç½®&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    <category term="java" scheme="https://wyf195075595.github.io/categories/java/"/>
    
    
    <category term="springbootåŸºç¡€" scheme="https://wyf195075595.github.io/tags/springboot%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>redis åŸºç¡€</title>
    <link href="https://wyf195075595.github.io/2023/02/22/programming/java/redis/"/>
    <id>https://wyf195075595.github.io/2023/02/22/programming/java/redis/</id>
    <published>2023-02-22T08:00:00.000Z</published>
    <updated>2023-03-13T03:17:26.695Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>éå…³ç³»å‹æ•°æ®åº“ã€‚</p></blockquote><p>ç¼“å­˜æ•°æ®åˆ†ç±»ï¼š</p><ol><li><p>å®æ—¶åŒæ­¥æ•°æ®ï¼šè¦æ±‚ç¼“å­˜ä¸­æ•°æ®ä¸DBä¸­æ¬§ç»™ä¸€è‡´</p><p> å¦‚ä½•ä¿è¯ä¸€è‡´ï¼Ÿåªè¦DBæ•°æ®å‘é€æ”¹å˜ï¼Œæ¸…é™¤ç¼“å­˜</p></li><li><p>é˜¶æ®µæ€§åŒæ­¥ï¼šæ²¡å¿…è¦ä¸DBå®æ—¶åŒæ­¥ï¼Œå¤§å·®ä¸å·®å°±è¡Œ</p><p> å¦‚ä½•å®ç°ï¼Ÿè®¾ç½®ç¼“å­˜æ•°æ®å¾—ç”Ÿå­˜æ—¶é•¿</p></li></ol><span id="more"></span><h3 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h3><blockquote><p>redis.conf, è¿è¡Œæ—¶æŒ‡å®šé…ç½®æ–‡ä»¶(ä»å½“å‰ç›®å½•)</p><p>é…ç½®é¡¹æŸ¥çœ‹æ–‡æ¡£<a href="https://www.redis.net.cn/tutorial/3504.html">ä¸­æ–‡æ–‡æ¡£</a></p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server /redis.conf</span><br></pre></td></tr></table></figure><p>è¿æ¥åˆ°ä¸»æœºä¸º 127.0.0.1ï¼Œç«¯å£ä¸º 6379 ï¼Œå¯†ç ä¸º mypass çš„ redis æœåŠ¡ä¸Š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-cli -h 127.0.0.1 -p 6379 -a &quot;mypass&quot;</span><br></pre></td></tr></table></figure><p>å‘½ä»¤è¡Œæ–¹å¼ æŸ¥çœ‹/é…ç½® é…ç½®æ–‡ä»¶</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">CONFIG GET key</span><br><span class="line">CONFIG SET key value</span><br></pre></td></tr></table></figure><h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><blockquote><p>Redisæ”¯æŒäº”ç§æ•°æ®ç±»å‹ï¼šstringï¼ˆå­—ç¬¦ä¸²ï¼‰ï¼Œhashï¼ˆå“ˆå¸Œï¼‰ï¼Œlistï¼ˆåˆ—è¡¨ï¼‰ï¼Œsetï¼ˆé›†åˆï¼‰åŠzset(sorted setï¼šæœ‰åºé›†åˆ)ã€‚</p></blockquote><ol><li><p>å­—ç¬¦ä¸²</p><p> stringç±»å‹æ˜¯Redisæœ€åŸºæœ¬çš„æ•°æ®ç±»å‹ï¼Œä¸€ä¸ªé”®æœ€å¤§èƒ½å­˜å‚¨512MBã€‚</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SET name zs</span><br><span class="line">GET name</span><br></pre></td></tr></table></figure></li><li><p>Hash</p><p> æ˜¯ä¸€ä¸ªstringç±»å‹çš„fieldå’Œvalueçš„æ˜ å°„è¡¨ï¼Œhashç‰¹åˆ«é€‚åˆç”¨äºå­˜å‚¨å¯¹è±¡ã€‚<strong>HMSET, HEGTALL</strong> å‘½ä»¤</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">HMSET user:1 username redis.net.cn password redis.net.cn points 200</span><br><span class="line">HGETALL user:1</span><br></pre></td></tr></table></figure></li><li><p>List</p><p> åˆ—è¡¨æ˜¯ç®€å•çš„å­—ç¬¦ä¸²åˆ—è¡¨ï¼ŒæŒ‰ç…§æ’å…¥é¡ºåºæ’åºã€‚ä½ å¯ä»¥æ·»åŠ ä¸€ä¸ªå…ƒç´ å¯¼åˆ—è¡¨çš„å¤´éƒ¨ï¼ˆå·¦è¾¹ï¼‰æˆ–è€…å°¾éƒ¨ï¼ˆå³è¾¹ï¼‰ã€‚</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">lpush redis.net.cn rabitmq</span><br><span class="line">lrange redis.net.cn 0 10</span><br></pre></td></tr></table></figure></li><li><p>Set</p><p> Setæ˜¯stringç±»å‹çš„æ— åºé›†åˆã€‚é€šè¿‡hashè¡¨å®ç°çš„ï¼Œæ·»åŠ ä¸€ä¸ªstringå…ƒç´ åˆ°,keyå¯¹åº”çš„seté›†åˆä¸­ï¼ŒæˆåŠŸè¿”å›1,å¦‚æœå…ƒç´ ä»¥åŠåœ¨é›†åˆä¸­è¿”å›0,keyå¯¹åº”çš„setä¸å­˜åœ¨è¿”å›é”™è¯¯ã€‚</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sadd key member</span><br><span class="line">smembers key</span><br></pre></td></tr></table></figure></li><li><p>zset</p><p> zset å’Œ set ä¸€æ ·ä¹Ÿæ˜¯stringç±»å‹å…ƒç´ çš„é›†åˆ,ä¸”ä¸å…è®¸é‡å¤çš„æˆå‘˜ã€‚</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">zadd key score member</span><br><span class="line">ZRANGEBYSCORE key 0 1000</span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;éå…³ç³»å‹æ•°æ®åº“ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç¼“å­˜æ•°æ®åˆ†ç±»ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;å®æ—¶åŒæ­¥æ•°æ®ï¼šè¦æ±‚ç¼“å­˜ä¸­æ•°æ®ä¸DBä¸­æ¬§ç»™ä¸€è‡´&lt;/p&gt;
&lt;p&gt; å¦‚ä½•ä¿è¯ä¸€è‡´ï¼Ÿåªè¦DBæ•°æ®å‘é€æ”¹å˜ï¼Œæ¸…é™¤ç¼“å­˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é˜¶æ®µæ€§åŒæ­¥ï¼šæ²¡å¿…è¦ä¸DBå®æ—¶åŒæ­¥ï¼Œå¤§å·®ä¸å·®å°±è¡Œ&lt;/p&gt;
&lt;p&gt; å¦‚ä½•å®ç°ï¼Ÿè®¾ç½®ç¼“å­˜æ•°æ®å¾—ç”Ÿå­˜æ—¶é•¿&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    <category term="java" scheme="https://wyf195075595.github.io/categories/java/"/>
    
    
    <category term="æ•°æ®åº“" scheme="https://wyf195075595.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>æ‹“å±•</title>
    <link href="https://wyf195075595.github.io/2023/02/22/programming/java/other/"/>
    <id>https://wyf195075595.github.io/2023/02/22/programming/java/other/</id>
    <published>2023-02-22T08:00:00.000Z</published>
    <updated>2023-03-08T07:55:05.158Z</updated>
    
    <content type="html"><![CDATA[<h3 id="æ‰«æè¿œç¨‹æ–‡ä»¶"><a href="#æ‰«æè¿œç¨‹æ–‡ä»¶" class="headerlink" title="æ‰«æè¿œç¨‹æ–‡ä»¶"></a>æ‰«æè¿œç¨‹æ–‡ä»¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿æ¥sftpæœåŠ¡å™¨</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> host     ä¸»æœº</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> port     ç«¯å£</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> username ç”¨æˆ·å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> password å¯†ç </span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ChannelSftp <span class="title function_">connect</span><span class="params">(String host, <span class="type">int</span> port, String username,String password)</span> &#123;</span><br><span class="line">        <span class="type">ChannelSftp</span> <span class="variable">sftp</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">JSch</span> <span class="variable">jsch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSch</span>();</span><br><span class="line">            <span class="comment">//jsch.getSession(username, host, port);</span></span><br><span class="line">            <span class="type">Session</span> <span class="variable">sshSession</span> <span class="operator">=</span> jsch.getSession(username, host, port);</span><br><span class="line">            System.out.println(<span class="string">&quot;Session created.&quot;</span>);</span><br><span class="line">            sshSession.setPassword(password);</span><br><span class="line">            <span class="type">Properties</span> <span class="variable">sshConfig</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">            sshConfig.put(<span class="string">&quot;StrictHostKeyChecking&quot;</span>, <span class="string">&quot;no&quot;</span>);</span><br><span class="line">            sshSession.setConfig(sshConfig);</span><br><span class="line">            sshSession.connect();</span><br><span class="line">            System.out.println(<span class="string">&quot;Session connected.&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;Opening Channel.&quot;</span>);</span><br><span class="line">            <span class="type">Channel</span> <span class="variable">channel</span> <span class="operator">=</span> sshSession.openChannel(<span class="string">&quot;sftp&quot;</span>);</span><br><span class="line">            channel.connect();</span><br><span class="line">            sftp = (ChannelSftp) channel;</span><br><span class="line">            System.out.println(<span class="string">&quot;Connected to &quot;</span> + host + <span class="string">&quot;.&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sftp;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ—å‡ºç›®å½•ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> directory è¦åˆ—å‡ºçš„ç›®å½•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sftp</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> SftpException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Vector <span class="title function_">listFiles</span><span class="params">(String directory, ChannelSftp sftp)</span> <span class="keyword">throws</span> SftpException &#123;</span><br><span class="line">        <span class="keyword">return</span> sftp.ls(directory);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•ï¼š</span></span><br><span class="line"></span><br><span class="line"><span class="type">ChannelSftp</span> <span class="variable">sftp</span> <span class="operator">=</span> connect(HOST, PORT, USER, PWD);</span><br></pre></td></tr></table></figure><h3 id="æœ¬åœ°æ–‡ä»¶æ‰«æ"><a href="#æœ¬åœ°æ–‡ä»¶æ‰«æ" class="headerlink" title="æœ¬åœ°æ–‡ä»¶æ‰«æ"></a>æœ¬åœ°æ–‡ä»¶æ‰«æ</h3><blockquote><p><a href="https://blog.csdn.net/codeLife1993/article/details/81906996">å‚è€ƒ</a></p></blockquote><span id="more"></span><h3 id="è§£æJSONæ–‡ä»¶"><a href="#è§£æJSONæ–‡ä»¶" class="headerlink" title="è§£æJSONæ–‡ä»¶"></a>è§£æJSONæ–‡ä»¶</h3><blockquote><p>æˆ‘ä»¬ç”¨æ¥è§£æjsonæ ¼å¼çš„jaråŒ…æœ‰å¾ˆå¤šï¼Œjacksonï¼Œ<a href="https://so.csdn.net/so/search?q=fastjson&spm=1001.2101.3001.7020">fastjson</a>ï¼Œgsonéƒ½è¡Œã€‚ä½†æœ¬äººå–œæ¬¢ç”¨fastjsonã€‚æ‰€ä»¥æœ¬ç¯‡éƒ½æ˜¯ä»¥fastjsonæ¥è§£æjsonæ–‡ä»¶ã€‚</p><p><a href="https://blog.csdn.net/Jeck_wu/article/details/118755971">å‚è€ƒ</a></p></blockquote><h3 id="æ–‡ä»¶ä¸Šä¼ "><a href="#æ–‡ä»¶ä¸Šä¼ " class="headerlink" title="æ–‡ä»¶ä¸Šä¼ "></a>æ–‡ä»¶ä¸Šä¼ </h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">fieldset</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">legend</span>&gt;</span>æ–‡ä»¶ä¸Šä¼ <span class="tag">&lt;/<span class="name">legend</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;http://127.0.0.1:18080/api/upload-test&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;files&quot;</span> <span class="attr">webkitdirectory</span> <span class="attr">mozdirectory</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ä¸Šä¼ æ–‡ä»¶å¤¹&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">&quot;http://127.0.0.1:18080/api/upload-test&quot;</span> <span class="attr">method</span>=<span class="string">&quot;post&quot;</span> <span class="attr">enctype</span>=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;file&quot;</span> <span class="attr">name</span>=<span class="string">&quot;files&quot;</span> <span class="attr">multiple</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;submit&quot;</span> <span class="attr">value</span>=<span class="string">&quot;ä¸Šä¼ æ–‡ä»¶&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">fieldset</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä¿å­˜åˆ°æœ¬åœ°"><a href="#ä¿å­˜åˆ°æœ¬åœ°" class="headerlink" title="ä¿å­˜åˆ°æœ¬åœ°"></a>ä¿å­˜åˆ°æœ¬åœ°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value=&quot;/upload-test&quot;, method = RequestMethod.POST)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">uploadTest</span><span class="params">(<span class="meta">@RequestParam(&quot;files&quot;)</span> MultipartFile[] files)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (MultipartFile file: files) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            file.transferTo(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/Download/&quot;</span> + file.getOriginalFilename()));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¿å­˜è‡³è¿œç¨‹æœåŠ¡å™¨"><a href="#ä¿å­˜è‡³è¿œç¨‹æœåŠ¡å™¨" class="headerlink" title="ä¿å­˜è‡³è¿œç¨‹æœåŠ¡å™¨"></a>ä¿å­˜è‡³è¿œç¨‹æœåŠ¡å™¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value=&quot;/upload-test&quot;, method = RequestMethod.POST)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">uploadTest</span><span class="params">(<span class="meta">@RequestParam(&quot;files&quot;)</span> MultipartFile[] files)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (MultipartFile file: files) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            String[] strings = file.getOriginalFilename().split(<span class="string">&quot;\\/&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> strings[strings.length - <span class="number">1</span>];</span><br><span class="line">            <span class="type">String</span> <span class="variable">newPath</span> <span class="operator">=</span> file.getOriginalFilename().replace(fileName, <span class="string">&quot;&quot;</span>);</span><br><span class="line">            sftpUtil.upload(uploadAnnotateFile + newPath, fileName , file.getInputStream());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;ä¸Šä¼ ç»“æŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¿œç¨‹è¿æ¥é…ç½®"><a href="#è¿œç¨‹è¿æ¥é…ç½®" class="headerlink" title="è¿œç¨‹è¿æ¥é…ç½®"></a>è¿œç¨‹è¿æ¥é…ç½®</h4><blockquote><p><a href="https://github.com/fengfangithub/study-sftp">å‚è€ƒ</a></p></blockquote><ol><li><p>pom.xml å¼•å…¥ä¾èµ–</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- sftp --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.jcraft<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jsch<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.1.55<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- è¿æ¥æ±  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.commons<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>commons-pool2<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>application-xxx.yml æ–‡ä»¶é…ç½®å‚æ•°</p> <figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¿œç¨‹è®¿é—®æœåŠ¡å™¨é…ç½®</span></span><br><span class="line"><span class="attr">sftp:</span></span><br><span class="line">  <span class="comment">#æœåŠ¡å™¨ip</span></span><br><span class="line">  <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.245</span></span><br><span class="line">  <span class="comment">#sshç«¯å£</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">22</span></span><br><span class="line">  <span class="comment">#ç”¨æˆ·å</span></span><br><span class="line">  <span class="attr">username:</span> <span class="string">zkrd</span></span><br><span class="line">  <span class="comment">#å¯†ç </span></span><br><span class="line">  <span class="attr">password:</span> <span class="string">zkrd12#$</span></span><br><span class="line">  <span class="comment"># ä¸Šä¼ æ ‡æ³¨æ–‡ä»¶æœåŠ¡å™¨è·¯å¾„</span></span><br><span class="line">  <span class="attr">uploadAnnotateFile:</span> <span class="string">/home/zkrd/label_system/</span></span><br><span class="line">  <span class="comment">#è¿æ¥æ± å‚æ•°</span></span><br><span class="line">  <span class="attr">pool:</span></span><br><span class="line">    <span class="comment">#å¯¹è±¡æ± ä¸­ç®¡ç†çš„æœ€å¤šå¯¹è±¡ä¸ªæ•°ã€‚é»˜è®¤å€¼æ˜¯8</span></span><br><span class="line">    <span class="attr">max-total:</span> <span class="number">10</span></span><br><span class="line">    <span class="comment">#å¯¹è±¡æ± ä¸­æœ€å¤§çš„ç©ºé—²å¯¹è±¡ä¸ªæ•°ã€‚é»˜è®¤å€¼æ˜¯8</span></span><br><span class="line">    <span class="attr">max-idle:</span> <span class="number">10</span></span><br><span class="line">    <span class="comment">#å¯¹è±¡æ± ä¸­æœ€å°çš„ç©ºé—²å¯¹è±¡ä¸ªæ•°ã€‚é»˜è®¤å€¼æ˜¯0</span></span><br><span class="line">    <span class="attr">min-idle:</span> <span class="number">5</span></span><br></pre></td></tr></table></figure></li><li><p>å°è£…ç±»</p><p> SftpFactory.java</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.jcraft.jsch.ChannelSftp;</span><br><span class="line"><span class="keyword">import</span> com.jcraft.jsch.JSch;</span><br><span class="line"><span class="keyword">import</span> com.jcraft.jsch.JSchException;</span><br><span class="line"><span class="keyword">import</span> com.jcraft.jsch.Session;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.pool2.BasePooledObjectFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.pool2.PooledObject;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.pool2.impl.DefaultPooledObject;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Value;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SftpFactory</span> <span class="keyword">extends</span> <span class="title class_">BasePooledObjectFactory</span>&lt;ChannelSftp&gt; &#123;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;sftp.host&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String host;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;sftp.port&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> port;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;sftp.username&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;sftp.password&#125;&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ChannelSftp <span class="title function_">create</span><span class="params">()</span> <span class="keyword">throws</span> JSchException &#123;</span><br><span class="line">        <span class="type">JSch</span> <span class="variable">jsch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSch</span>();</span><br><span class="line">        <span class="type">Session</span> <span class="variable">sshSession</span> <span class="operator">=</span> jsch.getSession(username, host, port);</span><br><span class="line">        sshSession.setPassword(password);</span><br><span class="line">        <span class="type">Properties</span> <span class="variable">sshConfig</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        sshConfig.put(<span class="string">&quot;StrictHostKeyChecking&quot;</span>, <span class="string">&quot;no&quot;</span>);</span><br><span class="line">        sshSession.setConfig(sshConfig);</span><br><span class="line">        sshSession.connect();</span><br><span class="line">        <span class="type">ChannelSftp</span> <span class="variable">channel</span> <span class="operator">=</span> (ChannelSftp) sshSession.openChannel(<span class="string">&quot;sftp&quot;</span>);</span><br><span class="line">        channel.connect();</span><br><span class="line">        <span class="keyword">return</span> channel;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> PooledObject&lt;ChannelSftp&gt; <span class="title function_">wrap</span><span class="params">(ChannelSftp channelSftp)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">DefaultPooledObject</span>&lt;&gt;(channelSftp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é”€æ¯å¯¹è±¡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> p</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@author</span> fengfan</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@date</span> 2022/1/14 15:26</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroyObject</span><span class="params">(PooledObject&lt;ChannelSftp&gt; p)</span> &#123;</span><br><span class="line">        <span class="type">ChannelSftp</span> <span class="variable">channelSftp</span> <span class="operator">=</span> p.getObject();</span><br><span class="line">        channelSftp.disconnect();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ¿€æ´»è¿æ¥æ± é‡Œé¢çš„sftpè¿æ¥</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> p</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">activateObject</span><span class="params">(PooledObject&lt;ChannelSftp&gt; p)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">ChannelSftp</span> <span class="variable">channelSftp</span> <span class="operator">=</span> p.getObject();</span><br><span class="line">        <span class="keyword">if</span>(!channelSftp.isConnected())&#123;</span><br><span class="line">            channelSftp.connect();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> SftpGenericObjectPool.java </p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.jcraft.jsch.ChannelSftp;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.pool2.impl.GenericObjectPool;</span><br><span class="line"><span class="keyword">import</span> org.apache.commons.pool2.impl.GenericObjectPoolConfig;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SftpGenericObjectPool</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> GenericObjectPool&lt;ChannelSftp&gt; genericObjectPool;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SftpGenericObjectPool</span><span class="params">(SftpFactory sftpFactory, GenericObjectPoolConfig&lt;ChannelSftp&gt; sftpPoolConfig)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.genericObjectPool = <span class="keyword">new</span> <span class="title class_">GenericObjectPool</span>&lt;&gt;(sftpFactory, sftpPoolConfig);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ChannelSftp <span class="title function_">borrowObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> genericObjectPool.borrowObject();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">returnObject</span><span class="params">(ChannelSftp obj)</span> &#123;</span><br><span class="line">        genericObjectPool.returnObject(obj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> SftpUtil.java</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.jcraft.jsch.ChannelSftp;</span><br><span class="line"><span class="keyword">import</span> com.jcraft.jsch.SftpException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SftpUtil</span> &#123;</span><br><span class="line">    <span class="comment">//è¿æ¥æ± </span></span><br><span class="line">    <span class="keyword">private</span> SftpGenericObjectPool pool;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SftpUtil</span><span class="params">(SftpGenericObjectPool pool)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.pool = pool;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸‹è½½æ–‡ä»¶</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dir  è¿œç¨‹ç›®å½•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name è¿œç¨‹æ–‡ä»¶å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æ–‡ä»¶å­—èŠ‚æ•°ç»„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> InputStream <span class="title function_">download</span><span class="params">(String dir, String name)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">ChannelSftp</span> <span class="variable">sftp</span> <span class="operator">=</span> pool.borrowObject();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            sftp.cd(dir);</span><br><span class="line">            <span class="keyword">return</span> sftp.get(name);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            pool.returnObject(sftp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä¸Šä¼ æ–‡ä»¶</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dir  è¿œç¨‹ç›®å½•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name è¿œç¨‹æ–‡ä»¶å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> in   è¾“å…¥æµ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">upload</span><span class="params">(String dir, String name, InputStream in)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">ChannelSftp</span> <span class="variable">sftp</span> <span class="operator">=</span> pool.borrowObject();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            mkdirs(sftp, dir);</span><br><span class="line">            sftp.cd(dir);</span><br><span class="line">            sftp.put(in, name);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            pool.returnObject(sftp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ é™¤æ–‡ä»¶</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dir  è¿œç¨‹ç›®å½•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> name è¿œç¨‹æ–‡ä»¶å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(String dir, String name)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">ChannelSftp</span> <span class="variable">sftp</span> <span class="operator">=</span> pool.borrowObject();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            sftp.cd(dir);</span><br><span class="line">            sftp.rm(name);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            pool.returnObject(sftp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€’å½’åˆ›å»ºå¤šçº§ç›®å½•</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dir å¤šçº§ç›®å½•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">mkdirs</span><span class="params">(ChannelSftp sftp, String dir)</span> <span class="keyword">throws</span> SftpException &#123;</span><br><span class="line">        String[] folders = dir.split(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        sftp.cd(<span class="string">&quot;/&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String folder : folders) &#123;</span><br><span class="line">            <span class="keyword">if</span> (folder.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    sftp.cd(folder);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    sftp.mkdir(folder);</span><br><span class="line">                    sftp.cd(folder);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> SftpGenericObjectPool <span class="title function_">getPool</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> pool;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPool</span><span class="params">(SftpGenericObjectPool pool)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.pool = pool;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä½¿ç”¨</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨å†Œå®ä¾‹åŒ– sftpUtil</span></span><br><span class="line"><span class="meta">@Resource</span></span><br><span class="line"><span class="keyword">private</span> SftpUtil sftpUtil;</span><br></pre></td></tr></table></figure></li></ol><h4 id="ä¸‹è½½æ–‡ä»¶"><a href="#ä¸‹è½½æ–‡ä»¶" class="headerlink" title="ä¸‹è½½æ–‡ä»¶"></a>ä¸‹è½½æ–‡ä»¶</h4><blockquote><p>javaåœ¨responseä¸­è®¾ç½®æ–‡ä»¶æµï¼Œåœ¨æµè§ˆå™¨ä¸­ç›´æ¥æ˜¾ç¤ºæˆ–ç›´æ¥ä¸‹è½½</p><p>åœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥æ–‡ä»¶è¯·æ±‚urlï¼Œèƒ½åœ¨æµè§ˆå™¨ä¸Šç›´æ¥æ˜¾ç¤ºæ–‡ä»¶ï¼Œè€Œä¸ç›´æ¥ä¸‹è½½</p><p>è§£å†³æ–¹å¼è®¾ç½®æ–‡ä»¶ContentTypeç±»å‹</p><p>å½“è®¾ç½®äº†ContentTypeä¸ºâ€œimage/jpgâ€æ—¶ï¼Œæµè§ˆå™¨å¯ä»¥ç›´æ¥æ˜¾ç¤ºå›¾ç‰‡ï¼›</p><p>æ²¡è®¾ç½®ContentTypeæ—¶ï¼Œæµè§ˆå™¨ä¼šç›´æ¥ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ã€‚</p><p>å¤‡æ³¨ï¼šä¸èƒ½è®¾ç½®<a href="https://so.csdn.net/so/search?q=header&spm=1001.2101.3001.7020">header</a>ï¼Œå¦åˆ™å½“è®¾ç½®äº†ContentTypeæ—¶ä¹Ÿæ˜¯ç›´æ¥ä¸‹è½½å›¾ç‰‡</p><p><a href="https://blog.csdn.net/q289658763/article/details/125928198">å‚è€ƒ</a></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å“åº”ä½“åŠ å…¥æ–‡ä»¶æµ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> response</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> filePathæ–‡ä»¶ä»ç›˜ç¬¦å¼€å§‹çš„å®Œæ•´è·¯å¾„</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">responseFileStream</span><span class="params">(HttpServletResponse response, String filePath)</span>&#123;</span><br><span class="line">logger.debug(<span class="string">&quot;responseFileStream imgPath:&quot;</span>+filePath);</span><br><span class="line"><span class="keyword">if</span>(filePath.contains(<span class="string">&quot;%&quot;</span>))&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">filePath = URLDecoder.decode(filePath,<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;responseFileStream decode error:&quot;</span>+e.toString());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(filePath.contains(<span class="string">&quot;%&quot;</span>))&#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">filePath = URLDecoder.decode(filePath,<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (UnsupportedEncodingException e) &#123;</span><br><span class="line">logger.debug(<span class="string">&quot;responseFileStream decode error:&quot;</span>+e.toString());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">ServletOutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="type">FileInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">in = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(filePath));</span><br><span class="line">String[] dir = filePath.split(<span class="string">&quot;/&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> dir[dir.length-<span class="number">1</span>];</span><br><span class="line">String[] array = fileName.split(<span class="string">&quot;[.]&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">fileType</span> <span class="operator">=</span> array[array.length-<span class="number">1</span>].toLowerCase();</span><br><span class="line"><span class="comment">//è®¾ç½®æ–‡ä»¶ContentTypeç±»å‹</span></span><br><span class="line"><span class="keyword">if</span>(<span class="string">&quot;jpg,jepg,gif,png&quot;</span>.contains(fileType))&#123;<span class="comment">//å›¾ç‰‡ç±»å‹</span></span><br><span class="line">response.setContentType(<span class="string">&quot;image/&quot;</span>+fileType);</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;pdf&quot;</span>.contains(fileType))&#123;<span class="comment">//pdfç±»å‹</span></span><br><span class="line">response.setContentType(<span class="string">&quot;application/pdf&quot;</span>);</span><br><span class="line">&#125;<span class="keyword">else</span>&#123;<span class="comment">//è‡ªåŠ¨åˆ¤æ–­ä¸‹è½½æ–‡ä»¶ç±»å‹ </span></span><br><span class="line">response.setContentType(<span class="string">&quot;multipart/form-data&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è®¾ç½®æ–‡ä»¶å¤´ï¼šæœ€åä¸€ä¸ªå‚æ•°æ˜¯è®¾ç½®ä¸‹è½½æ–‡ä»¶å</span></span><br><span class="line">        <span class="comment">//response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;fileName=&quot;+fileName);   </span></span><br><span class="line">out = response.getOutputStream();</span><br><span class="line"><span class="comment">// è¯»å–æ–‡ä»¶æµ</span></span><br><span class="line"><span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">10</span>];</span><br><span class="line"><span class="keyword">while</span> ((len = in.read(buffer)) != -<span class="number">1</span>) &#123;</span><br><span class="line">out.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">&#125;</span><br><span class="line">out.flush();</span><br><span class="line">&#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">logger.error(<span class="string">&quot;responseFileStream error:FileNotFoundException&quot;</span> + e.toString());</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">logger.error(<span class="string">&quot;responseFileStream error:&quot;</span> + e.toString());</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">out.close();</span><br><span class="line">in.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (NullPointerException e) &#123;</span><br><span class="line">logger.error(<span class="string">&quot;responseFileStream stream close() error:NullPointerException&quot;</span> + e.toString());</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">logger.error(<span class="string">&quot;responseFileStream stream close() error:&quot;</span> + e.toString());</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å‰ç«¯å›¾ç‰‡é¢„è§ˆ"><a href="#å‰ç«¯å›¾ç‰‡é¢„è§ˆ" class="headerlink" title="å‰ç«¯å›¾ç‰‡é¢„è§ˆ"></a>å‰ç«¯å›¾ç‰‡é¢„è§ˆ</h3><blockquote><p>é€šè¿‡è®¿é—®åœ°å€ï¼Œåœ¨img æ ‡ç­¾ srcä¸­ æ¸²æŸ“</p></blockquote><p>åç«¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">viewPicture</span><span class="params">(HttpServletResponse response, String filePath)</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">format</span> <span class="operator">=</span> filePath.substring(filePath.lastIndexOf(<span class="string">&quot;.&quot;</span>) + <span class="number">1</span>);</span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>( filePath);</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (file.exists() &amp;&amp; file.isFile()) &#123;</span><br><span class="line">            <span class="comment">//è¯»å–å›¾ç‰‡æ–‡ä»¶æµ</span></span><br><span class="line">            <span class="type">BufferedImage</span> <span class="variable">image</span> <span class="operator">=</span> ImageIO.read(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file));</span><br><span class="line">            <span class="comment">//å°†å›¾ç‰‡å†™åˆ°è¾“å‡ºæµ</span></span><br><span class="line">            ImageIO.write(image, format, response.getOutputStream());</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;æ–‡ä»¶ä¸å­˜åœ¨&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;é¢„è§ˆå¤±è´¥&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// uploadAnnotateFile æ˜¯ä¸Šä¼ æ ¹è·¯å¾„</span></span><br><span class="line"><span class="meta">@RequestMapping(value=&quot;/viewPicture&quot;, method = RequestMethod.GET)</span></span><br><span class="line"><span class="keyword">public</span> ResponseBean <span class="title function_">viewPicture</span><span class="params">(HttpServletResponse res,String path)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> FolderUtil.viewPicture(res, uploadAnnotateFile + path);</span><br><span class="line">    <span class="keyword">return</span> ResponseBean.success(msg);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å‰ç«¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img src=&quot;http:xxx:xxx/api/viewPicture?path=/xxx.jpg&quot; /&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;æ‰«æè¿œç¨‹æ–‡ä»¶&quot;&gt;&lt;a href=&quot;#æ‰«æè¿œç¨‹æ–‡ä»¶&quot; class=&quot;headerlink&quot; title=&quot;æ‰«æè¿œç¨‹æ–‡ä»¶&quot;&gt;&lt;/a&gt;æ‰«æè¿œç¨‹æ–‡ä»¶&lt;/h3&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;17&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;18&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;19&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;20&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;21&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;22&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;23&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;24&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;25&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;26&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;27&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;28&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;29&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;30&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;31&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;32&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;33&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;34&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;35&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;36&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;37&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;38&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;39&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;40&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;41&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;42&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;43&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;44&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;45&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;46&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;47&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;48&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * è¿æ¥sftpæœåŠ¡å™¨&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; host     ä¸»æœº&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; port     ç«¯å£&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; username ç”¨æˆ·å&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; password å¯†ç &lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; ChannelSftp &lt;span class=&quot;title function_&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String host, &lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; port, String username,String password)&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;type&quot;&gt;ChannelSftp&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;sftp&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;null&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;try&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;type&quot;&gt;JSch&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;jsch&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;JSch&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;comment&quot;&gt;//jsch.getSession(username, host, port);&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;type&quot;&gt;Session&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;sshSession&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; jsch.getSession(username, host, port);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            System.out.println(&lt;span class=&quot;string&quot;&gt;&amp;quot;Session created.&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            sshSession.setPassword(password);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;type&quot;&gt;Properties&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;sshConfig&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;Properties&lt;/span&gt;();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            sshConfig.put(&lt;span class=&quot;string&quot;&gt;&amp;quot;StrictHostKeyChecking&amp;quot;&lt;/span&gt;, &lt;span class=&quot;string&quot;&gt;&amp;quot;no&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            sshSession.setConfig(sshConfig);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            sshSession.connect();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            System.out.println(&lt;span class=&quot;string&quot;&gt;&amp;quot;Session connected.&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            System.out.println(&lt;span class=&quot;string&quot;&gt;&amp;quot;Opening Channel.&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            &lt;span class=&quot;type&quot;&gt;Channel&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;channel&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; sshSession.openChannel(&lt;span class=&quot;string&quot;&gt;&amp;quot;sftp&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            channel.connect();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            sftp = (ChannelSftp) channel;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            System.out.println(&lt;span class=&quot;string&quot;&gt;&amp;quot;Connected to &amp;quot;&lt;/span&gt; + host + &lt;span class=&quot;string&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125; &lt;span class=&quot;keyword&quot;&gt;catch&lt;/span&gt; (Exception e) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;            e.printStackTrace();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; sftp;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;comment&quot;&gt;/**&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * åˆ—å‡ºç›®å½•ä¸‹çš„æ–‡ä»¶&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     *&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; directory è¦åˆ—å‡ºçš„ç›®å½•&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@param&lt;/span&gt; sftp&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@return&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     * &lt;span class=&quot;doctag&quot;&gt;@throws&lt;/span&gt; SftpException&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;     */&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;static&lt;/span&gt; Vector &lt;span class=&quot;title function_&quot;&gt;listFiles&lt;/span&gt;&lt;span class=&quot;params&quot;&gt;(String directory, ChannelSftp sftp)&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;throws&lt;/span&gt; SftpException &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; sftp.ls(directory);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æµ‹è¯•ï¼š&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;ChannelSftp&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;sftp&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; connect(HOST, PORT, USER, PWD);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&quot;æœ¬åœ°æ–‡ä»¶æ‰«æ&quot;&gt;&lt;a href=&quot;#æœ¬åœ°æ–‡ä»¶æ‰«æ&quot; class=&quot;headerlink&quot; title=&quot;æœ¬åœ°æ–‡ä»¶æ‰«æ&quot;&gt;&lt;/a&gt;æœ¬åœ°æ–‡ä»¶æ‰«æ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://blog.csdn.net/codeLife1993/article/details/81906996&quot;&gt;å‚è€ƒ&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="java" scheme="https://wyf195075595.github.io/categories/java/"/>
    
    
    <category term="æ‹“å±•" scheme="https://wyf195075595.github.io/tags/%E6%8B%93%E5%B1%95/"/>
    
  </entry>
  
  <entry>
    <title>springåŸºç¡€</title>
    <link href="https://wyf195075595.github.io/2023/02/17/programming/java/spring/"/>
    <id>https://wyf195075595.github.io/2023/02/17/programming/java/spring/</id>
    <published>2023-02-17T08:00:00.000Z</published>
    <updated>2023-03-08T13:44:40.579Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><strong>ä»€ä¹ˆæ˜¯OCPï¼Ÿ</strong></p><p>OCPæ˜¯è½¯ä»¶å¼€å‘çš„ä¸ƒå¤§å¼€å‘åŸåˆ™ï¼šå¼€é—­åŸåˆ™</p><p>æ ¸å¿ƒï¼šå…¶ä»–6ä¸ªåŸåˆ™çš„åŸºç¡€</p></blockquote><blockquote><p><strong>OCPå¼€é—­åŸåˆ™æ ¸å¿ƒæ˜¯ä»€ä¹ˆï¼Ÿ</strong></p><p>åªè¦ä½ åœ¨æ‰©å±•åŠŸèƒ½çš„æ—¶å€™ï¼Œæ²¡æœ‰ä¿®æ”¹ä»¥å‰å†™å¥½çš„ä»£ç ï¼Œé‚£ä¹ˆå°±æ˜¯ç¬¦åˆOCPåŸåˆ™çš„ï¼Œåä¹‹åˆ™è¿èƒŒäº†OCPåŸåˆ™    </p><p>å½“ç³»ç»ŸåŠŸèƒ½æ‹“å±•æ—¶ï¼Œå¦‚æœåŠ¨äº†ä¹‹å‰ç¨³å®šçš„ç¨‹åºï¼Œä¿®æ”¹äº†ä¹‹å‰çš„ç¨‹åºã€‚ä¹‹å‰æ‰€æœ‰ç¨‹åºéƒ½éœ€è¦æµ‹è¯•ï¼Œè¿™æ˜¯ä¸æƒ³çœ‹åˆ°çš„</p></blockquote><blockquote><p><strong>è¿èƒŒä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPåŸåˆ™ï¼‰</strong></p><p><strong>ä¸Šä¾èµ–ä¸‹å°±æ˜¯è¿èƒŒ</strong>ï¼šå¦‚ï¼šè¡¨ç¤ºå±‚ä¾èµ–æœåŠ¡å±‚ï¼ŒæœåŠ¡å±‚ä¾èµ–æŒä¹…å±‚</p></blockquote><blockquote><p><strong>æ§åˆ¶åè½¬</strong></p><p>ä¸€ç§ç¼–ç¨‹æ€æƒ³ã€‚æˆ–è®¾è®¡æ¨¡å¼</p><ul><li>ä¸åœ¨ç¨‹åºä¸­é‡‡ç”¨ç¡¬ç¼–ç æ–¹å¼æ¥ new å¯¹è±¡</li><li>ä¸åœ¨ç¨‹åºä¸­é‡‡ç”¨ç¡¬ç¼–ç æ–¹å¼æ¥ ç»´æŠ¤å¯¹è±¡å…³ç³»</li></ul></blockquote><h2 id="Springæ¡†æ¶"><a href="#Springæ¡†æ¶" class="headerlink" title="Springæ¡†æ¶"></a>Springæ¡†æ¶</h2><ul><li>Springæ¡†æ¶å®ç°äº†æ§åˆ¶åè½¬IoCè¿™ç§æ€æƒ³<ul><li>springå¸®ä½ newå¯¹è±¡</li><li>springå¸®ä½ ç»´æŠ¤å¯¹è±¡å…³ç³»</li></ul></li><li>Spring æ—¶ä¸€ä¸ªå®ç°äº†IoCæ€æƒ³çš„å®¹å™¨<ul><li>ä¾èµ–æ³¨å…¥çš„ä¸¤ç§æ–¹å¼ï¼ˆä¾èµ–æ³¨å…¥æ—¶ç°å®IoCçš„å…·ä½“å®ç°: XMLè§£æ+å·¥å‚æ¨¡å¼+åå°„æœºåˆ¶ï¼‰<ul><li>set æ³¨å…¥(æ‰§è¡Œsetç»™å±æ€§èµ‹å€¼)</li><li>æ„é€ æ–¹æ³• æ³¨å…¥(æ‰§è¡Œæ„é€ æ–¹æ³•ç»™å±æ€§èµ‹å€¼)</li></ul></li></ul></li></ul><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230217170739281.png" alt="image-20230217170739281"></p><span id="more"></span><h3 id="åˆ›å»ºä¸€ä¸ªspring6é¡¹ç›®"><a href="#åˆ›å»ºä¸€ä¸ªspring6é¡¹ç›®" class="headerlink" title="åˆ›å»ºä¸€ä¸ªspring6é¡¹ç›®"></a>åˆ›å»ºä¸€ä¸ªspring6é¡¹ç›®</h3><ol><li><p>åˆ›å»ºä¸€ä¸ªæ™®é€šmavené¡¹ç›®</p></li><li><p>æ·»åŠ spring6çš„ä¾èµ–</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">&lt;!--  å½“ä½ å¼•å…¥ Spring Contextä¾èµ–åï¼Œè¡¨ç¤ºå°†Springçš„åŸºç¡€ä¾èµ–å¼•å…¥  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>6.0.5<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>é…ç½®spring é…ç½®æ–‡ä»¶ xml</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  IDEå·¥å…·æä¾›äº†è¿™ä¸ªæ¨¡æ¿  --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  é…ç½®bean,è¿™æ ·springä¼šå¸®æˆ‘ä»¬ç®¡ç†è¿™ä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="comment">        beanæ ‡ç­¾çš„ä¸¤ä¸ªé‡è¦å±æ€§</span></span><br><span class="line"><span class="comment">        id: å…¨å±€å”¯ä¸€</span></span><br><span class="line"><span class="comment">        class: éœ€è¦å…³ç³»çš„ç±»çš„å…¨è·¯å¾„</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bran.User&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>æ–°å»º com.spring.bran.User ç±»</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.spring.bran;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>æµ‹è¯•</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUserBean</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€æ­¥ï¼šè·å–spring å®¹å™¨å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// ApplicationContext æœ‰å¾ˆå¤šå®ç°ç±» ClassPathXmlApplicationContextç”¨æ¥ä¸“é—¨åŠ è½½spring é…ç½®æ–‡ä»¶</span></span><br><span class="line">    <span class="type">ApplicationContext</span> <span class="variable">applicationContext</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç¬¬äºŒæ­¥ï¼šæ ¹æ®bean id ä» spring å®¹å™¨ä¸­è·å–è¿™ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="comment">// è¿”å›å€¼æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥ä¼ ç¬¬äºŒä¸ªå‚æ•°è®¾ç½®ç±»å‹</span></span><br><span class="line">    <span class="type">Object</span> <span class="variable">userBean</span> <span class="operator">=</span> applicationContext.getBean(<span class="string">&quot;userBean&quot;</span>, <span class="string">&quot;User.class&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;userBean = &quot;</span> + userBean);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// éç±»è·¯å¾„ä¸‹è·å–é…ç½®æ–‡ä»¶</span></span><br><span class="line"><span class="type">FileSystemXmlApplicationContext</span> <span class="variable">fs</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileSystemXmlApplicationContext</span>(<span class="string">&quot;d://xxx.xml&quot;</span>);</span><br></pre></td></tr></table></figure></li></ol><h3 id="spring-å¯ç”¨-Log42-æ—¥å¿—æ¡†æ¶"><a href="#spring-å¯ç”¨-Log42-æ—¥å¿—æ¡†æ¶" class="headerlink" title="spring å¯ç”¨ Log42 æ—¥å¿—æ¡†æ¶"></a>spring å¯ç”¨ Log42 æ—¥å¿—æ¡†æ¶</h3><h4 id="å¼•å…¥ä¾èµ–"><a href="#å¼•å…¥ä¾èµ–" class="headerlink" title="å¼•å…¥ä¾èµ–"></a>å¼•å…¥ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    log4jä¾èµ–    --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.12.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.logging.log4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>log4j-slf4j-impl<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.12.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ–‡ä»¶åå­—å¿…é¡»æ˜¯-log4j2-xml"><a href="#é…ç½®æ–‡ä»¶åå­—å¿…é¡»æ˜¯-log4j2-xml" class="headerlink" title="é…ç½®æ–‡ä»¶åå­—å¿…é¡»æ˜¯ log4j2.xml"></a>é…ç½®æ–‡ä»¶åå­—å¿…é¡»æ˜¯ log4j2.xml</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">loggers</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;spring6log&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">appenders</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--    è¾“å‡ºæ—¥å¿—ä¿¡æ¯åˆ°æ§åˆ¶å°  --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">console</span> <span class="attr">name</span>=<span class="string">&quot;spring6log&quot;</span> <span class="attr">target</span>=<span class="string">&quot;SYSTEM_OUT&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- æ§åˆ¶å°æ—¥å¿—è¾“å‡ºæ ¼å¼ --&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">PatternLayout</span> <span class="attr">pattern</span>=<span class="string">&quot;%d&#123;yyyy-MM-dd HH:mm:SSS&#125; [t%] %-3level %logger&#123;1024&#125; - %msg%n&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">console</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">appenders</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">loggers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶å·²ç»å¯ç”¨</p><h4 id="è‡ªå·±æ€ä¹ˆä½¿ç”¨log4j2è®°å½•æ—¥å¿—ï¼Ÿ"><a href="#è‡ªå·±æ€ä¹ˆä½¿ç”¨log4j2è®°å½•æ—¥å¿—ï¼Ÿ" class="headerlink" title="è‡ªå·±æ€ä¹ˆä½¿ç”¨log4j2è®°å½•æ—¥å¿—ï¼Ÿ"></a>è‡ªå·±æ€ä¹ˆä½¿ç”¨log4j2è®°å½•æ—¥å¿—ï¼Ÿ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span>  <span class="title function_">useLog4j2</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(UserTest.class);</span><br><span class="line">    logger.info(<span class="string">&quot;æˆ‘æ˜¯ä¸€æ¡ä¿¡æ¯&quot;</span>);</span><br><span class="line">    logger.debug(<span class="string">&quot;æˆ‘æ˜¯ä¸€æ¡è°ƒè¯•ä¿¡æ¯&quot;</span>);</span><br><span class="line">    logger.error(<span class="string">&quot;æˆ‘æ˜¯ä¸€æ¡é”™è¯¯ä¿¡æ¯&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¾èµ–æ³¨å…¥"><a href="#ä¾èµ–æ³¨å…¥" class="headerlink" title="ä¾èµ–æ³¨å…¥"></a>ä¾èµ–æ³¨å…¥</h3><blockquote><p>service å±‚å¼•ç”¨äº† Daoå±‚å¯¹è±¡ï¼Œæ€ä¹ˆé…ç½®è®©springè‡ªåŠ¨ç”Ÿæˆ</p></blockquote><h4 id="åŸºäºsetæ–¹æ³•çš„ä¾èµ–æ³¨å…¥"><a href="#åŸºäºsetæ–¹æ³•çš„ä¾èµ–æ³¨å…¥" class="headerlink" title="åŸºäºsetæ–¹æ³•çš„ä¾èµ–æ³¨å…¥"></a>åŸºäºsetæ–¹æ³•çš„ä¾èµ–æ³¨å…¥</h4><p>dao.UserDao</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserDao</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">logger</span> <span class="operator">=</span> LoggerFactory.getLogger(UserDao.class);</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">()</span> &#123;</span><br><span class="line">        logger.info(<span class="string">&quot;æ•°æ®åº“æ­£åœ¨ä¿å­˜&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>service.UserService</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"><span class="comment">// æ­¤å¤„ä¸ºè¦æ³¨å…¥Daoå±‚ çš„setæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setUserDao</span><span class="params">(UserDao userDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveUser</span><span class="params">()</span> &#123;</span><br><span class="line">        userDao.insert();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é…ç½® bean</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.UserDao&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userServiceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.service.UserService&quot;</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- userServiceBean ä¸­æ³¨å…¥ UserDao  ï¼Œ</span></span><br><span class="line"><span class="comment">nameå…¶å®æ˜¯æ ¹æ® setæ–¹æ³•çš„åå­—æ¥ç”Ÿæˆçš„ï¼Œeg:setuserDao</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDaoBean&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// app ä¸ºspringå®¹å™¨å¯¹è±¡</span></span><br><span class="line"><span class="type">UserService</span> <span class="variable">uerService</span> <span class="operator">=</span> app.getBean(<span class="string">&quot;userServiceBean&quot;</span>, UserService.class);</span><br><span class="line">uerService.saveUser();</span><br></pre></td></tr></table></figure><h4 id="åŸºäºæ„é€ æ–¹æ³•çš„ä¾èµ–æ³¨å…¥"><a href="#åŸºäºæ„é€ æ–¹æ³•çš„ä¾èµ–æ³¨å…¥" class="headerlink" title="åŸºäºæ„é€ æ–¹æ³•çš„ä¾èµ–æ³¨å…¥"></a>åŸºäºæ„é€ æ–¹æ³•çš„ä¾èµ–æ³¨å…¥</h4><p>service.UserService</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> UserDao userDao;</span><br><span class="line"><span class="comment">// æ­¤å¤„ä¸ºè¦æ³¨å…¥Daoå±‚ çš„æ„é€ æ–¹æ³•</span></span><br><span class="line">   <span class="keyword">public</span> <span class="title function_">UserService</span><span class="params">(UserDao userDao)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.userDao = userDao;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveUser</span><span class="params">()</span> &#123;</span><br><span class="line">        userDao.insert();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>é…ç½®bean</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.UserDao&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userServiceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.service.UserService&quot;</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- userServiceBean ä¸­æ³¨å…¥ UserDao  ï¼Œ</span></span><br><span class="line"><span class="comment">å¯ä»¥æ˜¯</span></span><br><span class="line"><span class="comment">-index:å…¶æ˜¯å‚æ•°çš„ä½ç½®ï¼Œä»0å¼€å§‹ eg: 0</span></span><br><span class="line"><span class="comment">-name: å‚æ•°çš„åå­—eg: userDao</span></span><br><span class="line"><span class="comment">-ä¸æŒ‡å®š ï¼šè‡ªåŠ¨åŒ¹é…ï¼Œå®é™…æ˜¯æ ¹æ®å‚æ•°ç±»å‹æ¥åˆ¤æ–­</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDaoBean&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å†…-å¤–éƒ¨æ³¨å…¥-bean"><a href="#å†…-å¤–éƒ¨æ³¨å…¥-bean" class="headerlink" title="å†…/å¤–éƒ¨æ³¨å…¥ bean"></a>å†…/å¤–éƒ¨æ³¨å…¥ bean</h4><blockquote><p>å†…éƒ¨ bean å°±æ˜¯åœ¨ property é‡Œé¢ä½¿ç”¨ beanæ ‡ç­¾çš„æ–¹å¼ï¼Œæ•ˆæœè·Ÿä¸Šé¢ä¸€æ ·, ä¸€èˆ¬ä¸ç”¨</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.UserDao&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userServiceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.service.UserService&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.UserDao&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ç®€å•ç±»å‹æ³¨å…¥"><a href="#ç®€å•ç±»å‹æ³¨å…¥" class="headerlink" title="ç®€å•ç±»å‹æ³¨å…¥"></a>ç®€å•ç±»å‹æ³¨å…¥</h4><blockquote><p>UserDao ä¸­æä¾›æˆå‘˜å±æ€§ username,password çš„set,getæ–¹æ³•</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.UserDao&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zs&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>å“ªäº›ç±»å‹è¢«è®¤ä¸ºæ˜¯ç®€å•ç±»å‹ï¼Ÿ</p><p>BeanTuils.java ä¸­çš„isSimpleValueType æ–¹æ³• ä¸­ç»è¡Œäº†æè¿°</p><ol><li>8ä¸­åŸºæœ¬ç±»å‹åŠå…¶åŒ…è£…ç±»</li><li>å­—ç¬¦ä¸²</li><li>æšä¸¾</li><li>class</li><li>æ—¥æœŸ Date,Temporal</li><li></li></ol></blockquote><p>æ—¥æœŸç›´æ¥ä¼ å­—ç¬¦ä¸²ä¼šå¯¼è‡´æŠ¥é”™ï¼Œå®ƒè¦æ±‚æŒ‡å®šçš„æ—¥æœŸæ ¼å¼å­—ç¬¦ä¸²ã€‚æ¯”è¾ƒéº»çƒ¦ï¼Œä¸€èˆ¬ä¸æŠŠå®ƒå½“ä½œç®€å•ç±»å‹å¤„ç†</p><p><strong>ç»å…¸åº”ç”¨åœºæ™¯</strong></p><blockquote><p>æ•°æ®æº éƒ½å®ç°äº† DAtaSource æ¥å£ï¼Œå…¶ä¸­çš„è·å– connection å¯¹è±¡æ—¶è¦ä¼ å…¥ driver,url,username,password æ—¶å¯ä»¥é‡‡ç”¨é…ç½® æ³¨å…¥</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myDataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xxx&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password &quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="çº§è”å±æ€§èµ‹å€¼"><a href="#çº§è”å±æ€§èµ‹å€¼" class="headerlink" title="çº§è”å±æ€§èµ‹å€¼"></a>çº§è”å±æ€§èµ‹å€¼</h4><blockquote><p>ä½¿ç”¨çº§è”å±æ€§å¿…é¡»è¦æœ‰ getæ–¹æ³•ï¼Œåœ¨ä¸€ä¸ªbeanä¸­ç»™å¦ä¸€ä¸ªbeanèµ‹å€¼å±æ€§</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// å­¦ç”Ÿbeanä¸­ç»™ç­çº§ç±»æ³¨å…¥æ•°æ®</span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;studentBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xxx.Student&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zs&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;16&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;clazz&quot;</span> <span class="attr">value</span>=<span class="string">&quot;clazzBean&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;clazz.name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;é«˜äºŒ1ç­&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;clazzBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xxx.clazz&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ•°ç»„æ³¨å…¥"><a href="#æ•°ç»„æ³¨å…¥" class="headerlink" title="æ•°ç»„æ³¨å…¥"></a>æ•°ç»„æ³¨å…¥</h4><ol><li><p>æ•°ç»„ç®€å•æ•°ç»„</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.UserDao&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;strArray&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>å€¼1<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>å€¼2<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>å€¼3<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>å€¼4<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>æ•°ç»„ å¼•ç”¨ç±»å‹</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.UserDao&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;girlFriends&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;girlFriend1&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;girlFriend2&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span>=<span class="string">&quot;girlFriend3&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;girlFriend1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.Woman&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å°èŠ±&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;18&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;girlFriend2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.Woman&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å°ä¸½&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;20&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;girlFriend3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.Woman&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;å°å©‰&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;age&quot;</span> <span class="attr">value</span>=<span class="string">&quot;22&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="æ³¨å…¥é›†åˆ"><a href="#æ³¨å…¥é›†åˆ" class="headerlink" title="æ³¨å…¥é›†åˆ"></a>æ³¨å…¥é›†åˆ</h4><blockquote><p>list é›†åˆæœ‰åºå¯é‡å¤ï¼Œæ— éœ€ä¸å¯é‡å¤ã€‚å…ƒç´ æ—¶åŸºæœ¬ç±»å‹ç”¨value,å¼•ç”¨ç±»å‹ç”¨&lt;ref bean=â€â€ /&gt;</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;names&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--Listé›†åˆæœ‰åºå¯é‡å¤--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¼ ä¸‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>æå››<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>ç‹äº”<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vaLue</span>&gt;</span>å¼ ä¸‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¼ ä¸‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vaLue</span>&gt;</span>å¼ ä¸‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¼ ä¸‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;addrs&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--seté›†åˆæ— åºä¸å¯é‡å¤--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vaLue</span>&gt;</span>åŒ—äº¬å¤§å…´åŒº<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>åŒ—äº¬å¤§å…´åŒº<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>åŒ—äº¬æµ·æ·€åŒº<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">vaLue</span>&gt;</span>åŒ—äº¬æµ·æ·€åŒº<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>åŒ—äº¬å¤§å…´åŒº<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>map é›†åˆ</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;addrs&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--mapé›†åˆç®€å•ç±»å‹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;1&quot;</span> <span class="attr">value</span>=<span class="string">&quot;110&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;2&quot;</span> <span class="attr">value</span>=<span class="string">&quot;120&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;3&quot;</span> <span class="attr">value</span>=<span class="string">&quot;130&quot;</span> /&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--mapé›†åˆå¼•ç”¨ç±»å‹</span></span><br><span class="line"><span class="comment">&lt;entry key-ref=&quot;3&quot; value-ref=&quot;130&quot; /&gt;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--æ³¨å…¥Propertiesä¿©æ€§ç±»å¯¹è±¡--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;addrs&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">props</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;driver&quot;</span>&gt;</span>com.mysql.cj.jdbc.Driver<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;url&quot;</span>&gt;</span>jdbc:mysql:// ocalhost:3306/spring6<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;username&quot;</span>&gt;</span>root<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">prop</span> <span class="attr">key</span>=<span class="string">&quot;password&quot;</span>&gt;</span>123456<span class="tag">&lt;/<span class="name">prop</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">props</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ³¨å…¥ä¸€ä¸ª-null-ç©ºå­—ç¬¦ä¸²"><a href="#æ³¨å…¥ä¸€ä¸ª-null-ç©ºå­—ç¬¦ä¸²" class="headerlink" title="æ³¨å…¥ä¸€ä¸ª null, ç©ºå­—ç¬¦ä¸²"></a>æ³¨å…¥ä¸€ä¸ª null, ç©ºå­—ç¬¦ä¸²</h4><blockquote><p>è¦æ³¨å…¥ä¸€ä¸ª null. è¦ä¸å°±ä¸å†™è¿™æ¡å±æ€§æ³¨å…¥ï¼Œè¦ä¸å°±å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">null</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p> æ³¨å…¥ç©ºå­—ç¬¦ä¸²</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ³¨å…¥-ç‰¹æ®Šå­—ç¬¦"><a href="#æ³¨å…¥-ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="æ³¨å…¥ ç‰¹æ®Šå­—ç¬¦"></a>æ³¨å…¥ ç‰¹æ®Šå­—ç¬¦</h4><blockquote><p>ä½¿ç”¨å®ä½“ç¬¦å·ï¼šå¦‚ </p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// æŠ¥é”™</span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;rs&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2 &lt; 3&quot;</span> /&gt;</span></span><br><span class="line">// æ­£å¸¸</span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;rs&quot;</span> <span class="attr">value</span>=<span class="string">&quot;2 <span class="symbol">&amp;lt;</span> 3&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨ &lt;![CDATA[]]&gt;</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;rs&quot;</span>&gt;</span></span><br><span class="line">// åªèƒ½ä½¿ç”¨ value æ ‡ç­¾</span><br><span class="line">    <span class="tag">&lt;<span class="name">value</span>&gt;</span>&lt;![CDATA[2 &lt; 3]]&gt;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="åŸºäºpå‘½åç©ºé—´çš„æ³¨å…¥"><a href="#åŸºäºpå‘½åç©ºé—´çš„æ³¨å…¥" class="headerlink" title="åŸºäºpå‘½åç©ºé—´çš„æ³¨å…¥"></a>åŸºäºpå‘½åç©ºé—´çš„æ³¨å…¥</h4><blockquote><p>på‘½åç©ºé—´æ³¨å…¥åŸºäº set æ–¹æ³•ï¼Œç”¨æ¥ç®€åŒ–ä¼ å€¼æ“ä½œ</p><p>cå‘½åç©ºé—´æ³¨å…¥åŸºäºæ„é€  æ–¹æ³•ï¼Œç”¨æ¥ç®€åŒ–ä¼ å€¼æ“ä½œ</p><p>1ã€åœ¨spring çš„é…ç½®æ–‡ä»¶å¤´éƒ¨æ·»åŠ på‘½åç©ºé—´ã€‚</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xmlns:p=&quot;http://www.springframework.org/schema/p&quot;</span><br></pre></td></tr></table></figure><p>2ã€ä½¿ç”¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dogBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;xxx.Dog&quot;</span> <span class="attr">p:name</span>=<span class="string">&quot;xxx&quot;</span> <span class="attr">p:birth-ref</span>=<span class="string">&quot;birthBean&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// å°†æ—¥æœŸå¯¹è±¡ä½œä¸ºå¼•ç”¨ç±»å‹ä¼ å…¥</span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;birthBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;java.util.Ddate&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></blockquote><h4 id="util-å‘½åç©ºé—´æ³¨å…¥"><a href="#util-å‘½åç©ºé—´æ³¨å…¥" class="headerlink" title="util å‘½åç©ºé—´æ³¨å…¥"></a>util å‘½åç©ºé—´æ³¨å…¥</h4><blockquote><p>è®©é…ç½®å¤ç”¨ï¼Œä¸»è¦é’ˆå¯¹é›†åˆ</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// å¼•å…¥ util å‘½åç©ºé—´</span><br><span class="line">xmlns:util=&quot;http://www.springframework.org/schema/util&quot;</span><br><span class="line"></span><br><span class="line">xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">                            http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd</span><br><span class="line">&quot;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">util:list</span> <span class="attr">id</span>=<span class="string">&quot;ml&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¼ ä¸‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>æå››<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>ç‹äº”<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¼ ä¸‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¼ ä¸‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>å¼ ä¸‰<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">util:list</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.UserDao&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;anyList&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;ml&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></blockquote><h4 id="åŸºäºXMLè‡ªåŠ¨è£…é…"><a href="#åŸºäºXMLè‡ªåŠ¨è£…é…" class="headerlink" title="åŸºäºXMLè‡ªåŠ¨è£…é…"></a>åŸºäºXMLè‡ªåŠ¨è£…é…</h4><ul><li><p>æ ¹æ®åå­—è‡ªåŠ¨è£…é…</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// ä¹‹å‰å†™æ³•</span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDaoBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.UserDao&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userServiceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.service.UserService&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;userDaoBean&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">// è‡ªåŠ¨è£…é…</span><br><span class="line">// æ­¤å¤„beançš„åå­—åº”æ˜¯setæ–¹æ³•åä¸å¸¦setçš„å°é©¼å³°ï¼Œæ­¤å¤–è‡ªåŠ¨è£…é…æ˜¯setæ³¨å…¥ï¼Œä¸è¦é‡å†™æœ‰å‚æ„é€ æ–¹æ³•</span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.UserDao&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userServiceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.service.UserService&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byName&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>æ ¹æ®ç±»å‹è‡ªåŠ¨è£…é…</p>  <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userDao&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.dao.UserDao&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">// è¿™ä¹Ÿæ˜¯ setæ³¨å…¥çš„æ–¹å¼ï¼ŒåŒç§ç±»å‹å‚æ•°ä¸è¦è¶…è¿‡ä¸¤ä¸ª</span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;userServiceBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.service.UserService&quot;</span> <span class="attr">autowire</span>=<span class="string">&quot;byType&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="spring-å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶"><a href="#spring-å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶" class="headerlink" title="spring å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶"></a>spring å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶</h4><blockquote><p>ä»¥å‰ mybatis é€šè¿‡ é…ç½®æ–‡ä»¶ è®¾ç½®properties.resourceå¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;jdbc.properties&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>ç°åœ¨springä¸­ï¼š</p></blockquote><p>1ã€å…ˆå¼•å…¥ context å‘½åç©ºé—´</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line"></span><br><span class="line">xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">                    http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span><br><span class="line">&quot;</span><br></pre></td></tr></table></figure><p>2ã€ä½¿ç”¨æ ‡ç­¾å¼•å…¥</p><blockquote><p>æ³¨æ„ï¼Œxxx.properties æ–‡ä»¶çš„å±æ€§åœ¨å‘½åæ—¶ åŠ ä¸Šå‰ç¼€ å¦‚ï¼šjdbc.username=root. å¦åˆ™å¯èƒ½ä¼šä¼˜å…ˆè¯»å–ç”µè„‘å…¨å±€å±æ€§username:ç»“æœæ˜¯ Administrator</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;jdbc.properties&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">context:property-placeholder</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨</span><br><span class="line">$&#123;å˜é‡å&#125;</span><br></pre></td></tr></table></figure><h3 id="bean-ä½œç”¨åŸŸ"><a href="#bean-ä½œç”¨åŸŸ" class="headerlink" title="bean ä½œç”¨åŸŸ"></a>bean ä½œç”¨åŸŸ</h3><blockquote><p>spring é»˜è®¤æƒ…å†µä¸‹å¦‚ä½•ç®¡ç†è¿™ä¸ªBeançš„ï¼Ÿ</p><p>é»˜è®¤æƒ…å†µä¸‹ Beanæ˜¯å•ä¾‹çš„ï¼Œåœ¨Springåˆå§‹åŒ–çš„æ—¶å€™å®ä¾‹åŒ–ï¼Œæ‰€ä»¥æ¯æ¬¡è°ƒç”¨getBean(),éƒ½è¿”å›é‚£ä¸ªå•ä¾‹å¯¹è±¡</p></blockquote><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®Beanæ ‡ç­¾çš„å±æ€§scopeæ¥æ”¹å˜Beanæ˜¯å¦ä¸ºå•ä¾‹ï¼ˆsingletonï¼‰/å¤šä¾‹ï¼ˆprototypeï¼‰ã€‚webé¡¹ç›®ä¼šæœ‰æ›´å¤šé…ç½®</p><p><strong>è‡ªå®šä¹‰ scope</strong> </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- é…ç½®æˆ‘ä»¬è‡ªå®šä¹‰çš„ä½œç”¨åŸ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.beans.factory.config.CustomScopeConfigurer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;scopes&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">map</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">entry</span> <span class="attr">key</span>=<span class="string">&quot;threadScope&quot;</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!-- è¿™ä¸ªScopeæ¥å£çš„å®ç°ç±»ä½¿ç”¨çš„æ˜¯Springæ¡†æ¶å†…ç½®çš„ã€‚ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ã€‚--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.context.support.SimpleThreadScope&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">map</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;xxx&quot;</span> <span class="attr">scope</span>=<span class="string">&quot;threadScope&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>æ•ˆæœï¼šåœ¨ä¸åŒçº¿ç¨‹ä¸‹ï¼ŒgetBean è·å–çš„å¯¹è±¡ä¸ä¸€æ ·ã€‚æ˜¯çº¿ç¨‹å®‰å…¨çš„</p><h3 id="Bean-çš„å®ä¾‹åŒ–ï¼ˆè·å–ï¼‰æ–¹å¼"><a href="#Bean-çš„å®ä¾‹åŒ–ï¼ˆè·å–ï¼‰æ–¹å¼" class="headerlink" title="Bean çš„å®ä¾‹åŒ–ï¼ˆè·å–ï¼‰æ–¹å¼"></a>Bean çš„å®ä¾‹åŒ–ï¼ˆè·å–ï¼‰æ–¹å¼</h3><ol><li><p>é€šè¿‡æ„é€ æ–¹æ³•å®ä¾‹åŒ–</p><p> åœ¨æ–‡ä»¶ä¸­å†™ Bean æ ‡ç­¾ï¼Œspring ä¼šè‡ªåŠ¨è°ƒç”¨è¯¥ç±»æ„é€ å‡½æ•°å®ä¾‹åŒ– Bean</p></li><li><p>é€šè¿‡ç®€å•å·¥å‚æ¨¡å¼å®ä¾‹åŒ–</p><p> é€šè¿‡ç®€å•å·¥å‚æ¨¡å¼ã€‚springä¼šåˆ° StarFactory ç±»ä¸­ è°ƒç”¨ get è·å–å®ä¾‹å¯¹è±¡</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;startBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xxx.bean.StarFactory&quot;</span> <span class="attr">factory-method</span>=<span class="string">&quot;get&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StarFactory</span> &#123;</span><br><span class="line">    <span class="comment">// é™æ€æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Star <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// è¿”å›Star å¯¹è±¡å®ä¾‹</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Star</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡factory-beanå®ä¾‹åŒ–</p><p> é€šè¿‡å·¥å‚æ–¹æ³•æ¨¡å¼ã€‚é€šè¿‡ factory-bean,factory-method å±æ€§å…±åŒå®Œæˆ</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;gunFactory&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xxx.bean.GunFactory&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;gun&quot;</span> <span class="attr">factory-bean</span>=<span class="string">&quot;gunFactory&quot;</span> <span class="attr">factory-method</span>=<span class="string">&quot;get&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p> GunFactory</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GunFactory</span> &#123;</span><br><span class="line">    <span class="comment">// å®ä¾‹æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> Gun <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// å®é™…ä¸Š new è¿™ä¸ªå¯¹è±¡è¿˜æ˜¯æˆ‘ä»¬ç¨‹åºå‘˜è‡ªå·± new çš„</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Gun</span>(); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> Gun</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Gun</span>() &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Gun</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Gunçš„æ— å‚æ„é€ æ–¹æ³•æ‰§è¡Œ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡ FactoryBean æ¥å£å®ä¾‹åŒ–</p><p> å®é™…ä¸Šæ˜¯ç¬¬ä¸‰ç§æ–¹æ³•çš„ç®€åŒ–</p><p> PersonFactory</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonFactory</span> <span class="keyword">implements</span> <span class="title class_">FactoryBean</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSingleton</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// æ˜¯å¦å•ä¾‹</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; getObjectType() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> Person</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰§è¡Œæ„é€ å‡½æ•°ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> spring.xml</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;person&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xxx.PersonFactory&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure></li></ol><blockquote><p>FactoryBeanä¸BeanFactoryåŒºåˆ«ï¼Ÿ</p><p>FactoryBean æ˜¯ Bean å®ƒæ˜¯è¾…åŠ©springåˆ›å»ºå…¶ä»–beançš„ï¼Œè€ŒBeanFactory æ˜¯åˆ›å»ºBeançš„å·¥å‚ï¼Œè´Ÿè´£åˆ›å»ºBeanå¯¹è±¡</p></blockquote><h4 id="FeatoryBean-æ³¨å…¥-Date-ç±»å‹"><a href="#FeatoryBean-æ³¨å…¥-Date-ç±»å‹" class="headerlink" title="FeatoryBean æ³¨å…¥ Date ç±»å‹"></a>FeatoryBean æ³¨å…¥ Date ç±»å‹</h4><blockquote><p>Date åœ¨ springä¸­è¢«å½“ä½œç®€å•ç±»å‹ï¼Œ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DateFactory</span> <span class="keyword">implements</span> <span class="title class_">FactoryBean</span>&lt;Date&gt; &#123;</span><br><span class="line">    String strDate;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DateFactory</span><span class="params">(String strDate)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.strDate = strDate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Date <span class="title function_">getObject</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">format</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">date</span> <span class="operator">=</span> format.parse(strDate);</span><br><span class="line">        <span class="keyword">return</span> date;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; getObjectType() &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dateBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.service.DateFactory&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">index</span>=<span class="string">&quot;0&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1970-10-12&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;Student&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.spring.bean.service.Person&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;date&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dateBean&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Bean-çš„å£°æ˜å‘¨æœŸ"><a href="#Bean-çš„å£°æ˜å‘¨æœŸ" class="headerlink" title="Bean çš„å£°æ˜å‘¨æœŸ"></a>Bean çš„å£°æ˜å‘¨æœŸ</h3><blockquote><p>â€‹    ç²—ç•¥çš„äº”æ­¥èµ°</p><ol><li>å®ä¾‹åŒ–Beanï¼Œè°ƒç”¨æ— å‚æ„é€ æ–¹æ³•</li><li>ç»™Beanå±æ€§èµ‹å€¼ï¼Œsetæ–¹æ³•</li><li>åˆå§‹åŒ–Beanã€‚ä¼šè°ƒç”¨Beançš„initæ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•éœ€è¦è‡ªå·±å†™</li><li>ä½¿ç”¨Bean</li><li>é”€æ¯Beanï¼Œè°ƒç”¨Beançš„destroy æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿéœ€è¦è‡ªå·±å†™</li></ol></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// æŒ‡å®šç”Ÿå‘½å‘¨æœŸå‡½æ•°</span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dateBean&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xx.DateFactory&quot;</span> <span class="attr">init-method</span>=<span class="string">&quot;initBean&quot;</span> <span class="attr">destroy-method</span>=<span class="string">&quot;destroy&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;zs&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ç”Ÿå‘½å‘¨æœŸçš„ä¸ƒæ­¥ã€‚å°±æ˜¯åœ¨ç¬¬ä¸‰æ­¥å¢åŠ  beforeï¼Œafterã€‚æ€ä¹ˆåŠ å‘¢ï¼Ÿ</p><p>ç¼–å†™ä¸€ä¸ªç±»å®ç° BeanPostProcessor ç±»å¹¶é‡å†™ afterï¼Œbeforeæ–¹æ³•</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SevenStep</span> <span class="keyword">implements</span> <span class="title class_">BeanPostProcessor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">postProcessBeforeInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line">        <span class="keyword">return</span> BeanPostProcessor.<span class="built_in">super</span>.postProcessBeforeInitialization(bean, beanName);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">postProcessAfterInitialization</span><span class="params">(Object bean, String beanName)</span> <span class="keyword">throws</span> BeansException &#123;</span><br><span class="line">        <span class="keyword">return</span> BeanPostProcessor.<span class="built_in">super</span>.postProcessAfterInitialization(bean, beanName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// ä½œç”¨åŸŸé…ç½®æ–‡ä»¶ä¸­æ‰€æœ‰Bean</span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;com.xxx.SevenStep&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>ç”Ÿå‘½å‘¨æœŸåæ­¥èµ°</p><p>åœ¨BeanBefore å‰åå¢åŠ ï¼Œå’Œé”€æ¯ä¹‹å‰å¢åŠ </p><ul><li><p>beforeå‰æ£€æŸ¥Beanæ˜¯å¦å®ç°äº†Awareç›¸å…³æ¥å£ï¼Œå¹¶è®¾ç½®ç›¸å…³ä¾èµ–</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯è·å–Bean åå­—ï¼ŒBeanè¿™ä¸ªç±»çš„åŠ è½½å™¨ï¼Œç”Ÿäº§è¿™ä¸ªBeançš„å·¥å‚å¯¹è±¡</span></span><br><span class="line"><span class="keyword">implements</span> <span class="title class_">BeanNameAware</span>,BeanClassLoaderAware, BeanFactoryAware</span><br></pre></td></tr></table></figure></li><li><p>beforeåæ£€æŸ¥Beanæ˜¯å¦å®ç°äº†InitialzingBeanæ¥å£ï¼Œå¹¶è°ƒç”¨æ–¹æ³•</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">implements</span> <span class="title class_">InitializingBean</span></span><br></pre></td></tr></table></figure></li><li><p>é”€æ¯å‰æ£€æŸ¥Beanæ˜¯å¦å®ç°äº†DisposableBeanæ¥å£ï¼Œå¹¶è°ƒç”¨æ–¹æ³•</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">implements</span> <span class="title class_">DisposableBean</span></span><br></pre></td></tr></table></figure></li></ul></blockquote><blockquote><p><strong>Springå®¹å™¨åªå¯¹singLetonçš„Beanè¿›è¡Œå®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†</strong><br>å¦‚æœæ˜¯scope = <strong>porototype ä½œç”¨åŸŸçš„Beanï¼ŒSpringå®¹å™¨åªè´Ÿè´£å°†beanåˆå§‹åŒ–å®Œ</strong>ï¼Œç­‰å®¢æˆ·ç«¯ç¨‹åºä¸€æ—¦è·å–åˆ°Beanä¹‹åï¼ŒSpringå®¹å™¨å°±ä¸å†è¥ç†è¯¥å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸäº†.</p></blockquote><h3 id="å°†è‡ªå·±newçš„å¯¹è±¡çº³å…¥springå®¹å™¨ç®¡ç†"><a href="#å°†è‡ªå·±newçš„å¯¹è±¡çº³å…¥springå®¹å™¨ç®¡ç†" class="headerlink" title="å°†è‡ªå·±newçš„å¯¹è±¡çº³å…¥springå®¹å™¨ç®¡ç†"></a>å°†è‡ªå·±newçš„å¯¹è±¡çº³å…¥springå®¹å™¨ç®¡ç†</h3><blockquote></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªå·± new çš„å¯¹è±¡</span></span><br><span class="line"><span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="comment">// æ³¨å†Œç®¡ç†</span></span><br><span class="line"><span class="type">DefaultListableBeanFactory</span> <span class="variable">factory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DefaultListableBeanFactory</span>();</span><br><span class="line">factory.registerSingleton(<span class="string">&quot;stuBean&quot;</span>,stu);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»å®¹å™¨è·å– Bean</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">stuBean</span> <span class="operator">=</span> factory.getBean(<span class="string">&quot;stuBean&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="Bean-çš„å¾ªç¯ä¾èµ–"><a href="#Bean-çš„å¾ªç¯ä¾èµ–" class="headerlink" title="Bean çš„å¾ªç¯ä¾èµ–"></a>Bean çš„å¾ªç¯ä¾èµ–</h3><blockquote><p>Aå¯¹è±¡å¼•ç”¨Bå±æ€§ï¼ŒBå¯¹è±¡å¼•ç”¨Aå±æ€§ã€‚ç›¸äº’å¼•ç”¨</p></blockquote><p>singleton + setteræ¨¡å¼ä¸‹çš„å¾ªç¯ä¾èµ–æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚</p><p>æœ¬è´¨åŸå› ï¼šä»»æ„ä¸€ä¸ªBeanå®ä¾‹åŒ–æ—¶ï¼Œé©¬ä¸Šç»è¡Œæ›å…‰ï¼Œå…¶ä»–Beanå¯ä»¥å¼•ç”¨å®ƒäº†ï¼Œæ­¤æ—¶å±æ€§å¯èƒ½è¿˜æ²¡æœ‰æ³¨å…¥ã€‚å› ä¸ºæ˜¯å•ä¾‹ï¼Œå…¨å±€åªæœ‰ä¸€ä¸ª</p><p><strong>prototype + setter æ¨¡å¼ä¸‹å¾ªç¯ä¾èµ–å‡ºç°é—®é¢˜</strong>ã€‚å½“å…¶ä¸­ä¸€ä¸ªç±»å‹æ˜¯ singleton æ—¶å°±æ²¡é—®é¢˜</p><p><strong>åŸºäºæ„é€ æ–¹æ³•çš„æ³¨å…¥æ¨¡å¼ä¸‹å¾ªç¯ä¾èµ–ä¼šå‡ºç°é—®é¢˜</strong></p><h3 id="spring-IoCæ³¨è§£å¼å¼€å‘"><a href="#spring-IoCæ³¨è§£å¼å¼€å‘" class="headerlink" title="spring IoCæ³¨è§£å¼å¼€å‘"></a>spring IoCæ³¨è§£å¼å¼€å‘</h3><blockquote><p>ç”¨æ¥ç®€å†™é…ç½®ï¼Œé¿å…ç¼–å†™xmlæ–‡ä»¶</p></blockquote><h4 id="å£°æ˜Beançš„æ³¨è§£"><a href="#å£°æ˜Beançš„æ³¨è§£" class="headerlink" title="å£°æ˜Beançš„æ³¨è§£"></a>å£°æ˜Beançš„æ³¨è§£</h4><blockquote><p>1ã€ä½¿ç”¨æ³¨è§£éœ€è¦AOPçš„ä¾èµ–</p><p>2ã€é…ç½®<strong>contextå‘½åç©ºé—´</strong></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd</span><br><span class="line">                            http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd</span><br><span class="line">&quot;</span><br></pre></td></tr></table></figure><p>3ã€ç»™springæ¡†æ¶å¼€å¯æ‰«æå“ªäº›åŒ…ä¸­çš„ç±»</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.xxx.bean&quot;</span> /&gt;</span></span><br><span class="line">å¤šä¸ªåŒ…ç”¨,éš”å¼€ã€‚ä¹Ÿå¯ä»¥ä½¿ç”¨çˆ¶åŒ…å</span><br></pre></td></tr></table></figure><p>4ã€åœ¨beanä¸Šä½¿ç”¨æ³¨è§£</p></blockquote><ol><li>@Component</li><li>@Controller</li><li>@Service</li><li>@Repository</li></ol><h4 id="é€‰æ‹©æ€§å®ä¾‹åŒ–"><a href="#é€‰æ‹©æ€§å®ä¾‹åŒ–" class="headerlink" title="é€‰æ‹©æ€§å®ä¾‹åŒ–"></a>é€‰æ‹©æ€§å®ä¾‹åŒ–</h4><p>æ–¹å¼1</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// è®©æ‰€æœ‰å±æ€§å¤±æ•ˆ</span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.xxx.bean&quot;</span>  <span class="attr">use-default-filters</span>=<span class="string">&quot;false&quot;</span> &gt;</span></span><br><span class="line"></span><br><span class="line">// åªè®©Componentæ³¨è§£ç”Ÿæ•ˆ</span><br><span class="line"><span class="tag">&lt;<span class="name">context:include-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Component&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ–¹å¼2</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.xxx.bean&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// é™¤äº†Componentæ³¨è§£å…¶ä»–éƒ½ç”Ÿæ•ˆ</span><br><span class="line"><span class="tag">&lt;<span class="name">context:exclude-filter</span> <span class="attr">type</span>=<span class="string">&quot;annotation&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;org.springframework.stereotype.Component&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context:component-scan</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="è´Ÿè´£æ³¨å…¥çš„æ³¨è§£"><a href="#è´Ÿè´£æ³¨å…¥çš„æ³¨è§£" class="headerlink" title="è´Ÿè´£æ³¨å…¥çš„æ³¨è§£"></a>è´Ÿè´£æ³¨å…¥çš„æ³¨è§£</h3><ol><li>@Value</li><li>@Autowired</li><li>@Qualifier</li><li>@Resource</li></ol><h4 id="Value"><a href="#Value" class="headerlink" title="@Value"></a>@Value</h4><blockquote><p>è¦æ³¨å…¥å±æ€§ç±»å‹æ˜¯ç®€å•ç±»å‹æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ã€‚</p><p>æ­¤æ–¹å¼æ³¨å…¥ä¸ä¾èµ–setæ–¹æ³•ã€‚å¯ä»¥ç”¨åœ¨å±æ€§ä¸Šï¼Œæ„é€ æ–¹æ³•å½¢å‚ä¸Šï¼Œsetæ–¹æ³•ä¸Š</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Value(&quot;å¼ ä¸‰&quot;)</span></span><br><span class="line"><span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Product</span><span class="params">(<span class="meta">@Value(&quot;å¼ ä¸‰&quot;)</span> String name, <span class="meta">@Value(&quot;42&quot;)</span><span class="type">int</span> age)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.name = name;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Value(&quot;å¼ ä¸‰&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.age = age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Autowired-ä¸-Qualifier"><a href="#Autowired-ä¸-Qualifier" class="headerlink" title="@Autowired ä¸ @Qualifier"></a>@Autowired ä¸ @Qualifier</h4><blockquote><p>@Autowired å¯ä»¥æ³¨å…¥<strong>éç®€å•ç±»å‹</strong>ï¼Œ è‡ªåŠ¨è£…é…ã€é»˜è®¤æ˜¯ByTypeã€‘</p><p>å¦‚éœ€æŒ‰ åå­—æ³¨å…¥éœ€å’Œ  @Qualifierä¸€èµ·ä½¿ç”¨</p><p>æ­¤æ–¹å¼æ³¨å…¥ä¹Ÿä¸ä¾èµ–setæ–¹æ³•ã€‚å¯ä»¥ä½¿ç”¨åœ¨ <strong>æˆå‘˜å±æ€§</strong>ï¼Œ<strong>æ„é€ æ–¹æ³•</strong>ï¼Œ<strong>æ„é€ æ–¹æ³•å½¢å‚</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// OrderDao.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">OrderDao</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// OrderDaoImpl.java</span></span><br><span class="line"><span class="meta">@Component(&quot;orderDaoImpl&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">OrderDao</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ­£åœ¨æ’å…¥...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// OrderTest.java</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderTest</span> &#123;</span><br><span class="line">    <span class="comment">// è‡ªåŠ¨å°† OrderDao å®ç°ç±» OrderDaoImpl æ³¨å…¥ï¼Œ ä½†æ˜¯å¦‚æœæœ‰å¤šä¸ªç±»å®ç°OrderDaoå°±ä¸èƒ½è‡ªåŠ¨ç±»å‹è£…é…éœ€è¦è”åˆ@Qualifierä¸€èµ·ä½¿ç”¨</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="meta">@Qualifier(&quot;orderDaoImpl&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> OrderDao orderDao;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        orderDao.insert();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœæ­¤æ—¶è¿˜æœ‰ä¸€ä¸ªç±»å®ç°äº† OrderDao</span></span><br><span class="line"><span class="comment">// OrderDaoImpl.java</span></span><br><span class="line"><span class="meta">@Component(&quot;orderDaoImpl1&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OrderDaoImpl1</span> <span class="keyword">implements</span> <span class="title class_">OrderDao</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ­£åœ¨æ’å…¥1...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="Resource"><a href="#Resource" class="headerlink" title="@Resource"></a>@Resource</h4><blockquote><p>å¯ä»¥å®Œæˆéç®€å•ç±»å‹æ³¨å…¥ã€‚å­˜åœ¨äº<strong>jdkæ‹“å±•åŒ…ä¸­ï¼ˆæ‰€ä»¥ä½¿ç”¨æ—¶éœ€è¦é¢å¤–å¼•å…¥ï¼‰</strong>ï¼Œå¯ç†è§£ä¸ºæ ‡å‡†æ³¨è§£ã€‚è€Œ@Autowired æ˜¯springæ¡†æ¶è‡ªå·±çš„ã€‚</p><p>Resourceæ³¨è§£å¯ç”¨åœ¨ å±æ€§ä¸Šï¼Œsetteræ–¹æ³•ä¸Šã€‚</p><p>ç°æ ¹æ®ç±»å‹è£…é…ï¼Œæ‰¾ä¸åˆ°å°±æ ¹æ®åå­—</p></blockquote><p>å¼•å…¥ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// spring5</span><br><span class="line">javax.annotation-api</span><br><span class="line"></span><br><span class="line">// spring6</span><br><span class="line">jakarta.annotation-api</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Resource(name=&quot;orderDaoImpl&quot;)</span></span><br><span class="line"><span class="keyword">private</span> OrderDao orderDao;</span><br></pre></td></tr></table></figure><h3 id="å…¨æ³¨è§£å¼€å‘"><a href="#å…¨æ³¨è§£å¼€å‘" class="headerlink" title="å…¨æ³¨è§£å¼€å‘"></a>å…¨æ³¨è§£å¼€å‘</h3><blockquote><p>ä¸ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œé€šè¿‡å…¶ä»–æ–¹å¼è·å–XMLè¿”å›å€¼</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¹‹å‰</span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">app</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring.xml&quot;</span>);</span><br><span class="line"><span class="comment">// ç°åœ¨ ç”¨ä¸€ä¸ªjavaé…ç½®ç±»ä»£æ›¿xml</span></span><br><span class="line"><span class="type">AnnotationConfigApplicationContext</span> <span class="variable">app</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(SpringConf.class);</span><br><span class="line"></span><br><span class="line"><span class="comment">// SpringConf.java</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&#123;&quot;com.xxx.dao&quot;,&quot;com.xxx.service&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringConf</span> () &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="Configuration"><a href="#Configuration" class="headerlink" title="@Configuration"></a>@Configuration</h4><blockquote><p>@Configurationç”¨äºå®šä¹‰é…ç½®ç±»ï¼Œå¯æ›¿æ¢xmlé…ç½®æ–‡ä»¶ï¼Œè¢«æ³¨è§£çš„ç±»å†…éƒ¨åŒ…å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¢«@Beanæ³¨è§£çš„æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•å°†ä¼šè¢«AnnotationConfigApplicationContextæˆ–AnnotationConfigWebApplicationContextç±»è¿›è¡Œæ‰«æï¼Œå¹¶ç”¨äºæ„å»ºbeanå®šä¹‰ï¼Œåˆå§‹åŒ–Springå®¹å™¨ã€‚</p><p><strong>æ³¨æ„</strong>ï¼š@Configurationæ³¨è§£çš„é…ç½®ç±»æœ‰å¦‚ä¸‹è¦æ±‚ï¼š</p><ol><li>@Configurationä¸å¯ä»¥æ˜¯finalç±»å‹ï¼›</li><li>@Configurationä¸å¯ä»¥æ˜¯åŒ¿åç±»ï¼›</li><li>åµŒå¥—çš„configurationå¿…é¡»æ˜¯é™æ€ç±»ã€‚</li></ol></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppConfig</span> &#123;</span><br><span class="line"> </span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MyBean <span class="title function_">myBean</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// instantiate, configure and return bean ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç»“è®º:</p><p>@Configuationç­‰ä»·äº&lt;Beans&gt;&lt;/Beans&gt;</p><p>@Beanç­‰ä»·äº&lt;Bean&gt;&lt;/Bean&gt;</p><p>@ComponentScanç­‰ä»·äº&lt;context:component-scan base-package=â€com.ahies.ija.managementâ€/&gt;</p></blockquote><h3 id="JdbcTemplate"><a href="#JdbcTemplate" class="headerlink" title="JdbcTemplate"></a>JdbcTemplate</h3><blockquote><p>springå†…ç½®çš„å¯¹jdbcçš„ç®€åŒ–æ“ä½œæ–¹å¼ã€‚ä½†å®é™…é¡¹ç›®ä¸­ä¸€èˆ¬ä¼šä½¿ç”¨mybatis</p></blockquote><p>é…ç½® JdbcTemplate</p><p>ä¾èµ–</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--    å¾·é²ä¼Šè¿æ¥æ±     --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.alibaba<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>druid<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.1.24<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><p>spring.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--  é…ç½®æ•°æ®æº  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mydb01&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é…ç½® jdbcTemplate --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repository</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AccountDaoImpl</span> <span class="keyword">implements</span> <span class="title class_">AccountDao</span> &#123;</span><br><span class="line">    <span class="meta">@Resource(name = &quot;jdbcTemplate&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> JdbcTemplate jdbcTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Account <span class="title function_">selectByActno</span><span class="params">(String actno)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select actno,balance from t_act where actno = ?&quot;</span>;</span><br><span class="line">        <span class="type">Account</span> <span class="variable">account</span> <span class="operator">=</span> jdbcTemplate.queryForObject(sql, <span class="keyword">new</span> <span class="title class_">BeanPropertyRowMapper</span>&lt;&gt;(Account.class), actno);</span><br><span class="line">        <span class="keyword">return</span> account;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">update</span><span class="params">(Account act)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update t_act set balance = ? where actno = ?&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> jdbcTemplate.update(sql, act.getBalance(), act.getActno());</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="GoFä¹‹ä»£ç†æ¨¡å¼"><a href="#GoFä¹‹ä»£ç†æ¨¡å¼" class="headerlink" title="GoFä¹‹ä»£ç†æ¨¡å¼"></a>GoFä¹‹ä»£ç†æ¨¡å¼</h3><h4 id="é™æ€ä»£ç†"><a href="#é™æ€ä»£ç†" class="headerlink" title="é™æ€ä»£ç†"></a>é™æ€ä»£ç†</h4><blockquote><p>éœ€æ±‚ï¼šæ£€æµ‹å‡ºæ‰€æœ‰Serviceä¸šåŠ¡æ–¹æ³•çš„è€—æ—¶æ—¶é—´</p><p>-ç¡¬ç¼–ç ï¼šæ¯ä¸ªä¸šåŠ¡æ–¹æ³•ä¸­ç›´æ¥æ·»åŠ è®¡æ—¶ä»£ç </p><p>â€‹    è¿èƒŒOCPå¼€é—­åŸåˆ™</p><p>-ç¼–å†™ä¸šåŠ¡å­ç±»ï¼Œç»§æ‰¿ä¸šåŠ¡ç±»ï¼Œå¯¹æ¯ä¸ªä¸šåŠ¡æ–¹æ³•é‡å†™</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> SubService <span class="keyword">extends</span> <span class="title class_">FatherService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteXXX</span><span class="params">(id)</span> &#123;</span><br><span class="line">        <span class="comment">// å¼€å¯è®¡æ—¶</span></span><br><span class="line">        <span class="built_in">super</span>(id);</span><br><span class="line">        <span class="comment">// ç»“æŸè®¡æ—¶</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹    ä»£ç è€¦åˆåº¦é«˜ï¼Œæ²¡æœ‰å¤ç”¨</p><p>-ä»£ç†å¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> FatherServiceProxy <span class="keyword">implements</span> <span class="title class_">FatherService</span> &#123;</span><br><span class="line">    <span class="comment">// ä»£ç†ç›®æ ‡,ä»£ç†æ¥å£ï¼Œä¸è¦ä»£ç†å®ç°ç±»</span></span><br><span class="line">    <span class="keyword">private</span> FatherService target;</span><br><span class="line">    <span class="comment">// æ„é€ èµ‹å€¼</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FatherServiceProxy</span><span class="params">(FatherService targrt)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.target = targrt;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteXXX</span><span class="params">(id)</span> &#123;</span><br><span class="line">        <span class="comment">// å¼€å¯è®¡æ—¶</span></span><br><span class="line">        target.deleteXXX(id);</span><br><span class="line">        <span class="comment">// ç»“æŸè®¡æ—¶</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºç›®æ ‡</span></span><br><span class="line"><span class="type">FatherService</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FatherServiceImpl</span>();</span><br><span class="line"><span class="comment">// åˆ›å»ºä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="type">FatherServiceProxy</span> <span class="variable">proxy</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FatherServiceProxy</span>(target);</span><br><span class="line"><span class="comment">// è°ƒç”¨ä»£ç†æ–¹æ³•</span></span><br><span class="line">proxy.deleteXXX(<span class="string">&quot;1&quot;</span>);</span><br></pre></td></tr></table></figure><p>â€‹    ç¬¦åˆOCPåŸåˆ™ï¼Œè€¦åˆåº¦ä½.ä½†æ˜¯æ²¡æœ‰å¤ç”¨æ¯ä¸ªç±»éƒ½è¦æ–°å¢ä¸€ä¸ªä»£ç†ç±»ï¼Œç±»å¤š</p></blockquote><h4 id="åŠ¨æ€ä»£ç†"><a href="#åŠ¨æ€ä»£ç†" class="headerlink" title="åŠ¨æ€ä»£ç†"></a>åŠ¨æ€ä»£ç†</h4><blockquote><p>è¿˜æ˜¯ä»£ç†æ¨¡å¼ï¼Œåªæ˜¯æ–°å¢äº†å­—èŠ‚ç ç”ŸæˆæŠ€æœ¯ï¼ŒåŠ¨æ€ç”Ÿæˆä»£ç†å¯¹è±¡ã€‚å‡å°‘ä»£ç†ç±»çš„æ•°é‡</p></blockquote><p>åŠ¨æ€ä»£ç†æŠ€æœ¯ï¼š</p><ul><li>jdkå†…ç½®åŠ¨æ€ä»£ç† Proxy,åªèƒ½ä»£ç†æ¥å£</li><li>CGLIBåŠ¨æ€ä»£ç†æŠ€æœ¯ï¼Œæ˜¯ä¸€ä¸ªå¼€æºåº“ï¼Œåº•å±‚æ˜¯ç»§æ‰¿æ–¹å¼ç»§æ‰¿ã€‚æ€§èƒ½æ¯”jdkåŠ¨æ€ä»£ç†å¥½ï¼ˆåº•å±‚æœ‰ä¸ªå°å„¿å¿«çš„å­—èŠ‚ç å¤„ç†æ¡†æ¶ ASMï¼‰</li><li>javassist </li></ul><h5 id="jdk-åŠ¨æ€ä»£ç†"><a href="#jdk-åŠ¨æ€ä»£ç†" class="headerlink" title="jdk åŠ¨æ€ä»£ç†"></a>jdk åŠ¨æ€ä»£ç†</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¦ä»£ç†çš„æ¥å£ OrderService</span></span><br><span class="line"><span class="comment">// å®ç°ç±» OrderServiceImpl</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="type">OrderService</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OrderServiceImpl</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment">// å‚æ•°1ï¼šç±»åŠ è½½å™¨ï¼Œå’Œç›®æ ‡åŠ è½½å™¨ä¸€è‡´</span></span><br><span class="line"><span class="comment">// å‚æ•°2ï¼šä»£ç†ç±»è¦å®ç°çš„æ¥å£</span></span><br><span class="line"><span class="comment">// å‚æ•°3ï¼šè°ƒç”¨å¤„ç†å™¨ï¼Œä¼ å…¥è¦å¢å¼ºçš„ç¨‹åº</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">proxy</span> <span class="operator">=</span> Proxy.newProxyInstance(target.getClass().getClassLoader(),target.getClass.getInterfaces(), <span class="keyword">new</span> <span class="title class_">TimerInvocationHandle</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨ä»£ç†å¯¹è±¡æ–¹æ³•</span></span><br><span class="line">proxy.xxx();</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimerInvocationHandle</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line">    <span class="comment">// å‚æ•°1ï¼šä»£ç†å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// å‚æ•°2ï¼šä»£ç†ç›®æ ‡å¯¹è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="comment">// å‚æ•°3ï¼šä»£ç†ç›®æ ‡å¯¹è±¡æ–¹æ³•æ¥æ”¶çš„å‚æ•°</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> <span class="title function_">Throwable</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">Object</span> <span class="variable">retValue</span> <span class="operator">=</span> method.invoke(target, args);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="CGLIBåŠ¨æ€ä»£ç†"><a href="#CGLIBåŠ¨æ€ä»£ç†" class="headerlink" title="CGLIBåŠ¨æ€ä»£ç†"></a>CGLIBåŠ¨æ€ä»£ç†</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºå­—èŠ‚ç å¢å¼ºå¯¹è±¡</span></span><br><span class="line"><span class="type">Enhancer</span> <span class="variable">enhacer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Enhancer</span>();</span><br><span class="line"><span class="comment">// è®¾ç½®ç›®æ ‡ç±»</span></span><br><span class="line">enhacer.setSuperclass(UserService.class);</span><br><span class="line"><span class="comment">// è®¾ç½®å›è°ƒ</span></span><br><span class="line">enhacer.setCallback(<span class="keyword">new</span> <span class="title class_">TimerMethodInterceptor</span>());</span><br><span class="line"><span class="comment">// åˆ›å»ºä»£ç†</span></span><br><span class="line"><span class="type">UserService</span> <span class="variable">proxy</span> <span class="operator">=</span> enhancer.create();</span><br><span class="line"><span class="comment">// è°ƒç”¨ä»£ç†æ–¹æ³•</span></span><br><span class="line">proxy.login();</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">TimerMethodInterceptor</span> <span class="keyword">implements</span> <span class="title class_">MethodInterceptor</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">intercept</span><span class="params">(Object targrt, Method method, Object[] objcts, MethodProxy methodProxy)</span> <span class="keyword">throw</span> Throwable &#123;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">retValue</span> <span class="operator">=</span> methodProxy.invokeSuper(target, objects);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> retValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é¢å‘åˆ‡é¢ç¼–ç¨‹"><a href="#é¢å‘åˆ‡é¢ç¼–ç¨‹" class="headerlink" title="é¢å‘åˆ‡é¢ç¼–ç¨‹"></a>é¢å‘åˆ‡é¢ç¼–ç¨‹</h3><blockquote><p>åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰åº•å±‚å°±æ˜¯é€šè¿‡åŠ¨æ€ä»£ç†æ¥å®ç°çš„ï¼Œæ˜¯OOPçš„è¡¥å……å’Œå»¶ç”³ã€‚</p><p>spring çš„AOP ä½¿ç”¨çš„ä»£ç†æ˜¯ï¼šjdk çš„åŠ¨æ€ä»£ç†æ˜¯+CGLIBåŠ¨æ€ä»£ç†æŠ€æœ¯ã€‚jdkä»£ç†æ¥å£ï¼ŒCGLIBä»£ç†ç±»ï¼Œè‡ªç”±åˆ‡æ¢ï¼Œä¹Ÿå¯ä»¥è®¾ç½®åªæ˜¯ç”¨ CGLIB</p><p>å…·ä½“ä½¿ç”¨åœºæ™¯ï¼Œé¡¹ç›®ä¸­æ—¥å¿—æ¨¡å—ï¼Œå®‰å…¨æ¨¡å—ï¼Œäº‹åŠ¡æ¨¡å—ï¼Œè¿™äº›æœåŠ¡è¢«ç§°ä¸ºäº¤å‰ä¸šåŠ¡ã€‚å®ƒä»¬éƒ½ä½¿ç”¨é¢å‘åˆ‡é¢æ¥å®ç°</p></blockquote><h4 id="è¿æ¥ç‚¹-Joinpe"><a href="#è¿æ¥ç‚¹-Joinpe" class="headerlink" title="è¿æ¥ç‚¹ Joinpe"></a>è¿æ¥ç‚¹ Joinpe</h4><blockquote><p>åœ¨ç¨‹åºçš„æ•´ä¸ªæ‰§è¡Œæµç¨‹ä¸­ï¼Œå¯ä»¥ç»‡å…¥åˆ‡é¢çš„ä½ç½®ã€‚æ–¹æ³•çš„æ‰§è¡Œå‰åï¼Œå¼‚å¸¸æŠ›å‡ºä¹‹åç­‰ä½ç½®</p></blockquote><h4 id="åˆ‡ç‚¹-Pointcut"><a href="#åˆ‡ç‚¹-Pointcut" class="headerlink" title="åˆ‡ç‚¹ Pointcut"></a>åˆ‡ç‚¹ Pointcut</h4><blockquote><p>åœ¨ç¨‹åºæ‰§è¡Œæµç¨‹ä¸­ï¼ŒçœŸæ­£ç»‡å…¥åˆ‡é¢çš„æ–¹æ³•ã€‚æœ¬è´¨å°±æ˜¯æ–¹æ³•ã€‚ä¸€ä¸ªåˆ‡ç‚¹å¯¹åº”å¤šä¸ªè¿æ¥ç‚¹</p></blockquote><h4 id="é€šçŸ¥-Advice"><a href="#é€šçŸ¥-Advice" class="headerlink" title="é€šçŸ¥ Advice"></a>é€šçŸ¥ Advice</h4><blockquote><p>é€šçŸ¥å°±æ˜¯å¢å¼ºä»£ç ï¼Œå°±æ˜¯å…·ä½“è¦ç»‡å…¥çš„ä»£ç ã€‚æ ¹æ®æ”¾ç½®çš„ä½ç½®æœ‰ä¸åŒåå­—</p><ul><li>å‰ç½®é€šçŸ¥</li><li>åç½®é€šçŸ¥</li><li>ç¯ç»•é€šçŸ¥</li><li>å¼‚å¸¸é€šçŸ¥</li><li>æœ€ç»ˆé€šçŸ¥</li></ul></blockquote><h4 id="åˆ‡é¢-Aspect"><a href="#åˆ‡é¢-Aspect" class="headerlink" title="åˆ‡é¢ Aspect"></a>åˆ‡é¢ Aspect</h4><blockquote><p>åˆ‡ç‚¹ + é€šçŸ¥ å°±æ˜¯ åˆ‡é¢</p></blockquote><h4 id="ç»‡å…¥"><a href="#ç»‡å…¥" class="headerlink" title="ç»‡å…¥"></a>ç»‡å…¥</h4><blockquote><p>æŠŠé€šçŸ¥åº”ç”¨åˆ°ç›®æ ‡å¯¹è±¡çš„è¿‡ç¨‹</p></blockquote><h4 id="ä»£ç†å¯¹è±¡-proxy"><a href="#ä»£ç†å¯¹è±¡-proxy" class="headerlink" title="ä»£ç†å¯¹è±¡ proxy"></a>ä»£ç†å¯¹è±¡ proxy</h4><blockquote><p>ä¸€ä¸ªç›®æ ‡å¯¹è±¡è¢«ç»‡å…¥é€šçŸ¥åäº§ç”Ÿçš„æ–°å¯¹è±¡</p></blockquote><h3 id="ç›®æ ‡å¯¹è±¡-Target"><a href="#ç›®æ ‡å¯¹è±¡-Target" class="headerlink" title="ç›®æ ‡å¯¹è±¡ Target"></a>ç›®æ ‡å¯¹è±¡ Target</h3><blockquote><p>è¢«ç»‡å…¥é€šçŸ¥çš„å¯¹è±¡</p></blockquote><h4 id="åˆ‡ç‚¹è¡¨è¾¾å¼"><a href="#åˆ‡ç‚¹è¡¨è¾¾å¼" class="headerlink" title="åˆ‡ç‚¹è¡¨è¾¾å¼"></a>åˆ‡ç‚¹è¡¨è¾¾å¼</h4><blockquote><p>åˆ‡ç‚¹è¡¨è¾¾å¼ç”¨æ¥å®šä¹‰é€šçŸ¥å¾€å“ªäº›æ–¹æ³•ä¸Šåˆ‡å…¥</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution([è®¿é—®æ§åˆ¶æƒé™ä¿®é¥°ç¬¦] è¿”å›å€¼ç±»å‹ [å…¨é™å®šç±»å]æ–¹æ³•å(å½¢å¼å‚æ•°åˆ—è¡¨) [å¼‚å¸¸])</span><br></pre></td></tr></table></figure><p><strong>è®¿é—®æ§åˆ¶æƒé™ä¿®é¥°ç¬¦</strong></p><ul><li>å¯é€‰é¡¹</li><li>æ²¡å†™ï¼Œå°±æ˜¯4ä¸ªæƒé™éƒ½åŒ…æ‹¬ã€‚</li><li>å†™publicå°±è¡¨ç¤ºåªåŒ…æ‹¬å…¬å¼€çš„æ–¹æ³•</li></ul><p><strong>è¿”å›å€¼ç±»å‹</strong></p><ul><li>å¿…å¡«é¡¹ã€‚</li><li>*è¡¨ç¤ºè¿”å›å€¼ç±»å‹ä»»æ„</li></ul><p><strong>å…¨é™å®šç±»å</strong>:</p><ul><li>å¯é€‰é¡¹</li><li>ä¸¤ä¸ªç‚¹â€..â€ä»£è¡¨å½“å‰åŒ…ä»¥åŠå­åŒ…ä¸‹çš„æ‰€æœ‰ç±»</li><li>çœç•¥æ—¶è¡¨ç¤ºæ‰€æœ‰çš„ç±»</li></ul><p><strong>æ–¹æ³•å</strong></p><ul><li>å¿…å¡«é¡¹ã€‚</li><li>*è¡¨ç¤ºæ‰€æœ‰æ–¹æ³•</li><li>set*è¡¨ç¤ºæ‰€æœ‰çš„setæ–¹æ³•</li></ul><p><strong>å½¢å¼å‚æ•°åˆ—è¡¨</strong></p><ul><li>å¿…å¡«é¡¹</li><li>0è¡¨ç¤ºæ²¡æœ‰å‚æ•°çš„æ–¹æ³•</li><li>(..)å‚æ•°ç±»å‹å’Œä¸ªæ•°éšæ„çš„æ–¹æ³•</li><li>(*)åªæœ‰ä¸€ä¸ªå‚æ•°çš„æ–¹æ³•</li><li>(*,String)ç¬¬ä¸€ä¸ªå‚æ•°ç±»å‹éšæ„ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯Stringçš„ã€‚</li></ul><p><strong>å¼‚å¸¸</strong></p><ul><li>å¯é€‰é¡¹ã€‚</li><li>çœç•¥æ—¶è¡¨ç¤ºä»»æ„å¼‚å¸¸ç±»å‹</li></ul><p><strong>serviceåŒ…ä¸‹æ‰€æœ‰çš„ç±»ä»¥deleteå¼€å§‹çš„æ‰€æœ‰æ–¹æ³•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">execution(<span class="keyword">public</span> * com.xxx.service.*.delete*(..))</span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨spring-çš„AOP"><a href="#ä½¿ç”¨spring-çš„AOP" class="headerlink" title="ä½¿ç”¨spring çš„AOP"></a>ä½¿ç”¨spring çš„AOP</h4><ol><li>spring æ¡†æ¶ç»“åˆAspectj æ¡†æ¶ å®ç°çš„AOPï¼ŒåŸºäºæ³¨è§£æ–¹å¼</li><li>spring æ¡†æ¶ç»“åˆAspectj æ¡†æ¶ å®ç°çš„AOPï¼ŒåŸºäºXMLæ–¹å¼</li><li>spring æ¡†æ¶è‡ªå·±å®ç°çš„AOPï¼ˆåŸºæœ¬ä¸ç”¨ï¼‰</li></ol><blockquote><p>å‡†å¤‡ä¾èµ–ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">spring-context</span><br><span class="line">spring-aop</span><br><span class="line">spring-aspects</span><br></pre></td></tr></table></figure><p>spring é…ç½®contextï¼Œaopå‘½åç©ºé—´</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">xmlns:context=&quot;http://www.springframework.org/schema/context&quot;</span><br><span class="line">xmlns:aop=&quot;http://www.springframework.org/schema/aop&quot;</span><br><span class="line"></span><br><span class="line">xsi:schemaLocation=&quot;</span><br><span class="line">http://www.springframework.org/schema/beans http://www.springframework.org/beans/spring-beans.xsd</span><br><span class="line">http://www.springframework.org/schema/context http://www.springframework.org/context/spring-context.xsd</span><br><span class="line">http://www.springframework.org/schema/aop http://www.springframework.org/aop/spring-aop.xsd</span><br><span class="line">&quot;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.spring.bean.service&quot;</span> /&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  å¼€å¯aspectj çš„è‡ªåŠ¨ä»£ç†</span></span><br><span class="line"><span class="comment">    proxy-target-class: true è¡¨ç¤ºCGLIBåŠ¨æ€ä»£ç†ï¼Œåä¹‹jdkåŠ¨æ€ä»£ç†</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> <span class="attr">proxy-target-class</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>ç›®æ ‡å¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ­£åœ¨ç™»å½•ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ‡é¢é€šçŸ¥ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogAspect</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ‡é¢ = é€šçŸ¥ + åˆ‡ç‚¹</span></span><br><span class="line">    <span class="meta">@Before(&quot;execution(* com.spring.bean.service.LoginService.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">beforeLogin</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å‰ç½®é€šçŸ¥&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">LoginService</span> <span class="variable">loginService</span> <span class="operator">=</span> app.getBean(<span class="string">&quot;loginService&quot;</span>, LoginService.class);</span><br><span class="line">loginService.login();</span><br></pre></td></tr></table></figure></blockquote><p>å‰ç½®é€šçŸ¥: @Before ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹å‰çš„é€šçŸ¥</p><p>åç½®é€šçŸ¥:@AfterReturning ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹åçš„é€šçŸ¥</p><p>ç¯ç»•é€šçŸ¥: @Around ç›®æ ‡æ–¹æ³•ä¹‹å‰æ·»åŠ é€šçŸ¥ï¼ŒåŒæ—¶ç›®æ ‡æ–¹æ³•æ‰§è¡Œä¹‹åæ·»åŠ é€šçŸ¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Around(&quot;execution(* com.powernode.spring6.service..*(..))&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">aroundAdvice</span><span class="params">(ProceedingJoinPoint joinPoint)</span> &#123;</span><br><span class="line">System.out.println(<span class="string">&quot;å‰ç¯ç»•&quot;</span>);</span><br><span class="line">joinPoint.proceed();</span><br><span class="line">System.out.println(<span class="string">&quot;åç¯ç»•&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¼‚å¸¸é€šçŸ¥:@AfterThrowing å‘ç”Ÿå¼‚å¸¸ä¹‹åæ‰§è¡Œçš„é€šçŸ¥</p><p>æœ€ç»ˆé€šçŸ¥: @After æ”¾åœ¨finallyè¯­å¥å—ä¸­çš„é€šçŸ¥</p><h4 id="å¤šä¸ªåˆ‡é¢çš„æ‰§è¡Œé¡ºåº"><a href="#å¤šä¸ªåˆ‡é¢çš„æ‰§è¡Œé¡ºåº" class="headerlink" title="å¤šä¸ªåˆ‡é¢çš„æ‰§è¡Œé¡ºåº"></a>å¤šä¸ªåˆ‡é¢çš„æ‰§è¡Œé¡ºåº</h4><blockquote><p>ç»™åˆ‡é¢ç±»æ·»åŠ æ³¨è§£ @Order(1)ã€‚ å…¶ä¸­æ•°å­—è¶Šå°ï¼Œæ‰§è¡Œè¶Šé å‰</p></blockquote><h4 id="é€šç”¨åˆ‡ç‚¹"><a href="#é€šç”¨åˆ‡ç‚¹" class="headerlink" title="é€šç”¨åˆ‡ç‚¹"></a>é€šç”¨åˆ‡ç‚¹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Pointcut()</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">commomPoint</span><span class="params">()</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä»£ç å¤ç”¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Before(&quot;commomPoint()&quot;)</span></span><br></pre></td></tr></table></figure><h4 id="AOP-ä¹‹è¿æ¥ç‚¹"><a href="#AOP-ä¹‹è¿æ¥ç‚¹" class="headerlink" title="AOP ä¹‹è¿æ¥ç‚¹"></a>AOP ä¹‹è¿æ¥ç‚¹</h4><blockquote><p>é™¤äº† ç¯ç»•é€šçŸ¥å¤–ï¼Œå…¶ä»–é€šçŸ¥éƒ½å¯ä»¥æ¥å— ( JoinPoint joinPoint ){}.\</p><p>é€šè¿‡ joinPoint å¯ä»¥æ‹¿åˆ° joinPointç­¾å è·å–ç›®æ ‡æ–¹æ³•çš„ä¿¡æ¯</p></blockquote><h4 id="å…¨æ³¨è§£æ–¹å¼å¼€å‘"><a href="#å…¨æ³¨è§£æ–¹å¼å¼€å‘" class="headerlink" title="å…¨æ³¨è§£æ–¹å¼å¼€å‘"></a>å…¨æ³¨è§£æ–¹å¼å¼€å‘</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ComponentScan(&#123;&quot;com.powernode.spring6.service&quot;&#125;)</span></span><br><span class="line"><span class="meta">@EnableAspectJAutoProxy(proxyTargetClass = true)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Spring6Config</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åŸºäºXMLçš„æ–¹å¼å¼€å‘"><a href="#åŸºäºXMLçš„æ–¹å¼å¼€å‘" class="headerlink" title="åŸºäºXMLçš„æ–¹å¼å¼€å‘"></a>åŸºäºXMLçš„æ–¹å¼å¼€å‘</h4><blockquote><p>äº†è§£ä¸€ä¸‹é…ç½®æ–‡ä»¶æ–¹å¼å¼€å‘</p></blockquote><p>é…ç½®æ–‡ä»¶ï¼šæ·»åŠ  aop,context å‘½åç©ºé—´</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;loginService&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xxx.LoginService&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;logAspect&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.xxx.LogAspect&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--aopé…ç½®--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--åˆ‡ç‚¹è¡¨è¾¾å¼--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;mypointcut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.powernode.spring6.service..*(..))&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--åˆ‡é¢ï¼š é€šçŸ¥+åˆ‡ç‚¹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspect</span> <span class="attr">ref</span>=<span class="string">&quot;logAspect&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:before</span> <span class="attr">method</span>=<span class="string">&quot;beforeLogin&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;mypointcut&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">aop:aspect</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç›®æ ‡å¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ­£åœ¨ç™»å½•ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ‡é¢é€šçŸ¥ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogAspect</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ‡é¢ = é€šçŸ¥ + åˆ‡ç‚¹</span></span><br><span class="line">    <span class="meta">@Before(&quot;execution(* com.spring.bean.service.LoginService.*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">beforeLogin</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å‰ç½®é€šçŸ¥&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ç¼–ç¨‹å¼äº‹åŠ¡è§£å†³æ–¹æ³•"><a href="#ç¼–ç¨‹å¼äº‹åŠ¡è§£å†³æ–¹æ³•" class="headerlink" title="ç¼–ç¨‹å¼äº‹åŠ¡è§£å†³æ–¹æ³•"></a>ç¼–ç¨‹å¼äº‹åŠ¡è§£å†³æ–¹æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Around(&quot;execution(* com.spring.bean.service.LoginService.*(..))&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">arroundAdvice</span><span class="params">(ProceedingJoinPoint joinPoint)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// å‰ç¯ç»•</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å¯äº‹åŠ¡&quot;</span>);</span><br><span class="line">        <span class="comment">// æ‰§è¡Œç›®æ ‡</span></span><br><span class="line">        joinPoint.proceed();</span><br><span class="line">        <span class="comment">// åç¯ç»•</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æäº¤äº‹åŠ¡&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Throwable e) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å›æ»šäº‹åŠ¡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="AOPçš„å®é™…æ¡ˆä¾‹ï¼šå®‰å…¨æ—¥å¿—"><a href="#AOPçš„å®é™…æ¡ˆä¾‹ï¼šå®‰å…¨æ—¥å¿—" class="headerlink" title="AOPçš„å®é™…æ¡ˆä¾‹ï¼šå®‰å…¨æ—¥å¿—"></a>AOPçš„å®é™…æ¡ˆä¾‹ï¼šå®‰å…¨æ—¥å¿—</h4><blockquote><p>é¡¹ç›®å¼€å‘ç»“æŸï¼Œä¸Šçº¿äº†ã€‚è¿è¡Œæ­£å¸¸ã€‚å®¢æˆ·æå‡ºæ–°éœ€æ±‚ï¼Œå‡¡æ˜¯åœ¨ç³»ç»Ÿä¸­ç»è¡Œå¢åˆ æ”¹æ“ä½œçš„ï¼Œéƒ½è¦æŠŠè¿™ä¸ªäººçš„è®°å½•ä¸‹æ¥ã€‚å› ä¸ºè¿™å‡ ä¸ªæ“ä½œæ˜¯å±é™©çš„</p></blockquote><p>åˆ‡é¢</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityAspect</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.log.service.UserService.save*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">savePointcut</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.log.service.UserService.delete*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deletePointcut</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.log.service.UserService.modify*(..))&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">modifyPointcut</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Before(&quot;savePointcut()||deletePointcut()||modifyPointcut()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">beforeAdvice</span><span class="params">(JoinPoint joinPoint)</span> &#123;</span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">format</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">        <span class="keyword">final</span> <span class="type">String</span> <span class="variable">nowTime</span> <span class="operator">=</span> format.format(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        System.out.println(nowTime + <span class="string">&quot;å¼ ä¸‰&quot;</span> + joinPoint.getSignature().getDeclaringTypeName() + <span class="string">&quot;.&quot;</span> + joinPoint.getSignature().getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ç›®æ ‡ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveUSer</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–°å¢ç”¨æˆ·ä¿¡æ¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteUSer</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ é™¤ç”¨æˆ·ä¿¡æ¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">modifyUSer</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getUSer</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è·å–ç”¨æˆ·ä¿¡æ¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="springäº‹åŠ¡"><a href="#springäº‹åŠ¡" class="headerlink" title="springäº‹åŠ¡"></a>springäº‹åŠ¡</h3><p>ç¼–ç¨‹å¼äº‹åŠ¡ï¼šé€šè¿‡ç¼–å†™ä»£ç çš„æ–¹å¼æ¥å®ç°</p><p>å£°æ˜å¼äº‹åŠ¡ï¼šåŸºäºæ³¨è§£ï¼ŒåŸºäºXMLä¸¤ç§æ–¹å¼</p><blockquote><p>spring åº•å±‚é€šè¿‡AOPæ–¹å¼å¯¹äº‹åŠ¡è¿›è¡Œäº†å°è£…ã€‚æ‰€ä»¥springä¸“é—¨é’ˆå¯¹äº‹åŠ¡å¼€å‘äº†ä¸€å¥—API</p><p>spring6ä¸­æœ‰ä»–çš„ä¸¤ä¸ªå®ç°</p><ul><li>DataSourceTransactionManagerï¼š æ”¯æŒjdbcTemplate,Mybatis,Hibenateç­‰äº‹åŠ¡ç®¡ç†</li><li>JtaTransactionManager: æ”¯æŒåˆ†å¸ƒå¼äº‹åŠ¡ç®¡ç†</li></ul></blockquote><h4 id="åŸºäºæ³¨è§£çš„äº‹åŠ¡ç®¡ç†ï¼š"><a href="#åŸºäºæ³¨è§£çš„äº‹åŠ¡ç®¡ç†ï¼š" class="headerlink" title="åŸºäºæ³¨è§£çš„äº‹åŠ¡ç®¡ç†ï¼š"></a>åŸºäºæ³¨è§£çš„äº‹åŠ¡ç®¡ç†ï¼š</h4><p>é…ç½®ä»»åŠ¡ç®¡ç†å™¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--    åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  æ³¨å…¥æ•°æ®æº--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é…ç½®<strong>tx</strong>å‘½åç©ºé—´</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;</span><br><span class="line">http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd</span><br></pre></td></tr></table></figure><p>å¼€å¯äº‹åŠ¡æ³¨è§£</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;transactionManager&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">tx:annotation-driven</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨ç±»ä¸Šï¼Œæ–¹æ³•ä¸Šä½¿ç”¨</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Transaction</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">transfor</span><span class="params">()</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨è§£å‚æ•°è¯¦æƒ…ï¼ˆå£°æ˜å¼äº‹åŠ¡ç®¡ç†å‚æ•°é…ç½®ï¼‰</p><p>1ã€propagationï¼šäº‹åŠ¡çš„ä¼ æ’­è¡Œä¸º<br>    å½“ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è¢«å¦ä¸€ä¸ªäº‹åŠ¡æ–¹æ³•è°ƒç”¨çš„æ—¶å€™ï¼Œè¿™ä¸ªäº‹åŠ¡æ–¹æ³•å¦‚ä½•è¿›è¡Œ<br>    äº‹åŠ¡çš„ä¼ æ’­è¡Œä¸ºå¯ä»¥ç”±ä¼ æ’­å±æ€§æŒ‡å®šï¼Œspringå®šä¹‰äº†7ç§ç±»ä¼ æ’­è¡Œä¸º</p><ul><li>REQUIRED: æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœä¸å­˜åœ¨å°±æ–°å»ºä¸€ä¸ªé»˜è®¤)[<strong>æ²¡æœ‰å°±æ–°å»ºï¼Œæœ‰å°±åŠ å…¥</strong>]</li><li>SUPPORTS: æ”¯æŒå½“å‰äº‹åŠ¡ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œå°±ä»¥éäº‹åŠ¡æ–¹å¼æ‰§è¡Œ[<strong>æœ‰å°±åŠ å…¥ï¼Œæ²¡æœ‰å°±ä¸ç®¡äº†</strong>]</li><li>MANDATORY:å¿…é¡»è¿è¡Œåœ¨ä¸€ä¸ªäº‹åŠ¡ä¸­ï¼Œå¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡æ­£åœ¨å‘ç”Ÿï¼Œå°†æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸[<strong>æœ‰å°±åŠ å…¥ï¼Œæ²¡æœ‰å°±æŠ›å¼‚å¸¸</strong>]</li><li>REQUIRES NEW:å¼€å¯ä¸€ä¸ªçš„åŠ¡ï¼Œå¦‚æœä¸€ä¸ªäº‹åŠ¡å·²ç»å­˜åœ¨ï¼Œåˆ™å°†è¿™å­˜åœ¨çš„äº‹åŠ¡æŒ‚èµ·[<strong>ä¸è¥æœ‰æ²¡æœ‰ï¼Œç›´æ¥å¼€å¯ä¸€æ–°åŠ¡ï¼Œå¼€å¯çš„æ–°äº‹åŠ¡å’Œä¹‹å‰çš„äº‹åŠ¡ä¸å­˜åœ¨å¥—å…³ç³»ï¼Œä¹‹å‰äº‹åŠ¡æŒ‰èµ·</strong>]</li><li>NOT_SUPPORTED: ä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æœæœ‰äº‹åŠ¡å­˜åœ¨ï¼ŒæŒ‚èµ·å½“å‰äº‹åŠ¡[<strong>ä¸æ”¯æŒäº‹åŠ¡ï¼Œå­˜åœ¨å°±æŒ‚èµ·</strong>]</li><li>NEVER: ä»¥éäº‹åŠ¡æ–¹å¼è¿è¡Œï¼Œå¦‚æœæœ‰äº‹åŠ¡å­˜åœ¨ï¼ŒæŠ›å‡ºå¼‚å¸¸[<strong>ä¸æ”¯æŒäº‹åŠ¡ï¼Œå­˜åœ¨å°±æŠ›å¼‚å¸¸]å¦‚æœå¤–å±‚äº‹åŠ¡ä¸å­˜åœ¨ï¼Œè¡Œä¸ºå°±åƒREQUIREDä¸€æ ·</strong>]</li><li>NESTED:å¦‚æœå½“å‰æ­£æœ‰ä¸€ä¸ªäº‹åŠ¡åœ¨è¿›è¡Œä¸­ï¼Œåˆ™è¯¥æ–¹æ³•åº”å½“è¿è¡Œåœ¨ä¸€ä¸ªåµŒå¥—å¼äº‹åŠ¡ä¸­ã€‚è¢«åµŒå¥—çš„äº‹åŠ¡å¯ä»¥ç‹¬ç«‹äºå¤–å±‚äº‹åŠ¡è¿›è¡Œæäº¤æˆ–å›æ»šã€‚æ ·ã€‚[<strong>æœ‰äº‹åŠ¡çš„è¯ï¼Œå°±åœ¨è¿™ä¸ªäº‹åŠ¡é‡Œå†åµŒå¥—ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„äº‹åŠ¡ï¼ŒåµŒå¥—çš„äº‹åŠ¡å¯ä»¥ç‹¬ç«‹çš„æäº¤å’Œå›æ»šã€‚æ²¡æœ‰äº‹åŠ¡å°±å’ŒREQUIREDä¸€æ ·ã€‚</strong>]</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Transactional(propagation = Propagation.REQUIRED)</span></span><br></pre></td></tr></table></figure><p>2ã€ioslation:äº‹åŠ¡éš”ç¦»çº§åˆ«<br>    ï¼ˆ1ï¼‰äº‹åŠ¡æœ‰ç‰¹æ€§ç§°ä¸ºéš”ç¦»æ€§ï¼Œå¤šäº‹åŠ¡æ“ä½œä¹‹é—´ä¸ä¼šäº§ç”Ÿå½±å“ï¼Œä¸è€ƒè™‘éš”ç¦»æ€§äº§ç”Ÿå¾ˆå¤šé—®é¢˜<br>    ï¼ˆ2ï¼‰ä¸è€ƒè™‘éš”ç¦»æ€§åˆ™å­˜åœ¨ä¸‰ä¸ªé—®é¢˜ï¼šè„è¯»ã€ä¸å¯é‡å¤è¯»ã€è™šï¼ˆå¹»ï¼‰è¯»<br>    ï¼ˆ3ï¼‰è„è¯»ï¼šä¸€ä¸ªæœªæäº¤äº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªæœªæäº¤äº‹åŠ¡çš„æ•°æ®<br>    ï¼ˆ4ï¼‰ä¸å¯é‡å¤è¯»ï¼šä¸€ä¸ªæœªæäº¤äº‹åŠ¡è¯»å–åˆ°å¦ä¸€ä¸ªæäº¤äº‹åŠ¡ä¿®æ”¹æ•°æ®<br>    ï¼ˆ5ï¼‰å¹»è¯»ï¼šä¸€ä¸ªæœªæäº¤äº‹åŠ¡è¯»å–åˆ°å¦ä¸€æäº¤äº‹åŠ¡æ·»åŠ æ•°æ®<br>    ï¼ˆ6ï¼‰é€šè¿‡è®¾ç½®äº‹åŠ¡éš”ç¦»æ€§ï¼Œè§£å†³è¯»é—®é¢˜</p><p>3ã€timeoutï¼šè¶…æ—¶æ—¶é—´<br>    ï¼ˆ1ï¼‰äº‹åŠ¡éœ€è¦åœ¨ä¸€å®šæ—¶é—´å†…ï¼ˆ<strong>ä»£ç æœ€åä¸€æ¡DMLæ–¹æ³•æ‰§è¡Œå®ŒåŠ ä¸Šä¹‹å‰çš„æ—¶é—´</strong>ï¼‰è¿›è¡Œæäº¤ï¼Œå¦‚æœä¸æäº¤åˆ™è¿›è¡Œå›æ»š<br>    ï¼ˆ2ï¼‰é»˜è®¤å€¼æ˜¯-1ï¼Œè®¾å®šæ—¶é—´ä»¥ç§’ä¸ºå•ä½è®¡ç®—</p><p>4ã€readOnlyï¼šæ˜¯å¦åªè¯»ã€é‡Œé¢ä¸ä¼šæ‰§è¡Œå¢åˆ æ”¹æ“ä½œï¼Œè®¾ç½®åspringä¼šå¯åŠ¨ä¼˜åŒ–ç­–ç•¥ï¼Œæé«˜selectè¯­å¥æ‰§è¡Œæ•ˆç‡ã€‘<br>    ï¼ˆ1ï¼‰è¯»ï¼šæŸ¥è¯¢æ“ä½œï¼Œå†™ï¼šæ·»åŠ ä¿®æ”¹åˆ é™¤æ“ä½œ<br>    ï¼ˆ2ï¼‰readOnlyé»˜è®¤è®¾ç½®ä¸ºfalseï¼Œè¡¨ç¤ºå¯ä»¥æŸ¥è¯¢ï¼Œå¯ä»¥æ·»åŠ ä¿®æ”¹åˆ é™¤æ“ä½œ<br>    ï¼ˆ3ï¼‰è®¾ç½®ä¸ºtrueåï¼Œåªèƒ½æŸ¥è¯¢</p><p>5ã€rollbackForï¼šå›æ»š<br>    ï¼ˆ1ï¼‰è®¾ç½®å‡ºç°å“ªäº›å¼‚å¸¸è¿›è¡Œäº‹åŠ¡å›æ»š</p><p>6ã€norollbackForï¼šä¸å›æ»š<br>    ï¼ˆ1ï¼‰è®¾ç½®å‡ºç°å“ªäº›å¼‚å¸¸ä¸è¿›è¡Œäº‹åŠ¡å›æ»š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡ºç° RuntimeException å¼‚å¸¸æˆ–å­ç±»å¼‚å¸¸ä¸å›æ»š</span></span><br><span class="line"><span class="meta">@Transaction(norollbackFor = RuntimeException.clas)</span></span><br></pre></td></tr></table></figure><h4 id="å…¨æ³¨è§£å¼äº‹åŠ¡å¼€å‘"><a href="#å…¨æ³¨è§£å¼äº‹åŠ¡å¼€å‘" class="headerlink" title="å…¨æ³¨è§£å¼äº‹åŠ¡å¼€å‘"></a>å…¨æ³¨è§£å¼äº‹åŠ¡å¼€å‘</h4><p>xmlæ–‡ä»¶</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--  å¼€å¯aspectj çš„è‡ªåŠ¨ä»£ç†</span></span><br><span class="line"><span class="comment">        proxy-target-class: true è¡¨ç¤ºCGLIBåŠ¨æ€ä»£ç†ï¼Œåä¹‹jdkåŠ¨æ€ä»£ç†</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> <span class="attr">proxy-target-class</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!-- ä¸»è¦ä¸‹é¢é…ç½® --&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  å¼€å¯beanè‡ªåŠ¨æ‰«ææ³¨å†Œ  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.bank&quot;</span> /&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--  é…ç½®æ•°æ®æº  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mydb01&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½® jdbcTemplate --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span> &gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--    åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  æ³¨å…¥æ•°æ®æº--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- æ³¨è§£é©±åŠ¨å™¨ å¯¹åº”æ³¨è§£ EnableTransactionManagement--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;transactionManager&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">tx:annotation-driven</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ³¨è§£æ–‡ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span> <span class="comment">// ä»£spring.xmlé…ç½®æ–‡ä»¶ï¼Œåœ¨è¿™ä¸ªç±»å½“ä¸­å®Œæˆé…ç½®</span></span><br><span class="line"><span class="meta">@ComponentScan(&quot;com.powernode.bank&quot;)</span> <span class="comment">// ç»„ä»¶æ‰“æ</span></span><br><span class="line"><span class="meta">@EnableTransactionManagement</span> <span class="comment">// å¼€å¯äº‹åŠ¡æ³¨è§£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Spring6Config</span> &#123;</span><br><span class="line"><span class="comment">// Springæ¡†æ¶ï¼Œçœ‹åˆ°è¿™ä¸ªBeanæ³¨è§£åï¼Œä¼šè°ƒç”¨è¿™ä¸ªè¢«æ ‡æ³¨çš„æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•çš„è¿”å›å€¼æ˜¯ä¸€ä¸ªjavaå¯¹è±¡ï¼Œè¿™ä¸ªjavaå¯¹è±¡ä¼šè‡ªåŠ¨çš„å…¥IOCå®¹å™¨ç®¡ç†è¿”å›çš„å¯¹è±¡å°±æ˜¯Springå®¹å™¨å½“ä¸­çš„ä¸€ä¸ªBean äº†ã€‚å¹¶ä¸”è¿™ä¸ªbeançš„åå­—æ˜¯: dataSource</span></span><br><span class="line">    <span class="meta">@Bean(name =&quot;dataSource&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> DruidDataSource <span class="title function_">getDataSource</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        dataSource.setDriverclassName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line">        dataSource.setUrl(<span class="string">&quot;jdbc:mysql://localhost:3306/spring6&quot;</span>);</span><br><span class="line">        dataSource.setUsername(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        dataSource.setPassword(<span class="string">&quot;root&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">     &#125;</span><br><span class="line">    <span class="meta">@Bean(name=&quot;jdbcTemplate&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> JdbcTemplate <span class="title function_">getJdbcTemplate</span><span class="params">(DataSource dataSource)</span> &#123;<span class="comment">// spring åœ¨è°ƒç”¨æ­¤æ–¹æ³•æ—¶ä¼šè‡ªåŠ¨æ³¨å…¥</span></span><br><span class="line">        <span class="type">JdbcTemplate</span> <span class="variable">jt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JdbcTemplate</span>();</span><br><span class="line">        jt.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> tj;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Bean(name=&quot;transactionManager&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> DataSourceTransactionManager <span class="title function_">getDataSourceTransactionManager</span><span class="params">(DataSource dataSource)</span> &#123;<span class="comment">// spring åœ¨è°ƒç”¨æ­¤æ–¹æ³•æ—¶ä¼šè‡ªåŠ¨æ³¨å…¥</span></span><br><span class="line">        <span class="type">DataSourceTransactionManager</span> <span class="variable">dt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataSourceTransactionManager</span>();</span><br><span class="line">        dt.setDataSource(dataSource);</span><br><span class="line">        <span class="keyword">return</span> dj;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ApplicationContext</span> <span class="variable">app</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationConfigApplicationContext</span>(Spring6Config.class):</span><br><span class="line"><span class="type">JdbcTemplate</span> <span class="variable">jt</span> <span class="operator">=</span> app.getBean(<span class="string">&quot;jdbcTemplate&quot;</span>, JdbcTemplate.class);</span><br></pre></td></tr></table></figure><h4 id="åŸºäºXMLçš„äº‹åŠ¡ç®¡ç†"><a href="#åŸºäºXMLçš„äº‹åŠ¡ç®¡ç†" class="headerlink" title="åŸºäºXMLçš„äº‹åŠ¡ç®¡ç†"></a>åŸºäºXMLçš„äº‹åŠ¡ç®¡ç†</h4><blockquote><p>ä½†å®é™…å¼€å‘ä¸€èˆ¬éƒ½æ˜¯æ³¨è§£</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  å¼€å¯aspectj çš„è‡ªåŠ¨ä»£ç†</span></span><br><span class="line"><span class="comment">    proxy-target-class: true è¡¨ç¤ºCGLIBåŠ¨æ€ä»£ç†ï¼Œåä¹‹jdkåŠ¨æ€ä»£ç†</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> <span class="attr">proxy-target-class</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!-- ä¸»è¦ä¸‹é¢é…ç½® --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  å¼€å¯beanè‡ªåŠ¨æ‰«ææ³¨å†Œ  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;com.bank&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--  é…ç½®æ•°æ®æº  --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mydb01&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é…ç½® jdbcTemplate --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;jdbcTemplate&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.core.JdbcTemplate&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--é…ç½®äº‹åŠ¡ç®¡ç†å™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;txManagen&quot;</span><span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc .datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--é…ç½®é€šçŸ¥ï¼Œå…·ä½“çš„å¢å¼ºä»£ç ã€‚--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">tx:advice</span> <span class="attr">id</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;txManagen&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- é…ç½®é€šçŸ¥çš„ç›¸å…³å±ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--ä¹‹å‰æ‰€è®²çš„æ‰€æœ‰çš„äº‹åŠ¡å±æ€§éƒ½å¯ä»¥åœ¨ä»¥ä¸‹æ ‡ç­¾ä¸­é…ç½®ã€‚--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;transfer&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">rollback-for</span>=<span class="string">&quot;java.lang.Throwable&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;delete*&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">rollback-for</span>=<span class="string">&quot;java.lang.Throwable&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;uodate*&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">rollback-for</span>=<span class="string">&quot;java.lang.Throwable&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">tx:method</span> <span class="attr">name</span>=<span class="string">&quot;add*&quot;</span> <span class="attr">propagation</span>=<span class="string">&quot;REQUIRED&quot;</span> <span class="attr">rollback-for</span>=<span class="string">&quot;java.lang.Throwable&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">tx:attributes</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">tx:advice</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- é…ç½®åˆ‡é¢--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">aop:config</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åˆ‡ç‚¹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:pointcut</span> <span class="attr">id</span>=<span class="string">&quot;txPointcut&quot;</span> <span class="attr">expression</span>=<span class="string">&quot;execution(* com.powernode.bank.service..*(..))&quot;</span>/&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- åˆ‡é¢ = é€šçŸ¥ + åˆ‡ç‚¹--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:advisor</span> <span class="attr">advice-ref</span>=<span class="string">&quot;txAdvice&quot;</span> <span class="attr">pointcut-ref</span>=<span class="string">&quot;txPointcut&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">aop:config</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Springå¯¹Junit4-çš„æ”¯æŒ"><a href="#Springå¯¹Junit4-çš„æ”¯æŒ" class="headerlink" title="Springå¯¹Junit4 çš„æ”¯æŒ"></a>Springå¯¹Junit4 çš„æ”¯æŒ</h3><h4 id="æ³¨è§£åŠ è½½æŒ‡å®šspring-xml"><a href="#æ³¨è§£åŠ è½½æŒ‡å®šspring-xml" class="headerlink" title="æ³¨è§£åŠ è½½æŒ‡å®šspring.xml"></a>æ³¨è§£åŠ è½½æŒ‡å®šspring.xml</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»ç±»è·¯å¾„åŠ è½½</span></span><br><span class="line"><span class="meta">@RunWith(SpringJUnit4ClassRunner.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;classpath:spring.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringTestJUnit4</span>() &#123;</span><br><span class="line">    <span class="comment">// è‡ªåŠ¨ä»é…ç½®æ–‡ä»¶æ³¨å…¥</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> User user;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUser</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(user.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä»£æ›¿ä¸‹é¢ä»£ç </span></span><br><span class="line"><span class="type">ApplicationContext</span> <span class="variable">app</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ClassPathXmlApplicationContext</span>(<span class="string">&quot;spring.xml&quot;</span>);</span><br><span class="line"><span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> app.getBean(<span class="string">&quot;user&quot;</span>, User.class);</span><br></pre></td></tr></table></figure><p>Springå¯¹Junit5 çš„æ”¯æŒ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// spring å¯¹junitæ”¯æŒçš„ä¾èµ–</span><br><span class="line">spring-test</span><br><span class="line"></span><br><span class="line">// junit5</span><br><span class="line">junit-jupiter</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»ç±»è·¯å¾„åŠ è½½</span></span><br><span class="line"><span class="meta">@ExtendWith(SpringExtension.class)</span></span><br><span class="line"><span class="meta">@ContextConfiguration(&quot;classpath:spring.xml&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SpringTestJUnit4</span>() &#123;</span><br><span class="line">    <span class="comment">// è‡ªåŠ¨ä»é…ç½®æ–‡ä»¶æ³¨å…¥</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> User user;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUser</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(user.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="spring-é›†æˆ-myBatis"><a href="#spring-é›†æˆ-myBatis" class="headerlink" title="spring é›†æˆ myBatis"></a>spring é›†æˆ myBatis</h3><p>1ã€ä¾èµ–</p><ul><li>spring-context</li><li>spring-jdbc</li><li>mysqé©±åŠ¨</li><li>mybatis</li><li>mybatis-spring: mybatisæä¾›çš„ä¸springæ¡†æ¶é›†æˆçš„ä¾èµ–</li><li>å¾·é²ä¼Šè¿æ¥æ± </li><li>junit</li></ul><p>2ã€å»ºåŒ…</p><ul><li>service <ul><li>AccountService</li></ul></li><li>service .impl<ul><li>AccountServiceImpl</li></ul></li><li>mapper<ul><li>AccountMapper</li></ul></li><li>pojo<ul><li>Account</li></ul></li></ul><p>3ã€é…ç½® spring.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:context</span>=<span class="string">&quot;http://www.springframework.org/schema/context&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:tx</span>=<span class="string">&quot;http://www.springframework.org/schema/tx&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xmlns:aop</span>=<span class="string">&quot;http://www.springframework.org/schema/aop&quot;</span></span></span><br><span class="line"><span class="tag">       <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">                           http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd</span></span></span><br><span class="line"><span class="string"><span class="tag">&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  å¼€å¯beanè‡ªåŠ¨æ‰«ææ³¨å†Œ  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:component-scan</span> <span class="attr">base-package</span>=<span class="string">&quot;bank1.service&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  å¼€å¯aspectj çš„è‡ªåŠ¨ä»£ç†</span></span><br><span class="line"><span class="comment">        proxy-target-class: true è¡¨ç¤ºCGLIBåŠ¨æ€ä»£ç†ï¼Œåä¹‹jdkåŠ¨æ€ä»£ç†</span></span><br><span class="line"><span class="comment">    --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">aop:aspectj-autoproxy</span> <span class="attr">proxy-target-class</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--  å¼•å…¥å¤–éƒ¨å±æ€§æ–‡ä»¶  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">&quot;jdbc.properties&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--  é…ç½®æ•°æ®æº  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.alibaba.druid.pool.DruidDataSource&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driverClassName&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.driver&#125;&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.url&#125;&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.username&#125;&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;jdbc.password&#125;&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  é…ç½® SqlSessionFactoryBean --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.SqlSessionFactoryBean&quot;</span> &gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ³¨å…¥æ•°æ®æº --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šmybatis æ ¸å¿ƒé…ç½®æ–‡ä»¶ --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;configLocation&quot;</span> <span class="attr">value</span>=<span class="string">&quot;mybatis.xml&quot;</span>/&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æŒ‡å®šåˆ«å --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;typeAliasesPackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;bank1.pojo&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  å¼€å¯Mapper æ‰«æé…ç½®  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">class</span>=<span class="string">&quot;org.mybatis.spring.mapper.MapperScannerConfigurer&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;basePackage&quot;</span> <span class="attr">value</span>=<span class="string">&quot;bank1.mapper&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--    åˆ›å»ºäº‹åŠ¡ç®¡ç†å™¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;transactionManager&quot;</span> <span class="attr">class</span>=<span class="string">&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--  æ³¨å…¥æ•°æ®æº--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;dataSource&quot;</span> <span class="attr">ref</span>=<span class="string">&quot;dataSource&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    æ³¨è§£é©±åŠ¨å™¨--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tx:annotation-driven</span> <span class="attr">transaction-manager</span>=<span class="string">&quot;transactionManager&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">tx:annotation-driven</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure><p>jdbc.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">jdbc.driver</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">jdbc.url</span>=<span class="string">jdbc:mysql://localhost:3306/mydb01</span></span><br><span class="line"><span class="attr">jdbc.username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">jdbc.password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure><p>mybatis.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><p>AccountMapper.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span> <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span> <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;bank1.mapper.AccountMapper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;update&quot;</span>&gt;</span></span><br><span class="line">        update t_act set  balance=#&#123;balance&#125; where actno=#&#123;actno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByActno&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Account&quot;</span>&gt;</span></span><br><span class="line">        SELECT * FROM t_act where actno = #&#123;actno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="XMLé…ç½®æ–‡ä»¶ä¸­å¼•å…¥å¤–éƒ¨XML"><a href="#XMLé…ç½®æ–‡ä»¶ä¸­å¼•å…¥å¤–éƒ¨XML" class="headerlink" title="XMLé…ç½®æ–‡ä»¶ä¸­å¼•å…¥å¤–éƒ¨XML"></a>XMLé…ç½®æ–‡ä»¶ä¸­å¼•å…¥å¤–éƒ¨XML</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">import</span> <span class="attr">resource</span>=<span class="string">&quot;common.xml&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;ä»€ä¹ˆæ˜¯OCPï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;OCPæ˜¯è½¯ä»¶å¼€å‘çš„ä¸ƒå¤§å¼€å‘åŸåˆ™ï¼šå¼€é—­åŸåˆ™&lt;/p&gt;
&lt;p&gt;æ ¸å¿ƒï¼šå…¶ä»–6ä¸ªåŸåˆ™çš„åŸºç¡€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;OCPå¼€é—­åŸåˆ™æ ¸å¿ƒæ˜¯ä»€ä¹ˆï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;åªè¦ä½ åœ¨æ‰©å±•åŠŸèƒ½çš„æ—¶å€™ï¼Œæ²¡æœ‰ä¿®æ”¹ä»¥å‰å†™å¥½çš„ä»£ç ï¼Œé‚£ä¹ˆå°±æ˜¯ç¬¦åˆOCPåŸåˆ™çš„ï¼Œåä¹‹åˆ™è¿èƒŒäº†OCPåŸåˆ™    &lt;/p&gt;
&lt;p&gt;å½“ç³»ç»ŸåŠŸèƒ½æ‹“å±•æ—¶ï¼Œå¦‚æœåŠ¨äº†ä¹‹å‰ç¨³å®šçš„ç¨‹åºï¼Œä¿®æ”¹äº†ä¹‹å‰çš„ç¨‹åºã€‚ä¹‹å‰æ‰€æœ‰ç¨‹åºéƒ½éœ€è¦æµ‹è¯•ï¼Œè¿™æ˜¯ä¸æƒ³çœ‹åˆ°çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;è¿èƒŒä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPåŸåˆ™ï¼‰&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ä¸Šä¾èµ–ä¸‹å°±æ˜¯è¿èƒŒ&lt;/strong&gt;ï¼šå¦‚ï¼šè¡¨ç¤ºå±‚ä¾èµ–æœåŠ¡å±‚ï¼ŒæœåŠ¡å±‚ä¾èµ–æŒä¹…å±‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;æ§åˆ¶åè½¬&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ä¸€ç§ç¼–ç¨‹æ€æƒ³ã€‚æˆ–è®¾è®¡æ¨¡å¼&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ä¸åœ¨ç¨‹åºä¸­é‡‡ç”¨ç¡¬ç¼–ç æ–¹å¼æ¥ new å¯¹è±¡&lt;/li&gt;
&lt;li&gt;ä¸åœ¨ç¨‹åºä¸­é‡‡ç”¨ç¡¬ç¼–ç æ–¹å¼æ¥ ç»´æŠ¤å¯¹è±¡å…³ç³»&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;Springæ¡†æ¶&quot;&gt;&lt;a href=&quot;#Springæ¡†æ¶&quot; class=&quot;headerlink&quot; title=&quot;Springæ¡†æ¶&quot;&gt;&lt;/a&gt;Springæ¡†æ¶&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;Springæ¡†æ¶å®ç°äº†æ§åˆ¶åè½¬IoCè¿™ç§æ€æƒ³&lt;ul&gt;
&lt;li&gt;springå¸®ä½ newå¯¹è±¡&lt;/li&gt;
&lt;li&gt;springå¸®ä½ ç»´æŠ¤å¯¹è±¡å…³ç³»&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Spring æ—¶ä¸€ä¸ªå®ç°äº†IoCæ€æƒ³çš„å®¹å™¨&lt;ul&gt;
&lt;li&gt;ä¾èµ–æ³¨å…¥çš„ä¸¤ç§æ–¹å¼ï¼ˆä¾èµ–æ³¨å…¥æ—¶ç°å®IoCçš„å…·ä½“å®ç°: XMLè§£æ+å·¥å‚æ¨¡å¼+åå°„æœºåˆ¶ï¼‰&lt;ul&gt;
&lt;li&gt;set æ³¨å…¥(æ‰§è¡Œsetç»™å±æ€§èµ‹å€¼)&lt;/li&gt;
&lt;li&gt;æ„é€ æ–¹æ³• æ³¨å…¥(æ‰§è¡Œæ„é€ æ–¹æ³•ç»™å±æ€§èµ‹å€¼)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230217170739281.png&quot; alt=&quot;image-20230217170739281&quot;&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="java" scheme="https://wyf195075595.github.io/categories/java/"/>
    
    
    <category term="springåŸºç¡€" scheme="https://wyf195075595.github.io/tags/spring%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>mavenåŸºç¡€</title>
    <link href="https://wyf195075595.github.io/2023/02/14/programming/java/maven/"/>
    <id>https://wyf195075595.github.io/2023/02/14/programming/java/maven/</id>
    <published>2023-02-14T03:20:00.000Z</published>
    <updated>2023-03-08T13:43:44.727Z</updated>
    
    <content type="html"><![CDATA[<h3 id="é¡¹ç›®ç®¡ç†å™¨ï¼Œå¯ä»¥å¸®æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ"><a href="#é¡¹ç›®ç®¡ç†å™¨ï¼Œå¯ä»¥å¸®æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ" class="headerlink" title="é¡¹ç›®ç®¡ç†å™¨ï¼Œå¯ä»¥å¸®æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ"></a>é¡¹ç›®ç®¡ç†å™¨ï¼Œå¯ä»¥å¸®æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ</h3><blockquote><ul><li>ç®¡ç†jar æ–‡ä»¶</li><li>è‡ªåŠ¨ä¸‹è½½jarå’Œä»–çš„æ–‡æ¡£æºç </li><li>ç®¡ç†jarç›´æ¥çš„ä¾èµ–ï¼Œa.jar ä¾èµ–b.jar ä»–ä¼šè‡ªåŠ¨ä¸‹è½½b.jar</li><li>å¸®ä½ ç®¡ç†jarçš„ç‰ˆæœ¬</li><li>å¸®ä½ ç¼–è¯‘ç¨‹åºï¼š java-&gt; class</li><li>å¸®ä½ æµ‹è¯•ä»£ç </li><li>å¸®ä½ æ‰“åŒ…ï¼Œå½¢æˆjar/war æ–‡ä»¶</li><li>å¸®ä½ éƒ¨ç½²é¡¹ç›®</li></ul></blockquote><h3 id="æ ¸å¿ƒæ¦‚å¿µ"><a href="#æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title="æ ¸å¿ƒæ¦‚å¿µ"></a>æ ¸å¿ƒæ¦‚å¿µ</h3><ol><li><p>POM</p><p> æŠŠä¸€ä¸ªé¡¹ç›®å½“ä½œæ¨¡å‹ä½¿ç”¨ã€‚æ§åˆ¶mavenæ„å»ºé¡¹ç›®çš„è¿‡ç¨‹</p></li><li><p>çº¦å®šçš„ç›®å½•ç»“æ„</p><p> mavené¡¹ç›®çš„ç›®å½•å’Œæ–‡ä»¶å’Œä½ç½®éƒ½æ˜¯è§„èŒƒçš„</p></li><li><p>ä¾èµ–ä»“åº“</p><p> ç®¡ç†é¡¹ç›®å¯ä»¥ä½¿ç”¨çš„jar</p></li><li><p>ä»“åº“ç®¡ç†</p><p> èµ„æºå­˜æ”¾çš„ä½ç½®</p></li><li><p>ç”Ÿå‘½å‘¨æœŸ</p></li><li><p>æ’ä»¶å’Œæœ¨æ¯”çˆ±å“¦</p></li><li><p>ç»§æ‰¿</p></li><li><p>èšåˆ</p></li></ol><h3 id="ä¿®æ”¹æœ¬æœºèµ„æºå­˜æ”¾ç›®å½•ä½ç½®"><a href="#ä¿®æ”¹æœ¬æœºèµ„æºå­˜æ”¾ç›®å½•ä½ç½®" class="headerlink" title="ä¿®æ”¹æœ¬æœºèµ„æºå­˜æ”¾ç›®å½•ä½ç½®"></a>ä¿®æ”¹æœ¬æœºèµ„æºå­˜æ”¾ç›®å½•ä½ç½®</h3><p>ä¿®æ”¹mavençš„é…ç½®æ–‡ä»¶ï¼Œmavençš„å®‰è£…ç›®å½•/conf/settings.xml</p><p>ä¸ºå•¥è¦æ”¹ï¼Ÿå› ä¸ºé»˜è®¤æ”¾åœ¨Cç›˜</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;localRepository&gt;D://maven//localSpace&lt;/localRepository&gt;</span><br></pre></td></tr></table></figure><span id="more"></span><h3 id="ä»“åº“"><a href="#ä»“åº“" class="headerlink" title="ä»“åº“"></a>ä»“åº“</h3><blockquote><p>æœ¬åœ°ä»“åº“ï¼šå°±æ˜¯å­˜æ”¾mavenä½¿ç”¨çš„jarå’Œæˆ‘ä»¬é¡¹ç›®ä½¿ç”¨çš„jar</p><p>è¿œç¨‹ä»“åº“ï¼š</p><p>ä¸­å¤®ä»“åº“ã€mvenrepository.comã€‘ï¼šæ‰€æœ‰å¼€å‘äººå‘˜å…±äº«çš„    é›†ä¸­ä»“åº“ï¼Œä¸ºäº†é¿å…æœåŠ¡å™¨å‹åŠ›è¿‡å¤§ï¼Œå‡ºç°äº†å¾ˆå¤šé•œåƒä»“åº“ï¼Œåˆ†å¸ƒåœ¨ä¸–ç•Œå„ä¸ªä½ç½®ã€‚æˆ‘ä»¬æœ€å¥½è®¿é—®ç¦»è‡ªå·±è¿‘çš„ä»“åº“ï¼Œè®¿é—®ä¼šæ¯”è¾ƒå¿«</p><p>ç§æœï¼š</p><p>åœ¨å…¬å¸å†…éƒ¨ï¼Œå±€åŸŸç½‘ä¸­ä½¿ç”¨ï¼Œä¸å¯¹å¤–ä½¿ç”¨</p></blockquote><h3 id="pom"><a href="#pom" class="headerlink" title="pom"></a>pom</h3><blockquote><p>é¡¹ç›®å¯¹è±¡æ¨¡å‹</p></blockquote><ol><li><p>åæ ‡ï¼šå”¯ä¸€å€¼ï¼Œæ ‡è¯†é¡¹ç›®å”¯ä¸€</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">groupId</span>&gt;</span>å…¬å¸åŸŸåå€’å†™<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>è‡ªå®šä¹‰é¡¹ç›®åç§°<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">version</span>&gt;</span>è‡ªå®šä¹‰ç‰ˆæœ¬å·<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>dependencies ä¾èµ–</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">// é‡Œé¢å­˜æ”¾æ‰€æœ‰ä¾èµ–</span><br><span class="line"><span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>å…¬å¸åŸŸåå€’å†™<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>è‡ªå®šä¹‰é¡¹ç›®åç§°<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>è‡ªå®šä¹‰ç‰ˆæœ¬å·<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.9<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>properties: è®¾ç½®å±æ€§</p></li><li><p>build: æ„å»ºç›¸å…³</p></li></ol><h3 id="ç›¸å…³å‘½ä»¤"><a href="#ç›¸å…³å‘½ä»¤" class="headerlink" title="ç›¸å…³å‘½ä»¤"></a>ç›¸å…³å‘½ä»¤</h3><ol><li>mvn clean æ¸…ç†æ‰“åŒ…æ–‡ä»¶</li><li>mvn package  æ‰“åŒ…</li><li>mvn install   å®‰è£…ä¸»ç¨‹åº</li><li>mvn deploy  éƒ¨ç½²ä¸»ç¨‹åº</li><li>mvn compile  ç¼–è¯‘ä¸»ç¨‹åº</li></ol><h3 id="ç¼–è¯‘æ’ä»¶é…ç½®"><a href="#ç¼–è¯‘æ’ä»¶é…ç½®" class="headerlink" title="ç¼–è¯‘æ’ä»¶é…ç½®"></a>ç¼–è¯‘æ’ä»¶é…ç½®</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.maven.plugins<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">        // æ’ä»¶å</span><br><span class="line">        <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>maven-compiler-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">        // æ’ä»¶ç‰ˆæœ¬</span><br><span class="line">        <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">            // jdk1.8 ç¯å¢ƒå†™çš„ä»£ç </span><br><span class="line">        <span class="tag">&lt;<span class="name">source</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">source</span>&gt;</span></span><br><span class="line">            // è¿è¡Œç¯å¢ƒ jdk 1.8</span><br><span class="line">            <span class="tag">&lt;<span class="name">target</span>&gt;</span>1.8<span class="tag">&lt;/<span class="name">target</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;é¡¹ç›®ç®¡ç†å™¨ï¼Œå¯ä»¥å¸®æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;a href=&quot;#é¡¹ç›®ç®¡ç†å™¨ï¼Œå¯ä»¥å¸®æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;é¡¹ç›®ç®¡ç†å™¨ï¼Œå¯ä»¥å¸®æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ&quot;&gt;&lt;/a&gt;é¡¹ç›®ç®¡ç†å™¨ï¼Œå¯ä»¥å¸®æˆ‘ä»¬åšä»€ä¹ˆï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;ç®¡ç†jar æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;è‡ªåŠ¨ä¸‹è½½jarå’Œä»–çš„æ–‡æ¡£æºç &lt;/li&gt;
&lt;li&gt;ç®¡ç†jarç›´æ¥çš„ä¾èµ–ï¼Œa.jar ä¾èµ–b.jar ä»–ä¼šè‡ªåŠ¨ä¸‹è½½b.jar&lt;/li&gt;
&lt;li&gt;å¸®ä½ ç®¡ç†jarçš„ç‰ˆæœ¬&lt;/li&gt;
&lt;li&gt;å¸®ä½ ç¼–è¯‘ç¨‹åºï¼š java-&amp;gt; class&lt;/li&gt;
&lt;li&gt;å¸®ä½ æµ‹è¯•ä»£ç &lt;/li&gt;
&lt;li&gt;å¸®ä½ æ‰“åŒ…ï¼Œå½¢æˆjar/war æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;å¸®ä½ éƒ¨ç½²é¡¹ç›®&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;æ ¸å¿ƒæ¦‚å¿µ&quot;&gt;&lt;a href=&quot;#æ ¸å¿ƒæ¦‚å¿µ&quot; class=&quot;headerlink&quot; title=&quot;æ ¸å¿ƒæ¦‚å¿µ&quot;&gt;&lt;/a&gt;æ ¸å¿ƒæ¦‚å¿µ&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;POM&lt;/p&gt;
&lt;p&gt; æŠŠä¸€ä¸ªé¡¹ç›®å½“ä½œæ¨¡å‹ä½¿ç”¨ã€‚æ§åˆ¶mavenæ„å»ºé¡¹ç›®çš„è¿‡ç¨‹&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;çº¦å®šçš„ç›®å½•ç»“æ„&lt;/p&gt;
&lt;p&gt; mavené¡¹ç›®çš„ç›®å½•å’Œæ–‡ä»¶å’Œä½ç½®éƒ½æ˜¯è§„èŒƒçš„&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä¾èµ–ä»“åº“&lt;/p&gt;
&lt;p&gt; ç®¡ç†é¡¹ç›®å¯ä»¥ä½¿ç”¨çš„jar&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ä»“åº“ç®¡ç†&lt;/p&gt;
&lt;p&gt; èµ„æºå­˜æ”¾çš„ä½ç½®&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç”Ÿå‘½å‘¨æœŸ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ’ä»¶å’Œæœ¨æ¯”çˆ±å“¦&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ç»§æ‰¿&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;èšåˆ&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;ä¿®æ”¹æœ¬æœºèµ„æºå­˜æ”¾ç›®å½•ä½ç½®&quot;&gt;&lt;a href=&quot;#ä¿®æ”¹æœ¬æœºèµ„æºå­˜æ”¾ç›®å½•ä½ç½®&quot; class=&quot;headerlink&quot; title=&quot;ä¿®æ”¹æœ¬æœºèµ„æºå­˜æ”¾ç›®å½•ä½ç½®&quot;&gt;&lt;/a&gt;ä¿®æ”¹æœ¬æœºèµ„æºå­˜æ”¾ç›®å½•ä½ç½®&lt;/h3&gt;&lt;p&gt;ä¿®æ”¹mavençš„é…ç½®æ–‡ä»¶ï¼Œmavençš„å®‰è£…ç›®å½•/conf/settings.xml&lt;/p&gt;
&lt;p&gt;ä¸ºå•¥è¦æ”¹ï¼Ÿå› ä¸ºé»˜è®¤æ”¾åœ¨Cç›˜&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&amp;lt;localRepository&amp;gt;D://maven//localSpace&amp;lt;/localRepository&amp;gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;</summary>
    
    
    
    <category term="java" scheme="https://wyf195075595.github.io/categories/java/"/>
    
    
    <category term="mavenåŸºç¡€" scheme="https://wyf195075595.github.io/tags/maven%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>mybatis åŸºç¡€</title>
    <link href="https://wyf195075595.github.io/2023/02/14/programming/java/myBatis/"/>
    <id>https://wyf195075595.github.io/2023/02/14/programming/java/myBatis/</id>
    <published>2023-02-13T17:20:00.000Z</published>
    <updated>2023-03-08T00:17:00.029Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ORM"><a href="#ORM" class="headerlink" title="ORM"></a>ORM</h2><blockquote><p>O (Object) jvmä¸­çš„å¯¹è±¡</p><p>R (Relational) å…³ç³»å‹æ•°æ®åº“</p><p>M (Mapping) æ˜ å°„</p></blockquote><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230214134743208.png" alt="image-20230214134743208"></p><ol><li>æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ã€åŸºæœ¬æ˜ å°„ä»¥åŠé«˜çº§æ˜ å°„</li><li>é¿å…äº†å‡ ä¹æ‰€æœ‰çš„JDBCä»£ç ä¸­æ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†</li><li>æ”¯æŒXMLå¼€å‘ï¼Œä¹Ÿæ”¯æŒæ³¨è§£å¼å¼€å‘ã€‚[ä¸ºäº†ä¿è¯sqlè¯­å¥çš„çµæ´»ï¼Œæ‰€ä»¥mybatiså¤§éƒ¨åˆ†æ˜¯é‡‡ç”¨XMLæ–¹å¼å¼€å‘ã€‚]</li><li>å°†æ¥å£å’ŒJava çš„ POJOs(Plain rdinary Java Objectï¼Œç®€å•æ™®é€šçš„Javaå¯¹è±¡)æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ä½“ç§¯å°å¥½å­¦: </li><li>ä¸¤ä¸ªjaråŒ…ï¼Œä¸¤ä¸ªXMLé…ç½®æ–‡ä»¶ã€‚</li><li>å®Œå…¨åšåˆ°salè§£è€¦åˆ</li><li>æä¾›äº†åŸºæœ¬æ˜ å°„æ ‡ç­¾</li><li>æä¾›äº†é«˜çº§æ˜ å°„æ ‡ç­¾</li><li>æä¾›äº†XMLæ ‡ç­¾ï¼Œæ”¯æŒåŠ¨æ€SQLçš„ç¼–å†™</li></ol><span id="more"></span><h3 id="å¼€å‘ç¬¬ä¸€ä¸ª-Mybatis-ç¨‹åº"><a href="#å¼€å‘ç¬¬ä¸€ä¸ª-Mybatis-ç¨‹åº" class="headerlink" title="å¼€å‘ç¬¬ä¸€ä¸ª Mybatis ç¨‹åº"></a>å¼€å‘ç¬¬ä¸€ä¸ª Mybatis ç¨‹åº</h3><ol><li><p>resourcesç›®å½•:<br> æ”¾åœ¨è¿™ä¸ªç›®å½•å½“ä¸­çš„ï¼Œä¸€èˆ¬éƒ½æ˜¯èµ„æºæ–‡ä»¶ï¼Œé…ç½®æ–‡ä»¶ï¼Œç›´æ¥æ”¾åˆ°resourcesç›®å½•ä¸‹çš„èµ„æºï¼Œç­‰åŒäºæ”¾åˆ°äº†ç±»çš„æ ¹è·¯å¾„ä¸‹ã€‚</p></li><li><p>å¼€å‘æ­¥éª¤</p><ul><li><p>ç¬¬ä¸€æ­¥:æ‰“åŒ…æ–¹å¼jar</p></li><li><p>ç¬¬äºŒæ­¥:å¼•å…¥ä¾èµ–</p><ul><li>mybatisä¾èµ–</li><li>mysglé©±åŠ¨ä¾èµ–</li></ul></li><li><p>ç¬¬ä¸‰æ­¥:ç¼–å†™mybatisæ ¸å¿ƒé…ç½®æ–‡ä»¶: mybatis-config.xmlå¤§</p><blockquote><p>æ³¨æ„:</p><ul><li>ç¬¬ä¸€: è¿™ä¸ªæ–‡ä»¶åä¸æ˜¯å¿…é¡»å«åšmybatis-config.xmlï¼Œå¯ä»¥ç”¨å…¶ä»–çš„åå­—ã€‚åªæ˜¯å¤§å®¶éƒ½é‡‡ç”¨è¿™ä¸ªåå­—.</li><li>ç¬¬äºŒ:è¿™ä¸ªæ–‡ä»¶å­˜æ”¾çš„ä½ç½®ä¹Ÿä¸æ˜¯å›ºå®šçš„ï¼Œå¯ä»¥éšæ„ï¼Œä½†ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä¼šæ”¾åˆ°ç±»çš„æ ¹è·¯å¾„ä¸‹ã€‚</li></ul></blockquote></li></ul></li><li><p>ä»XML ä¸­æ„å»º SglSessionFactoryé€šè¿‡å®˜æ–¹çš„è¿™å¥è¯ï¼Œ</p><blockquote><p>ä½ èƒ½æƒ³åˆ°ä»€ä¹ˆå‘¢?</p><p>â€‹    ç¬¬ä¸€:åœ¨MyBatisä¸­ä¸€å®šæ˜¯æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯: SqlSessionFactoryå¯¹è±¡ã€‚</p><p>â€‹    ç¬¬äºŒ: SqlSessionFactoryå¯¹è±¡çš„åˆ›å»ºéœ€è¦XMLã€‚XMLæ˜¯ä»€ä¹ˆ?<br>å®ƒä¸€å®šæ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶</p></blockquote></li><li><p>mybatisä¸­æœ‰ä¸¤ä¸ªä¸»è¦çš„é…ç½®æ–‡ä»¶:</p><blockquote><p>å…¶ä¸­ä¸€ä¸ªæ˜¯: <strong>mybatis-config.xml</strong>ï¼Œè¿™æ˜¯æ ¸å¿ƒé…ç½®æ–‡ä»¶ï¼Œä¸»è¦é…ç½®è¿æ¥æ•°æ®åº“çš„ä¿¡æ¯ç­‰ã€‚ï¼ˆä¸€ä¸ªï¼‰</p><p>å¦ä¸€ä¸ªæ˜¯: <strong>XxxxMapper.xml</strong>ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯ä¸“é—¨ç”¨æ¥ç¼–å†™SQLè¯­å¥çš„é…ç½®æ–‡ä»¶ã€‚ï¼ˆæ¯ä¸ªè¡¨ä¸€ä¸ªï¼‰</p><p>åœ¨resources ç›®å½•ä¸‹æ–°å»ºï¼Œå‰è€…å¼•ç”¨åè€…</p></blockquote></li></ol><h3 id="mybatis-config-xml"><a href="#mybatis-config-xml" class="headerlink" title="mybatis-config.xml"></a><strong>mybatis-config.xml</strong></h3><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlSessionFactoryBuilder.build(Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>), <span class="string">&quot;æŒ‡å®šçš„ç¯å¢ƒ&quot;</span>);</span><br></pre></td></tr></table></figure><p>äº‹åŠ¡ç®¡ç†ï¼štransactionManager.type = â€œJDBCâ€ / â€œMANAGEDâ€</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mydb01&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;123456&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--   resourceä»ç±»çš„æ ¹è·¯å¾„æŸ¥æ‰¾     --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;CatMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ•°æ®æº-dataSource"><a href="#æ•°æ®æº-dataSource" class="headerlink" title="æ•°æ®æº(dataSource)"></a>æ•°æ®æº(dataSource)</h4><blockquote><p>ä¸ºç¨‹åºæä¾› Connection å¯¹è±¡ã€‚æ­¤è§„èŒƒæ˜¯jdkè§„å®šçš„ï¼ˆè¦å®ç° javax.sql.DataSourceï¼‰</p><p>â€‹        dataSource.type=â€POOLEDâ€ å®é™…æ˜¯åœ¨æŒ‡å®šæ•°æ®åº“çš„è¿æ¥æ± ã€‚ æ­¤å¤–è¿˜æœ‰ï¼ˆdruid,c3p0,dbcpâ€¦ï¼‰</p><p><a href="https://mybatis.net.cn/configuration.html#environments">å®˜æ–¹ä¸­æ–‡æ–‡æ¡£</a></p></blockquote><h4 id="mybatis-è‡ªå¸¦çš„æ•°æ®æºï¼š"><a href="#mybatis-è‡ªå¸¦çš„æ•°æ®æºï¼š" class="headerlink" title="mybatis è‡ªå¸¦çš„æ•°æ®æºï¼š"></a><strong>mybatis è‡ªå¸¦çš„æ•°æ®æº</strong>ï¼š</h4><ul><li>UNPOOLEDï¼šä¸ä½¿ç”¨æ•°æ®åº“è¿æ¥æ± æŠ€æœ¯ï¼Œæ¯æ¬¡è¯·æ±‚éƒ½æ˜¯åˆ›å»ºæ–°çš„Connectionå¯¹è±¡</li><li>POOLEDï¼šä½¿ç”¨mybatisè‡ªå·±å®ç°çš„æ•°æ®åº“è¿æ¥æ± </li><li>JNDIï¼šé›†æˆå…¶ä»–ç¬¬ä¸‰æ–¹æ•°æ®åº“è¿æ¥æ± </li></ul><h4 id="JNDI-æ˜¯ä¸€å¥—è§„èŒƒï¼Œè°å®ç°äº†å®ƒï¼Ÿ"><a href="#JNDI-æ˜¯ä¸€å¥—è§„èŒƒï¼Œè°å®ç°äº†å®ƒï¼Ÿ" class="headerlink" title="JNDI æ˜¯ä¸€å¥—è§„èŒƒï¼Œè°å®ç°äº†å®ƒï¼Ÿ"></a>JNDI æ˜¯ä¸€å¥—è§„èŒƒï¼Œè°å®ç°äº†å®ƒï¼Ÿ</h4><blockquote><p>å¤§éƒ¨åˆ†webå®¹å™¨éƒ½å®ç°äº†å®ƒï¼Œå¦‚ tomcat, webLogic, Jetty, WebSphare</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;JNDI&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;initial_context&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;data_source&quot;</span> <span class="attr">value</span>=<span class="string">&quot;&quot;</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="è¿æ¥æ± çš„é…ç½®"><a href="#è¿æ¥æ± çš„é…ç½®" class="headerlink" title="è¿æ¥æ± çš„é…ç½®"></a>è¿æ¥æ± çš„é…ç½®</h4><ul><li><code>poolMaximumActiveConnections</code> â€“ åœ¨ä»»æ„æ—¶é—´å¯å­˜åœ¨çš„æ´»åŠ¨ï¼ˆæ­£åœ¨ä½¿ç”¨ï¼‰è¿æ¥æ•°é‡ï¼Œé»˜è®¤å€¼ï¼š10</li><li><code>poolMaximumIdleConnections</code> â€“ ä»»æ„æ—¶é—´å¯èƒ½å­˜åœ¨çš„ç©ºé—²è¿æ¥æ•°ã€‚</li><li><code>poolMaximumCheckoutTime</code> â€“ åœ¨è¢«å¼ºåˆ¶è¿”å›ä¹‹å‰ï¼Œæ± ä¸­è¿æ¥è¢«æ£€å‡ºï¼ˆchecked outï¼‰æ—¶é—´ï¼Œé»˜è®¤å€¼ï¼š20000 æ¯«ç§’ï¼ˆå³ 20 ç§’ï¼‰</li><li><code>poolTimeToWait</code> â€“ è¿™æ˜¯ä¸€ä¸ªåº•å±‚è®¾ç½®ï¼Œå¦‚æœè·å–è¿æ¥èŠ±è´¹äº†ç›¸å½“é•¿çš„æ—¶é—´ï¼Œè¿æ¥æ± ä¼šæ‰“å°çŠ¶æ€æ—¥å¿—å¹¶é‡æ–°å°è¯•è·å–ä¸€ä¸ªè¿æ¥ï¼ˆé¿å…åœ¨è¯¯é…ç½®çš„æƒ…å†µä¸‹ä¸€ç›´å¤±è´¥ä¸”ä¸æ‰“å°æ—¥å¿—ï¼‰ï¼Œé»˜è®¤å€¼ï¼š20000 æ¯«ç§’ï¼ˆå³ 20 ç§’ï¼‰ã€‚</li><li><code>poolMaximumLocalBadConnectionTolerance</code> â€“ è¿™æ˜¯ä¸€ä¸ªå…³äºåè¿æ¥å®¹å¿åº¦çš„åº•å±‚è®¾ç½®ï¼Œ ä½œç”¨äºæ¯ä¸€ä¸ªå°è¯•ä»ç¼“å­˜æ± è·å–è¿æ¥çš„çº¿ç¨‹ã€‚ å¦‚æœè¿™ä¸ªçº¿ç¨‹è·å–åˆ°çš„æ˜¯ä¸€ä¸ªåçš„è¿æ¥ï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°æ®æºå…è®¸è¿™ä¸ªçº¿ç¨‹å°è¯•é‡æ–°è·å–ä¸€ä¸ªæ–°çš„è¿æ¥ï¼Œä½†æ˜¯è¿™ä¸ªé‡æ–°å°è¯•çš„æ¬¡æ•°ä¸åº”è¯¥è¶…è¿‡ <code>poolMaximumIdleConnections</code> ä¸ <code>poolMaximumLocalBadConnectionTolerance</code> ä¹‹å’Œã€‚ é»˜è®¤å€¼ï¼š3ï¼ˆæ–°å¢äº 3.4.5ï¼‰</li><li><code>poolPingQuery</code> â€“ å‘é€åˆ°æ•°æ®åº“çš„ä¾¦æµ‹æŸ¥è¯¢ï¼Œç”¨æ¥æ£€éªŒè¿æ¥æ˜¯å¦æ­£å¸¸å·¥ä½œå¹¶å‡†å¤‡æ¥å—è¯·æ±‚ã€‚é»˜è®¤æ˜¯â€œNO PING QUERY SETâ€ï¼Œè¿™ä¼šå¯¼è‡´å¤šæ•°æ•°æ®åº“é©±åŠ¨å‡ºé”™æ—¶è¿”å›æ°å½“çš„é”™è¯¯æ¶ˆæ¯ã€‚</li><li><code>poolPingEnabled</code> â€“ æ˜¯å¦å¯ç”¨ä¾¦æµ‹æŸ¥è¯¢ã€‚è‹¥å¼€å¯ï¼Œéœ€è¦è®¾ç½® <code>poolPingQuery</code> å±æ€§ä¸ºä¸€ä¸ªå¯æ‰§è¡Œçš„ SQL è¯­å¥ï¼ˆæœ€å¥½æ˜¯ä¸€ä¸ªé€Ÿåº¦éå¸¸å¿«çš„ SQL è¯­å¥ï¼‰ï¼Œé»˜è®¤å€¼ï¼šfalseã€‚</li><li><code>poolPingConnectionsNotUsedFor</code> â€“ é…ç½® poolPingQuery çš„é¢‘ç‡ã€‚å¯ä»¥è¢«è®¾ç½®ä¸ºå’Œæ•°æ®åº“è¿æ¥è¶…æ—¶æ—¶é—´ä¸€æ ·ï¼Œæ¥é¿å…ä¸å¿…è¦çš„ä¾¦æµ‹ï¼Œé»˜è®¤å€¼ï¼š0ï¼ˆå³æ‰€æœ‰è¿æ¥æ¯ä¸€æ—¶åˆ»éƒ½è¢«ä¾¦æµ‹ â€” å½“ç„¶ä»…å½“ poolPingEnabled ä¸º true æ—¶é€‚ç”¨ï¼‰ã€‚</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// é…ç½®æœ€å¤§è¿æ¥æ•°</span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;poolMaximumActiveConnections&quot;</span> <span class="attr">calue</span>=<span class="string">&quot;3&quot;</span>/&gt;</span></span><br><span class="line">// æ¯éš”ä¸¤ç§’æ‰“å°æ—¥å¿—ï¼Œå¹¶å°è¯•è·å–è¿æ¥å¯¹è±¡</span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;poolTimeToWait&quot;</span> <span class="attr">calue</span>=<span class="string">&quot;2000&quot;</span>/&gt;</span></span><br><span class="line">// å¼ºè¡Œè®©æŸä¸ªè¿æ¥ç©ºé—²ï¼Œè¶…æ—¶10sè®¾ç½®ä¸ºç©ºé—²çŠ¶æ€</span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;poolMaximumCheckoutTime&quot;</span> <span class="attr">calue</span>=<span class="string">&quot;10000&quot;</span>/&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">ç©ºé—²è¿æ¥æ•°5, å¦‚æœæœ‰6ä¸ªç©ºé—²è¿æ¥ï¼Œä¼šçœŸæ­£å…³é—­ä¸€ä¸ªç©ºé—²è¿æ¥</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;poolMaximumIdleConnections&quot;</span> <span class="attr">calue</span>=<span class="string">&quot;5&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><h4 id="properties-å±æ€§é…ç½®"><a href="#properties-å±æ€§é…ç½®" class="headerlink" title="properties å±æ€§é…ç½®"></a>properties å±æ€§é…ç½®</h4><blockquote></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// è®¾ç½®</span><br><span class="line"><span class="tag">&lt;<span class="name">properties</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;home&quot;</span> <span class="attr">value</span>=<span class="string">&quot;D://mybatis/resource/&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">properties</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// ä½¿ç”¨</span><br><span class="line"><span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--   resourceä»ç±»çš„æ ¹è·¯å¾„æŸ¥æ‰¾     --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">path</span>=<span class="string">&quot;$&#123;home&#125;CatMapper.xml&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ properties æ–‡ä»¶æ–¹å¼é…ç½®</p><p>åœ¨resource ç›®å½•ä¸‹æ–°å»º jdbc.properties</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://localhost:3306/mydb01</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">123456</span></span><br></pre></td></tr></table></figure><p>æ˜ å°„åˆ° mybatis-config.xml ä¸­ property ä¸­</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;jdbc.properties&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><p>ä½¿ç”¨</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;123456&#125;&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="CatMapper-xml"><a href="#CatMapper-xml" class="headerlink" title="CatMapper.xml"></a><strong>CatMapper.xml</strong></h3><blockquote><p>namespace æŒ‡å®šå‘½åç©ºé—´ï¼Œé‚£ä¹ˆå¤šä¸ªmapper æ–‡ä»¶å‡ºç°ç›¸åŒçš„idä¹Ÿä¸ä¼šå†²çªäº†</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;org.mybatis.example.BlogMapper&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertCar&quot;</span>&gt;</span></span><br><span class="line">        insert into t_car(id, car_num,brand,guide_price, produce_time, car_type)</span><br><span class="line">        values(null, &#x27;1003&#x27;, &#x27;ä¸°ç”°éœ¸é“&#x27;,30.0,&#x27;2000-10-11&#x27;,&#x27;ç‡ƒæ²¹è½¦&#x27;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ç¨‹åº-CatMapper-xml-ä¸­çš„-insert-è¯­å¥"><a href="#ç¨‹åº-CatMapper-xml-ä¸­çš„-insert-è¯­å¥" class="headerlink" title="ç¨‹åº CatMapper.xml ä¸­çš„ insert è¯­å¥"></a>ç¨‹åº CatMapper.xml ä¸­çš„ insert è¯­å¥</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">SqlSession</span>  <span class="variable">sqlSession</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="comment">// è·å– sqlSessionFactoryBuilder</span></span><br><span class="line">    <span class="type">SqlSessionFactoryBuilder</span> <span class="variable">sqlSessionFactoryBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>();</span><br><span class="line">    <span class="comment">// è·å– SqlSessionFactory</span></span><br><span class="line">    <span class="type">SqlSessionFactory</span> <span class="variable">sqlSessionFactory1</span> <span class="operator">=</span> sqlSessionFactoryBuilder.build(Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>));</span><br><span class="line">    <span class="comment">// è·å– SqlSession å¯¹è±¡</span></span><br><span class="line">    sqlSession = sqlSessionFactory1.openSession();</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> sqlSession.insert(<span class="string">&quot;insertCar&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;count = &quot;</span> + count);</span><br><span class="line">    <span class="comment">// æ‰‹åŠ¨æäº¤</span></span><br><span class="line">    sqlSession.commit();</span><br><span class="line">    sqlSession.close();</span><br><span class="line">&#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">    sqlSession.rollback();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç»†èŠ‚ï¼š</p><p>mybatis ä¸­sqlè¯­å¥å¯ä»¥çœç•¥ â€ï¼›â€œ</p><p>Resource.getResourceAsStream() æ˜¯ä» ç±»è·¯å¾„ä¸‹æŸ¥æ‰¾ï¼Œå¤§éƒ¨åˆ†resourceéƒ½æ˜¯è¿™æ ·çš„</p><p>Resource.getResourceAsStream åº•å±‚å®é™…ä¸Šè°ƒç”¨çš„æ˜¯ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> Classloader.getSystemClassLoader().getResourceAsStream(<span class="string">&quot;xxx.xml&quot;</span>);</span><br></pre></td></tr></table></figure><p>æ ¸å¿ƒé…ç½®æ–‡ä»¶åå­—ä¸ä¸€å®šéçš„æ˜¯ mybatis-config.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// ç±»è·¯å¾„</span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;CatMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">// ç»å¯¹è·¯å¾„</span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">utl</span>=<span class="string">&quot;file:///d:/CatMapper.xml&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></blockquote><h3 id="mybatis-äº‹åŠ¡ç®¡ç†æœºåˆ¶"><a href="#mybatis-äº‹åŠ¡ç®¡ç†æœºåˆ¶" class="headerlink" title="mybatis äº‹åŠ¡ç®¡ç†æœºåˆ¶"></a>mybatis äº‹åŠ¡ç®¡ç†æœºåˆ¶</h3><blockquote><p>é…ç½®ï¼š</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// mybatisè‡ªå·±é‡‡ç”¨åŸç”ŸJDBCæ–¹å¼ç®¡ç†äº‹åŠ¡</span><br><span class="line"><span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">// mybatis ä¸åœ¨è´Ÿè´£äº‹åŠ¡ï¼Œäº¤ç»™å…¶ä»–å®¹å™¨ç®¡ç†ã€‚å¦‚ï¼šspring</span><br><span class="line"><span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;MANAGED&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure></blockquote><h3 id="å°è£…-SqlSession-å¯¹è±¡"><a href="#å°è£…-SqlSession-å¯¹è±¡" class="headerlink" title="å°è£… SqlSession å¯¹è±¡"></a>å°è£… SqlSession å¯¹è±¡</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SqlSessionUtil</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SqlSessionFactory sqlSessionFactory;</span><br><span class="line">    <span class="comment">// é˜²æ­¢ new å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SqlSessionUtil</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç±»åŠ è½½æ—¶ï¼Œè§£æmtbatis-config.xml æ–‡ä»¶ã€‚åˆ›å»º SqlSessionFactory å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            sqlSessionFactory = <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>));</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    * è·å–ä¼šè¯å¯¹è±¡</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SqlSession <span class="title function_">openSession</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> sqlSessionFactory.openSession();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="Mybatis-æ—¥å¿—"><a href="#Mybatis-æ—¥å¿—" class="headerlink" title="Mybatis æ—¥å¿—"></a>Mybatis æ—¥å¿—</h3><blockquote><p>settings æ ‡ç­¾è¦å‡ºç°åœ¨ environments æ ‡ç­¾ä¹‹å‰ï¼ŒSTDOUT_LOGGING ä¸º mybatis è‡ªå·±å®ç°çš„æ—¥å¿—æ ¼å¼ï¼Œå…¶ä»–æ ¼å¼éœ€è¦å¼•å…¥ç¬¬ä¸‰æ–¹åº“ å¦‚ SLF4J</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="é›†æˆlogback-æ—¥å¿—æ¡†æ¶"><a href="#é›†æˆlogback-æ—¥å¿—æ¡†æ¶" class="headerlink" title="é›†æˆlogback æ—¥å¿—æ¡†æ¶"></a>é›†æˆlogback æ—¥å¿—æ¡†æ¶</h4><ol><li><p>pom ä¸­å¼•å…¥ä¾èµ–</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ch.qos.logback<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>logback-classic<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.2.11<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">scope</span>&gt;</span>test<span class="tag">&lt;/<span class="name">scope</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>é…ç½®æ–‡ä»¶ logback.xml/logback-test.xml</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span> <span class="attr">debug</span>=<span class="string">&quot;false&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--  æ§åˆ¶å°è¾“å‡º  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">appender</span> <span class="attr">name</span>=<span class="string">&quot;STDOUT&quot;</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.core.ConsoleAppender&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">encoder</span> <span class="attr">class</span>=<span class="string">&quot;ch.qos.logback.classic.encoder.PatternLayoutEncoder&quot;</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- æ ¼å¼åŒ–è¾“å‡ºï¼š%dè¡¨ç¤ºæ—¥æœŸï¼Œ%threadè¡¨ç¤ºçº¿ç¨‹åï¼Œ%-5levelï¼šçº§åˆ«ä»å·¦æ˜¾ç¤º5ä¸ªå­—ç¬¦å®½åº¦</span></span><br><span class="line"><span class="comment">        %msg: æ—¥å¿—æ¶ˆæ¯ï¼Œ%n æ¢è¡Œç¬¦  --&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">pattern</span>&gt;</span>%d&#123;yyyy-MM-dd HH:mm:ss.SSS&#125; [%thread] %-5level %logger&#123;50&#125; - %msg %n<span class="tag">&lt;/<span class="name">pattern</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">encoder</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">appender</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--  mybatis log configure  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;com.apache.ibatis&quot;</span> <span class="attr">level</span>=<span class="string">&quot;TRACE&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;java.sql.Statement&quot;</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;java.sql.PreparedStatement&quot;</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">name</span>=<span class="string">&quot;java.sql.Connection&quot;</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--  æ—¥å¿—è¾“å‡ºçº§åˆ«ï¼Œ TRACE &lt; DEBUG &lt; INFO &lt; WARN &lt; ERROR  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">root</span> <span class="attr">level</span>=<span class="string">&quot;DEBUG&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;STDOUT&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">appender-ref</span> <span class="attr">ref</span>=<span class="string">&quot;FILE&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">root</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><h3 id="ä½¿ç”¨-mybatis-å®ŒæˆCRUD"><a href="#ä½¿ç”¨-mybatis-å®ŒæˆCRUD" class="headerlink" title="ä½¿ç”¨ mybatis å®ŒæˆCRUD"></a>ä½¿ç”¨ mybatis å®ŒæˆCRUD</h3><blockquote></blockquote><ol><li><p>Cï¼šCreate å¢</p><p> ä½¿ç”¨ #{} ä»£ä»· ï¼Ÿå ä½ç¬¦ã€‚ æ‰§è¡Œ sqlSessqion.insert() æ—¶å¯ä¼ å…¥ä¸€ä¸ªMapé›†åˆ,æ­¤æ—¶ #{mapé›†åˆçš„key}</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertCar&quot;</span>&gt;</span></span><br><span class="line">    insert into t_car(id, car_num,brand,guide_price, produce_time, car_type)</span><br><span class="line">    values(null, #&#123;&#125;, #&#123;&#125;,#&#123;&#125;,#&#123;&#125;,#&#123;&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure><p> å»ºç«‹ pojoç±»</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Car</span> &#123;</span><br><span class="line">    <span class="comment">// å»ºè®®ä½¿ç”¨åŒ…è£…ç±»ï¼Œé˜²æ­¢NULLé—®æˆ‘å‘¢æ</span></span><br><span class="line">    <span class="keyword">private</span> Long id;</span><br><span class="line">    <span class="keyword">private</span> String carNum;</span><br><span class="line">    <span class="keyword">private</span> String brand;</span><br><span class="line">    <span class="keyword">private</span> Double guidePrice;</span><br><span class="line">    <span class="keyword">private</span> String produceTime;</span><br><span class="line">    <span class="keyword">private</span> String carType;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Car</span><span class="params">(Long id, String carNum, String brand, Double guidePrice, String produceTime, String carType)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.carNum = carNum;</span><br><span class="line">        <span class="built_in">this</span>.brand = brand;</span><br><span class="line">        <span class="built_in">this</span>.guidePrice = guidePrice;</span><br><span class="line">        <span class="built_in">this</span>.produceTime = produceTime;</span><br><span class="line">        <span class="built_in">this</span>.carType = carType;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Car&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;id=&quot;</span> + id +</span><br><span class="line">                <span class="string">&quot;, carNum=&#x27;&quot;</span> + carNum + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, brand=&#x27;&quot;</span> + brand + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, guidePrice=&quot;</span> + guidePrice +</span><br><span class="line">                <span class="string">&quot;, produceTime=&#x27;&quot;</span> + produceTime + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, carType=&#x27;&quot;</span> + carType + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Long <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCarNum</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> carNum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCarNum</span><span class="params">(String carNum)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.carNum = carNum;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getBrand</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> brand;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBrand</span><span class="params">(String brand)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.brand = brand;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Double <span class="title function_">getGuidePrice</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> guidePrice;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setGuidePrice</span><span class="params">(Double guidePrice)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.guidePrice = guidePrice;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getProduceTime</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> produceTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setProduceTime</span><span class="params">(String produceTime)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.produceTime = produceTime;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCarType</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> carType;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCarType</span><span class="params">(String carType)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.carType = carType;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> pojo ç±»å®ä¾‹åŒ–</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="literal">null</span>, <span class="string">&quot;3333&quot;</span>, <span class="string">&quot;ä¿æ—¶æ·&quot;</span>,<span class="number">40.0</span>,<span class="string">&quot;2020-10-12&quot;</span>,<span class="string">&quot;æ–°èƒ½æº&quot;</span>);</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ‰§è¡Œ sqlSessqion.insert() æ—¶ä¼ å…¥ car ,#&#123;&#125;ä¸­å†™pojoç±»çš„å±æ€§å</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></li><li><p>R:Retrieve æŸ¥</p><p> å•ä¸ªæŸ¥è¯¢</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectCar&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.pojo.Car&quot;</span>&gt;</span></span><br><span class="line">    select * from t_car where id=#&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// sqlSession.selectOne(&quot;selectCar&quot;, 37)</span><br><span class="line"><span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">è€ç‰ˆæœ¬ mybatis å¥½åƒä¼šæœ‰ å­—æ®µå¯¹åº”é—®é¢˜ å¦‚ pojo ç±»ä¸­çš„å°é©¼å³°å‘½åä¸æ•°æ®åº“çš„ä¸‹åˆ’çº¿å‘½åä¼šå¯¼è‡´æŸ¥è¯¢ä¸åˆ°å­—æ®µçš„å€¼ï¼Œ æŸ¥è¯¢æ—¶éœ€è¦ç”¨ as è¯­æ³•èµ‹å€¼åˆ«åä¸ pojoç±»ä¸­çš„ä¸€è‡´</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br></pre></td></tr></table></figure><p> åˆ—è¡¨æŸ¥è¯¢</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectCarAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.pojo.Car&quot;</span>&gt;</span></span><br><span class="line">    select * from t_car</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">List<span class="tag">&lt;<span class="name">Car</span>&gt;</span> rs = sqlSession.selectList(&quot;selectCarAll&quot;);</span><br></pre></td></tr></table></figure></li><li><p>U:Update æ”¹</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateCar&quot;</span>&gt;</span></span><br><span class="line">update t_car set car_num=#&#123;carNum&#125;,brand=#&#123;brand&#125;,guide_price=#&#123;guidePrice&#125;,produce_time=#&#123;produceTime&#125;,car_type=#&#123;carType&#125; where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// sqlSession.update(&quot;updateCar&quot;, car)</span><br></pre></td></tr></table></figure></li><li><p>Dï¼šDelete åˆ </p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteCar&quot;</span>&gt;</span></span><br><span class="line">    delete from t_car where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// å¦‚æœ#&#123;&#125; åªæœ‰ä¸€ä¸ªï¼Œé‚£ä¹ˆä¸­é—´çš„å±æ€§å¯ä»¥éšä¾¿å†™ï¼Œæœ€å¥½è§åçŸ¥æ„</span><br><span class="line">sqlSession.delete(&quot;deleteCar&quot;, 37)</span><br></pre></td></tr></table></figure></li></ol><h3 id="dom4j-è§£æxmlæ–‡ä»¶"><a href="#dom4j-è§£æxmlæ–‡ä»¶" class="headerlink" title="dom4j è§£æxmlæ–‡ä»¶"></a>dom4j è§£æxmlæ–‡ä»¶</h3><h4 id="ä¾èµ–"><a href="#ä¾èµ–" class="headerlink" title="ä¾èµ–"></a>ä¾èµ–</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.dom4j<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>dom4j<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.1.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--   dom4jç¼ºå°‘çš„ä¾èµ–åŒ…     --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>jaxen<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jaxen<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.0.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="headerlink" title="é…ç½®æ–‡ä»¶"></a>é…ç½®æ–‡ä»¶</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">properties</span> <span class="attr">resource</span>=<span class="string">&quot;jdbc.properties&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--    &lt;settings&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--        &lt;setting name=&quot;logImpl&quot; value=&quot;STDOUT_LOGGING&quot;/&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--        &lt;setting name=&quot;logImpl&quot; value=&quot;SLF4J&quot;/&gt;--&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--    &lt;/settings&gt;--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;production&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--    ä¸€ä¸ªç¯å¢ƒå¯¹åº”ä¸€ä¸ª SqlSessionFactory å¯¹è±¡    --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;driver&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;url&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;username&#125;&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;$&#123;password&#125;&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--   resourceä»ç±»çš„æ ¹è·¯å¾„æŸ¥æ‰¾     --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;CatMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="è§£æxmlé…ç½®æ–‡ä»¶"><a href="#è§£æxmlé…ç½®æ–‡ä»¶" class="headerlink" title="è§£æxmlé…ç½®æ–‡ä»¶"></a>è§£æxmlé…ç½®æ–‡ä»¶</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReadXMLTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> DocumentException &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Document <span class="title function_">getDocument</span><span class="params">(String url)</span> <span class="keyword">throws</span> DocumentException &#123;</span><br><span class="line">        <span class="type">SAXReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SAXReader</span>();</span><br><span class="line">        <span class="keyword">return</span>  reader.read(ClassLoader.getSystemClassLoader().getResourceAsStream(url));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">parseXML</span><span class="params">()</span> <span class="keyword">throws</span> DocumentException &#123;</span><br><span class="line">        <span class="type">Document</span> <span class="variable">document</span> <span class="operator">=</span> getDocument(<span class="string">&quot;mybatis-config.xml&quot;</span>);</span><br><span class="line">        <span class="type">Element</span> <span class="variable">environments</span> <span class="operator">=</span> (Element) document.selectSingleNode(<span class="string">&quot;/configuration/environments&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">defaultId</span> <span class="operator">=</span> environments.attributeValue(<span class="string">&quot;default&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">xPath</span> <span class="operator">=</span> <span class="string">&quot;/configuration/environments/environment[@id=&#x27;&quot;</span>+defaultId+<span class="string">&quot;&#x27;]&quot;</span>;</span><br><span class="line">        <span class="comment">// è·å– environments ä¸­id == environments default å€¼ environment</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">environment</span> <span class="operator">=</span> (Element) document.selectSingleNode(xPath);</span><br><span class="line">        System.out.println(<span class="string">&quot;environment id = &quot;</span> + environment.attributeValue(<span class="string">&quot;id&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–äº‹åŠ¡ç±»å‹</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">transactionType</span> <span class="operator">=</span> environment.element(<span class="string">&quot;transactionManager&quot;</span>).attributeValue(<span class="string">&quot;type&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;transactionType = &quot;</span> + transactionType);</span><br><span class="line">        <span class="comment">// è·å– dataSource</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">dataSource</span> <span class="operator">=</span> environment.element(<span class="string">&quot;dataSource&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">dataSourceType</span> <span class="operator">=</span> dataSource.attributeValue(<span class="string">&quot;type&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;dataSourceType = &quot;</span> + dataSourceType);</span><br><span class="line">        <span class="comment">// è·å–æ‰€æœ‰ property</span></span><br><span class="line">        List&lt;Element&gt; properties = dataSource.elements(<span class="string">&quot;property&quot;</span>);</span><br><span class="line">        properties.forEach(property -&gt; &#123;</span><br><span class="line">            System.out.println(property.attributeValue(<span class="string">&quot;name&quot;</span>)+<span class="string">&quot;-&quot;</span>+property.attributeValue(<span class="string">&quot;value&quot;</span>));</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// è·å–æ‰€æœ‰ mapper</span></span><br><span class="line">        List&lt;Node&gt; nodes = document.selectNodes(<span class="string">&quot;//mapper&quot;</span>);</span><br><span class="line">        nodes.forEach(node -&gt; &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">resource</span> <span class="operator">=</span> ((Element) node).attributeValue(<span class="string">&quot;resource&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;resource = &quot;</span> + resource);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æŸèŠ‚ç‚¹æ‰€æœ‰å…ƒç´  æŸèŠ‚ç‚¹å…ƒç´ .elements();</span></span><br><span class="line">        <span class="comment">// è·å–å…ƒç´ ä¸­çš„æ–‡æœ¬  element.getTextTrim();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="javassist"><a href="#javassist" class="headerlink" title="javassist"></a>javassist</h3><blockquote><p>å¯ä»¥åœ¨å†…å­˜ä¸­ç”Ÿæˆç±»ï¼Œæ¥å£ï¼Œæ·»åŠ æ–¹æ³•ã€‚ã€‚ã€‚</p><p>Dao å±‚çš„æ¥å£å®ç°ç±» ä»£ç éå¸¸å›ºå®šï¼Œç®€å•ã€‚å¯ä»¥ä½¿ç”¨ javassist ç”Ÿæˆå®ç°ç±»</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// è·å–ç±»æ± ï¼Œç”¨æ¥ç”Ÿæˆclass</span></span><br><span class="line"><span class="type">ClassPool</span> <span class="variable">pool</span> <span class="operator">=</span> ClassPool.getDefault();</span><br><span class="line"><span class="comment">// åˆ¶é€ ç±»ï¼Œä¼ å…¥ç±»å</span></span><br><span class="line"><span class="type">CtClass</span> <span class="variable">ctClass</span> <span class="operator">=</span> pool.makeClass(<span class="string">&quot;com.javassist.Test.Math&quot;</span>);</span><br><span class="line"><span class="comment">// åˆ¶é€ æ–¹æ³•</span></span><br><span class="line"><span class="type">String</span> <span class="variable">methodCode</span> <span class="operator">=</span> <span class="string">&quot;public void insert() &#123;System.out.print(111);&#125;&quot;</span>;</span><br><span class="line"><span class="type">CtMethod</span> <span class="variable">ctMethod</span> <span class="operator">=</span> CtMethod.make(methodCode, ctClass);</span><br><span class="line"><span class="comment">// å°†æ–¹æ³•åŠ å…¥åˆ°ç±»</span></span><br><span class="line">ctClass.addMethod(ctMethod);</span><br><span class="line"><span class="comment">// å†…å­˜ä¸­ç”Ÿäº§ class, è¿”å›ç±»åŠ è½½</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">classMath</span> <span class="operator">=</span> ctClass.toClass();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç±»åŠ è½½</span></span><br><span class="line"><span class="comment">// Class classMath = Class.forName(&quot;com.javassist.Test.Math&quot;);</span></span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">cm</span> <span class="operator">=</span> classMath.newInstance();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ–¹æ³•</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">md</span> <span class="operator">=</span> classMath.getDeclaredMethod(<span class="string">&quot;insert&quot;</span>);</span><br><span class="line"><span class="comment">// è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">md.invoke(cm,<span class="literal">null</span>);</span><br></pre></td></tr></table></figure><p>ä¸º æ¥å£ Delete æ·»åŠ  å®ç°ç±» DeleteImpl</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–ç±»æ± </span></span><br><span class="line"><span class="type">ClassPool</span> <span class="variable">classPool</span> <span class="operator">=</span> ClassPool.getDefault();</span><br><span class="line"><span class="comment">// åˆ¶é€ ç±»</span></span><br><span class="line"><span class="type">CtClass</span> <span class="variable">ctClass</span> <span class="operator">=</span> classPool.makeClass(<span class="string">&quot;com.javassist.impl,DeleteImpl&quot;</span>);</span><br><span class="line"><span class="comment">// åˆ¶é€ æ¥å£</span></span><br><span class="line"><span class="type">CtClass</span> <span class="variable">anInterface</span> <span class="operator">=</span> classPool.makeInterface(<span class="string">&quot;com.javassist.Delete&quot;</span>);</span><br><span class="line"><span class="comment">// æ·»åŠ æ¥å£åˆ°ç±»  DeleteImpl implements Delete</span></span><br><span class="line">ctClass.addInterface(anInterface);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ç°æ–¹æ³•</span></span><br><span class="line"><span class="comment">// åˆ¶é€ æ–¹æ³•</span></span><br><span class="line"><span class="type">CtMethod</span> <span class="variable">method</span> <span class="operator">=</span> CtMethod.make(<span class="string">&quot;public void delete()&#123;System.out.println(\&quot;delete\&quot;);&#125;&quot;</span>,ctClass);</span><br><span class="line"><span class="comment">// å°†æ–¹æ³•æ·»åŠ åˆ°ç±»</span></span><br><span class="line">ctClass.addMethod(method);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨å†…å­˜ä¸­ç”Ÿæˆç±»ï¼ŒåŠ è½½åˆ°JVM</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">classzz</span> <span class="operator">=</span> ctClass.toClass();</span><br><span class="line"><span class="type">Delete</span> <span class="variable">deleteDao</span> <span class="operator">=</span> (Delete)classzz.newInstance();</span><br><span class="line">deleteDao.delete();</span><br></pre></td></tr></table></figure><p>mybatis åº•å±‚ä½¿ç”¨è¿™ä¸ªæ–¹å¼å¸®æˆ‘ä»¬è‡ªåŠ¨ç”Ÿæˆ DAO æ¥å£çš„ä»£ç†ç±»ï¼Œç„¶åå®ç°è¿™ä¸ªç±»çš„å®ç°ç±»</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--è¦æƒ³ä½¿ç”¨mapperæœºåˆ¶ï¼Œnamespace å¿…é¡»æ˜¯å¯¹åº”DAOæ¥å£çš„åŒ…å--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;com.bank.dao.AccountDao&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--  è¦æƒ³ä½¿ç”¨mapper æœºåˆ¶ï¼Œ è¯­å¥id å¿…é¡»æ˜¯DAOæ¥å£çš„æ–¹æ³•å  --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">update</span> <span class="attr">id</span>=<span class="string">&quot;updateByActno&quot;</span>&gt;</span></span><br><span class="line">        update t_act set balance=#&#123;balance&#125; where actno = #&#123;actno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByActno&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;com.bank.pojo.Account&quot;</span>&gt;</span></span><br><span class="line">        select * from t_act where actno=#&#123;actno&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="ThreadLocal"><a href="#ThreadLocal" class="headerlink" title="ThreadLocal"></a>ThreadLocal</h3><blockquote><p>æ¯ä¸€ä¸ªçº¿ç¨‹éƒ½æœ‰å±äºè‡ªå·±çš„ SqlSession ,æ”¹é€  SqlSessionUtils</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SqlSessionUtil</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SqlSessionFactory sqlSessionFactory;</span><br><span class="line">    <span class="comment">// å…¨å±€çš„ï¼ŒæœåŠ¡å™¨çº§åˆ«çš„ï¼Œä¸€ä¸ªæœåŠ¡å™¨å½“ä¸­å®šä¹‰ä¸€ä¸ªå³å¯</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ThreadLocal&lt;SqlSession&gt; local = <span class="keyword">new</span> <span class="title class_">ThreadLocal</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// é˜²æ­¢ new å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SqlSessionUtil</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç±»åŠ è½½æ—¶ï¼Œè§£æmtbatis-config.xml æ–‡ä»¶ã€‚åˆ›å»º SqlSessionFactory å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            sqlSessionFactory = <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(Resources.getResourceAsStream(<span class="string">&quot;mybatis-config.xml&quot;</span>));</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * è·å–ä¼šè¯å¯¹è±¡, ä½¿ç”¨ ThreadLocal   å…¨å±€å”¯ä¸€</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SqlSession <span class="title function_">openSession</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> local.get();</span><br><span class="line">        <span class="keyword">if</span> (sqlSession == <span class="literal">null</span>) &#123;</span><br><span class="line">            sqlSession = sqlSessionFactory.openSession();</span><br><span class="line">            <span class="comment">// ç»‘å®šçº¿ç¨‹ï¼ŒåŒä¸€çº¿ç¨‹æ‹¿åˆ°å¯¹è±¡ä¸€æ ·</span></span><br><span class="line">            local.set(sqlSession);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sqlSession;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å…³é—­SqlSession å¯¹è±¡ï¼Œä»å½“å‰çº¿ç¨‹ç§»å‡ºSqlSession å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">(SqlSession sqlSession)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (sqlSession != <span class="literal">null</span>) &#123;</span><br><span class="line">            sqlSession.close();</span><br><span class="line">            <span class="comment">// ç§»å‡ºSqlSession å¯¹è±¡å’Œå½“å‰çº¿ç¨‹çš„ç»‘å®šï¼Œ å› ä¸ºmysqlæœ‰çº¿ç¨‹æ± </span></span><br><span class="line">            local.remove();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="mybatis-å°æŠ€å·§"><a href="#mybatis-å°æŠ€å·§" class="headerlink" title="mybatis å°æŠ€å·§"></a>mybatis å°æŠ€å·§</h3><h4 id="ï¼Œ-åŒºåˆ«"><a href="#ï¼Œ-åŒºåˆ«" class="headerlink" title="#{}ï¼Œ${} åŒºåˆ«"></a>#{}ï¼Œ${} åŒºåˆ«</h4><blockquote><p>#{}ï¼šåº•å±‚ä½¿ç”¨ PreparedStatementã€‚å…ˆç¼–è¯‘å†ç»™SQLè¯­å¥ï¼Ÿä¼ å€¼ã€‚é¿å…SQLæ³¨å…¥</p><p>${}ï¼šåº•å±‚ä½¿ç”¨ Statementã€‚å…ˆç²¾é€‰SQLè¯­å¥æ‹¼æ¥ï¼Œç„¶åå†å¯¹SQL è¯­å¥è¿›è¡Œç™½æ³¥ä¸€ã€‚å­˜åœ¨SQLæ³¨å…¥é£é™©</p></blockquote><p>æŸ¥è¯¢æ’åºæ—¶ä¼šç”¨åˆ° ${}</p><p>åˆ†è¡¨æŸ¥è¯¢æ‹¼æ¥è¡¨åæŸ¥è¯¢ï¼Œå¦‚ï¼št_log20201012ï¼Œå‰ç«¯ä¼ æ—¥æœŸï¼Œåç«¯æ‹¼æ¥</p><h4 id="æ‰¹é‡åˆ é™¤"><a href="#æ‰¹é‡åˆ é™¤" class="headerlink" title="æ‰¹é‡åˆ é™¤"></a>æ‰¹é‡åˆ é™¤</h4><ol><li><p>or</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> t_car <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span> <span class="keyword">or</span> id<span class="operator">=</span><span class="number">2</span> <span class="keyword">or</span> id<span class="operator">=</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure></li><li><p>int</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> t_car <span class="keyword">where</span> id <span class="keyword">in</span> (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> deleteBatch(String ids);<span class="operator">/</span><span class="operator">/</span> å¤šid,åˆ†å‰²</span><br></pre></td></tr></table></figure></li></ol><h4 id="æ¨¡ç³ŠæŸ¥è¯¢"><a href="#æ¨¡ç³ŠæŸ¥è¯¢" class="headerlink" title="æ¨¡ç³ŠæŸ¥è¯¢"></a>æ¨¡ç³ŠæŸ¥è¯¢</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_car <span class="keyword">where</span> brand <span class="keyword">like</span> <span class="string">&#x27;%æ¯”äºšè¿ª%&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span>ã€</span><br><span class="line"><span class="string">&#x27;%#&#123;brand&#125;%&#x27;</span></span><br><span class="line"><span class="number">2</span>ã€concatå‡½æ•°ï¼Œmysql æ•°æ®åº“ä¸­çš„å‡½æ•°ï¼Œä¸“é—¨å­—ç¬¦æ‹¼æ¥</span><br><span class="line">concat(<span class="string">&#x27;%&#x27;</span>,#&#123;brand&#125;, <span class="string">&#x27;%&#x27;</span>)</span><br><span class="line"><span class="number">3</span>ã€</span><br><span class="line">brand <span class="keyword">like</span> concat(<span class="string">&#x27;%&#x27;</span>,#&#123;brand&#125;, <span class="string">&#x27;%&#x27;</span>)</span><br><span class="line"><span class="number">4</span>ã€</span><br><span class="line">&quot;%&quot;#&#123;brand&#125;&quot;%&quot;</span><br><span class="line"></span><br><span class="line">List<span class="operator">&lt;</span>Car<span class="operator">&gt;</span> selectByBrandLike(Sreing brand);</span><br></pre></td></tr></table></figure><h4 id="åˆ«åé…ç½®"><a href="#åˆ«åé…ç½®" class="headerlink" title="åˆ«åé…ç½®"></a>åˆ«åé…ç½®</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">    mybatis-config.xml</span></span><br><span class="line"><span class="comment">åˆ«åä¸åŒºåˆ†å¤§å°å†™ï¼Œ namespaceä¸èƒ½ä½¿ç”¨åˆ«å</span></span><br><span class="line"><span class="comment">type: æŒ‡å®šç»™å“ªä¸ªç±»å‹èµ·åˆ«å</span></span><br><span class="line"><span class="comment"> aliasï¼šæŒ‡å®šåˆ«åï¼Œçœç•¥è¿™ä¸ªå±æ€§ï¼Œåˆ«åå°±æ˜¯ç±»çš„ç®€æ˜</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">å¦‚ï¼šä¸‹é¢è¿™ä¸ªç®€æ˜ Car</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">typeAliases</span>&gt;</span></span><br><span class="line">    // packageå¯ä»¥å°†æ­¤åŒ…ä¸‹æ‰€æœ‰ç±»è‡ªåŠ¨èµ·åˆ«åï¼Œé»˜è®¤éƒ½æ˜¯ç±»ç®€å</span><br><span class="line">    <span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.java.bank&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;<span class="name">typeAlias</span> <span class="attr">type</span>=<span class="string">&quot;com.java.bank.Car&quot;</span> <span class="attr">alias</span>=<span class="string">&quot;aaa&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">typeAliases</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">ä½¿ç”¨</span></span><br><span class="line"><span class="comment">CaeMapper.xml</span></span><br><span class="line"><span class="comment">--&gt;</span> </span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByCarType&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Aaa&quot;</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="mapperé…ç½®"><a href="#mapperé…ç½®" class="headerlink" title="mapperé…ç½®"></a>mapperé…ç½®</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// ç±»çš„æ ¹è·¯å¾„ä¸‹æŸ¥æ‰¾èµ„æº</span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;xxx.xml&quot;</span> /&gt;</span></span><br><span class="line">// ç»å¯¹è·¯å¾„</span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">url</span>=<span class="string">&quot;file:///xxx.xml&quot;</span> /&gt;</span></span><br><span class="line">// å…¨é™å®šæ¥å£åï¼Œå¿…é¡»å¸¦æœ‰åŒ…åã€‚ç„¶åä»æ¥å£ååŒè·¯å¾„æŸ¥æ‰¾,å¹¶ä¸”å’Œæ¥å£åä¸€è‡´ (Transfer.xml)</span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">class</span>=<span class="string">&quot;com.java.bank.Transfer&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line">// å°†åŒ…ä¸‹æ‰€æœ‰xmlæ–‡ä»¶è‡ªåŠ¨é…ç½®ã€‚ã€xmlæ–‡ä»¶ä¸æ¥å£åŒåŒ…ä¸‹ä¸”åå­—ç›¸åŒã€‘</span><br><span class="line"><span class="tag">&lt;<span class="name">package</span> <span class="attr">name</span>=<span class="string">&quot;com.java.bank.mapper&quot;</span> /&gt;</span></span><br></pre></td></tr></table></figure><h4 id="é…ç½®æ¨¡æ¿æ–‡ä»¶"><a href="#é…ç½®æ¨¡æ¿æ–‡ä»¶" class="headerlink" title="é…ç½®æ¨¡æ¿æ–‡ä»¶"></a>é…ç½®æ¨¡æ¿æ–‡ä»¶</h4><blockquote><p>å» settings -ã€‹ FIle and code Template æ–°å¢æ¨¡æ¿</p><p>alt+insert æ–°å»ºå¿«æ·é”®</p></blockquote><h4 id="ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®"><a href="#ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®" class="headerlink" title="ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®"></a>ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆçš„ä¸»é”®</h4><blockquote><p>è‡ªåŠ¨ç”Ÿæˆä¸€æ¡è‡ªå¢æ•°æ®ï¼Œidè‡ªå¢æˆ‘ä»¬å°±ä¸çŸ¥é“ç”Ÿæˆçš„æ˜¯å¤šå°‘ã€‚å¦‚æœæˆ‘ä»¬è¦ç”¨åˆ°idï¼Œéš¾é“è¿˜è¦å†æŸ¥ä¸€æ¬¡ä¹ˆï¼Ÿ</p></blockquote><p>é…ç½®ç”Ÿæˆä¸»é”®</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// useGeneratedKeys: å¼€å¯ä½¿ç”¨è‡ªåŠ¨ç”Ÿæˆä¸»é”®</span><br><span class="line">// keyPropertyï¼šå°†è‡ªå¢ä¸»é”®èµ‹å€¼ç»™ id å±æ€§</span><br><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertCarUseGeneratedKeys&quot;</span> <span class="attr">useGeneratedKeys</span>=<span class="string">&quot;true&quot;</span> <span class="attr">keyProperty</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">insert into t_car values(null, #&#123;carNum&#125;, #&#123;brand&#125;, #&#123;guidePrice&#125;, #&#123;produceTime&#125;, #&#123;carType&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è·å–ä¸»é”®å€¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtil.openSession();</span><br><span class="line"><span class="type">CarMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(CarMapper.class);</span><br><span class="line"><span class="type">Car</span> <span class="variable">car</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Car</span>(<span class="literal">null</span>, <span class="string">&quot;9911&quot;</span>, <span class="string">&quot;å‡¯ç¾ç‘&quot;</span>, <span class="number">30.0</span>, <span class="string">&quot;2020-10-10&quot;</span>);</span><br><span class="line">mapper.insertCarUseGenneratedKey(car);</span><br><span class="line"></span><br><span class="line">System.out.println(car);<span class="comment">// ä¼šè¾“å‡ºid xxx</span></span><br><span class="line"></span><br><span class="line">sqlSession.commit();</span><br><span class="line">sqlSession.close();</span><br></pre></td></tr></table></figure><h4 id="mybatis-å‚æ•°å¤„ç†"><a href="#mybatis-å‚æ•°å¤„ç†" class="headerlink" title="mybatis å‚æ•°å¤„ç†"></a>mybatis å‚æ•°å¤„ç†</h4><h5 id="ç®€å•ç±»å‹å‚æ•°"><a href="#ç®€å•ç±»å‹å‚æ•°" class="headerlink" title="ç®€å•ç±»å‹å‚æ•°"></a>ç®€å•ç±»å‹å‚æ•°</h5><blockquote><p>7ä¸­åŸºæœ¬ç±»å‹ï¼‹åŒ…è£…ç±»+String+ä¸¤ç§æ—¶é—´ç±»å‹</p><p>byte,short,int,long,float,double,char</p><p>Byte,Short,Integer,Long,Float,Double,Character</p><p>String</p><p>java,util.Date, java.sql.Date</p></blockquote><p>å½“æ¥å£ä¸­æ–¹æ³•å‚æ•°åªæœ‰ä¸€ä¸ªï¼Œå¹¶ä¸”éƒ½æ˜¯ç®€å•ç±»å‹æ—¶ã€‚æ­¤æ—¶mybatis å¯ä»¥è‡ªåŠ¨æ¨æ–­ï¼Œä¸ç”¨æŒ‡å®šå‚æ•°ç±»å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    List&lt;Student&gt; <span class="title function_">selectById</span><span class="params">(Long id)</span>;</span><br><span class="line">    List&lt;Student&gt; <span class="title function_">selectByName</span><span class="params">(String name)</span>;</span><br><span class="line">    List&lt;Student&gt; <span class="title function_">selectByTime</span><span class="params">(Date time)</span>;</span><br><span class="line">    List&lt;Student&gt; <span class="title function_">selectById</span><span class="params">(<span class="type">boolean</span> id)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">SqlSession</span> <span class="variable">sqlSession</span> <span class="operator">=</span> SqlSessionUtil.openSession();</span><br><span class="line"><span class="type">CarMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> sqlSession.getMapper(CarMapper.class);</span><br><span class="line">mapper.selectById(<span class="number">1000</span>)</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">parameterType æŒ‡å®šå‚æ•°ç±»å‹ï¼Œå¯ä»¥çœç•¥ mybatiså¯ä»¥è‡ªåŠ¨æ¨æ–­ã€‚å…³äºç±»å‹ mtbatis å†…ç½®äº†å¾ˆå¤šç±»å‹çš„åˆ«åï¼Œå¯ä»¥å‚è€ƒä¸­æ–‡æ–‡æ¡£</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Student&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;long&quot;</span>&gt;</span></span><br><span class="line">select * from t_student where id= #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// å¯ä»¥è¿™æ ·å†™ï¼ŒæŒ‡å®šå‚æ•°ç±»å‹å’Œå­—æ®µåœ¨æ•°æ®åº“çš„ç±»å‹</span><br><span class="line">id=#&#123;id, javaType=String,jdbcType=VARCHAR&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="å‚æ•°æ˜¯-Map-ç±»å‹"><a href="#å‚æ•°æ˜¯-Map-ç±»å‹" class="headerlink" title="å‚æ•°æ˜¯ Map ç±»å‹"></a>å‚æ•°æ˜¯ Map ç±»å‹</h5><blockquote><p>mybatis ä¹Ÿèƒ½è‡ªåŠ¨ç±»å‹æ¨æ–­</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list&lt;Map&gt; <span class="title function_">insertStudentByMap</span><span class="params">(Map map)</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Map&lt;Stirng&gt; map = <span class="keyword">new</span> <span class="title class_">Map</span>();</span><br><span class="line">map.add(<span class="string">&quot;xx&quot;</span>);</span><br><span class="line">mapper.insertStudentByMap(map);</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertStudentByMap&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;map&quot;</span> &gt;</span></span><br><span class="line">insert into t_student(id, name,age,sex,birth,height) values(null,#&#123;&#125;,#&#123;&#125;,#&#123;&#125;,#&#123;&#125;,#&#123;&#125;)</span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="å‚æ•°æ˜¯å®ä½“"><a href="#å‚æ•°æ˜¯å®ä½“" class="headerlink" title="å‚æ•°æ˜¯å®ä½“"></a>å‚æ•°æ˜¯å®ä½“</h5><blockquote><p>å‚æ•°æ˜¯ä¸€ä¸ª pojo å®ä½“ç±»,æ­¤æ—¶mybatis ä¹Ÿå¯ä»¥è‡ªåŠ¨ç±»å‹æ¨æ–­</p></blockquote><h4 id="å‚æ•°ä¹‹å¤šå‚æ•°"><a href="#å‚æ•°ä¹‹å¤šå‚æ•°" class="headerlink" title="å‚æ•°ä¹‹å¤šå‚æ•°"></a>å‚æ•°ä¹‹å¤šå‚æ•°</h4><blockquote><p>mybatis ä¼šåˆ›å»ºä¸€ä¸ªæ•°ç»„æŠŠå¤šä¸ªå‚æ•°æ”¾è¿›å»</p><p>map.put(â€œarg0â€, name);</p><p>map.put(â€œarg1â€, sex);</p><p>map.put(â€œarg2â€, xxx);</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Student&gt; <span class="title function_">selectByNameAndSex</span><span class="params">(String name, Chaecter sex)</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByNameAndSex&quot;</span> <span class="attr">resultTpet</span>=<span class="string">&quot;Student&quot;</span>&gt;</span></span><br><span class="line">    // param1,param2ä¹Ÿè¡Œï¼Œä½ç‰ˆæœ¬å¯èƒ½ä½¿ç”¨çš„æ˜¯ #&#123;0&#125;#&#123;1&#125;</span><br><span class="line">select * from t_student where name=#&#123;arg0&#125; and sex=#&#123;arg1&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å‚æ•°ä¹‹-params-æ³¨è§£"><a href="#å‚æ•°ä¹‹-params-æ³¨è§£" class="headerlink" title="å‚æ•°ä¹‹ @params æ³¨è§£"></a>å‚æ•°ä¹‹ @params æ³¨è§£</h4><blockquote><p>åº•å±‚å®ç°</p><p>map.put(â€œnameâ€, â€œxxxâ€);</p><p>map.put(â€œsexâ€, â€œç”·â€)</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Student&gt; <span class="title function_">selectByNameAndSex</span><span class="params">(<span class="meta">@Param(&quot;name&quot;)</span> String name, <span class="meta">@Param(&quot;sex&quot;)</span> Chaecter sex)</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByNameAndSex&quot;</span> <span class="attr">resultTpet</span>=<span class="string">&quot;Student&quot;</span>&gt;</span></span><br><span class="line">     // param1,param2ä¹Ÿè¡Œ</span><br><span class="line">select * from t_student where name=#&#123;name&#125; and sex=#&#123;sex&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="Mybatis-æŸ¥è¯¢ä¸“é¢˜"><a href="#Mybatis-æŸ¥è¯¢ä¸“é¢˜" class="headerlink" title="Mybatis æŸ¥è¯¢ä¸“é¢˜"></a>Mybatis æŸ¥è¯¢ä¸“é¢˜</h3><h4 id="è¿”å›Car"><a href="#è¿”å›Car" class="headerlink" title="è¿”å›Car"></a>è¿”å›Car</h4><blockquote><p>æŸ¥è¯¢è¿”å›pojoå®ä½“ Carã€‚ æ¨¡ç³ŠæŸ¥è¯¢è¿”å›å¿…é¡»é‡‡ç”¨List é›†åˆæ¥æ”¶ï¼Œå› ä¸ºå¯èƒ½è¿”å›å¤šä¸ªç»“æœã€‚ å¦‚æœå•ä¸ªæŸ¥è¯¢ç”¨List é›†åˆæ¥æ”¶ï¼Œè¿™æ ·æ˜¯å¯ä»¥çš„</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Car <span class="title function_">selectById</span><span class="params">(String id)</span>;</span><br><span class="line">List&lt;Car&gt;selectAll();</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// æ•°æ®åº“çš„ä¸‹åˆ’çº¿å‘½åä¸pojoç±»çš„å°é©¼å³°å‘½åå†²çªå¯èƒ½è¿”å›null å€¼</span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectById&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;car&quot;</span>&gt;</span></span><br><span class="line">select * from t_car where id=#&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAll&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;car&quot;</span>&gt;</span></span><br><span class="line">select * from t_car</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="è¿”å›Map"><a href="#è¿”å›Map" class="headerlink" title="è¿”å›Map"></a>è¿”å›Map</h4><blockquote><p>è¿”å›map, key æ˜¯è¡¨å­—æ®µåï¼Œå€¼æ˜¯å¯¹åº”å±æ€§å€¼</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›ä¸€ä¸ªmap</span></span><br><span class="line">Map&lt;String, Object&gt; <span class="title function_">selectByIdRetMap</span><span class="params">(Long id)</span>;</span><br><span class="line"><span class="comment">// è¿”å›å¤šä¸ªmap</span></span><br><span class="line">List&lt;Map&lt;String, Object&gt;&gt; <span class="title function_">selectByIdRetListMap</span><span class="params">(Long id)</span>;</span><br><span class="line"><span class="comment">// è¿”å›mapå¥—map,å¤§mapé”®æ˜¯å°mapçš„key</span></span><br><span class="line">Map&lt;Long,Map&lt;String, Object&gt;&gt; <span class="title function_">selectByIdRetBigMap</span><span class="params">(Long id)</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByIdRetMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">select * from t_car where id=#&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line">// è¿™ä¸ªresultTypeè¿˜æ˜¯map</span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByIdRetListMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">select * from t_car</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByIdRetBigMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span>&gt;</span></span><br><span class="line">select * from t_car</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ç»“æœæ˜ å°„"><a href="#ç»“æœæ˜ å°„" class="headerlink" title="ç»“æœæ˜ å°„"></a>ç»“æœæ˜ å°„</h4><blockquote><p>å½“æ•°æ®åº“çš„ä¸‹åˆ’çº¿å‘½åä¸pojoç±»çš„å°é©¼å³°å‘½åå†²çªå¯èƒ½è¿”å›null å€¼çš„æƒ…å†µï¼Œ</p><p>æ™®é€šå°±æ˜¯åœ¨æŸ¥è¯¢æ˜¯æ·»åŠ åˆ«åï¼Œå½“æ—¶å­—æ®µå¤šæ—¶æ¯”è¾ƒéº»çƒ¦</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Car&gt; <span class="title function_">selectAllByResultMap</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">ä¸“é—¨å®šä¹‰ä¸€ä¸ªç»“æœæ˜ å°„æŒ‡å®šæ•°æ®åº“ä¸­å­—æ®µåå¯¹åº”java pojoç±»çš„å±æ€§åå¯¹åº”å…³ç³»</span></span><br><span class="line"><span class="comment">type: ç”¨æ¥æŒ‡å®špojoç±»ç±»å</span></span><br><span class="line"><span class="comment">id: æŒ‡å®šresultMapçš„å”¯ä¸€æ ‡è¯†ã€‚åœ¨selectæ ‡ç­¾carResultMapä¸­ä½¿ç”¨</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;carResultMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;car&quot;</span> &gt;</span><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line">// å¦‚æœæœ‰ä¸»é”®ç”¨æ­¤æ ‡ç­¾é…ç½®ï¼Œå¯ä»¥æé«˜mybatisæ‰§è¡Œæ•ˆç‡</span><br><span class="line"><span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;id&quot;</span> <span class="attr">column</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line">// property pojoç±»ä¸­å­—æ®µå</span><br><span class="line">// column æ•°æ®åº“å­—æ®µå</span><br><span class="line"><span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;&quot;</span> <span class="attr">column</span>=<span class="string">&quot;&quot;</span> /&gt;</span></span><br><span class="line">     // å¦‚æœä¸¤ä¸ªå±æ€§å€¼ç›¸åŒå¯ä»¥çœç•¥</span><br><span class="line">     <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;carType&quot;</span> <span class="attr">column</span>=<span class="string">&quot;car_type&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;string&quot;</span> <span class="attr">jdbcType</span>=<span class="string">&quot;VARCHAR&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectAllByResultMap&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;map&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;carResultMap&quot;</span>&gt;</span></span><br><span class="line">select * from t_car</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å¼€å¯é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„"><a href="#å¼€å¯é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„" class="headerlink" title="å¼€å¯é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„"></a><strong>å¼€å¯é©¼å³°å‘½åè‡ªåŠ¨æ˜ å°„</strong></h4><blockquote><p>javaå‘½åï¼šå°é©¼å³°   eg: myMethodPost</p><p>mysqlå‘½åï¼šå°†å°é©¼å³°æ”¹ä¸º ä¸‹åˆ’çº¿ï¼šmy_method_post</p></blockquote><p>mybatis-config.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;mapUndersourceToCamelCase&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="è¿”å›æ€»è®°å½•æ¡æ•°"><a href="#è¿”å›æ€»è®°å½•æ¡æ•°" class="headerlink" title="è¿”å›æ€»è®°å½•æ¡æ•°"></a>è¿”å›æ€»è®°å½•æ¡æ•°</h4><blockquote><p>æŸ¥è¯¢æ‰€æœ‰ï¼Œä½†æ˜¯è¦è¿”å›æ€»è®°å½•æ¡æ•°</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectTotal&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;long&quot;</span>&gt;</span></span><br><span class="line">select count(*) from t_car</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="åŠ¨æ€SQL"><a href="#åŠ¨æ€SQL" class="headerlink" title="åŠ¨æ€SQL"></a>åŠ¨æ€SQL</h3><blockquote><p>éœ€è¦æ‹¼æ¥sql  å¦‚æ‰¹é‡åˆ é™¤</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> id æ•°ç»„æ˜¯åŠ¨æ€çš„</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> t_car <span class="keyword">where</span> id <span class="keyword">in</span> (<span class="number">1</span>,<span class="number">2</span>,<span class="number">3.</span>..)</span><br></pre></td></tr></table></figure></blockquote><h4 id="ifæ ‡ç­¾"><a href="#ifæ ‡ç­¾" class="headerlink" title="ifæ ‡ç­¾"></a>ifæ ‡ç­¾</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Car&gt; <span class="title function_">selectByMultiCondition</span> <span class="params">(</span></span><br><span class="line"><span class="params">    <span class="meta">@Param(&quot;brand&quot;)</span> String brand, </span></span><br><span class="line"><span class="params">    <span class="meta">@Param(&quot;guidePrice&quot;)</span> Double guidePrice, </span></span><br><span class="line"><span class="params">    <span class="meta">@Param(&quot;carType&quot;)</span> String carType</span></span><br><span class="line"><span class="params">)</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByMultiCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Car&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- test å±æ€§æ˜¯å¿…é¡»çš„ï¼Œ trueæ‹¼æ¥ï¼Œfalseä¸æ‹¼æ¥</span></span><br><span class="line"><span class="comment">ä¸èƒ½ä½¿ç”¨ &amp;&amp; ä½¿ç”¨ and </span></span><br><span class="line"><span class="comment">åŠ ä¸Š 1=1 ä¸ºäº†é˜²æ­¢where åè¾¹æ²¡æœ‰ä¸œè¥¿sqlæŠ¥é”™</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    select * from t_car where 1=1</span><br><span class="line"><span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;brand != null and brand !=&#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">        and brand like &quot;%&quot;#&#123;brand&#125;&quot;%&quot;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;guidePrice != null and guidePrice != &#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">    and guide_price like &quot;%&quot;#&#123;guidePrice&#125;&quot;%&quot;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">     <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;carType != null and carType != &#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">        and car_type like &quot;%&quot;#&#123;carType&#125;&quot;%&quot;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="where-æ ‡ç­¾"><a href="#where-æ ‡ç­¾" class="headerlink" title="where æ ‡ç­¾"></a>where æ ‡ç­¾</h4><blockquote><p>whereæ ‡ç­¾çš„ä½œç”¨: è®©whereå­å¥æ›´åŠ åŠ¨æ€æ™ºèƒ½æ‰€æœ‰æ¡ä»¶éƒ½ä¸ºç©ºæ—¶ï¼Œwhereæ ‡ç­¾ä¿è¯ä¸ä¼šç”Ÿæˆwhereå­å¥.<strong>è‡ªåŠ¨å»é™¤æŸäº›æ¡ä»¶å‰é¢å¤šä½™çš„andæˆ–or</strong>ã€‚</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByMultiCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Car&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    select * from t_car</span><br><span class="line">    <span class="comment">&lt;!-- ä¸“é—¨è´Ÿè´£whereå­è¯­å¥åŠ¨æ€ç”Ÿæˆ--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;brand != null and brand !=&#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            brand like &quot;%&quot;#&#123;brand&#125;&quot;%&quot;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;guidePrice != null and guidePrice != &#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            and guide_price like &quot;%&quot;#&#123;guidePrice&#125;&quot;%&quot;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;carType != null and carType != &#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            and car_type like &quot;%&quot;#&#123;carType&#125;&quot;%&quot;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="trimæ ‡ç­¾"><a href="#trimæ ‡ç­¾" class="headerlink" title="trimæ ‡ç­¾"></a>trimæ ‡ç­¾</h4><blockquote><p>trimæ ‡ç­¾çš„å±æ€§</p><ul><li>prefix:åœ¨trimæ ‡ç­¾ä¸­çš„è¯­å¥å‰æ·»åŠ å‰ç¼€</li><li>suffix: åœ¨trimæ ‡ç­¾ä¸­çš„è¯­å¥åæ·»åŠ åç¼€</li><li>prefixOverrides: å»æ‰å‰ç¼€</li><li>suffixOverrides: å»æ‰åç¼€</li></ul></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByMultiCondition&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Car&quot;</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    select * from t_car</span><br><span class="line">    <span class="comment">&lt;!-- </span></span><br><span class="line"><span class="comment">prefix=&quot;where&quot;ï¼šæ‰€æœ‰å­è¯­å¥åŠ å‰ç¼€ where</span></span><br><span class="line"><span class="comment">    suffixOverrides=&quot;and|or&quot;ï¼šæ‰€æœ‰å­è¯­å¥å»æ‰åç¼€ and / or</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">trim</span> <span class="attr">prefix</span>=<span class="string">&quot;where&quot;</span> <span class="attr">suffixOverrides</span>=<span class="string">&quot;and|or&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;brand != null and brand !=&#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            brand like &quot;%&quot;#&#123;brand&#125;&quot;%&quot; and</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;guidePrice != null and guidePrice != &#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            guide_price = #&#123;guidePrice&#125; and</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;carType != null and carType != &#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            car_type = #&#123;carType&#125;</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">trim</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="set-æ ‡ç­¾"><a href="#set-æ ‡ç­¾" class="headerlink" title="set æ ‡ç­¾"></a>set æ ‡ç­¾</h4><blockquote><p><strong>ä¸»è¦ä½¿ç”¨åœ¨updateè¯­å¥å½“ä¸­</strong>ï¼Œç”¨æ¥ç”Ÿæˆsetå…³é”®å­—ï¼ŒåŒæ—¶å»æ‰æœ€åå¤šä½™çš„ â€œ,â€ æ¯”å¦‚æˆ‘ä»¬åªæ›´æ–°æäº¤çš„ä¸ä¸ºç©ºçš„å­—æ®µï¼Œå¦‚æœæäº¤çš„æ•°æ®æ˜¯ç©ºæˆ–è€… nullï¼Œé‚£ä¹ˆè¿™ä¸ªå­—æ®µæˆ‘ä»¬å°†ä¸æ›´æ–°ã€‚</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;updateid=&quot;updateWithSet&quot;</span><br><span class="line">    update t car</span><br><span class="line">    <span class="tag">&lt;<span class="name">set</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;carlum != null and carNum != &#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            car num = #&#123;carlum&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;brand != null and brand != &#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            brand = #&#123;fbrand&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;guidePrice != null and guidePrice != &#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            guide_price = #&#123;guidePrice&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;produceTime != null and produceTime != &#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            produce_time = #&#123;produceTimel&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">if</span> <span class="attr">test</span>=<span class="string">&quot;carType != null and carType != &#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            car_type = #&#123;fcarTypel&#125;,</span><br><span class="line">        <span class="tag">&lt;/<span class="name">if</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br><span class="line">    where id = #&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">update</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="choose-when-otherwise"><a href="#choose-when-otherwise" class="headerlink" title="choose when otherwise"></a>choose when otherwise</h4><blockquote><p>ä¸‰ä¸ªæ ‡ç­¾é€šå¸¸ä¸€èµ·ä½¿ç”¨ï¼Œç›¸å½“äºif else, åªè¦æœ‰ä¸€ä¸ªæ¡ä»¶æˆç«‹ï¼Œå°±ç»“æŸ</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;&quot;</span> &gt;</span></span><br><span class="line">select * from t_car</span><br><span class="line">    <span class="tag">&lt;<span class="name">where</span>&gt;</span></span><br><span class="line">        // åªä¼šé€‰æ‹©ä¸€ä¸ªåˆ†æ”¯</span><br><span class="line">    <span class="tag">&lt;<span class="name">choose</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;brand !=null and brand!=&#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            brand like &quot;%&quot;#&#123;brand&#125;&quot;%&quot;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">when</span> <span class="attr">test</span>=<span class="string">&quot;carType !=null and carType!=&#x27; &#x27;&quot;</span>&gt;</span></span><br><span class="line">            car_type like &quot;%&quot;#&#123;carType&#125;&quot;%&quot;</span><br><span class="line">            <span class="tag">&lt;/<span class="name">when</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">otherwise</span>&gt;</span></span><br><span class="line">            produce_time = #&#123;produceTimel&#125;,</span><br><span class="line">            <span class="tag">&lt;/<span class="name">otherwise</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">choose</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">where</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ‰¹é‡åˆ é™¤-1"><a href="#æ‰¹é‡åˆ é™¤-1" class="headerlink" title="æ‰¹é‡åˆ é™¤"></a>æ‰¹é‡åˆ é™¤</h4><blockquote><p>ä½¿ç”¨ foreach æ ‡ç­¾ </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">deleteByIds</span><span class="params">(<span class="meta">@Param(&quot;ids&quot;)</span> String[] ids)</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">delete</span> <span class="attr">id</span>=<span class="string">&quot;deleteByIds&quot;</span> &gt;</span></span><br><span class="line">    <span class="comment">&lt;!--1</span></span><br><span class="line"><span class="comment">collection: æŒ‡å®šæ•°ç»„/é›†åˆ</span></span><br><span class="line"><span class="comment">item: æ•°ç»„æ´»é›†åˆä¸­çš„å…ƒç´ </span></span><br><span class="line"><span class="comment">separator: å¾ªç¯ä¹‹é—´çš„åˆ†éš”ç¬¦</span></span><br><span class="line"><span class="comment">ç›´æ¥ä½¿ç”¨ ids ä¼šæŠ¥é”™ï¼Œæç¤ºå¯ä»¥ä½¿ç”¨ array/arg, é…ç½®@Paramså¯ä»¥ä½¿ç”¨åˆ«å</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">delete from t_car where id in(</span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;ids&quot;</span> <span class="attr">item</span>=<span class="string">&quot;id&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> &gt;</span></span><br><span class="line">    #&#123;id&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line">    )</span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--2--&gt;</span></span><br><span class="line">    delete from t_car where id in</span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;array&quot;</span> <span class="attr">item</span>=<span class="string">&quot;id&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> <span class="attr">open</span>=<span class="string">&quot;(&quot;</span> <span class="attr">close</span>=<span class="string">&quot;)&quot;</span></span></span><br><span class="line"><span class="tag">        #&#123;<span class="attr">id</span>&#125;</span></span><br><span class="line"><span class="tag">    &lt;/<span class="attr">foreach</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">&lt;!--3--&gt;</span></span><br><span class="line">    delete from t_car where id</span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;array&quot;</span> <span class="attr">item</span>=<span class="string">&quot;id&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;or&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">id</span>=<span class="string">#&#123;id&#125;</span></span></span><br><span class="line"><span class="tag">    &lt;/<span class="attr">foreach</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">delete</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="æ‰¹é‡æ’å…¥"><a href="#æ‰¹é‡æ’å…¥" class="headerlink" title="æ‰¹é‡æ’å…¥"></a>æ‰¹é‡æ’å…¥</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="title function_">insertBatch</span><span class="params">(<span class="meta">@Param(&quot;cars&quot;)</span> List&lt;Car&gt; cars)</span>;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">insert</span> <span class="attr">id</span>=<span class="string">&quot;insertBatch&quot;</span>&gt;</span></span><br><span class="line">insert into t_car(&quot;id&quot;, &quot;brand&quot;, &quot;product_price&quot;) values</span><br><span class="line">    <span class="tag">&lt;<span class="name">foreach</span> <span class="attr">collection</span>=<span class="string">&quot;cars&quot;</span> <span class="attr">item</span>=<span class="string">&quot;car&quot;</span> <span class="attr">separator</span>=<span class="string">&quot;,&quot;</span> &gt;</span></span><br><span class="line">        (null, #&#123;car.brand&#125;, #&#123;car.productPrice&#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">foreach</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">insert</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="sqlæ ‡ç­¾ï¼Œincludeæ ‡ç­¾"><a href="#sqlæ ‡ç­¾ï¼Œincludeæ ‡ç­¾" class="headerlink" title="sqlæ ‡ç­¾ï¼Œincludeæ ‡ç­¾"></a>sqlæ ‡ç­¾ï¼Œincludeæ ‡ç­¾</h4><blockquote><p>sqlæ ‡ç­¾ç”¨æ¥å£°æ˜sqlç‰‡æ®µï¼Œincludeæ ‡ç­¾ç”¨æ¥å°†å£°æ˜çš„sqlç‰‡æ®µåŒ…å«åˆ°æŸä¸ªsqlè¯­å¥ä¸­</p><p>æé«˜ä»£ç å¤ç”¨æ€§</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sql</span> <span class="attr">id</span>=<span class="string">&quot;yy&quot;</span> &gt;</span></span><br><span class="line">brand,productPrice</span><br><span class="line"><span class="tag">&lt;/<span class="name">sql</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;xx&quot;</span>&gt;</span></span><br><span class="line">select <span class="tag">&lt;<span class="name">include</span> <span class="attr">refid</span>=<span class="string">&quot;yy&quot;</span>&gt;</span> from t_car where id=#&#123;id&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ•°æ®åº“é«˜çº§æ˜ å°„"><a href="#æ•°æ®åº“é«˜çº§æ˜ å°„" class="headerlink" title="æ•°æ®åº“é«˜çº§æ˜ å°„"></a>æ•°æ®åº“é«˜çº§æ˜ å°„</h3><h4 id="å¤šå¯¹ä¸€æ˜ å°„"><a href="#å¤šå¯¹ä¸€æ˜ å°„" class="headerlink" title="å¤šå¯¹ä¸€æ˜ å°„"></a>å¤šå¯¹ä¸€æ˜ å°„</h4><p>t_stu</p><table><thead><tr><th>sid</th><th>sname</th><th>cid</th></tr></thead><tbody><tr><td>1</td><td>å¼ ä¸‰</td><td>1000</td></tr><tr><td>2</td><td>æå››</td><td>1000</td></tr><tr><td>3</td><td>ç‹äº”</td><td>1001</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer sid;</span><br><span class="line">    <span class="keyword">private</span> String sname;</span><br><span class="line">    <span class="keyword">private</span> Clazz clazz</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>t_class</p><table><thead><tr><th>cid</th><th>cname</th></tr></thead><tbody><tr><td>1000</td><td>é«˜ä¸‰ä¸€ç­</td></tr><tr><td>1001</td><td>é«˜ä¸‰äºŒç­</td></tr></tbody></table><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Clazz</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer cid;</span><br><span class="line">    <span class="keyword">private</span> String cname;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">æŸ¥è¯¢å­¦ç”Ÿå¸¦å‡ºå¯¹åº”çš„ç­çº§ä¿¡æ¯</span></span><br><span class="line"><span class="comment">1ã€ä¸€æ¡SQLï¼Œçº§è”å±æ€§æ˜ å°„</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;stuRsMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Student&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;sid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;clazz.cid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;cid&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;clazz.cname&quot;</span> <span class="attr">column</span>=<span class="string">&quot;cname&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;stuRsMap&quot;</span>&gt;</span></span><br><span class="line">select s.sid, s.sname, c.cid, c.cname</span><br><span class="line">    from t_stu</span><br><span class="line">    left join t_clazz c</span><br><span class="line">    on s.cid = c.cid</span><br><span class="line">    where s.sid = #&#123;sid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">æŸ¥è¯¢å­¦ç”Ÿå¸¦å‡ºå¯¹åº”çš„ç­çº§ä¿¡æ¯</span></span><br><span class="line"><span class="comment">2ã€ä¸€æ¡SQLï¼Œassociation</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;stuAssociationRsMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Student&quot;</span> &gt;</span></span><br><span class="line">    // snameåŒåçœç•¥</span><br><span class="line"><span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;sid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">association:å…³è”ï¼Œä¸€ä¸ªstudentå¯¹è±¡å…³è”ä¸€ä¸ªClazzæœ€å°</span></span><br><span class="line"><span class="comment">propertyï¼š æä¾›è¦æ˜ å°„çš„POJOç±»</span></span><br><span class="line"><span class="comment">javaType: ç”¨æ¥æŒ‡å®šè¦æ˜ å°„çš„javaç±»å‹</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;claszz&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;Clazz&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;cid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;cid&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">column</span>=<span class="string">&quot;cname&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;stuAssociationRsMap&quot;</span>&gt;</span></span><br><span class="line">select s.sid, s.sname, c.cid, c.cname</span><br><span class="line">    from t_stu</span><br><span class="line">    left join t_clazz c</span><br><span class="line">    on s.cid = c.cid</span><br><span class="line">    where s.sid = #&#123;sid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">æŸ¥è¯¢å­¦ç”Ÿå¸¦å‡ºå¯¹åº”çš„ç­çº§ä¿¡æ¯</span></span><br><span class="line"><span class="comment">3ã€ä¸¤æ¡SQLï¼Œå¤šå¯¹ä¸€åˆ†å¸ƒæŸ¥è¯¢ï¼ˆå¯å¤ç”¨ï¼Œæ”¯æŒæ‡’åŠ è½½ï¼‰</span></span><br><span class="line"><span class="comment">å¼€å¯æ‡’åŠ è½½ï¼šfetchType=&quot;lazy&quot;</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;stuStepRsMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Student&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;sid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">association</span> <span class="attr">property</span>=<span class="string">&quot;claszz&quot;</span> <span class="attr">javaType</span>=<span class="string">&quot;Clazz&quot;</span> <span class="attr">select</span>=<span class="string">&quot;xxx.selectStep2&quot;</span> <span class="attr">clumn</span>=<span class="string">&quot;id&quot;</span> <span class="attr">fetchType</span>=<span class="string">&quot;lazy&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;cid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;cid&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">column</span>=<span class="string">&quot;cname&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">association</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectStepById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;stuStepRsMap&quot;</span>&gt;</span></span><br><span class="line">select sid,sname,cid from t_stu where sid=#&#123;sid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// å¦ä¸€ä¸ªxmlæ–‡ä»¶ä¸­çš„ æŸ¥è¯¢æ–¹æ³•</span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectStep2&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="å¯ç”¨å…¨å±€æ‡’åŠ è½½"><a href="#å¯ç”¨å…¨å±€æ‡’åŠ è½½" class="headerlink" title="å¯ç”¨å…¨å±€æ‡’åŠ è½½"></a>å¯ç”¨å…¨å±€æ‡’åŠ è½½</h4><blockquote><p>ä¿¡æ¯</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;lazyLoadingEnabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="ä¸€å¯¹å¤š"><a href="#ä¸€å¯¹å¤š" class="headerlink" title="ä¸€å¯¹å¤š"></a>ä¸€å¯¹å¤š</h4><blockquote><p>ä¸€å¯¹å¤šï¼Œä¸€åœ¨å‰ï¼Œä¸€æ˜¯ä¸»è¡¨ï¼Œå¤šæ˜¯å‰¯è¡¨</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Clazz</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer cid;</span><br><span class="line">    <span class="keyword">private</span> String cname;</span><br><span class="line">    <span class="keyword">private</span> List&lt;Student&gt; stus;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">æŸ¥è¯¢ç­çº§å¸¦å‡ºå¯¹åº”çš„å­¦ç”Ÿä¿¡æ¯</span></span><br><span class="line"><span class="comment">1ã€</span></span><br><span class="line"><span class="comment">collection </span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;clazzRsMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Clazz&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;cid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;cid&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;cname&quot;</span> <span class="attr">column</span>=<span class="string">&quot;cname&quot;</span> /&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">ofType: æŒ‡å®šé›†åˆå½“ä¸­çš„å…ƒç´ ç±»å‹</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;stus&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;Student&quot;</span> <span class="attr">column</span>=<span class="string">&quot;cid&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;sid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sname&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sname&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectByCollection&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">select c.id,c.name,s.sid,s.sname </span><br><span class="line">    from t_clazz</span><br><span class="line">    left join t_stu s</span><br><span class="line">    on c.cid = s.cid</span><br><span class="line">    where c.cid = #&#123;cid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">æŸ¥è¯¢ç­çº§å¸¦å‡ºå¯¹åº”çš„å­¦ç”Ÿä¿¡æ¯</span></span><br><span class="line"><span class="comment">2ã€</span></span><br><span class="line"><span class="comment">åˆ†å¸ƒæŸ¥è¯¢</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">resultMap</span> <span class="attr">id</span>=<span class="string">&quot;stuStepRsMap&quot;</span> <span class="attr">type</span>=<span class="string">&quot;Student&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;sid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">collection</span> <span class="attr">property</span>=<span class="string">&quot;stus&quot;</span> <span class="attr">ofType</span>=<span class="string">&quot;Student&quot;</span> <span class="attr">select</span>=<span class="string">&quot;selectStep2&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">id</span> <span class="attr">property</span>=<span class="string">&quot;sid&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sid&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">result</span> <span class="attr">property</span>=<span class="string">&quot;sname&quot;</span> <span class="attr">column</span>=<span class="string">&quot;sname&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">collection</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">resultMap</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectStepById&quot;</span> <span class="attr">resultMap</span>=<span class="string">&quot;stuStepRsMap&quot;</span>&gt;</span></span><br><span class="line">select cname,cid from t_clazz where cid=#&#123;cid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// å¦ä¸€ä¸ªxmlæ–‡ä»¶ä¸­çš„ æŸ¥è¯¢æ–¹æ³•</span><br><span class="line"><span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;selectStep2&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;Student&quot;</span>&gt;</span></span><br><span class="line">    select * from t_stu where cid=#&#123;cid&#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="mybatis-ç¼“å­˜"><a href="#mybatis-ç¼“å­˜" class="headerlink" title="mybatis ç¼“å­˜"></a>mybatis ç¼“å­˜</h3><blockquote><p>æ‰§è¡ŒSQL æŸ¥è¯¢çš„æ—¶å€™ï¼Œå°†æŸ¥è¯¢ç»“æœæ”¾åˆ°ç¼“å­˜ä¸­ã€‚å¦‚æœä¸‹æ¬¡è¿˜æ˜¯æ‰§è¡Œå®Œå…¨ç›¸åŒçš„sqlè¯­å¥ã€‚ç›´æ¥ä»ç¼“å­˜æ‹¿ï¼Œä¸ä»ç¡¬ç›˜æ‰¾æ•°æ®</p></blockquote><p>mybatis ç¼“å­˜åŒ…æ‹¬</p><ol><li><p>ä¸€çº§ç¼“å­˜ï¼šå°†æŸ¥è¯¢æ•°æ®å­˜åˆ°SqlSession å¯¹è±¡ , é’ˆå¯¹å½“å‰ä¼šè¯ï¼Œé»˜è®¤å¼€å¯</p><p> åªè¦ä¸¤æ¬¡è°ƒç”¨ç›¸åŒsqlæŸ¥è¯¢ã€‚</p><p> <strong>å•¥æ—¶å€™ä»¥åŠç¼“å­˜å¤±è´¥ï¼Ÿ</strong></p><p> ç¬¬ä¸€æ¬¡DQLå’Œç¬¬äºŒæ¬¡DQLä¹‹é—´åšäº†ä¸‹é¢ä»»æ„ä¸€ä»¶äº‹ï¼Œéƒ½ä¼šæ¸…ç©ºä¸€çº§ç¼“å­˜</p><ul><li>æ‰§è¡Œã€€sqlSession,cleanChache()</li><li>æ‰§è¡Œ insert,delete,update ä»»æ„ä¸€ä¸ªè¯­å¥</li></ul></li><li><p>äºŒçº§ç¼“å­˜: å°†æŸ¥è¯¢æ•°æ®å­˜åˆ°SqlSessionFactory  é’ˆå¯¹æ‰€æœ‰ä¼šè¯</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">//1ã€ é»˜è®¤å°±æ˜¯ true æ— éœ€å…¨å±€é…ç½®</span><br><span class="line"><span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;chachceEnable&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">//2ã€ ä½¿ç”¨äºŒçº§ç¼“å­˜çš„mapper.xmlæ–‡ä»¶éœ€å±€éƒ¨é…ç½® <span class="tag">&lt;<span class="name">cache</span> /&gt;</span></span><br><span class="line">//3ã€ ä½¿ç”¨äºŒçº§ç¼“å­˜çš„å®ä½“ç±»å¿…é¡»æ˜¯å¯åºåˆ—åŒ–ï¼Œæ—¢å¿…é¡»å®ç° java.io.Serializable</span><br><span class="line">//4ã€ Sqlsession å¯¹è±¡å…³é—­æˆ–æäº¤åï¼Œä¸€çº§ç¼“å­˜æ•°æ®åœ¨ä¼šè¢«å†™åˆ°äºŒçº§ç¼“å­˜</span><br></pre></td></tr></table></figure></li><li><p>ç¬¬ä¸‰æ–¹ç¼“å­˜ï¼Œä¸‰çº§ç¼“å­˜ï¼šä¸‰çº§ç¼“å­˜æ˜¯ç”¨æ¥ä»£æ›¿mybatis è‡ªå¸¦çš„äºŒçº§ç¼“å­˜</p><p> å¸¸è§ï¼šEhCache,Memcache</p></li></ol><h3 id="myBatis-é€†å‘å·¥ç¨‹"><a href="#myBatis-é€†å‘å·¥ç¨‹" class="headerlink" title="myBatis é€†å‘å·¥ç¨‹"></a>myBatis é€†å‘å·¥ç¨‹</h3><blockquote><p>æ‰€è°“çš„é€†å‘å·¥ç¨‹æ˜¯: <strong>æ ¹æ®æ•°æ®åº“è¡¨</strong>é€†å‘ç”Ÿæˆ<strong>Javaçš„pojoç±»</strong>ï¼Œ<strong>SalMapperxmlæ–‡ä»¶</strong>ï¼Œä»¥åŠ<strong>Mapperæ¥å£ç±»</strong>ç­‰.</p><p>è¦å®Œæˆè¿™ä¸ªå·¥ä½œï¼Œéœ€è¦å€ŸåŠ©åˆ«äººå†™å¥½çš„é€†å‘å·¥ç¨‹æ’ä»¶ã€‚</p><p>æ€è€ƒ:ä½¿ç”¨è¿™ä¸ªæ’ä»¶çš„è¯ï¼Œéœ€è¦ç»™è¿™ä¸ªæ’ä»¶é…ç½®å“ªäº›ä¿¡æ¯?</p><ul><li>Â·pojoç±»åã€åŒ…åä»¥åŠç”Ÿæˆä½ç½®.</li><li>SglMapper.xmlæ–‡ä»¶åä»¥åŠç”Ÿæˆä½ç½®<br>  Â·</li><li>Mapperæ¥å£åä»¥åŠç”Ÿæˆä½ç½®ã€‚</li><li>è¿æ¥æ•°æ®åº“çš„ä¿¡æ¯ã€‚</li><li>æŒ‡å®šå“ªäº›è¡¨å‚ä¸é€†å‘å·¥ç¨‹</li></ul></blockquote><p>æ–°å»ºä¸€ä¸ªmavené¡¹ç›®</p><p>ä¿®æ”¹ pom.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">packaging</span>&gt;</span>jar<span class="tag">&lt;/<span class="name">packaging</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--å®šåˆ¶æ„å»ºè¿‡ç¨‹--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!--å¯é…ç½®å¤šä¸ªæ’ä»¶--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--å…¶ä¸­çš„ä¸€ä¸ªæ’ä»¶: mybatisé€†å‘å·¥ç¨‹æ’ä»¶--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--æ’ä»¶çš„GAVåæ ‡--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis.generator<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-generator-maven-plugin<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">             <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.4.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--å…è®¸è¦†ç›–--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">overwrite</span>&gt;</span>true<span class="tag">&lt;/<span class="name">overwrite</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--æ’ä»¶çš„ä¾èµ–--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line">                <span class="comment">&lt;!--mysglé©±åŠ¨ä¾èµ–--&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysgl<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.30<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">                 <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ–°å¢ generatorConfig.xmlï¼Œæ”¾åœ¨ç±»çš„æ ¹è·¯å¾„</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0â€ encoding=&quot;</span>UTF-8<span class="string">&quot;?&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;!DOCTYPE generatorConfiguration</span></span></span><br><span class="line"><span class="string"><span class="meta">PUBLIC&quot;</span>-//mybatis.org//DTD MyBatis Generator Configuration 1.0//EN<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">&quot;</span>http://mybatis.org/dtd/mybatis-generator-config 1 0.dtd<span class="string">&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;generatorConfiguration&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;!--</span></span></span><br><span class="line"><span class="string"><span class="meta">    targetRuntimeæœ‰ä¸¤ä¸ªå€¼ :</span></span></span><br><span class="line"><span class="string"><span class="meta">    MyBatis3simple:ç”Ÿæˆçš„æ˜¯åŸºç¡€ç‰ˆï¼Œåªæœ‰åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥ã€‚</span></span></span><br><span class="line"><span class="string"><span class="meta">    MyBatis3: ç”Ÿæˆçš„æ˜¯å¢å¼ºç‰ˆï¼Œé™¤äº†åŸºæœ¬çš„å¢åˆ æ”¹æŸ¥ä¹‹å¤–è¿˜æœ‰å¤æ‚çš„å¢åˆ æ”¹æŸ¥ã€‚</span></span></span><br><span class="line"><span class="string"><span class="meta">--&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;context id=&quot;</span>DB2Tables<span class="string">&quot; targetRuntime=&quot;</span>MyBatis3<span class="string">&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;!--é˜²æ­¢ç”Ÿæˆé‡å¤ä»£ç --&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;plugin type=&quot;</span>org.mybatis.generator.plugins.UnmergeableXmlMappersPlugin<span class="string">&quot;/&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;commentGenerator&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">            &lt;!--æ˜¯å¦å»æ‰ç”Ÿæˆæ—¥æœŸ--&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">            &lt;property name=&quot;</span>suppressDate<span class="string">&quot; value=&quot;</span>true<span class="string">&quot;/&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">            &lt;!--æ˜¯å¦å»é™¤æ³¨é‡Š--&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">            &lt;property name=&quot;</span>suppressAl1Comments<span class="string">&quot; value=&quot;</span>true<span class="string">&quot;/&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;/commentGenerator&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;!--è¿æ¥æ•°æ®åº“ä¿¡æ¯--&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;jdbcConnection </span></span></span><br><span class="line"><span class="string"><span class="meta">            driverclass=&quot;</span>com.mysql.cj.jdbc.Driver<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">            connectionURL=&quot;</span>jdbc:mysql://Tocathost:3306/powernode<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">             userId=&quot;</span>root<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">             password=&quot;</span>root<span class="string">&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;/jdbcConnection&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;!-- ç”ŸæˆpojoåŒ…åå’Œä½ç½® --&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">         &lt;javaModelGenerator </span></span></span><br><span class="line"><span class="string"><span class="meta">              targetPackage=&quot;</span>com.powernode.mybatis.pojo<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">              targetProject=&quot;</span>src/main/java<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">            &gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">            &lt;!--æ˜¯å¦å¼€å¯å­åŒ…--&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">            &lt;property name=&quot;</span>enableSubPackages<span class="string">&quot; value=&quot;</span>true<span class="string">&quot;/&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">            &lt;!--æ˜¯å¦å»é™¤å­—æ®µåçš„å‰åç©ºç™½--&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">            &lt;property name=&quot;</span>trimStrings<span class="string">&quot; value=&quot;</span>true<span class="string">&quot;/&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;/javaModelGenerator&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">          &lt;!-- ç”ŸæˆSQLæ˜ å°„æ–‡ä»¶çš„åŒ…åå’Œä½ç½® --&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">          &lt;sqlMapGenerator </span></span></span><br><span class="line"><span class="string"><span class="meta">              targetPackage=&quot;</span>com.powernode.mybatis.mappen<span class="string">&quot; </span></span></span><br><span class="line"><span class="string"><span class="meta">              targetProject=&quot;</span>src/main/resources<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">           &gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">               &lt;!--æ˜¯å¦å¼€å¯å­åŒ…--&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">               &lt;property name=&quot;</span>enableSubPackages<span class="string">&quot; value=&quot;</span>true<span class="string">&quot;/&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">           &lt;/sqlMapGenerator&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;!-- ç”ŸæˆMapperæ¥å£çš„åŒ…åå’Œä½ç½®--&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;javaClientGenerator</span></span></span><br><span class="line"><span class="string"><span class="meta">            type=&quot;</span>xmIMapper<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">            targetPackage=&quot;</span>com.powernode.mybatis .mapper<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">            targetProject=&quot;</span>src/main/java<span class="string">&quot;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;property name=&quot;</span>enableSubPackages<span class="string">&quot; value=&quot;</span>true<span class="string">&quot;/&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;/javaClientGenerator&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">        &lt;!-- è¡¨åå’Œå¯¹åº”çš„å®ä½“ç±»å--&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">         &lt;table tableName=&quot;</span>t_car<span class="string">&quot; domainObjectName=&quot;</span>Car<span class="string">&quot;/&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta">    &lt;/context&gt;</span></span></span><br><span class="line"><span class="string"><span class="meta"></span></span></span><br><span class="line"><span class="string"><span class="meta">&lt;/generatorConfiguration&gt;</span></span></span><br></pre></td></tr></table></figure><p>ä»mavenæ‰¾åˆ°æ’ä»¶ mybatis-generator,å±•å¼€ã€‚ åŒå‡»mybatis-generator:generate</p><blockquote><p>MyBatisé€†å‘å·¥ç¨‹daoæ¥å£åªç”Ÿæˆä¸¤ä¸ªæ–¹æ³•ï¼ŒåŸå› ï¼š<br>1.æ˜¯ä½ çš„mysqlç‰ˆæœ¬å¤ªé«˜äº†ï¼Œæ¢æˆ6ä¸€ä¸‹çš„ç‰ˆæœ¬å³å¯<br>2.çœ‹çœ‹ä½ çš„è¡¨æœ‰æ²¡æœ‰è®¾ç½®ä¸»é”®ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ä¸€ä¸‹å³å¯<br>3.å¦‚æœæƒ³ä½¿ç”¨é«˜ç‰ˆæœ¬çš„mysqlåœ¨urlåé¢åŠ nullCatalogMeansCurrent=true</p></blockquote><h3 id="PAgeHelper-åˆ†é¡µæ’ä»¶"><a href="#PAgeHelper-åˆ†é¡µæ’ä»¶" class="headerlink" title="PAgeHelper åˆ†é¡µæ’ä»¶"></a>PAgeHelper åˆ†é¡µæ’ä»¶</h3><h4 id="limit-åˆ†é¡µ"><a href="#limit-åˆ†é¡µ" class="headerlink" title="limit åˆ†é¡µ"></a>limit åˆ†é¡µ</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">èµ·å§‹ä½ç½®(ä»0å¼€å§‹),æ¯é¡µæ¡æ•°</span></span><br><span class="line"><span class="comment">1é¡µn é¡µ</span></span><br><span class="line"><span class="comment">startIndex 0(n-1)*page</span></span><br><span class="line"><span class="comment">page 10page</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> defect_alarm LIMIT <span class="number">0</span>,<span class="number">3</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ä½¿ç”¨-pageHelper"><a href="#ä½¿ç”¨-pageHelper" class="headerlink" title="ä½¿ç”¨ pageHelper"></a>ä½¿ç”¨ pageHelper</h4><blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.1.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure></blockquote><p>mybatis-conf.xml</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">plugin</span> <span class="attr">intercepetor</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="æ³¨è§£æ˜¯å¼€å‘"><a href="#æ³¨è§£æ˜¯å¼€å‘" class="headerlink" title="æ³¨è§£æ˜¯å¼€å‘"></a>æ³¨è§£æ˜¯å¼€å‘</h3><blockquote><p>å¯ä»¥ä¸ç”¨å†™ mapper.xml æ–‡ä»¶äº†ã€‚ä½†åªæ˜¯é’ˆå¯¹ç®€å•çš„è¯­å¥</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Insert(&quot;insert into t_car values(null, #&#123;carNum&#125;,#&#123;brand&#125;)&quot;)</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">insertCar</span><span class="params">(Car car)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Delete(&quot;delete from t_car where id=#&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">deleteById</span><span class="params">(Long id)</span>;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Update(&quot;update t_car set car_num=#&#123;carNum&#125;,brand=#&#123;brand&#125; where id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">update</span> <span class="params">(Car car)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ²¡æœ‰é…ç½®å°é©¼å³°åŒ¹é…æ—¶ï¼Œå¯ä»¥è¿™æ ·åŠ æ˜ å°„</span></span><br><span class="line"><span class="meta">@Select(&quot;select * from t_car where id = #&#123;id&#125;&quot;)</span></span><br><span class="line"><span class="meta">@results(&#123;</span></span><br><span class="line"><span class="meta">    @Result(property=&quot;&quot;, column=&quot;&quot;),</span></span><br><span class="line"><span class="meta">&#125;)</span></span><br><span class="line">Car <span class="title function_">selectById</span><span class="params">(Long id)</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;ORM&quot;&gt;&lt;a href=&quot;#ORM&quot; class=&quot;headerlink&quot; title=&quot;ORM&quot;&gt;&lt;/a&gt;ORM&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;O (Object) jvmä¸­çš„å¯¹è±¡&lt;/p&gt;
&lt;p&gt;R (Relational) å…³ç³»å‹æ•°æ®åº“&lt;/p&gt;
&lt;p&gt;M (Mapping) æ˜ å°„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230214134743208.png&quot; alt=&quot;image-20230214134743208&quot;&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;æ”¯æŒå®šåˆ¶åŒ– SQLã€å­˜å‚¨è¿‡ç¨‹ã€åŸºæœ¬æ˜ å°„ä»¥åŠé«˜çº§æ˜ å°„&lt;/li&gt;
&lt;li&gt;é¿å…äº†å‡ ä¹æ‰€æœ‰çš„JDBCä»£ç ä¸­æ‰‹åŠ¨è®¾ç½®å‚æ•°ä»¥åŠè·å–ç»“æœé›†&lt;/li&gt;
&lt;li&gt;æ”¯æŒXMLå¼€å‘ï¼Œä¹Ÿæ”¯æŒæ³¨è§£å¼å¼€å‘ã€‚[ä¸ºäº†ä¿è¯sqlè¯­å¥çš„çµæ´»ï¼Œæ‰€ä»¥mybatiså¤§éƒ¨åˆ†æ˜¯é‡‡ç”¨XMLæ–¹å¼å¼€å‘ã€‚]&lt;/li&gt;
&lt;li&gt;å°†æ¥å£å’ŒJava çš„ POJOs(Plain rdinary Java Objectï¼Œç®€å•æ™®é€šçš„Javaå¯¹è±¡)æ˜ å°„æˆæ•°æ®åº“ä¸­çš„è®°å½•ä½“ç§¯å°å¥½å­¦: &lt;/li&gt;
&lt;li&gt;ä¸¤ä¸ªjaråŒ…ï¼Œä¸¤ä¸ªXMLé…ç½®æ–‡ä»¶ã€‚&lt;/li&gt;
&lt;li&gt;å®Œå…¨åšåˆ°salè§£è€¦åˆ&lt;/li&gt;
&lt;li&gt;æä¾›äº†åŸºæœ¬æ˜ å°„æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;æä¾›äº†é«˜çº§æ˜ å°„æ ‡ç­¾&lt;/li&gt;
&lt;li&gt;æä¾›äº†XMLæ ‡ç­¾ï¼Œæ”¯æŒåŠ¨æ€SQLçš„ç¼–å†™&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    <category term="java" scheme="https://wyf195075595.github.io/categories/java/"/>
    
    
    <category term="mybatis åŸºç¡€" scheme="https://wyf195075595.github.io/tags/mybatis-%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>jdbcåŸºç¡€</title>
    <link href="https://wyf195075595.github.io/2023/02/10/programming/java/jdbc/"/>
    <id>https://wyf195075595.github.io/2023/02/10/programming/java/jdbc/</id>
    <published>2023-02-10T13:00:00.000Z</published>
    <updated>2023-02-17T08:35:05.840Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>JDBC æ˜¯SUNå…¬å¸åˆ¶å®šçš„ä¸€å¥—æ¥å£</p></blockquote><h3 id="JDBC-å‡†å¤‡å·¥ä½œï¼ŒåŠ è½½jar-é©±åŠ¨åŒ…ï¼Œç„¶åé…ç½®åˆ°ç¯å¢ƒå˜é‡-classpath-å½“ä¸­"><a href="#JDBC-å‡†å¤‡å·¥ä½œï¼ŒåŠ è½½jar-é©±åŠ¨åŒ…ï¼Œç„¶åé…ç½®åˆ°ç¯å¢ƒå˜é‡-classpath-å½“ä¸­" class="headerlink" title="JDBC å‡†å¤‡å·¥ä½œï¼ŒåŠ è½½jar é©±åŠ¨åŒ…ï¼Œç„¶åé…ç½®åˆ°ç¯å¢ƒå˜é‡ classpath å½“ä¸­"></a>JDBC å‡†å¤‡å·¥ä½œï¼ŒåŠ è½½jar é©±åŠ¨åŒ…ï¼Œç„¶åé…ç½®åˆ°ç¯å¢ƒå˜é‡ classpath å½“ä¸­</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">classpath=.;xxx/mysql-connector-java-<span class="number">5.1</span><span class="number">.23</span>-bin.jar</span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­é…ç½®äº†ä¸¤ä¸ªè·¯å¾„ï¼Œä¸€ä¸ªæ˜¯å½“å‰è·¯å¾„ï¼Œä¸€ä¸ªæ˜¯mysqlé©±åŠ¨æ¶åŒ…è·¯å¾„ã€‚è¿™é‡Œçš„é…ç½®åœ¨é›†æˆå·¥å…·ä¸­ä¸éœ€è¦é…</p></blockquote><h3 id="jdbc-ç¼–ç¨‹6æ­¥"><a href="#jdbc-ç¼–ç¨‹6æ­¥" class="headerlink" title="jdbc ç¼–ç¨‹6æ­¥"></a>jdbc ç¼–ç¨‹6æ­¥</h3><ol><li><p>æ³¨å†Œé©±åŠ¨ã€€ï¼ˆè¿æ¥å“ªä¸ªæ•°æ®åº“ï¼‰</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Driver</span> <span class="variable">driver</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">com</span>.mysql.jdbc.Driver();</span><br><span class="line">DriverManager.registerDriver(driver);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–¹å¼äºŒ, åº”ä¸ºå‚æ•°æ˜¯å­—ç¬¦ä¸²å¯ä»¥æå‡ºé…ç½®ï¼Œç±»åŠ è½½æ—¶è‡ªåŠ¨æ‰§è¡Œé™æ€ä»£ç  è‡ªåŠ¨æ³¨å†Œ</span></span><br><span class="line">Class.forName(<span class="string">&quot;com.mysql.jdbc.Driver&quot;</span>)</span><br></pre></td></tr></table></figure></li><li><p>è·å–è¿æ¥ã€€ï¼ˆJVMè¿›ç¨‹ä¸æ•°æ®åº“è¿æ¥ï¼Œé‡é‡çº§é€šä¿¡ï¼‰</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"><span class="type">Connection</span> <span class="variable">coon</span> <span class="operator">=</span> DriverManager.getConnection(url, user, pwd);</span><br><span class="line">System.out.println(<span class="string">&quot;æ•°æ®åº“è¿æ¥å¯¹è±¡&quot;</span> + coon);</span><br></pre></td></tr></table></figure></li><li><p>è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡ï¼ˆä¸“é—¨æ‰§è¡ŒSQLï¼‰</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Statement</span> <span class="variable">stmt</span> <span class="operator">=</span> coon.createStatement();</span><br></pre></td></tr></table></figure></li><li><p>æ‰§è¡ŒSQLè¯­å¥</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;delete * from tb_emp&quot;</span>;</span><br><span class="line">        <span class="comment">// executeUpdate ä¸“é—¨æ‰§è¡ŒDMLè¯­å¥ï¼ˆinsertã€deleteã€updateï¼‰,è¿”å›å½±å“æ•°æ®åº“ä¸­è®°å½•çš„æ¡æ•°</span></span><br><span class="line"><span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> stmt.executeUpdate(sql);</span><br></pre></td></tr></table></figure></li><li><p>å¤„ç†æŸ¥è¯¢ç»“æœé›†</p></li><li><p>é‡Šæ”¾èµ„æºï¼ˆå…³é—­è¿æ¥ï¼‰</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä»å°åˆ°å¤§å…³é—­</span></span><br><span class="line">stmt.close();</span><br><span class="line">coon.close();</span><br></pre></td></tr></table></figure></li></ol><span id="more"></span><h3 id="ä½¿ç”¨èµ„æºç»‘å®šå™¨ç»‘å®šå±æ€§é…ç½®æ–‡ä»¶"><a href="#ä½¿ç”¨èµ„æºç»‘å®šå™¨ç»‘å®šå±æ€§é…ç½®æ–‡ä»¶" class="headerlink" title="ä½¿ç”¨èµ„æºç»‘å®šå™¨ç»‘å®šå±æ€§é…ç½®æ–‡ä»¶"></a>ä½¿ç”¨èµ„æºç»‘å®šå™¨ç»‘å®šå±æ€§é…ç½®æ–‡ä»¶</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ResourceBundle</span> <span class="variable">bundle</span> <span class="operator">=</span> ResourceBundle.getBundle(<span class="string">&quot;jdbc&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> bundle.getString(<span class="string">&quot;username&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> bundle.getString(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">db</span> <span class="operator">=</span> bundle.getString(<span class="string">&quot;db&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> bundle.getString(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">Class.forName(db);</span><br><span class="line"><span class="type">Connection</span> <span class="variable">coon</span> <span class="operator">=</span> DriverManager.getConnection(url, user, pwd);</span><br><span class="line"><span class="type">Statement</span> <span class="variable">stmt</span> <span class="operator">=</span> coon.createStatement();</span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from defect_alarm&quot;</span>;</span><br><span class="line"><span class="type">ResultSet</span> <span class="variable">list</span> <span class="operator">=</span>  stmt.executeQuery(sql);</span><br><span class="line">      <span class="keyword">while</span> (list.next()) &#123;</span><br><span class="line">          <span class="type">String</span> <span class="variable">time</span> <span class="operator">=</span> list.getString(<span class="string">&quot;occurrence_time&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">alarmName</span> <span class="operator">=</span> list.getString(<span class="string">&quot;alarm_name&quot;</span>);</span><br><span class="line">        System.out.println(time+<span class="string">&quot;-&quot;</span>+alarmName);</span><br><span class="line">    &#125;</span><br><span class="line">stmt.close();</span><br><span class="line">coon.close();</span><br></pre></td></tr></table></figure><h3 id="SQLæ³¨å…¥"><a href="#SQLæ³¨å…¥" class="headerlink" title="SQLæ³¨å…¥"></a>SQLæ³¨å…¥</h3><blockquote><p>ä¾‹å¦‚ï¼šç”¨æˆ·ç™»å½•åŠŸèƒ½</p></blockquote><p>ç™»å½•çš„ sql è¯­å¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_user <span class="keyword">where</span> loginName <span class="operator">=</span> #&#123;username&#125; <span class="keyword">and</span> password <span class="operator">=</span> #&#123;password&#125;</span><br></pre></td></tr></table></figure><p>sql æ³¨å…¥ï¼š çŸ¥é“ç”¨æˆ·å zsï¼Œä½†ä¸çŸ¥é“å¯†ç ã€‚è¾“å…¥ ç”¨æˆ·å: zs</p><p>è¾“å…¥å¯†ç ï¼š zsâ€™ or â€˜1â€™ =â€™1</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_user <span class="keyword">where</span> loginName <span class="operator">=</span> <span class="string">&#x27;zs&#x27;</span> <span class="keyword">and</span> password <span class="operator">=</span> <span class="string">&#x27;zs&#x27;</span> <span class="keyword">or</span> <span class="string">&#x27;1&#x27;</span> <span class="operator">=</span> <span class="string">&#x27;1&#x27;</span></span><br></pre></td></tr></table></figure><h3 id="è§£å†³-sql-æ³¨å…¥"><a href="#è§£å†³-sql-æ³¨å…¥" class="headerlink" title="è§£å†³ sql æ³¨å…¥"></a>è§£å†³ sql æ³¨å…¥</h3><blockquote><p>åªè¦æ˜¯ç”¨æˆ·æä¾›çš„ä¿¡æ¯ä¸å‚ä¸SQLè¯­å¥çš„ç¼–è¯‘è¿‡ç¨‹ï¼Œé—®é¢˜å°±è§£å†³äº†ã€‚é‚£ä¹ˆå°±å¿…é¡»ä½¿ç”¨ java.sql.Preparedstatement</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ResourceBundle</span> <span class="variable">bundle</span> <span class="operator">=</span> ResourceBundle.getBundle(<span class="string">&quot;jdbc&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> bundle.getString(<span class="string">&quot;username&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">pwd</span> <span class="operator">=</span> bundle.getString(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">db</span> <span class="operator">=</span> bundle.getString(<span class="string">&quot;db&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> bundle.getString(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">Class.forName(db);</span><br><span class="line"><span class="type">Connection</span> <span class="variable">coon</span> <span class="operator">=</span> DriverManager.getConnection(url, user, pwd);</span><br><span class="line"><span class="comment">// </span></span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from defect_alarm where username=? and pwd=?&quot;</span>;</span><br><span class="line"><span class="comment">// é¢„ç¼–è¯‘çš„æ•°æ®åº“æ“ä½œå¯¹è±¡</span></span><br><span class="line"><span class="type">PreparedStatement</span> <span class="variable">ps</span> <span class="operator">=</span> coon.prepareStatement(sql);</span><br><span class="line"><span class="comment">// ä¼ å€¼</span></span><br><span class="line">ps.setString(<span class="number">1</span>, <span class="string">&quot;admin&quot;</span>);</span><br><span class="line">ps.setString(<span class="number">2</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">ResultSet</span> <span class="variable">list</span> <span class="operator">=</span>  ps.executeQuery();</span><br><span class="line"><span class="keyword">while</span> (list.next()) &#123;</span><br><span class="line">     ...</span><br><span class="line">&#125;</span><br><span class="line">stmt.close();</span><br><span class="line">coon.close();</span><br></pre></td></tr></table></figure><blockquote><p>Preparedstatement ä¸ Statement åŒºåˆ«ï¼Ÿ</p><p>Statement  ç¼–è¯‘ä¸€ä¸ªæ‰§è¡Œä¸€æ¬¡ï¼Œåªæœ‰åœ¨ä¸šåŠ¡è¦æ±‚éœ€è¦ç”¨åˆ°SQLæ³¨å…¥æ—¶æ‰ç”¨ï¼Œä¾‹å¦‚åˆ—è¡¨å‡åºé™åºï¼Œéœ€è¦æ³¨å…¥ desc asc å…³é”®å­—ï¼ˆå…³é”®å­—ä¸èƒ½ç”¨å¼•å·åŒ…è£¹ï¼‰</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> ä¸è¡Œ</span><br><span class="line">String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select ename from emp order by ename=?&quot;;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> å¯ä»¥</span><br><span class="line">String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select ename from emp order by ename&quot; <span class="operator">+</span> keyword;</span><br></pre></td></tr></table></figure><p>Preparedstatement ç¼–è¯‘ä¸€æ¬¡å¯æ‰§è¡ŒNæ¬¡ï¼Œç¼–è¯‘é˜¶æ®µè¿›è¡Œç±»å‹æ£€æŸ¥ï¼Œæ•ˆç‡é«˜äºStatement  </p></blockquote><h3 id="jdbc-äº‹åŠ¡"><a href="#jdbc-äº‹åŠ¡" class="headerlink" title="jdbc äº‹åŠ¡"></a>jdbc äº‹åŠ¡</h3><blockquote><p>å¤šä¸ªæ“ä½œæ•°æ®åº“åŠ¨ä½œï¼Œè¦ä¹ˆå…¨éƒ¨æˆåŠŸï¼Œè¦ä¹ˆå…¨éƒ¨å¤±è´¥</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Class.forName(db);</span><br><span class="line"><span class="type">Connection</span> <span class="variable">coon</span> <span class="operator">=</span> DriverManager.getConnection(url, user, pwd);</span><br><span class="line"><span class="comment">// å…³é—­äº‹ä»¶è‡ªåŠ¨æäº¤</span></span><br><span class="line">coon.setAutoCommit(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="comment">// ç¨‹åºæ­£å¸¸ï¼Œæäº¤äº‹åŠ¡</span></span><br><span class="line">coon.commit();</span><br><span class="line">&#125; <span class="keyword">catch</span>(Exception e) &#123;</span><br><span class="line">    <span class="comment">// ç¨‹åºå‡ºé”™ï¼Œäº‹åŠ¡å›æ»š</span></span><br><span class="line">    coon.rollback();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¡Œçº§é”"><a href="#è¡Œçº§é”" class="headerlink" title="è¡Œçº§é”"></a>è¡Œçº§é”</h4><blockquote><p>ï¼ˆæ‚²è§‚é”ï¼‰ï¼šå½“æˆ‘ä»¬æŸ¥è¯¢æŸäº›æ•°æ®æ—¶ï¼Œä¸ºäº†å¾—åˆ°çœŸå®æ•°æ®ï¼Œä¸å…è®¸å…¶ä»–çº¿ç¨‹å¯¹è¿™äº›æ•°æ®è¿›é¡¹æ“ä½œï¼Œå¯ä»¥åŠ ä¸Šè¡Œçº§é”</p><p>ï¼ˆä¹è§‚é”ï¼‰ï¼šæ”¯æŒå¹¶å‘ï¼Œäº‹åŠ¡ä¹Ÿä¸éœ€è¦æ’é˜Ÿï¼Œåªä¸è¿‡éœ€è¦ä¸€ä¸ªç‰ˆæœ¬å·ã€‚å¦‚æœåœ¨æ“ä½œè¿‡ç¨‹ä¸­æœ‰å…¶ä»–çº¿ç¨‹ä¿®æ”¹æˆ‘è®¿é—®çš„æ•°æ®ï¼Œé‚£ä¹ˆæˆ‘æäº¤äº‹åŠ¡æ—¶ä¼šå‘ç°ç‰ˆæœ¬å·æ ¹ä¹‹å‰çš„ä¸ä¸€æ ·çš„ï¼Œäºæ˜¯æˆ‘å›æ»šæ“ä½œ</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æ­¤æ—¶è¿™æ¡ id<span class="operator">=</span><span class="number">111</span> çš„æ•°æ®ï¼Œè¢«é”å®š</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> id<span class="operator">=</span><span class="number">111</span> <span class="keyword">for</span> <span class="keyword">update</span> </span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;JDBC æ˜¯SUNå…¬å¸åˆ¶å®šçš„ä¸€å¥—æ¥å£&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;JDBC-å‡†å¤‡å·¥ä½œï¼ŒåŠ è½½jar-é©±åŠ¨åŒ…ï¼Œç„¶åé…ç½®åˆ°ç¯å¢ƒå˜é‡-classpath-å½“ä¸­&quot;&gt;&lt;a href=&quot;#JDBC-å‡†å¤‡å·¥ä½œï¼ŒåŠ è½½jar-é©±åŠ¨åŒ…ï¼Œç„¶åé…ç½®åˆ°ç¯å¢ƒå˜é‡-classpath-å½“ä¸­&quot; class=&quot;headerlink&quot; title=&quot;JDBC å‡†å¤‡å·¥ä½œï¼ŒåŠ è½½jar é©±åŠ¨åŒ…ï¼Œç„¶åé…ç½®åˆ°ç¯å¢ƒå˜é‡ classpath å½“ä¸­&quot;&gt;&lt;/a&gt;JDBC å‡†å¤‡å·¥ä½œï¼ŒåŠ è½½jar é©±åŠ¨åŒ…ï¼Œç„¶åé…ç½®åˆ°ç¯å¢ƒå˜é‡ classpath å½“ä¸­&lt;/h3&gt;&lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;classpath=.;xxx/mysql-connector-java-&lt;span class=&quot;number&quot;&gt;5.1&lt;/span&gt;&lt;span class=&quot;number&quot;&gt;.23&lt;/span&gt;-bin.jar&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;blockquote&gt;
&lt;p&gt;å…¶ä¸­é…ç½®äº†ä¸¤ä¸ªè·¯å¾„ï¼Œä¸€ä¸ªæ˜¯å½“å‰è·¯å¾„ï¼Œä¸€ä¸ªæ˜¯mysqlé©±åŠ¨æ¶åŒ…è·¯å¾„ã€‚è¿™é‡Œçš„é…ç½®åœ¨é›†æˆå·¥å…·ä¸­ä¸éœ€è¦é…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;jdbc-ç¼–ç¨‹6æ­¥&quot;&gt;&lt;a href=&quot;#jdbc-ç¼–ç¨‹6æ­¥&quot; class=&quot;headerlink&quot; title=&quot;jdbc ç¼–ç¨‹6æ­¥&quot;&gt;&lt;/a&gt;jdbc ç¼–ç¨‹6æ­¥&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;æ³¨å†Œé©±åŠ¨ã€€ï¼ˆè¿æ¥å“ªä¸ªæ•°æ®åº“ï¼‰&lt;/p&gt;
 &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;Driver&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;driver&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;title class_&quot;&gt;com&lt;/span&gt;.mysql.jdbc.Driver();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;DriverManager.registerDriver(driver);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// æ–¹å¼äºŒ, åº”ä¸ºå‚æ•°æ˜¯å­—ç¬¦ä¸²å¯ä»¥æå‡ºé…ç½®ï¼Œç±»åŠ è½½æ—¶è‡ªåŠ¨æ‰§è¡Œé™æ€ä»£ç  è‡ªåŠ¨æ³¨å†Œ&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;Class.forName(&lt;span class=&quot;string&quot;&gt;&amp;quot;com.mysql.jdbc.Driver&amp;quot;&lt;/span&gt;)&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è·å–è¿æ¥ã€€ï¼ˆJVMè¿›ç¨‹ä¸æ•°æ®åº“è¿æ¥ï¼Œé‡é‡çº§é€šä¿¡ï¼‰&lt;/p&gt;
 &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;pwd&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;Connection&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;coon&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; DriverManager.getConnection(url, user, pwd);&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;System.out.println(&lt;span class=&quot;string&quot;&gt;&amp;quot;æ•°æ®åº“è¿æ¥å¯¹è±¡&amp;quot;&lt;/span&gt; + coon);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡ï¼ˆä¸“é—¨æ‰§è¡ŒSQLï¼‰&lt;/p&gt;
 &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;Statement&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;stmt&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; coon.createStatement();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;&lt;p&gt;æ‰§è¡ŒSQLè¯­å¥&lt;/p&gt;
 &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;String&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;sql&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;&amp;quot;delete * from tb_emp&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;        &lt;span class=&quot;comment&quot;&gt;// executeUpdate ä¸“é—¨æ‰§è¡ŒDMLè¯­å¥ï¼ˆinsertã€deleteã€updateï¼‰,è¿”å›å½±å“æ•°æ®åº“ä¸­è®°å½•çš„æ¡æ•°&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;type&quot;&gt;int&lt;/span&gt; &lt;span class=&quot;variable&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;operator&quot;&gt;=&lt;/span&gt; stmt.executeUpdate(sql);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å¤„ç†æŸ¥è¯¢ç»“æœé›†&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é‡Šæ”¾èµ„æºï¼ˆå…³é—­è¿æ¥ï¼‰&lt;/p&gt;
 &lt;figure class=&quot;highlight java&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// ä»å°åˆ°å¤§å…³é—­&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;stmt.close();&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;coon.close();&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    <category term="java" scheme="https://wyf195075595.github.io/categories/java/"/>
    
    
    <category term="jdbcåŸºç¡€" scheme="https://wyf195075595.github.io/tags/jdbc%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>jdbcwebåŸºç¡€</title>
    <link href="https://wyf195075595.github.io/2023/02/10/programming/java/javaweb/"/>
    <id>https://wyf195075595.github.io/2023/02/10/programming/java/javaweb/</id>
    <published>2023-02-10T05:00:00.000Z</published>
    <updated>2023-02-17T08:34:52.766Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>servlet æ˜¯JavaEE è§„èŒƒä¹‹ä¸€ã€‚</p><p>javaEE ç›®å‰æœ€é«˜ç‰ˆæœ¬æ—¶javaEE8,å®ƒè¢«OracleæçŒ®ç»™Apacheã€‚ä¹‹åè¢«æ”¹åä¸º Jakarta EEã€‚ä»æ­¤æ²¡æœ‰javaEE äº†</p><p>javaEE8ä¸­çš„Servletç±»åï¼šjavax.servlet.Servlet</p><p>javaEE9ä¸­çš„Servletç±»åï¼šjakarta.servlet.Servlet</p></blockquote><h3 id="å…³äºç³»ç»Ÿæ¶æ„"><a href="#å…³äºç³»ç»Ÿæ¶æ„" class="headerlink" title="å…³äºç³»ç»Ÿæ¶æ„"></a>å…³äºç³»ç»Ÿæ¶æ„</h3><ol><li><p>ç³»ç»Ÿæ¶æ„åŒ…æ‹¬</p><ul><li><p>C/S æ¶æ„</p><p>  å°±æ˜¯éœ€è¦å®‰è£…çš„è½¯ä»¶</p></li><li><p>B/S æ¶æ„</p><p>  å°±æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨çš„é¡µé¢</p></li></ul></li></ol><h3 id="Tomcat"><a href="#Tomcat" class="headerlink" title="Tomcat"></a>Tomcat</h3><blockquote><p>å¼€æºå…è´¹çš„è½»é‡çº§ï¼·ï¼¥ï¼¢æœåŠ¡å™¨</p></blockquote><h4 id="tomcat-ç›®å½•"><a href="#tomcat-ç›®å½•" class="headerlink" title="tomcat ç›®å½•"></a>tomcat ç›®å½•</h4><ul><li>binï¼šå­˜æ”¾å‘½ä»¤æ–‡ä»¶<ul><li>.bat æ–‡ä»¶ï¼Œæ‰¹é‡æ‰§è¡Œwindows DOSå‘½ä»¤</li><li>.sh æ–‡ä»¶ï¼Œæ‰¹é‡æ‰§è¡Œ Linux å‘½ä»¤</li><li></li></ul></li><li>confï¼šé…ç½®æ–‡ä»¶</li><li>libï¼štomcatæ ¸å¿ƒç¨‹åºç›®å½•</li><li>logsï¼šæ—¥å¿—ç›®å½•</li><li>tempï¼šä¸´æ—¶ç›®å½•</li><li>webappsï¼šå­˜æ”¾webåº”ç”¨</li><li>workï¼šå­˜æ”¾jspæ–‡ä»¶ç¿»è¯‘ä¹‹åçš„Javaæ–‡ä»¶ä»¥åŠç¼–è¯‘ä¹‹åçš„classæ–‡ä»¶</li></ul><p>é…ç½®tomcatç¯å¢ƒ</p><ol><li>CATALINA_HOME=D:\tomcat\apache-tomcat-10.0.27</li><li>JAVAï¼¿HOME=C:\Program Files\Java\jdk1.8.0_321</li><li>JRE_HOME=%JAVAï¼¿HOME%\jre</li></ol><h4 id="è¿è¡Œ"><a href="#è¿è¡Œ" class="headerlink" title="è¿è¡Œ"></a>è¿è¡Œ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">startup.bat</span><br></pre></td></tr></table></figure><p><strong>å‡ºç°ä¸­æ–‡ä¹±ç </strong></p><blockquote><p>ä¿®æ”¹conf/logging.properties</p><p>java.util.logging.ConsoleHandler.encoding = GBK</p></blockquote><span id="more"></span><h3 id="å¼€å‘ä¸€ä¸ªå¸¦æœ‰servletçš„webapp"><a href="#å¼€å‘ä¸€ä¸ªå¸¦æœ‰servletçš„webapp" class="headerlink" title="å¼€å‘ä¸€ä¸ªå¸¦æœ‰servletçš„webapp"></a>å¼€å‘ä¸€ä¸ªå¸¦æœ‰servletçš„webapp</h3><ol><li><p>åœ¨webapps ç›®å½•ä¸‹ï¼Œåˆ›å»ºä¸€ä¸ªç›®å½•projectï¼Œè¿™å°±æ˜¯webæ ¹ç›®å½•</p></li><li><p>æ ¹ç›®å½•ä¸‹æ–°å»º WEB-INF æ–‡ä»¶å¤¹</p></li><li><p>WEB-INFç›®å½•ä¸‹ä¼ åˆ›å»º classes ç›®å½•ï¼šæ”¾ç½®å­—èŠ‚ç æ–‡ä»¶</p></li><li><p>WEB-INFä¸‹æ–°å»º libæ–‡ä»¶å¤¹ï¼šwebappéœ€è¦ç¬¬ä¸‰æ–¹jaråŒ…æ—¶ï¼Œå°±æ”¾ç½®åˆ°æ­¤å¤„</p></li><li><p>WEB-INFæ–°å»º web.xml æ–‡ä»¶ï¼šé…ç½®æ–‡ä»¶ï¼Œæè¿°äº†è·¯å¾„ä¸ç±»çš„å¯¹åº”å…³ç³»</p></li><li><p>ç¼–å†™Javaç¨‹åºï¼Œç¨‹åºå¿…é¡»å®ç°servletæ¥å£ã€‚æ¥å£è§„èŒƒä¸åœ¨javaSEï¼ŒjavaEEæ–‡æ¡£å¯æŸ¥çœ‹ï¼Œåœ¨tomcatåŒ…ä¸­  /lib/servlet-api.jar. è§£å‹å /jakarta/servlet/Servlet.class å°±æ˜¯æˆ‘ä»¬è¦å®ç°çš„æ¥å£</p></li><li><p>ç¼–å†™ servlet ç¼–è¯‘é—®é¢˜ï¼š</p><blockquote><p>jakartaåŒ…ä¸å­˜åœ¨ï¼Œéœ€è¦é…ç½®ç¯å¢ƒå˜é‡</p><p>classpath=.;â€¦/tomcat/lib\servlet.jar</p></blockquote></li><li><p>å°†ç¼–è¯‘åçš„Javaæ–‡ä»¶æ”¾åˆ° classes ä¸‹</p></li><li><p>é…ç½®webxml æ–‡ä»¶ï¼Œè®©è·¯å¾„ä¸ç±»åå…³è”ï¼ˆæ³¨å†Œservletç±»ï¼‰</p></li></ol><h3 id="IDEä¸­å¼€å‘ä¸€ä¸ªservlet"><a href="#IDEä¸­å¼€å‘ä¸€ä¸ªservlet" class="headerlink" title="IDEä¸­å¼€å‘ä¸€ä¸ªservlet"></a>IDEä¸­å¼€å‘ä¸€ä¸ªservlet</h3><blockquote><p><strong>æ–°å»º maven webapp é¡¹ç›®ä¸ç”Ÿæˆ secç›®å½•ï¼Ÿ</strong></p><p>æ‰¾åˆ°Build, Execution, Deploymentï¼Œé€‰ä¸­Build Toolsâ€“&gt;Mavenâ€“&gt;Runnerï¼Œåœ¨å³ä¾§ VM Optionsæ¡†ä¸­å†™ä¸Š -Darchetype=Internal å³å¯ã€‚</p><p>å»ºè®®ä½¿ç”¨ tomcat 9ï¼Œ10 å¯èƒ½å‡ºç°é—®é¢˜</p></blockquote><ol><li><p>åˆ›å»ºç©ºé¡¹ç›® project</p></li><li><p>æ·»åŠ æ¨¡å— servlet01</p></li><li><p>ä¸ºæ¨¡å—æ·»åŠ æ¡†æ¶æ”¯æŒ</p></li><li><p>ç¼–å†™ servlet ï¼ˆstudentServletï¼‰ï¼Œå‘ç°Servlet ç±»ä¸å­˜åœ¨</p><p> å°†tomcat lib æ–‡ä»¶å¤¹ä¸‹çš„ servlet-api.jar å’Œ jsp-api.jar åŠ å…¥ã€‚åœ¨ serviceæ–¹æ³•ä¸­è¿æ¥æ•°æ®åº“</p></li><li><p>åœ¨WEB-INF ä¸‹æ–°å»º lib,å¹¶æŠŠ jdbcé©±åŠ¨æ¶åŒ…æ”¾å…¥</p></li><li><p>åœ¨web.xml æ–‡ä»¶å®Œæˆ servletå­ç±»çš„æ³¨å†Œ</p> <figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>studentServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span>javaweb.StudentServlet<span class="tag">&lt;/<span class="name">servlet-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">servlet-name</span>&gt;</span>studentServlet<span class="tag">&lt;/<span class="name">servlet-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/servlet/student<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet-mapping</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>ç»™ä¸€ä¸ªHTMLé¡µé¢ï¼Œåœ¨HTMLé¡µé¢ä¸­ç¼–å†™è¶…é“¾æ¥ï¼Œç‚¹å‡»æ‰§è¡Œåå°çš„servletç¨‹åºã€‚æ–‡ä»¶æ”¾åœ¨WEB-INF ä¸Šä¸€çº§ç›®å½•</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">   // é¡¹ç›®åæ— æ³•åŠ¨æ€è·å– /project</span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/project/servlet/student&quot;</span>&gt;</span> student list<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>è®©IDEå·¥å…·å»å…³è”TomcatæœåŠ¡å™¨ï¼Œå…³è”çš„è¿‡ç¨‹ä¸­å°†webappéƒ¨ç½²åˆ°TomcatæœåŠ¡å™¨å½“ä¸­</p><ul><li>IDEAå·¥å…·å³ä¸Šè§’ï¼Œç»¿è‰²å°é”¤å­å³è¾¹æœ‰ä¸€ä¸ª: Add Configuration</li><li>å·¦ä¸Šè§’åŠ å·ï¼Œç‚¹å‡»Tomcat Server â€“&gt; local<br>  åœ¨å¼¹å‡ºçš„ç•Œé¢ä¸­è®¾ç½®æœåŠ¡å™¨Serverçš„å‚æ•° (åŸºæœ¬ä¸Šä¸ç”¨åŠ¨)</li><li>åœ¨å½“å‰çª—å£ä¸­æœ‰ä¸€ä¸ªDeployment (ç‚¹å‡»è¿™ä¸ªç”¨æ¥éƒ¨ç½²webapp)ï¼Œ:ç»§ç»­ç‚¹å‡»åŠ å·ï¼Œéƒ¨ç½²å³å¯<br>  ä¿®æ”¹ Application contextä¸º: /project</li></ul></li><li><p>è®¿é—®ï¼š<a href="http://localhost:8080/project/student.html">http://localhost:8080/project/student.html</a></p></li></ol><h3 id="servlet-å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ"><a href="#servlet-å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="servlet å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ"></a>servlet å¯¹è±¡ç”Ÿå‘½å‘¨æœŸ</h3><blockquote><p>ä»åˆ›å»ºåˆ°é”€æ¯çš„è¿‡ç¨‹</p></blockquote><p>åœ¨Servletä¸­æä¾›ä¸€ä¸ªæ— å‚çš„æ„é€ å‡½æ•°ï¼Œå¯åŠ¨æœåŠ¡å™¨çš„æ—¶å€™çœ‹æ„é€ å‡½æ•°æ˜¯å¦æ‰§è¡Œã€‚ç»è¿‡æµ‹è¯•å¾—å‡ºç»“è®ºï¼š<strong>é»˜è®¤æƒ…å†µä¸‹ï¼ŒæœåŠ¡å™¨åœ¨å¯åŠ¨Servletå¯¹è±¡å¹¶ä¸ä¼šå®ä¾‹åŒ–</strong></p><p>å¦‚æœæˆ‘ä»¬åœ¨é…ç½®æ–‡ä»¶ç»™ servlet å¢åŠ </p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">servlet</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">load-on-startup</span>&gt;</span>0<span class="tag">&lt;/<span class="name">load-on-startup</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">servlet</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œè¿™ä¸ªæˆ‘ä»¬è‡ªå·±ç¼–å†™çš„servletä¼šåœ¨å¯åŠ¨æœåŠ¡æ—¶å®ä¾‹åŒ–</p><p><strong>ç”¨æˆ·ç¬¬ä¸€æ¬¡è¯·æ±‚</strong></p><blockquote><p>æ­¤æ—¶è·¯å¾„å¯¹åº”çš„servletå¯¹è±¡ä¼šåœ¨è¢«å®ä¾‹åŒ–ï¼Œæ­¤æ—¶tomcat è°ƒç”¨ servlet å¯¹è±¡çš„ init æ–¹æ³•ã€‚servlet æ„é€ å‡½æ•°ä¼šæ‰§è¡Œ</p></blockquote><p><strong>ç”¨æˆ·ç¬¬äºŒæ¬¡åŠnæ¬¡è¯·æ±‚</strong></p><blockquote><p>æ­¤æ—¶è·¯å¾„å¯¹åº”çš„servletå¯¹è±¡initæ–¹æ³•æ²¡æœ‰è°ƒç”¨ï¼Œæ„é€ å‡½æ•°ä¹Ÿæ²¡æœ‰è°ƒç”¨</p></blockquote><p>ç”¨æˆ·å‘é€ä¸€æ¬¡è¯·æ±‚ï¼Œserviceæ–¹æ³•å°±ä¼šè¢«è°ƒç”¨ä¸€æ¬¡ã€‚</p><p>å…³é—­æœåŠ¡å™¨çš„æ—¶å€™ï¼Œå›è°ƒ distory æ–¹æ³•</p><h4 id="init"><a href="#init" class="headerlink" title="init"></a>init</h4><blockquote><p>è¿™ä¸ªåˆå§‹åŒ–æ“ä½œæŒ‡æŒ¥æ‰§è¡Œä¸€æ¬¡ï¼Œè¿™é‡Œæˆ‘ä»¬çœ‹å¯ä»¥åšï¼šåˆå§‹åŒ–æ•°æ®åº“è¿æ¥æ± ï¼Œåˆå§‹åŒ–çº¿ç¨‹æ± </p></blockquote><h4 id="service"><a href="#service" class="headerlink" title="service"></a>service</h4><blockquote><p>ç”¨æˆ·æ¯æ¬¡è¯·æ±‚éƒ½ä¼šè°ƒç”¨ä¸€æ¬¡</p></blockquote><h4 id="destory"><a href="#destory" class="headerlink" title="destory"></a>destory</h4><blockquote><p>è¿›è¡Œèµ„æºå…³é—­ï¼Œé©¬ä¸Šè¦é”€æ¯å¯¹è±¡æ—¶è°ƒç”¨</p></blockquote><h3 id="é€‚é…å™¨æ¨¡å¼"><a href="#é€‚é…å™¨æ¨¡å¼" class="headerlink" title="é€‚é…å™¨æ¨¡å¼"></a>é€‚é…å™¨æ¨¡å¼</h3><blockquote><p>ç”±äºServlet æ¥å£æˆ‘ä»¬é€šå¸¸åªè¦service æ–¹æ³•ï¼Œå…¶ä»–æ–¹æ³•ç”¨ä¸åˆ°ã€‚ä½†æ˜¯åˆå¿…é¡»çš„é‡å†™ã€‚å¦‚æœæˆ‘ä»¬æƒ³çœç•¥é‚£äº›ç”¨ä¸ç€çš„ä»£ç ï¼Œè¯¥æ€ä¹ˆåŠï¼Ÿ</p></blockquote><p>ServiceAdapter</p><p>è¿™ä¸ªé€‚é…å™¨å®ç°Servletæ¥å£ï¼Œå¹¶æŠŠserviceä½œä¸ºæŠ½è±¡æ–¹æ³•.</p><p>ä½†å®é™…ä¸Šè¿™ä¸ªé€‚é…å™¨æ–¹æ³•å·²ç»æœ‰ç°æˆçš„äº†ï¼šGenericServlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.javaweb.servlet.adapter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> jakarta.servlet.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">ServiceAdapter</span> <span class="keyword">implements</span> <span class="title class_">Servlet</span> &#123;</span><br><span class="line">    <span class="comment">// é…ç½®é¡¹</span></span><br><span class="line">    <span class="keyword">private</span> ServletConfig config;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(ServletConfig servletConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;init execute&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.config = servletConfig;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> ServletConfig <span class="title function_">getServletConfig</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> config;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getServletInfo</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;destroy execute&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>StudentServlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentServlet</span> <span class="keyword">extends</span> <span class="title class_">ServiceAdapter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest servletRequest, ServletResponse servletResponse)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;servlet service start!&quot;</span>);</span><br><span class="line">        servletResponse.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span>  <span class="operator">=</span> servletResponse.getWriter();</span><br><span class="line"></span><br><span class="line">        out.println(<span class="string">&quot;æ¬¢è¿è®¿é—®æœ¬é¡µé¢&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="servletConfig"><a href="#servletConfig" class="headerlink" title="servletConfig"></a>servletConfig</h3><blockquote><p>ServletConfig å¯¹è±¡ä¸­å°è£…äº†servlet æ ‡ç­¾ä¸­çš„é…ç½®ä¿¡æ¯ï¼ˆweb.xml ä¸‹çš„servleté…ç½®ï¼‰</p></blockquote><h3 id="servletContext"><a href="#servletContext" class="headerlink" title="servletContext"></a>servletContext</h3><blockquote><p>servletContext æ¥å£æ—¶ Servlet è§„èŒƒä¸­çš„ä¸€å‘˜ï¼Œå¯¹åº”å…¶å®å°±æ˜¯æ•´ä¸ªWeb.xml æ–‡ä»¶ã€‚</p><p>servletContext æ¯”ä½œæ•™å®¤ï¼Œservlet å°±æ˜¯å­¦ç”Ÿ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–ä¸Šä¸‹æ–‡å¯¹è±¡çš„æ–¹å¼</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="type">ServletConfig</span> <span class="variable">s</span> <span class="operator">=</span> <span class="built_in">this</span>.getServletConfig();</span><br><span class="line"><span class="type">servletContext</span> <span class="variable">application</span> <span class="operator">=</span> config.getServletContext();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2ã€</span></span><br><span class="line"><span class="built_in">this</span>.getServletContext()</span><br></pre></td></tr></table></figure><h4 id="é…ç½®å…±æœ‰çš„å‚æ•°"><a href="#é…ç½®å…±æœ‰çš„å‚æ•°" class="headerlink" title="é…ç½®å…±æœ‰çš„å‚æ•°"></a>é…ç½®å…±æœ‰çš„å‚æ•°</h4><blockquote><p>åœ¨ web.xml æ–‡ä»¶ä¸­ï¼Œä¸servlet å¹³çº§,ä¸€èˆ¬æ˜¯å…¬å…±çš„æ•°æ®ï¼Œæ•°æ®é‡å°ä¸”å‡ ä¹ä¸ä¼šå†ä¿®æ”¹ï¼ˆåº”ç”¨åŸŸï¼‰</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">context-param</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">param-name</span>&gt;</span>pageSize<span class="tag">&lt;/<span class="name">param-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">param-value</span>&gt;</span>10<span class="tag">&lt;/<span class="name">param-value</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">context-param</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­˜ map.put(k, value)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAttribute</span><span class="params">(String name, Object value)</span>;</span><br><span class="line"><span class="comment">// å– map.get(k)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getAttribute</span><span class="params">(String name)</span>;</span><br><span class="line"><span class="comment">// åˆ  map.remove(k)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteAttribute</span><span class="params">(String name)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line">application.setAttribute(<span class="string">&quot;key&quot;</span>, <span class="string">&quot;name&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h4><ol><li>public String getInitParameter(String name)  é€šè¿‡åˆå§‹åŒ–å‚æ•°çš„nameè·å–value</li><li>public Enumeration&lt;String&gt; getInitparameterNames()  é€šè¿‡åˆå§‹åŒ–å‚æ•°çš„name</li><li>public ServletContext getServletContext()</li><li>public String getServletName()</li><li>getContextPath()  è·å–ä¸Šä¸‹æ–‡çš„æ ¹</li><li>getRealPath()  è·å–æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</li><li>public void log(String message)</li><li>public void log(String message, Throawble t);</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// è·å–ä¸Šä¸‹æ–‡åˆå§‹åŒ–å‚æ•°</span></span><br><span class="line">Enuumeration&lt;Stirng&gt; initParameterNames = application.getInitParameterNames();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span>(initParameterNames.hasMoreElements()) &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> initParameterNames.getInitParameter(name);</span><br><span class="line">    <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> application.getInitparmeter(name);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="type">String</span> <span class="variable">realPath</span> <span class="operator">=</span> application.getRealPath(<span class="string">&quot;/index.html&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®°å½•æ—¥å¿—, å­˜å‚¨åœ¨ Tamcat æ ¹ç›®å½•ä¸‹çš„ logs æ–‡ä»¶å¤¹ä¸‹.å¦‚æœç”¨çš„æ—¶IDEï¼Œåˆ™å®åœ¨IDEä¸­çš„å°çŒ«å’ªæ–‡ä»¶å¤¹ä¸‹ï¼ˆIDEä¸­å¯ä»¥æœ‰å¤šä¸ªå°çŒ«å’ªæœåŠ¡ï¼‰</span></span><br><span class="line">application.log(<span class="string">&quot;æ—¥å¿—&quot;</span>);</span><br><span class="line">application.log(<span class="string">&quot;æ—¥å¿—&quot;</span>,  Throawble t);</span><br></pre></td></tr></table></figure><blockquote><p>ä»¥åå–ç¼–å†™ Servlet ç±»çš„æ—¶å€™ï¼Œå®é™…ä¸Šä¸ä¼šç›´æ¥ç»§æ‰¿ GenericServlet ç±»çš„ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯B/S æ¶æ„ã€‚è¿™ç§ç³»ç»ŸåŸºäºHttp è¶…æ–‡æœ¬ä¼ è¾“åè®®çš„ï¼Œåœ¨Servletè§„èŒƒä¸­æä¾›äº†ä¸€ä¸ªç±»å«åš HttpServlet ï¼Œä¸“é—¨ä¸ºHttpåè®®å‡†å¤‡çš„ä¸€ä¸ªServletç±»ï¼Œæ‰€ä»¥æˆ‘ä»¬ç¼–å†™æ—¶è¦ç»§æ‰¿HttpServlet</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">jakarta.servlet.Servlet(æ¥å£) ã€çˆ·çˆ·ã€‘</span><br><span class="line">jakarte.servlet.GenaricServlet imlements  <span class="title function_">Servlet</span><span class="params">(æŠ½è±¡ç±»)</span>ã€å„¿å­ã€‘</span><br><span class="line">jakarta.servlet.HttpServelt <span class="keyword">extends</span> <span class="title class_">GenaricServlet</span>(æŠ½è±¡ç±»)ã€å­™å­ã€‘</span><br><span class="line">    </span><br><span class="line">æˆ‘ä»¬ä»¥åç¼–å†™ Servlet éœ€è¦ç»§æ‰¿ HttpServlet</span><br></pre></td></tr></table></figure></blockquote><p><strong>æ¥è§¦åˆ°çš„ç¼“å­˜æœºåˆ¶</strong></p><ol><li><p>å¸¸é‡æ± </p><p> â€abcâ€œç°åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± æ‰¾ï¼Œæœ‰ï¼Œç›´æ¥ç”¨ï¼Œæ²¡æœ‰æ–°å»ºæ”¾å…¥å¸¸é‡æ± </p></li><li><p>æ•´æ•°å‹å¸¸é‡æ± </p><p> [-127, 127] å…±256ä¸ªIntegerç±»å‹å¼•ç”¨å¯ä»¥ç›´æ¥ä½¿ç”¨</p></li><li><p>è¿æ¥æ± </p><p> è¿æ¥æ•°æ®åº“çš„è¿æ¥å¯¹è±¡ï¼Œæ–°å»ºnä¸ªè¿æ¥å¯¹è±¡ã€‚æ¯æ¬¡ç”¨æˆ·è¿æ¥æ—¶çœå»æ–°å»ºç¯èŠ‚</p></li><li><p>çº¿ç¨‹æ± </p></li><li><p>redis</p></li><li><p>SerevletContext åº”ç”¨åŸŸä¸­å­˜å‚¨æ•°æ®</p></li></ol><h3 id="httpåè®®"><a href="#httpåè®®" class="headerlink" title="httpåè®®"></a>httpåè®®</h3><h4 id="URLä¸URI"><a href="#URLä¸URI" class="headerlink" title="URLä¸URI"></a>URLä¸URI</h4><blockquote><p>URLï¼šç»Ÿä¸€èµ„æºå®šä½ç¬¦</p><p>â€‹    <a href="https://rank.kkj.cn/Phone74.shtml">https://rank.kkj.cn/Phone74.shtml</a></p><p>URIï¼šç»Ÿä¸€èµ„æºæ ‡è¯†ç¬¦</p><p>â€‹    /Phone74.shtml</p></blockquote><h4 id="getä¸postè¯·æ±‚"><a href="#getä¸postè¯·æ±‚" class="headerlink" title="getä¸postè¯·æ±‚"></a>getä¸postè¯·æ±‚</h4><ul><li><p>get è¯·æ±‚æ˜¯ç»å¯¹å®‰å…¨çš„ï¼Œåº”ä¸ºgetæ˜¯ä»æœåŠ¡å™¨è·å–èµ„æºã€‚</p><ul><li><p>getè¯·æ±‚æ”¯æŒç¼“å­˜</p></li><li><p>å¦‚æœå¸Œæœ›getè¯·æ±‚æœ‰ç¼“å­˜æ€ä¹ˆåŠï¼Ÿ</p><p>  getè¯·æ±‚è·¯å¾„ä¸åŒå³å¯ï¼Œå¦‚è·¯å¾„æ·»åŠ ç³»ç»Ÿæ¯«ç§’æ•°</p></li></ul></li><li><p>post è¯·æ±‚æ˜¯å±é™©çš„ï¼Œå› ä¸ºpostæ˜¯å‘æœåŠ¡å™¨å‘é€æ•°æ®</p><ul><li>post å“åº”ç»“æœä¸ä¼šè¢«ç¼“å­˜</li></ul></li></ul><h3 id="HttpServlet-æºç åˆ†æ"><a href="#HttpServlet-æºç åˆ†æ" class="headerlink" title="HttpServlet æºç åˆ†æ"></a>HttpServlet æºç åˆ†æ</h3><h4 id="http-åŒ…ä¸‹éƒ½æœ‰å“ªäº›ç±»çš„æ¥å£"><a href="#http-åŒ…ä¸‹éƒ½æœ‰å“ªäº›ç±»çš„æ¥å£" class="headerlink" title="http åŒ…ä¸‹éƒ½æœ‰å“ªäº›ç±»çš„æ¥å£"></a>http åŒ…ä¸‹éƒ½æœ‰å“ªäº›ç±»çš„æ¥å£</h4><ul><li>jakarta.servlet.http.HttpServlet (Httpåè®®ä¸“ç”¨çš„è¯·æ±‚å¯¹è±¡)</li><li>jakarta.servlet.http.HttpServletRequest (Httpåè®®ä¸“ç”¨è¯·æ±‚å¯¹è±¡)</li><li>jakarta.servlet.http.HttpServletResPonse (Httpåè®®ä¸“ç”¨å“åº”å¯¹è±¡)</li></ul><h3 id="å¸¸ç”¨æ–¹æ³•-1"><a href="#å¸¸ç”¨æ–¹æ³•-1" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h3><ul><li><p>HttpServletRequest </p><ul><li><p>getMethod() è·å–è¯·æ±‚æ–¹å¼</p></li><li><p>getRemoteAddr() è·å–ç”¨æˆ·IP</p></li><li><p>setCharacterEncoding(String env)  è®¾ç½®è¯·æ±‚ä½“å­—ç¬¦é›†ï¼Œè·å–ç”¨æˆ·ä¸­æ–‡è¾“å…¥å¯èƒ½å‡ºç°ä¹±ç ï¼Œæ­¤æ—¶éœ€è¦è¿™ä¸ªæ–¹æ³•è®¾ç½® â€œUTF-8â€</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">res.setCharacterEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">res.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// get æ–¹æ³•è¯·æ±‚ä¹±ç é—®é¢˜</span></span><br><span class="line">tomcat <span class="number">8</span>å¼€å§‹é»˜è®¤å­—ç¬¦é›†æ˜¯UTF-<span class="number">8</span></span><br><span class="line"> ä¿®æ”¹ tomcathome/ conf/server.xml</span><br><span class="line">    Connector å¢åŠ  å±æ€§ URIEncoding=<span class="string">&quot;UTF-8&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>getContextPath  è·å–åº”ç”¨æ ¹è·¯å¾„</p></li><li><p>getRequestURL  è·å–è¯·æ±‚æ–¹å¼</p></li><li><p>getServletPath  è·å– servlet path</p></li><li><p>è·å–æµè§ˆå™¨ç”¨æˆ·æäº¤ä¿¡æ¯</p><ul><li>String getParameter(String name)ã€å‡ ä¹ä¸ç”¨ã€‘</li><li>Map&lt;String,string[]&gt;getParameterMap() ã€å‡ ä¹ä¸ç”¨ã€‘</li><li>Enumeration&lt;String&gt;  getParameterNames() ã€ç”¨çš„å°‘ã€‘</li><li>String[] getParameterValues(String name) ã€å¸¸ç”¨ã€‘</li></ul></li><li><p>å¦‚ä½•å­˜å‚¨ç”¨æˆ·æäº¤çš„æ•°æ®</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸ºé¿å…é”®å€¼é‡å¤</span></span><br><span class="line">Map&lt;String, String[]&gt;</span><br><span class="line"></span><br><span class="line">keyvalue</span><br><span class="line">-----------------</span><br><span class="line">username  &#123;<span class="string">&quot;abc&quot;</span>&#125;</span><br><span class="line">userpwd    &#123;<span class="string">&quot;111&quot;</span>&#125;</span><br><span class="line">aihao  &#123;<span class="string">&quot;s&quot;</span>,<span class="string">&quot;d&quot;</span>,<span class="string">&quot;w&quot;</span>&#125;</span><br><span class="line">    </span><br></pre></td></tr></table></figure></li></ul></li></ul><h3 id="è®¾ç½®-javaweb-é¡¹ç›®æ¬¢è¿é¡µé¢"><a href="#è®¾ç½®-javaweb-é¡¹ç›®æ¬¢è¿é¡µé¢" class="headerlink" title="è®¾ç½® javaweb é¡¹ç›®æ¬¢è¿é¡µé¢"></a>è®¾ç½® javaweb é¡¹ç›®æ¬¢è¿é¡µé¢</h3><blockquote><p>å°±æ˜¯ç›¸å½“äºè®¾ç½®é»˜è®¤çš„ä¸»é¡µé¢,è·¯å¾„ä¸éœ€è¦ä»¥/å¼€å§‹ã€‚å¦‚æœä¸è®¾ç½®ï¼Œé»˜è®¤æ‰¾index.html</p></blockquote><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">welcome-file-list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">welcome-file</span>&gt;</span>login.html<span class="tag">&lt;/<span class="name">welcome-file</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">welcome-file-list</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="WEB-INF-ç›®å½•"><a href="#WEB-INF-ç›®å½•" class="headerlink" title="WEB-INF ç›®å½•"></a>WEB-INF ç›®å½•</h3><blockquote><p>æ­¤ç›®å½•æ˜¯å—ä¿æŠ¤çš„ï¼Œæµè§ˆå™¨é€šè¿‡åœ°å€ä¸èƒ½è®¿é—®</p></blockquote><h3 id="è¯·æ±‚åŸŸ-å¯¹è±¡"><a href="#è¯·æ±‚åŸŸ-å¯¹è±¡" class="headerlink" title="è¯·æ±‚åŸŸ å¯¹è±¡"></a>è¯·æ±‚åŸŸ å¯¹è±¡</h3><blockquote><p>æ ¹åº”ç”¨åŸŸä¸€æ ·ï¼Œä¹Ÿæœ‰è¿™ä¸‰ä¸ªæ–¹æ³•</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­˜ map.put(k, value)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAttribute</span><span class="params">(String name, Object value)</span>;</span><br><span class="line"><span class="comment">// å– map.get(k)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getAttribute</span><span class="params">(String name)</span>;</span><br><span class="line"><span class="comment">// åˆ  map.remove(k)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteAttribute</span><span class="params">(String name)</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line">application.setAttribute(<span class="string">&quot;key&quot;</span>, <span class="string">&quot;name&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="è½¬å‘æœºåˆ¶"><a href="#è½¬å‘æœºåˆ¶" class="headerlink" title="è½¬å‘æœºåˆ¶"></a>è½¬å‘æœºåˆ¶</h3><blockquote><p>æ‰§è¡Œäº† A servlet åè·³è½¬åˆ° B servlet</p></blockquote><ol><li><p>è·å–è¯·æ±‚è½¬å‘å™¨å¯¹è±¡</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‚æ•°æ˜¯ web.xml é…ç½®çš„è·¯å¾„</span></span><br><span class="line"><span class="type">RequestDispatcher</span> <span class="variable">dispatcher</span> <span class="operator">=</span> request.getRequestDispatcher(<span class="string">&#x27;/b&#x27;</span>);</span><br></pre></td></tr></table></figure></li><li><p>è°ƒç”¨è¯·æ±‚è½¬å‘å™¨çš„ forword æ–¹æ³•</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dispatcher.forword(request, response);</span><br></pre></td></tr></table></figure></li></ol><h3 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h3><blockquote><p>é‡å®šå‘è¯·æ±‚ä¸¤æ¬¡ï¼Œè½¬å‘è¯·æ±‚ä¸€æ¬¡</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">response.sendRedirect(<span class="string">&quot;/project/dept/list&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="ä¸¤ä¸ªServlet-æ•°æ®æ€ä¹ˆå…±äº«ï¼Ÿ"><a href="#ä¸¤ä¸ªServlet-æ•°æ®æ€ä¹ˆå…±äº«ï¼Ÿ" class="headerlink" title="ä¸¤ä¸ªServlet æ•°æ®æ€ä¹ˆå…±äº«ï¼Ÿ"></a>ä¸¤ä¸ªServlet æ•°æ®æ€ä¹ˆå…±äº«ï¼Ÿ</h3><ol><li>å°†æ•°æ®æ”¾åˆ°ServletContext åº”ç”¨åŸŸä¸­</li><li>å°†æ•°æ®æ”¾åˆ° requeståŸŸä¸­ï¼Œç„¶åè½¬å‘åˆ°å¦ä¸€ä¸ªservlet</li></ol><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> dept;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dept(</span><br><span class="line">deptno <span class="type">int</span> <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">dname <span class="type">varchar</span>(<span class="number">255</span>),</span><br><span class="line">loc <span class="type">varchar</span>(<span class="number">255</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept(deptno, dname, loc) <span class="keyword">values</span>(<span class="number">10</span>,<span class="string">&#x27;é”€å”®éƒ¨&#x27;</span>,<span class="string">&#x27;åŒ—äº¬&#x27;</span>); </span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept(deptno, dname, loc) <span class="keyword">values</span>(<span class="number">20</span>,<span class="string">&#x27;ç ”å‘éƒ¨&#x27;</span>,<span class="string">&#x27;ä¸Šæµ·&#x27;</span>); </span><br><span class="line">    </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept(deptno, dname, loc) <span class="keyword">values</span>(<span class="number">30</span>,<span class="string">&#x27;æŠ€æœ¯éƒ¨&#x27;</span>,<span class="string">&#x27;å¹¿å·&#x27;</span>); </span><br><span class="line">  </span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept(deptno, dname, loc) <span class="keyword">values</span>(<span class="number">40</span>,<span class="string">&#x27;åª’ä½“éƒ¨&#x27;</span>,<span class="string">&#x27;æ·±åœ³&#x27;</span>); </span><br><span class="line">    </span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨æ³¨è§£æ–¹å¼æ³¨å†Œ-servlet"><a href="#ä½¿ç”¨æ³¨è§£æ–¹å¼æ³¨å†Œ-servlet" class="headerlink" title="ä½¿ç”¨æ³¨è§£æ–¹å¼æ³¨å†Œ servlet"></a>ä½¿ç”¨æ³¨è§£æ–¹å¼æ³¨å†Œ servlet</h3><blockquote><p>æ¯æ¬¡é…ç½® web.xml æ–‡ä»¶ï¼Œè¿‡äºç¹çã€‚å¯ä»¥ä½¿ç”¨ @WebServlet æ³¨è§£ã€‚</p><p>å¦‚æœå‚æ•°ä¸éœ€è¦å˜åŒ–çš„å»ºè®®ä½¿ç”¨æ³¨è§£ï¼Œå¦‚æœå‚æ•°éœ€è¦é¢‘ç¹å˜æ›´å»ºè®®å†™åœ¨é…ç½®æ–‡ä»¶</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(name = &quot;studentServlet&quot;, urlPatterns = &quot;/servlet/student&quot;,</span></span><br><span class="line"><span class="meta">initParams = &#123; @WebInitParam(name = &quot;username&quot;, value=&quot;root&quot;), @WebInitParam(name = &quot;password&quot;, value=&quot;123456&quot;)&#125; ,loadOnStartup = 1)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StudentServlet</span> <span class="keyword">extends</span> <span class="title class_">ServiceAdapter</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è·å–æ³¨è§£ä¸Šçš„å‚æ•°"><a href="#è·å–æ³¨è§£ä¸Šçš„å‚æ•°" class="headerlink" title="è·å–æ³¨è§£ä¸Šçš„å‚æ•°"></a>è·å–æ³¨è§£ä¸Šçš„å‚æ•°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doGet</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> &#123;</span><br><span class="line">    <span class="comment">// è·å–Servlet Name</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">servletName</span> <span class="operator">=</span> getServletName();</span><br><span class="line">    <span class="comment">// è·å–Servlet path</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">servletPath</span> <span class="operator">=</span> resuest.getServletPath();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è·å–åˆå§‹åŒ–å‚æ•° initParams</span></span><br><span class="line">    Enumeration&lt;String&gt; names = getInitParameterNames();</span><br><span class="line">    <span class="keyword">while</span>(names.hasMoreElements()) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> names.nextElement();</span><br><span class="line">        <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> getInitParameter(name);</span><br><span class="line">        System.out.println(name + value);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨åå°„è·å–ç±»ä¸Šçš„æ³¨è§£"><a href="#ä½¿ç”¨åå°„è·å–ç±»ä¸Šçš„æ³¨è§£" class="headerlink" title="ä½¿ç”¨åå°„è·å–ç±»ä¸Šçš„æ³¨è§£"></a>ä½¿ç”¨åå°„è·å–ç±»ä¸Šçš„æ³¨è§£</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;?&gt; welcomeServletClass = Class.forName(<span class="string">&quot;com.xxxxx.servlet.WelcomeServlet&quot;</span>);</span><br><span class="line"><span class="comment">// åˆ¤æ–­ç±»æ˜¯å¦æœ‰æ³¨è§£å¯¹è±¡ï¼Œæœ‰å°±è·å–</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">annotationPresent</span> <span class="operator">=</span> welcomeServletClass.isAnnotationPresent(WebServlet.class);</span><br><span class="line"><span class="keyword">if</span>(annotationPresent) &#123;</span><br><span class="line">    <span class="type">WebServlet</span> <span class="variable">webServletAnnotation</span> <span class="operator">=</span> welcomeServletClass.getAnnitation(WebServlet.class);</span><br><span class="line">    Stirng[] value = webServletAnnotation.value();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span><span class="number">0</span>; i&lt; value.length; i++) &#123;</span><br><span class="line">        System.out.println(value[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼"><a href="#æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼" class="headerlink" title="æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼"></a>æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼</h3><blockquote><p>æŸä¸ªé—®é¢˜çš„å›ºå®šè§£å†³æ–¹æ¡ˆï¼ˆå¯ä»¥è¢«é‡å¤ä½¿ç”¨ï¼‰</p></blockquote><p><strong>ä»€ä¹ˆæ˜¯æ¨¡æ¿æ–¹æ³•è®¾è®¡æ¨¡å¼?</strong></p><blockquote><p>åœ¨æ¨¡æ¿ç±»çš„æ¨¡æ¿æ–¹æ³•å½“ä¸­å®šä¹‰æ ¸å¿ƒç®—æ³•éª¨æ¶ï¼Œå…·ä½“çš„å®ç°æ­¥éª¤å¯ä»¥å»¶è¿Ÿåˆ°å­ç±»å½“ä¸­å®Œæˆã€‚æ¨¡æ¿ç±»é€šå¸¸æ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œæ¨¡æ¿ç±»å½“ä¸­çš„æ¨¡æ¿æ–¹æ³•å®šä¹‰æ ¸å¿ƒç®—æ³•ï¼Œè¿™ä¸ªæ–¹æ³•é€šå¸¸æ˜¯finalçš„(ä½†ä¹Ÿå¯ä»¥ä¸æ˜¯finalçš„)</p><p>æ¨¡æ¿ç±»å½“ä¸­çš„æŠ½è±¡æ–¹æ³•å°±æ˜¯ä¸ç¡®å®šå®ç°çš„æ–¹æ³•ï¼Œè¿™ä¸ªä¸ç¡®å®šæ€ä¹ˆå®ç°çš„äº‹å„¿äº¤ç»™å­ç±»å»åšã€‚</p></blockquote><p><strong>ä¹‹å‰æˆ‘ä»¬æ˜¯ä¸€ä¸ªè¯·æ±‚ä¸€ä¸ªServlet ï¼Œè¿™æ ·ä¼šå¯¼è‡´æˆ‘ä»¬åˆ›å»ºå¤šä¸ªServletã€‚æˆ‘ä»¬æƒ³æŠŠå¤šä¸ªServlet åˆå¹¶æˆä¸€ä¸ªServletï¼Œæ€ä¹ˆåšï¼Ÿ</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@WebServlet(&#123;&quot;/list&quot;, &quot;/add&quot;, &quot;/save&quot;, &quot;/delete&quot;, &quot;/update&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DepServlet</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(HttpServletRequest req, HttpServletResponse res)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"><span class="comment">//        super.service(req, resp);</span></span><br><span class="line">        <span class="comment">// è·å–è¯·æ±‚è·¯å¾„</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">servletPath</span> <span class="operator">=</span> req.getServletPath();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;/list&quot;</span>.equals(servletPath)) &#123;</span><br><span class="line">            doList(req, res);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span>(<span class="string">&quot;/add&quot;</span>.equals(servletPath)) &#123;</span><br><span class="line">            doAdd(req, res);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doAdd</span><span class="params">(HttpServletRequest req, HttpServletResponse res)</span>  <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="built_in">this</span>.getWriter(res);</span><br><span class="line">        out.println(<span class="string">&quot;doAdd&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">doList</span><span class="params">(HttpServletRequest req, HttpServletResponse res)</span>  <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="built_in">this</span>.getWriter(res);</span><br><span class="line">        out.println(<span class="string">&quot;doList&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> PrintWriter <span class="title function_">getWriter</span><span class="params">(ServletResponse res)</span> &#123;</span><br><span class="line">        res.setContentType(<span class="string">&quot;text/html&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span>  <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            out = res.getWriter();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> out;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="jsp"><a href="#jsp" class="headerlink" title="jsp"></a>jsp</h3><blockquote><p>è®¿é—® index.jsp æ–‡ä»¶å®é™…ä¸Šæ˜¯è®¿é—® tomcat ç¿»è¯‘ç”Ÿæˆçš„ index_jsp.class</p></blockquote><blockquote><p><strong>]SPå®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªServletã€‚</strong><br><strong>i</strong>ndex.spè®¿é—®çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨ç¿»è¯‘ç”Ÿæˆindex isp.javaï¼Œä¼šè‡ªåŠ¨ç¼–è¯‘ç”Ÿæˆindex isp.cassï¼Œé‚£ä¹ˆindex isp è¿™å°±æ˜¯ä¸€ä¸ªç±»ã€‚</p><p>indexjspç±»ç»§æ‰¿HttplspBaseï¼Œè€ŒHttplspBaseç±»ç»§æ‰¿çš„æ˜¯HttpServletã€‚æ‰€ä»¥index jspç±»å°±æ˜¯ä¸€ä¸ªServletç±»ã€‚ispçš„ç”Ÿå‘½å‘¨æœŸå’ŒServletçš„ç”Ÿå‘½å‘¨æœŸå®Œå…¨ç›¸åŒã€‚å®Œå…¨å°±æ˜¯ä¸€ä¸ªä¸œè¥¿ã€‚æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚</p><p>æ™®é€šservlet å¯¹è±¡æ³¨é‡ä¸šåŠ¡ï¼Œjsp åˆ™æ›´æ³¨é‡é¡µé¢å±•ç¤º</p></blockquote><p><strong>åœ¨ jsp æ–‡ä»¶ä¸­ç¼–å†™Javaä»£ç æ—¶å°±ç›¸å½“äºåœ¨ Servlet ä¸­çš„ service æ–¹æ³•ä¸­ç¼–å†™ä»£ç </strong></p><h4 id="jspè¯­æ³•"><a href="#jspè¯­æ³•" class="headerlink" title="jspè¯­æ³•"></a>jspè¯­æ³•</h4><figure class="highlight jsp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;%</span><br><span class="line"> ... è¿™é‡Œçš„ä»£ç ä¼šè¢«æ”¾åˆ°servlet çš„serviceæ–¹æ³•ä¸­æ¸²æŸ“</span><br><span class="line">%&gt;</span><br><span class="line"></span><br><span class="line">&lt;%!</span><br><span class="line"> ... è¿™é‡Œçš„ä»£ç ä¼šè¢«æ”¾ç½®åˆ°servlet çš„ç±»ä½“ä¸­   </span><br><span class="line"> %&gt;</span><br><span class="line"></span><br><span class="line">&lt;%=xxx%&gt; ç¿»è¯‘æˆ out.print(xxx);</span><br><span class="line"></span><br><span class="line">xzxz  æ™®é€šå­—ç¬¦ä¸²ä¼šè¢«ç¿»è¯‘åˆ°out.print(<span class="string">&quot;xzxz&quot;</span>) å‚æ•°ä¸­</span><br></pre></td></tr></table></figure><h4 id="å†…ç½®å¯¹è±¡"><a href="#å†…ç½®å¯¹è±¡" class="headerlink" title="å†…ç½®å¯¹è±¡"></a>å†…ç½®å¯¹è±¡</h4><blockquote><p>åªèƒ½åœ¨ &lt;%%&gt; serviceæ–¹æ³•ä¸­ä½¿ç”¨</p></blockquote><ol><li>out   è¾“å‡ºæµå¯¹è±¡</li></ol><h3 id="session-ä¼šè¯æœºåˆ¶ï¼ˆB-Sç³»ç»Ÿç»“æ„ï¼‰"><a href="#session-ä¼šè¯æœºåˆ¶ï¼ˆB-Sç³»ç»Ÿç»“æ„ï¼‰" class="headerlink" title="session ä¼šè¯æœºåˆ¶ï¼ˆB/Sç³»ç»Ÿç»“æ„ï¼‰"></a>session ä¼šè¯æœºåˆ¶ï¼ˆB/Sç³»ç»Ÿç»“æ„ï¼‰</h3><blockquote><p>ç”¨æˆ·ä»æ‰“å¼€æµè§ˆå™¨åˆ°å…³é—­æµè§ˆå™¨å°±æ˜¯ä¸€æ¬¡ä¼šè¯ã€‚</p><p>ä¸ºå•¥éœ€è¦sessionæ¥ä¿å­˜ä¼šè¯çŠ¶æ€ï¼Ÿå› ä¸ºHttpåè®®æ˜¯ä¸€ç§æ— çŠ¶æ€åè®®</p><p>session å¯¹è±¡æ˜¯å­˜å‚¨åœ¨æœåŠ¡ç«¯çš„ï¼Œä¸€ä¸ªsessionå¯¹åº”ä¸€ä¸ªè¯·æ±‚å¯¹è±¡ã€‚</p><p>sessionçš„é”€æ¯æ˜¯é€šè¿‡è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œå°±æ˜¯ç™»å½•åä½ çš„æœ€åä¸€æ¬¡æ“ä½œåè¶…è¿‡å¤šé•¿æ—¶é—´æ²¡æœ‰æ“ä½œï¼Œåç«¯ä¼šåˆ¤æ–­è¿™ä¸ªä¼šè¯è¿‡æœŸ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åªè·å– session</span></span><br><span class="line"><span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession(fasle);</span><br><span class="line"><span class="comment">// è·å–ä¸åˆ°åˆ›å»ºä¸€ä¸ª</span></span><br><span class="line"><span class="type">HttpSession</span> <span class="variable">session</span> <span class="operator">=</span> req.getSession();</span><br><span class="line"><span class="comment">// å‘ä¼šè¯ä¸­ç»‘å®šæ•°æ®</span></span><br><span class="line">session.setAttribute();</span><br><span class="line"><span class="comment">// ä»ä¼šè¯åŸŸä¸­å–æ•°æ®</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> session.getAttribute();</span><br><span class="line"><span class="comment">// å°†sessionå¯¹è±¡å“åº”åˆ°æµè§ˆå™¨</span></span><br><span class="line">response.setContentType(<span class="string">&quot;text/html;charset=UTF-8&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ä¸ºå•¥ä¸ç”¨-request-servletContext-å­˜å‚¨ï¼Ÿ"><a href="#ä¸ºå•¥ä¸ç”¨-request-servletContext-å­˜å‚¨ï¼Ÿ" class="headerlink" title="ä¸ºå•¥ä¸ç”¨ request,servletContext å­˜å‚¨ï¼Ÿ"></a>ä¸ºå•¥ä¸ç”¨ request,servletContext å­˜å‚¨ï¼Ÿ</h4><blockquote><p>ä½œç”¨åŸŸå¤§å°ï¼šrequest &lt; session &lt; servletContext</p><p>request å¯¹è±¡æ¯æ¬¡è¯·æ±‚éƒ½ä¼šåˆ›å»ºæ–°çš„å¯¹è±¡</p><p>servletContext æ˜¯æ‰€æœ‰ç”¨æˆ·å…±äº«çš„</p></blockquote><h4 id="sessionçš„å®ç°åŸç†"><a href="#sessionçš„å®ç°åŸç†" class="headerlink" title="sessionçš„å®ç°åŸç†"></a>sessionçš„å®ç°åŸç†</h4><blockquote><p>â€‹    åœ¨webæœåŠ¡å™¨ä¸­æœ‰ä¸€ä¸ªsessionåˆ—è¡¨ã€‚ç±»ä¼¼äºmapé›†åˆã€‚è¿™ä¸ªmapé›†åˆçš„keyå­˜å‚¨çš„æ˜¯sessionidè¿™ä¸ªmapé›†åˆçš„valueå­˜å‚¨çš„æ˜¯å¯¹åº”çš„sessionå¯¹è±¡</p><p>â€‹    ç”¨æˆ·å‘é€ç¬¬ä¸€æ¬¡è¯·æ±‚çš„æ—¶å€™: æœåŠ¡å™¨ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„sessionå¯¹è±¡ï¼ŒåŒæ—¶ç»™sessionå¯¹è±¡ç”Ÿæˆä¸€ä¸ªidï¼Œç„¶åwebæœåŠ¡å™¨ä¼šå°†sessionçš„idå‘é€ç»™æµè§ˆå™¨ï¼Œæµè§ˆå™¨å°†sessionçš„idä¿å­˜åœ¨æµè§ˆå™¨çš„ç¼“å­˜ä¸­</p><p>â€‹    ç”¨æˆ·å‘é€ç¬¬äºŒæ¬¡è¯·æ±‚çš„æ—¶å€™: ä¼šè‡ªåŠ¨å°†æµè§ˆå™¨ç¼“å­˜ä¸­çš„sessionidè‡ªåŠ¨å‘é€ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è·å–åˆ°sessionidç„¶åä»sessionåˆ—è¡¨ä¸­æŸ¥æ‰¾åˆ°å¯¹åº”çš„sessionå¯¹è±¡</p></blockquote><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230214084004466.png" alt="image-20230214084004466"></p><h4 id="ä¸ºå•¥å…³é—­æµè§ˆå™¨ï¼Œä¼šè¯ç»“æŸï¼Ÿ"><a href="#ä¸ºå•¥å…³é—­æµè§ˆå™¨ï¼Œä¼šè¯ç»“æŸï¼Ÿ" class="headerlink" title="ä¸ºå•¥å…³é—­æµè§ˆå™¨ï¼Œä¼šè¯ç»“æŸï¼Ÿ"></a>ä¸ºå•¥å…³é—­æµè§ˆå™¨ï¼Œä¼šè¯ç»“æŸï¼Ÿ</h4><blockquote><p>å…³é—­æµè§ˆå™¨åï¼Œæµè§ˆå™¨ä¸­ä¿å­˜çš„sessionIDå°è‰¾æ˜¯ï¼Œä¸‹æ¬¡é‡æ–°æ‰“å¼€åç¼“å­˜ä¸­æ²¡æœ‰è¿™ä¸ªsessionIDï¼Œè‡ªç„¶åœ¨æœåŠ¡ç«¯æ‰¾ä¸åˆ°å¯¹åº”çš„sessionå¯¹è±¡</p></blockquote><h4 id="web-xml-è®¾ç½®session-è¿‡æœŸæ—¶é—´"><a href="#web-xml-è®¾ç½®session-è¿‡æœŸæ—¶é—´" class="headerlink" title="web.xml è®¾ç½®session è¿‡æœŸæ—¶é—´"></a>web.xml è®¾ç½®session è¿‡æœŸæ—¶é—´</h4><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">session-config</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">session-timeout</span>&gt;</span>30<span class="tag">&lt;/<span class="name">session-timeout</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">session-config</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="cookieç¦æ­¢äº†ï¼Œæ€ä¹ˆä¼ é€’sessionIDï¼Ÿ"><a href="#cookieç¦æ­¢äº†ï¼Œæ€ä¹ˆä¼ é€’sessionIDï¼Ÿ" class="headerlink" title="cookieç¦æ­¢äº†ï¼Œæ€ä¹ˆä¼ é€’sessionIDï¼Ÿ"></a>cookieç¦æ­¢äº†ï¼Œæ€ä¹ˆä¼ é€’sessionIDï¼Ÿ</h4><blockquote><p>å¯ä»¥ä½¿ç”¨URLé‡å†™æœºåˆ¶:<a href="http://xxxx.com;jsessionid=sessionid/">http://xxxx.com;jsessionid=sessionID</a></p><p>ä½†æ˜¯æˆæœ¬é«˜ï¼šæ‰€ä»¥ä¼ä¸šå¸¸ç”¨ç­–ç•¥æ˜¯ï¼šä½ çˆ±ç”¨ä¸ç”¨</p></blockquote><h3 id="cookie"><a href="#cookie" class="headerlink" title="cookie"></a>cookie</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º</span></span><br><span class="line"><span class="type">Cookie</span> <span class="variable">cookie</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;515616&quot;</span>);</span><br><span class="line"><span class="comment">// è®¾ç½®1å°æ—¶åè¿‡æœŸ</span></span><br><span class="line">cookie.setMaxage(<span class="number">60</span>*<span class="number">60</span>);</span><br><span class="line"><span class="comment">// è®¾ç½®è¿‡æœŸæ—¶é—´0ï¼Œè¡¨ç¤ºåˆ é™¤æ¬¡cookie</span></span><br><span class="line">cookie.setMaxage(<span class="number">0</span>);</span><br><span class="line"><span class="comment">// å…³è”è·¯å¾„,æ­¤è·¯å¾„æ‰æäº¤cookie</span></span><br><span class="line">cookie.setPath();</span><br><span class="line"><span class="comment">// å‘é€åˆ°æµè§ˆå™¨</span></span><br><span class="line">res.addCookie(cookie);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœåŠ¡å™¨è·å–cookie</span></span><br><span class="line">Cookie[]  cookies = req.getCookies();</span><br><span class="line"><span class="keyword">if</span> (cookies != <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (Cookie cookie: cookies) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;cookie = &quot;</span> + cookie.getName() + cookie.getValue());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="10å¤©å…ç™»å½•"><a href="#10å¤©å…ç™»å½•" class="headerlink" title="10å¤©å…ç™»å½•"></a>10å¤©å…ç™»å½•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºCookieå¯¹è±¡å­˜å‚¨ç”¨æˆ·å</span></span><br><span class="line"><span class="type">Cookie</span> <span class="variable">cookie1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>( name: <span class="string">&quot;username&quot;</span>, username);</span><br><span class="line"><span class="comment">// åˆ›å»ºCookieå¯¹è±¡å­˜å‚¨å¯†ç </span></span><br><span class="line"><span class="type">Cookie</span> <span class="variable">cookie2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cookie</span>( name:<span class="string">&quot;password&quot;</span>ï¼Œpassword); </span><br><span class="line"><span class="comment">// çœŸå®æƒ…å†µä¸‹æ˜¯åŠ å¯†çš„// è®¾ç½®cookieçš„æœ‰æ•ˆæœŸä¸ºåå¤©</span></span><br><span class="line">cookie1.setMaxAge(<span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">10</span>):</span><br><span class="line">cookie2.setMaxAge(<span class="number">60</span> * <span class="number">60</span> *<span class="number">24</span> * <span class="number">10</span>);</span><br><span class="line"><span class="comment">// è®¾ç½®cookieçš„path (åªè¦è®¿é—®è¿™ä¸ªåº”ç”¨ï¼Œæµè§ˆå™¨å°±ä¸€å®šè¦æºå¸¦è¿™ä¸¤ä¸ªcookie)</span></span><br><span class="line">cookie1.setPath(request.getContextPath()):</span><br><span class="line">cookie2.setPath(request.getContextPath()):</span><br><span class="line"><span class="comment">// å“åº”cookieç»™æµè§ˆå™¨</span></span><br><span class="line">response.addCookie(cookie1);</span><br><span class="line">response.addCookie(cookie2):</span><br></pre></td></tr></table></figure><h3 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h3><blockquote><p>å°±æ˜¯è¯´æˆ‘ä»¬é¡¹ç›®ä¸­å¾ˆå¤šæ¨¡å—éƒ½æ˜¯éœ€è¦éªŒè¯ç™»å½•çš„ï¼Œæ¯æ¬¡æ‰§è¡Œå¯¹åº”servletæ—¶ï¼Œå…ˆè·å–sessionï¼Œcookieç»è¡Œæ ¡éªŒç„¶åæ ¹æ®æƒ…å†µç»è¡Œè·³è½¬ã€‚æ‰€ä»¥è¯´æˆ‘ä¹ˆç»™èƒ½ä¸èƒ½æŠŠæ ¡éªŒè¿™ä¸€å—æå–æˆå…±ç”¨çš„æ–¹å¼</p></blockquote><p>ç¼–å†™è¿‡æ»¤å™¨</p><blockquote><p>Filteré»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨æœåŠ¡å™¨å¯åŠ¨æ—¶å°±ä¼šæ–°å»ºå¯¹è±¡</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨å†Œï¼ŒåŒ¹é…/list è·¯å¾„ @WebFilter(&quot;/user/*&quot;) å¯ä»¥ä½¿ç”¨æ¨¡ç³ŠåŒ¹é…</span></span><br><span class="line"><span class="meta">@WebFilter(&quot;/list&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FilterLogin</span> <span class="keyword">implements</span> <span class="title class_">Filter</span> &#123;</span><br><span class="line">    <span class="comment">// ç¬¬ä¸€æ¬¡åˆ›å»ºä¹‹åè°ƒç”¨ï¼Œåªæ‰§è¡Œä¸€ä¾§</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">init</span><span class="params">(FilterConfig filterConfig)</span> <span class="keyword">throws</span> ServletException &#123;</span><br><span class="line">        Filter.<span class="built_in">super</span>.init(filterConfig);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ¯æ¬¡è¯·æ±‚éƒ½ä¼šæ‹¦æˆª</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doFilter</span><span class="params">(ServletRequest req, ServletResponse res, FilterChain filterChain)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‹¦æˆª&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ”¾è¡Œ</span></span><br><span class="line">        filterChain.doFilter(req, res);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é”€æ¯æ—¶æ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">destroy</span><span class="params">()</span> &#123;</span><br><span class="line">        Filter.<span class="built_in">super</span>.destroy();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">filter</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>FilterLogin<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-class</span>&gt;</span>com.javaweb.servlet.FilterLogin<span class="tag">&lt;/<span class="name">filter-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">filter-mapping</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">filter-name</span>&gt;</span>FilterLogin<span class="tag">&lt;/<span class="name">filter-name</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span>/list<span class="tag">&lt;/<span class="name">url-pattern</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">filter-mapping</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>æ‰§è¡Œé¡ºåº</strong></p><blockquote><p>åœ¨xmlæ–‡ä»¶ä¸­é…ç½®ï¼Œåˆ™ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œï¼Œä½¿ç”¨æ³¨è§£æ–¹å¼ï¼Œåˆ™æ¯”è¾ƒç±»åã€‚å¦‚ï¼šFilter1,Filter2,å…ˆæ‰§è¡ŒFilter1. FilterA,FilterBå…ˆæ‰§è¡ŒFilterB</p></blockquote><p>è´£ä»»é“¾æ¨¡å¼ï¼šå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­æ›´æ”¹é¡ºåºï¼Œæ¥æ”¹å˜æ‰§è¡Œã€‚ä¸éœ€è¦æ”¹Javaä»£ç </p><h3 id="ç›‘å¬å™¨"><a href="#ç›‘å¬å™¨" class="headerlink" title="ç›‘å¬å™¨"></a>ç›‘å¬å™¨</h3><blockquote><p>Servlet ç•™ç»™Java ç¨‹åºå‘˜çš„ç‰¹æ®Šæ—¶æœº.</p><p>ç›‘å¬å™¨çš„æ–¹æ³•ä¸éœ€è¦ç¨‹åºå‘˜ä¸»åŠ¨è°ƒç”¨ï¼Œè€Œæ˜¯è¢«webæœåŠ¡å™¨è‡ªåŠ¨è°ƒç”¨</p></blockquote><ul><li>Jakarta.servlet<ul><li>ServletContextListener</li><li>ServletContextAttributeListener</li><li>ServletRequestListener</li><li>ServletRequestListener</li></ul></li><li>jakata.servlet.http<ul><li>HttpSessionListener</li><li>HttpSessionAttributeListener</li><li>HttpSessionBindingListener</li><li>HttpSessionIdListener</li><li>HttpSessionActivetionListener</li></ul></li></ul><p>åˆ›å»ºä¸€ä¸ªç›‘å¬å™¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyServletContextListener</span> <span class="keyword">implements</span> <span class="title class_">ServletContextListener</span> &#123;</span><br><span class="line">    <span class="comment">// servletContext  å¯¹è±¡è¢«åˆ›å»ºæ—¶è°ƒç”¨</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">contextInitialized</span><span class="params">(ServletContextEvent sce)</span> &#123;</span><br><span class="line">        ServletContextListener.<span class="built_in">super</span>.contextInitialized(sce);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// servletContext å¯¹è±¡è¢«é”€æ¯æ—¶æ‰§è¡Œ</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">contextDestroyed</span><span class="params">(ServletContextEvent sce)</span> &#123;</span><br><span class="line">        ServletContextListener.<span class="built_in">super</span>.contextDestroyed(sce);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå¯ä»¥ä½¿ç”¨é…ç½®æ–‡ä»¶æˆ–æ³¨è§£ @WebListener</p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">listener</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">listener-class</span>&gt;</span>com.javaweb.servlet.MyServletContextListener<span class="tag">&lt;/<span class="name">listener-class</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">listener</span>&gt;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;servlet æ˜¯JavaEE è§„èŒƒä¹‹ä¸€ã€‚&lt;/p&gt;
&lt;p&gt;javaEE ç›®å‰æœ€é«˜ç‰ˆæœ¬æ—¶javaEE8,å®ƒè¢«OracleæçŒ®ç»™Apacheã€‚ä¹‹åè¢«æ”¹åä¸º Jakarta EEã€‚ä»æ­¤æ²¡æœ‰javaEE äº†&lt;/p&gt;
&lt;p&gt;javaEE8ä¸­çš„Servletç±»åï¼šjavax.servlet.Servlet&lt;/p&gt;
&lt;p&gt;javaEE9ä¸­çš„Servletç±»åï¼šjakarta.servlet.Servlet&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;å…³äºç³»ç»Ÿæ¶æ„&quot;&gt;&lt;a href=&quot;#å…³äºç³»ç»Ÿæ¶æ„&quot; class=&quot;headerlink&quot; title=&quot;å…³äºç³»ç»Ÿæ¶æ„&quot;&gt;&lt;/a&gt;å…³äºç³»ç»Ÿæ¶æ„&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;ç³»ç»Ÿæ¶æ„åŒ…æ‹¬&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;C/S æ¶æ„&lt;/p&gt;
&lt;p&gt;  å°±æ˜¯éœ€è¦å®‰è£…çš„è½¯ä»¶&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;B/S æ¶æ„&lt;/p&gt;
&lt;p&gt;  å°±æ˜¯è¿è¡Œåœ¨æµè§ˆå™¨çš„é¡µé¢&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h3 id=&quot;Tomcat&quot;&gt;&lt;a href=&quot;#Tomcat&quot; class=&quot;headerlink&quot; title=&quot;Tomcat&quot;&gt;&lt;/a&gt;Tomcat&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;å¼€æºå…è´¹çš„è½»é‡çº§ï¼·ï¼¥ï¼¢æœåŠ¡å™¨&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h4 id=&quot;tomcat-ç›®å½•&quot;&gt;&lt;a href=&quot;#tomcat-ç›®å½•&quot; class=&quot;headerlink&quot; title=&quot;tomcat ç›®å½•&quot;&gt;&lt;/a&gt;tomcat ç›®å½•&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;binï¼šå­˜æ”¾å‘½ä»¤æ–‡ä»¶&lt;ul&gt;
&lt;li&gt;.bat æ–‡ä»¶ï¼Œæ‰¹é‡æ‰§è¡Œwindows DOSå‘½ä»¤&lt;/li&gt;
&lt;li&gt;.sh æ–‡ä»¶ï¼Œæ‰¹é‡æ‰§è¡Œ Linux å‘½ä»¤&lt;/li&gt;
&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;confï¼šé…ç½®æ–‡ä»¶&lt;/li&gt;
&lt;li&gt;libï¼štomcatæ ¸å¿ƒç¨‹åºç›®å½•&lt;/li&gt;
&lt;li&gt;logsï¼šæ—¥å¿—ç›®å½•&lt;/li&gt;
&lt;li&gt;tempï¼šä¸´æ—¶ç›®å½•&lt;/li&gt;
&lt;li&gt;webappsï¼šå­˜æ”¾webåº”ç”¨&lt;/li&gt;
&lt;li&gt;workï¼šå­˜æ”¾jspæ–‡ä»¶ç¿»è¯‘ä¹‹åçš„Javaæ–‡ä»¶ä»¥åŠç¼–è¯‘ä¹‹åçš„classæ–‡ä»¶&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;é…ç½®tomcatç¯å¢ƒ&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;CATALINA_HOME=D:\tomcat\apache-tomcat-10.0.27&lt;/li&gt;
&lt;li&gt;JAVAï¼¿HOME=C:\Program Files\Java\jdk1.8.0_321&lt;/li&gt;
&lt;li&gt;JRE_HOME=%JAVAï¼¿HOME%\jre&lt;/li&gt;
&lt;/ol&gt;
&lt;h4 id=&quot;è¿è¡Œ&quot;&gt;&lt;a href=&quot;#è¿è¡Œ&quot; class=&quot;headerlink&quot; title=&quot;è¿è¡Œ&quot;&gt;&lt;/a&gt;è¿è¡Œ&lt;/h4&gt;&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;startup.bat&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;å‡ºç°ä¸­æ–‡ä¹±ç &lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ä¿®æ”¹conf/logging.properties&lt;/p&gt;
&lt;p&gt;java.util.logging.ConsoleHandler.encoding = GBK&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="java" scheme="https://wyf195075595.github.io/categories/java/"/>
    
    
    <category term="jdbcwebåŸºç¡€" scheme="https://wyf195075595.github.io/tags/jdbcweb%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>jsconfig.json</title>
    <link href="https://wyf195075595.github.io/2023/02/08/programming/javascript/jsconfig/"/>
    <id>https://wyf195075595.github.io/2023/02/08/programming/javascript/jsconfig/</id>
    <published>2023-02-08T14:11:10.000Z</published>
    <updated>2023-02-08T14:28:44.324Z</updated>
    
    <content type="html"><![CDATA[<h3 id="vueé¡¹ç›®ä¸­-jsconfig-json-æ–‡ä»¶æ˜¯ä»€ä¹ˆ-æœ‰å•¥ç”¨ï¼Ÿ"><a href="#vueé¡¹ç›®ä¸­-jsconfig-json-æ–‡ä»¶æ˜¯ä»€ä¹ˆ-æœ‰å•¥ç”¨ï¼Ÿ" class="headerlink" title="vueé¡¹ç›®ä¸­ jsconfig.json æ–‡ä»¶æ˜¯ä»€ä¹ˆ?æœ‰å•¥ç”¨ï¼Ÿ"></a><a href="https://so.csdn.net/so/search?q=vue%E9%A1%B9%E7%9B%AE&spm=1001.2101.3001.7020">vueé¡¹ç›®</a>ä¸­ jsconfig.json æ–‡ä»¶æ˜¯ä»€ä¹ˆ?æœ‰å•¥ç”¨ï¼Ÿ</h3><blockquote><p>å½“æ‚¨åœ¨å·¥ä½œç©ºé—´ä¸­æœ‰ä¸€ä¸ªå®šä¹‰é¡¹ç›®ä¸Šä¸‹æ–‡çš„jsconfig.jsonæ–‡ä»¶æ—¶ï¼ŒJavaScriptä½“éªŒä¼šå¾—åˆ°æ”¹è¿›ã€‚</p></blockquote><p>ç›®å½•ä¸­å­˜åœ¨tsconfig.jsonæ–‡ä»¶è¡¨æ˜è¯¥ç›®å½•æ˜¯ TypeScript é¡¹ç›®çš„æ ¹ç›®å½•ã€‚è¯¥tsconfig.jsonæ–‡ä»¶æŒ‡å®šç¼–è¯‘é¡¹ç›®æ‰€éœ€çš„æ ¹æ–‡ä»¶å’Œç¼–è¯‘å™¨é€‰é¡¹ã€‚</p><p>JavaScript é¡¹ç›®å¯ä»¥ä½¿ç”¨jsconfig.jsonæ–‡ä»¶æ¥ä»£æ›¿ï¼Œå®ƒçš„ä½œç”¨å‡ ä¹ç›¸åŒï¼Œä½†é»˜è®¤å¯ç”¨äº†ä¸€äº›ä¸ JavaScript ç›¸å…³çš„ç¼–è¯‘å™¨æ ‡å¿—ã€‚</p><blockquote><p>jsconfig.jsonæºäºtsconfig.jsonï¼Œæ˜¯TypeScriptçš„é…ç½®æ–‡ä»¶ã€‚</p><p> jsconfig.jsonç›¸å½“äºtsconfig.jsonçš„â€œallowJsâ€å±æ€§è®¾ç½®ä¸ºtrue</p></blockquote><span id="more"></span><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/* ä¸»è¦ä½œç”¨æ˜¯vscodeå¯¼å…¥ä½¿ç”¨åˆ«åæ—¶å¯ä»¥è‡ªåŠ¨åŒ–æç¤ºæ–‡ä»¶è·¯å¾„ */</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;compilerOptions&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;baseUrl&quot;</span>: <span class="string">&quot;./&quot;</span>,</span><br><span class="line">    <span class="string">&quot;paths&quot;</span>: &#123;</span><br><span class="line">      <span class="string">&quot;@/*&quot;</span>: [<span class="string">&quot;src&quot;</span>],</span><br><span class="line">      <span class="string">&quot;components/*&quot;</span>: [<span class="string">&quot;src/components/*&quot;</span>],</span><br><span class="line">      <span class="string">&quot;pages/*&quot;</span>: [<span class="string">&quot;src/pages/*&quot;</span>],</span><br><span class="line">      <span class="string">&quot;assets/*&quot;</span>: [<span class="string">&quot;src/assets/*&quot;</span>]</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// è§£å†³ prettier å¯¹è£…é¥°å™¨è¯­æ³•è­¦å‘Š</span></span><br><span class="line">    <span class="string">&quot;allowSyntheticDefaultImports&quot;</span>: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">&quot;exclude&quot;</span>: [<span class="string">&quot;node_modules&quot;</span>, <span class="string">&quot;dist&quot;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230208222816154.png" alt="image-20230208222816154"></p>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;vueé¡¹ç›®ä¸­-jsconfig-json-æ–‡ä»¶æ˜¯ä»€ä¹ˆ-æœ‰å•¥ç”¨ï¼Ÿ&quot;&gt;&lt;a href=&quot;#vueé¡¹ç›®ä¸­-jsconfig-json-æ–‡ä»¶æ˜¯ä»€ä¹ˆ-æœ‰å•¥ç”¨ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;vueé¡¹ç›®ä¸­ jsconfig.json æ–‡ä»¶æ˜¯ä»€ä¹ˆ?æœ‰å•¥ç”¨ï¼Ÿ&quot;&gt;&lt;/a&gt;&lt;a href=&quot;https://so.csdn.net/so/search?q=vue%E9%A1%B9%E7%9B%AE&amp;spm=1001.2101.3001.7020&quot;&gt;vueé¡¹ç›®&lt;/a&gt;ä¸­ jsconfig.json æ–‡ä»¶æ˜¯ä»€ä¹ˆ?æœ‰å•¥ç”¨ï¼Ÿ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;å½“æ‚¨åœ¨å·¥ä½œç©ºé—´ä¸­æœ‰ä¸€ä¸ªå®šä¹‰é¡¹ç›®ä¸Šä¸‹æ–‡çš„jsconfig.jsonæ–‡ä»¶æ—¶ï¼ŒJavaScriptä½“éªŒä¼šå¾—åˆ°æ”¹è¿›ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ç›®å½•ä¸­å­˜åœ¨tsconfig.jsonæ–‡ä»¶è¡¨æ˜è¯¥ç›®å½•æ˜¯ TypeScript é¡¹ç›®çš„æ ¹ç›®å½•ã€‚è¯¥tsconfig.jsonæ–‡ä»¶æŒ‡å®šç¼–è¯‘é¡¹ç›®æ‰€éœ€çš„æ ¹æ–‡ä»¶å’Œç¼–è¯‘å™¨é€‰é¡¹ã€‚&lt;/p&gt;
&lt;p&gt;JavaScript é¡¹ç›®å¯ä»¥ä½¿ç”¨jsconfig.jsonæ–‡ä»¶æ¥ä»£æ›¿ï¼Œå®ƒçš„ä½œç”¨å‡ ä¹ç›¸åŒï¼Œä½†é»˜è®¤å¯ç”¨äº†ä¸€äº›ä¸ JavaScript ç›¸å…³çš„ç¼–è¯‘å™¨æ ‡å¿—ã€‚&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;jsconfig.jsonæºäºtsconfig.jsonï¼Œæ˜¯TypeScriptçš„é…ç½®æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;p&gt; jsconfig.jsonç›¸å½“äºtsconfig.jsonçš„â€œallowJsâ€å±æ€§è®¾ç½®ä¸ºtrue&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="js" scheme="https://wyf195075595.github.io/categories/js/"/>
    
    
    <category term="js" scheme="https://wyf195075595.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>mysqlåŸºç¡€</title>
    <link href="https://wyf195075595.github.io/2023/01/31/programming/java/mysql/"/>
    <id>https://wyf195075595.github.io/2023/01/31/programming/java/mysql/</id>
    <published>2023-01-31T13:00:00.000Z</published>
    <updated>2023-03-08T13:44:24.916Z</updated>
    
    <content type="html"><![CDATA[<h3 id="å®‰è£…ä¸åˆ é™¤"><a href="#å®‰è£…ä¸åˆ é™¤" class="headerlink" title="å®‰è£…ä¸åˆ é™¤"></a>å®‰è£…ä¸åˆ é™¤</h3><blockquote><p>é€šè¿‡exe æ–‡ä»¶å®‰è£…</p><p>å¸è½½æ—¶å†ç‚¹å‡»å®‰è£…ç¨‹åºï¼Œé€‰æ‹© remove å³å¯å¸è½½ã€‚å¸è½½åè¿˜éœ€åˆ é™¤ä¸¤ä¸ªåœ°æ–¹æ–‡ä»¶ã€‚</p><ul><li>C:/ProgrameData/mySQL</li><li>C:/program Files(x86)/mySQL</li></ul><p>å¦‚æœä¸åˆ é™¤å¹²å‡€ï¼Œä¸‹æ¬¡ä¼šå®‰è£…ä¸ä¸Š</p></blockquote><h3 id="sql-DB-DBMSåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿå•¥å…³ç³»ï¼Ÿ"><a href="#sql-DB-DBMSåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿå•¥å…³ç³»ï¼Ÿ" class="headerlink" title="sql,DB,DBMSåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿå•¥å…³ç³»ï¼Ÿ"></a>sql,DB,DBMSåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿå•¥å…³ç³»ï¼Ÿ</h3><ul><li><p>DB: </p><p>  DataBase (æ•°æ®åº“ï¼Œæ•°æ®åº“å®é™…å†ç”µè„‘ä¸Šä»¥æ–‡ä»¶å½¢å¼å­˜åœ¨)</p></li><li><p>DBMSï¼š </p><p>  DataBase Management System(æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå¸¸è§ MYSQLï¼ŒOracleï¼ŒDB2,SqlServerâ€¦)</p></li><li><p>SQL: </p><p>  ç»“æ„åŒ–æŸ¥è¯¢è¯­å¥ï¼Œæ˜¯ä¸€é—¨æ ‡å‡†åŒ–é€šç”¨è¯­è¨€ã€‚æ ‡å‡†çš„sqlé€‚ç”¨äºæ‰€æœ‰æ•°æ®åº“äº§å“</p></li></ul><p>å…³ç³»ï¼š DBMS æ‰§è¡Œ SQL æ“ä½œ DB</p><span id="more"></span><h3 id="ä»€ä¹ˆæ˜¯è¡¨ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯è¡¨ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯è¡¨ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯è¡¨ï¼Ÿ</h3><blockquote><p>table æ˜¯æ•°æ®åº“çš„åŸºæœ¬ç»„æˆå•å…ƒï¼Œæ‰€æ¬²æ•°æ®ä»ªè¡¨çš„å½¢å¼ç»„ç»‡ï¼Œç›®çš„æ—¶å¯è¯»æ€§å¼º</p><p>ä¸€ä¸ªè¡¨åŒ…æ‹¬è¡Œï¼Œåˆ—</p><ul><li>è¡Œï¼š æ•°æ®</li><li>åˆ—ï¼šå­—æ®µ ã€å­—æ®µåŒ…æ‹¬ å­—æ®µåï¼Œæ•°æ®ç±»å‹ï¼Œç›¸å…³çº¦æŸã€‘</li></ul></blockquote><h3 id="SQL-è¯­å¥åˆ†ç±»"><a href="#SQL-è¯­å¥åˆ†ç±»" class="headerlink" title="SQL è¯­å¥åˆ†ç±»"></a>SQL è¯­å¥åˆ†ç±»</h3><ul><li>DQLï¼šã€æŸ¥è¯¢ã€‘æŸ¥è¯¢è¯­å¥ select</li><li>DMLï¼šã€æ“ä½œã€‘insert delete update è¡¨æ•°æ®å¢åˆ æ”¹</li><li>DDLï¼šã€å®šä¹‰ã€‘create drop alterï¼Œè¡¨ç»“æ„å¢åˆ å‘</li><li>TCLï¼š ã€äº‹åŠ¡æ§åˆ¶ã€‘commitï¼Œrollback äº‹åŠ¡</li><li>DCLï¼š ã€æ•°æ®æ§åˆ¶ã€‘grantæˆæƒï¼Œrevokeæ’¤é”€æƒé™</li></ul><!--more--><h3 id="DOSçª—å£å‘½ä»¤"><a href="#DOSçª—å£å‘½ä»¤" class="headerlink" title="DOSçª—å£å‘½ä»¤"></a>DOSçª—å£å‘½ä»¤</h3><ul><li><p>ç™»å½•MySQL</p>  <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -uroot -p123</span><br></pre></td></tr></table></figure></li><li><p>æ•°æ®åº“æ“ä½œ</p><p>  å‘½ä»¤ç»“æŸæœ€å¥½å¸¦; å·ï¼Œå¦åˆ™å¯èƒ½åˆ¤æ–­è¯­å¥æœªç»“æŸï¼Œä¸æ‰§è¡Œ</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŸ¥çœ‹æ•°æ®åº“</span></span><br><span class="line">show databases</span><br><span class="line">    </span><br><span class="line"><span class="comment">// åˆ›å»ºæ•°æ®åº“</span></span><br><span class="line">create database xxx</span><br><span class="line">    </span><br><span class="line"><span class="comment">// åˆ é™¤æ•°æ®åº“</span></span><br><span class="line">drop database xxx</span><br><span class="line">    </span><br><span class="line"><span class="comment">// ä½¿ç”¨æ•°æ®åº“</span></span><br><span class="line">use xxx</span><br><span class="line">    </span><br><span class="line"><span class="comment">// æŸ¥çœ‹è¡¨</span></span><br><span class="line">show tables</span><br><span class="line">    </span><br><span class="line"><span class="comment">// æŸ¥çœ‹è¡¨ç»“æ„</span></span><br><span class="line">desc xxxprint</span><br><span class="line">    </span><br><span class="line"><span class="comment">// æŸ¥çœ‹åˆ›å»ºè¡¨çš„è¯­å¥</span></span><br><span class="line">show create table emp</span><br><span class="line">    </span><br><span class="line"><span class="comment">// æŸ¥çœ‹ä½¿ç”¨çš„æ˜¯å“ªä¸€ä¸ªæ•°æ®åº“</span></span><br><span class="line">select <span class="title function_">database</span><span class="params">()</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// æŸ¥çœ‹ç‰ˆæœ¬</span></span><br><span class="line">select <span class="title function_">version</span><span class="params">()</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// åˆå§‹åŒ–æ•°æ®,æ‰§è¡Œå¤–éƒ¨sql è„šæœ¬æ–‡ä»¶åˆ›å»ºè¡¨</span></span><br><span class="line">source D/xxxxx.sql</span><br></pre></td></tr></table></figure></li></ul><h3 id="æŸ¥è¯¢"><a href="#æŸ¥è¯¢" class="headerlink" title="æŸ¥è¯¢"></a>æŸ¥è¯¢</h3><h4 id="ç®€å•æŸ¥è¯¢ï¼ˆDQLï¼‰"><a href="#ç®€å•æŸ¥è¯¢ï¼ˆDQLï¼‰" class="headerlink" title="ç®€å•æŸ¥è¯¢ï¼ˆDQLï¼‰"></a>ç®€å•æŸ¥è¯¢ï¼ˆDQLï¼‰</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨æ„ï¼Œåˆ†å·ç»“å°¾ï¼Œä¸åŒºåˆ†å¤§å°å†™</span></span><br><span class="line">select å­—æ®µå<span class="number">1</span>,å­—æ®µå<span class="number">2</span>,å­—æ®µå<span class="number">3</span> ... from è¡¨å;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŸ¥è¯¢åˆ—åˆ«å, as å…³é”®å­—å¯ä»¥çœç•¥</span></span><br><span class="line">select ename,sal * <span class="number">12</span> as <span class="string">&#x27;å¹´è–ª&#x27;</span> from emp;</span><br></pre></td></tr></table></figure><h4 id="å•è¡¨æ¡ä»¶æŸ¥è¯¢"><a href="#å•è¡¨æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="å•è¡¨æ¡ä»¶æŸ¥è¯¢"></a>å•è¡¨æ¡ä»¶æŸ¥è¯¢</h4><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230202222207356.png" alt="image-20230202222207356"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">select å­—æ®µ... <span class="number">5</span></span><br><span class="line">    from è¡¨å <span class="number">1</span></span><br><span class="line">    where æ¡ä»¶ <span class="number">2</span></span><br><span class="line">    group by æ¡ä»¶ <span class="number">3</span></span><br><span class="line">    having æ¡ä»¶ <span class="number">4</span></span><br><span class="line">    order by å…³é”®å­— <span class="number">6</span></span><br><span class="line">    limit ; <span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ’åº asc å‡åº,desc é™åº</span></span><br><span class="line">    <span class="comment">// æŸ¥è¯¢ ename å­—æ®µ ä» emp è¡¨ æ’åº ä»¥ sal å­—æ®µ å‡åº  sal1 é™åº </span></span><br><span class="line">    <span class="comment">// zåªæœ‰å‰é¢å­—æ®µæ— æ³•æ’åºæ—¶æ‰ä¼šå¯ç”¨åé¢å­—æ®µ</span></span><br><span class="line">select ename from emp order by sal asc, sal1 desc;</span><br></pre></td></tr></table></figure><h5 id="åˆ†ç»„å‡½æ•°"><a href="#åˆ†ç»„å‡½æ•°" class="headerlink" title="åˆ†ç»„å‡½æ•°"></a>åˆ†ç»„å‡½æ•°</h5><p><strong>ä¸å¯ç›´æ¥ä½¿ç”¨åœ¨where è¯­å¥</strong>ï¼Œå› ä¸º group by å®åœ¨where æ‰§è¡Œä¹‹åæ‰ä¼šæ‰§è¡Œ</p><p><strong>åˆ†ç»„å‡½æ•°åœ¨group by ä¹‹åæ‰§è¡Œ</strong></p><table><thead><tr><th>å‡½æ•°å</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td>count</td><td>å–å¾—è®°å½•</td></tr><tr><td>sum</td><td>æ±‚å’Œï¼Œè‡ªåŠ¨å¿½ç•¥nullæ•°æ®</td></tr><tr><td>avg</td><td>å–å¹³å‡å€¼</td></tr><tr><td>max</td><td>å–æœ€å¤§å€¼</td></tr></tbody></table><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> å¯¹æŸå­—æ®µæ±‚å’Œ</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">sum</span>(sal) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> ç»Ÿè®¡</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(ename) <span class="keyword">from</span> emp;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ‰€æœ‰æ•°æ®åº“è§„å®šï¼Œåªè¦ä¸null å‚ä¸çš„è¿ç®—ç»“æœä¸€å®šæ˜¯null.</span></span><br><span class="line"><span class="comment">ä½¿ç”¨ ifnullå‡½æ•°</span></span><br><span class="line"><span class="comment">ifnull(å¯èƒ½æ—¶nullçš„å­—æ®µ, è¢«å½“ä½œä»€ä¹ˆå¤„ç†)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">select</span> enamr, ifnull(comn, <span class="number">0</span>) <span class="keyword">as</span> comm <span class="keyword">from</span> emp;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="count-ä¸-count-æŸä¸ªå­—æ®µçš„åŒºåˆ«ï¼Ÿ"><a href="#count-ä¸-count-æŸä¸ªå­—æ®µçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="count * ä¸ count æŸä¸ªå­—æ®µçš„åŒºåˆ«ï¼Ÿ"></a><strong>count * ä¸ count æŸä¸ªå­—æ®µçš„åŒºåˆ«ï¼Ÿ</strong></h5><blockquote><p>count * ç»Ÿè®¡æ‰€æ¬²æ¡æ•°ï¼Œ count å­—æ®µåç»Ÿè®¡è¯¥å­—æ®µä¸ä¸ºç©ºçš„æ¡æ•°</p></blockquote><h5 id="group-by-å’Œ-having"><a href="#group-by-å’Œ-having" class="headerlink" title="group by å’Œ having"></a><strong>group by å’Œ having</strong></h5><blockquote><p>**group by  å æ‰èƒ½ä½¿ç”¨ having</p><p>group by: æŒ‰ç…§æŸä¸ªå­—æ®µæˆ–è€…æŸäº›å­—æ®µè¿›è¡Œåˆ†ç»„</p><p>havingï¼š å¯¹åˆ†ç»„ä¹‹åçš„æ•°æ®ç»è¡Œç­›é€‰</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æ‰¾å‡ºæ¯ä¸ªå·¥ä½œå²—ä½çš„æœ€é«˜å·¥èµ„</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(sal) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> job;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æ‰¾å‡ºå·¥èµ„é«˜äºå¹³å‡å·¥èµ„çš„å‘˜å·¥</span><br><span class="line"><span class="keyword">select</span> ename <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="operator">&gt;</span> (<span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp);</span><br></pre></td></tr></table></figure><h5 id="having-å’Œ-group-by-å¦‚ä½•é€‰æ‹©ï¼Ÿ"><a href="#having-å’Œ-group-by-å¦‚ä½•é€‰æ‹©ï¼Ÿ" class="headerlink" title="having å’Œ group by å¦‚ä½•é€‰æ‹©ï¼Ÿ"></a><strong>having å’Œ group by å¦‚ä½•é€‰æ‹©ï¼Ÿ</strong></h5><p>eg: æ‰¾å‡ºæ¯ä¸ªéƒ¨é—¨æœ€é«˜è–ªèµ„ï¼Œè¦æ±‚æ˜¾ç¤ºè–ªèµ„å¤§äº2900çš„æ•°æ®</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æ‰¾å‡ºæ¯ä¸ªéƒ¨é—¨æœ€å¤§è–ªèµ„ã€</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(sal) ,deptno <span class="keyword">from</span> emp <span class="keyword">by</span> deptno;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> æ‰¾å‡ºè–ªèµ„å¤§äº <span class="number">2900</span> ã€æ•ˆç‡ä½ã€‘</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(sal) ,deptno <span class="keyword">from</span> emp <span class="keyword">by</span> deptno <span class="keyword">having</span> <span class="built_in">max</span>(sal) <span class="operator">&gt;</span> <span class="number">2900</span>;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> æœ€ä½³æ–¹æ¡ˆ</span><br><span class="line"><span class="keyword">select</span>  <span class="built_in">max</span>(sal) ,deptno <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="operator">&gt;</span> <span class="number">2900</span> <span class="keyword">by</span> deptno;</span><br></pre></td></tr></table></figure><p><strong>ä½†æ˜¯ï¼Œå½“where æ¡ä»¶æ»¡è¶³ä¸äº†ï¼Ÿ</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> è¦æ±‚å¹³å‡è–ªèµ„å¤§äº<span class="number">2000</span></span><br><span class="line"><span class="keyword">select</span>  <span class="built_in">max</span>(sal) ,deptno <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="operator">&gt;</span> <span class="built_in">avg</span>(sal) <span class="keyword">by</span> deptno; <span class="operator">/</span><span class="operator">/</span> é”™è¯¯ï¼Œ<span class="keyword">where</span> åé¢ä¸èƒ½ç”¨åˆ†ç»„</span><br><span class="line"></span><br><span class="line">æ­¤æ—¶åªèƒ½ç”¨ <span class="keyword">having</span></span><br></pre></td></tr></table></figure><h5 id="å¤šä¸ªå­—æ®µè”åˆèµ·æ¥ä¸€èµ·åˆ†ç»„ï¼Ÿ"><a href="#å¤šä¸ªå­—æ®µè”åˆèµ·æ¥ä¸€èµ·åˆ†ç»„ï¼Ÿ" class="headerlink" title="å¤šä¸ªå­—æ®µè”åˆèµ·æ¥ä¸€èµ·åˆ†ç»„ï¼Ÿ"></a><strong>å¤šä¸ªå­—æ®µè”åˆèµ·æ¥ä¸€èµ·åˆ†ç»„ï¼Ÿ</strong></h5><blockquote><p>å°†å¤šä¸ªå­—æ®µæ‹¼åœ¨ä¸€èµ·çœ‹æˆä¸€ä¸ªå­—æ®µ</p></blockquote><p>eg: æ‰¾å‡ºæ¯ä¸ªéƒ¨é—¨ä¸åŒå·¥ä½œå²—ä½çš„æœ€é«˜è–ªèµ„</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> deptno,jop,<span class="built_in">max</span>(sal)</span><br><span class="line">    <span class="keyword">from</span> emp</span><br><span class="line">    <span class="keyword">group</span> <span class="keyword">by</span> deptno, job;</span><br></pre></td></tr></table></figure><h4 id="å…³äºæŸ¥è¯¢ç»“æœçš„å»é‡"><a href="#å…³äºæŸ¥è¯¢ç»“æœçš„å»é‡" class="headerlink" title="å…³äºæŸ¥è¯¢ç»“æœçš„å»é‡"></a>å…³äºæŸ¥è¯¢ç»“æœçš„å»é‡</h4><blockquote><p>dsitincï¼š ä¿®é¥°æŸ¥è¯¢çš„å­—æ®µåï¼Œåªèƒ½å‡ºç°åœ¨æ‰€æœ‰å­—æ®µçš„æœ€å‰é¢</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> è¡¨ç¤ºæ‰€æœ‰å­—æ®µè”åˆå»é‡</span><br><span class="line"><span class="keyword">select</span> distinc deptno,jop <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><h4 id="è¿æ¥æŸ¥è¯¢"><a href="#è¿æ¥æŸ¥è¯¢" class="headerlink" title="è¿æ¥æŸ¥è¯¢"></a>è¿æ¥æŸ¥è¯¢</h4><blockquote><p>å®é™…å¼€å‘ä¸­ï¼Œå¤§éƒ¨åˆ†ä¸šåŠ¡éƒ½ä¸æ˜¯å•è¡¨æŸ¥è¯¢æ•°æ®å‘ï¼Œä¸€èˆ¬éƒ½æ˜¯å¤ºæ ‡è”åˆæŸ¥è¯¢å–æœ€ç»ˆç»“æœ</p></blockquote><h5 id="è¿æ¥æŸ¥è¯¢çš„åˆ†ç±»ï¼Ÿ"><a href="#è¿æ¥æŸ¥è¯¢çš„åˆ†ç±»ï¼Ÿ" class="headerlink" title="è¿æ¥æŸ¥è¯¢çš„åˆ†ç±»ï¼Ÿ"></a>è¿æ¥æŸ¥è¯¢çš„åˆ†ç±»ï¼Ÿ</h5><blockquote><p>æ ¹æ®è¯­æ³•åˆ’åˆ†ï¼š</p><p>SQL92ï¼ˆè€DBAåœ¨ä½¿ç”¨ï¼‰</p><p>SQL99ï¼ˆæ¯”è¾ƒæ–°ï¼‰</p></blockquote><p>æ ¹æ®è¿æ¥æ–¹å¼åˆ’åˆ†ï¼ŒåŒ…æ‹¬ï¼š</p><ul><li><p>å†…è¿æ¥</p><blockquote><p>å‡è®¾Aå’ŒBè¡¨ç»è¡Œè¿æ¥ï¼Œä½¿ç”¨å†…è¿æ¥çš„è¯ï¼Œå‡¡æ˜¯Aè¡¨å’ŒBè¡¨èƒ½åŒ¹é…çš„ä¸Šçš„è®°å½•æŸ¥è¯¢å‡ºæ¥ï¼Œè¿™å°±æ˜¯å†…è¿æ¥ã€‚ä¸¤å¼ è¡¨å¹³çº§ï¼Œæ²¡æœ‰ä¸»å‰¯</p></blockquote><ul><li>ç­‰å€¼è¿æ¥</li><li>éç­‰å€¼è¿æ¥</li><li>è‡ªè¿æ¥</li></ul></li><li><p>å¤–è¿æ¥</p><blockquote><p>å‡è®¾Aå’ŒBè¡¨è¿›è¡Œè¿æ¥ï¼Œä½¿ç”¨å¤–è¿æ¥çš„è¯ã€‚ä¸€å¼ æ˜¯ä¸»è¡¨ï¼Œä¸»è¦æŸ¥è¯¢ä¸»è¡¨ä¸­çš„æ•°æ®æå¸¦æŸ¥è¯¢é™„è¡¨ä¸­çš„æ•°æ®ï¼Œå½“å‰¯è¡¨ä¸­æ²¡æœ‰æ•°æ®å’Œä¸»è¡¨ä¸­çš„æ•°æ®åŒ¹é…ä¸Šï¼Œå‰¯è¡¨è‡ªåŠ¨æ¨¡æ‹Ÿå‡ºNULLä¸ä¹‹åŒ¹é…</p></blockquote><ul><li>å·¦å¤–è¿æ¥ï¼ˆå·¦è¿æ¥ï¼Œå·¦è¾¹æ˜¯ä¸»è¡¨ï¼‰</li><li>å³å¤–è¿æ¥ï¼ˆå³è¿æ¥ï¼Œå³è¾¹æ˜¯ä¸»è¡¨ï¼‰</li></ul></li><li><p>å…¨è¿æ¥ï¼ˆå¾ˆå°‘ç”¨ï¼‰</p></li></ul><h5 id="ç¬›å¡å„¿ç§¯ç°è±¡"><a href="#ç¬›å¡å„¿ç§¯ç°è±¡" class="headerlink" title="ç¬›å¡å„¿ç§¯ç°è±¡"></a>ç¬›å¡å„¿ç§¯ç°è±¡</h5><blockquote><p>å¦‚æœä¸¤å¼ è¡¨è¿æ¥æŸ¥è¯¢æ²¡æœ‰åŠ é™åˆ¶æ¡ä»¶ï¼Œåˆ™ç»“æœæ˜¯ä¸¤å¼ è¡¨è®°å½•çš„æ¡æ•°ä¹˜ç§¯</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æŸ¥è¯¢æ‰€æœ‰å‘˜å·¥çš„éƒ¨é—¨åç§°</span><br><span class="line"><span class="keyword">select</span> e.ename,d.dname <span class="keyword">from</span> emp e,dept d;</span><br></pre></td></tr></table></figure><h5 id="ç­‰å€¼è¿æ¥"><a href="#ç­‰å€¼è¿æ¥" class="headerlink" title="ç­‰å€¼è¿æ¥"></a>ç­‰å€¼è¿æ¥</h5><blockquote><p>æ¡ä»¶æ˜¯ç­‰é‡å…³ç³»</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æŸ¥è¯¢æ¯ä¸ªå‘˜å·¥çš„éƒ¨é—¨åç§°ï¼Œè¦æ±‚æ˜¾ç¤ºå‘˜å·¥åå’Œéƒ¨é—¨å</span><br><span class="line"></span><br><span class="line">SQL92:</span><br><span class="line"><span class="keyword">select</span> e.ename ,d.dname</span><br><span class="line"><span class="keyword">from</span> emp e, dept d</span><br><span class="line"><span class="keyword">where</span> e.deptno <span class="operator">=</span> d.deptno;</span><br><span class="line"></span><br><span class="line">SQL99:(å¸¸ç”¨)</span><br><span class="line"><span class="keyword">select</span> e.ename ,d.dname</span><br><span class="line"><span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">join</span> dept d</span><br><span class="line"><span class="keyword">on</span> e.deptno <span class="operator">=</span> d.deptno;</span><br><span class="line"></span><br><span class="line">å†…è¿æ¥è¯­æ³•ï¼š<span class="keyword">inner</span> <span class="keyword">join</span> ç®€å†™ <span class="keyword">join</span></span><br><span class="line">...</span><br><span class="line">A</span><br><span class="line"><span class="keyword">join</span> B</span><br><span class="line"><span class="keyword">on</span> </span><br><span class="line">è¿æ¥æ¡ä»¶</span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure><h5 id="éç­‰å€¼è¿æ¥"><a href="#éç­‰å€¼è¿æ¥" class="headerlink" title="éç­‰å€¼è¿æ¥"></a>éç­‰å€¼è¿æ¥</h5><blockquote><p>è¿æ¥æ¡ä»¶æ˜¯éç­‰å€¼å…³ç³»</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æ‰¾å‡ºæ¯ä¸ªå‘˜å·¥çš„å·¥èµ„ç­‰çº§ï¼Œè¦æ±‚æ˜¾ç¤ºå‘˜å·¥åç§°ï¼Œå·¥èµ„ï¼Œå·¥èµ„ç­‰çº§</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> e.namme, e.sal, s.lv</span><br><span class="line"><span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">join</span> salgrade s</span><br><span class="line"><span class="keyword">on</span> e.sal vetween s.losal <span class="keyword">and</span> s.hisal;<span class="operator">/</span><span class="operator">/</span> <span class="keyword">no</span> æ¡ä»¶ä¸æ˜¯ç­‰é‡å…³ç³»</span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="è‡ªè¿æ¥"><a href="#è‡ªè¿æ¥" class="headerlink" title="è‡ªè¿æ¥"></a>è‡ªè¿æ¥</h5><blockquote><p>ä¸€å¼ è¡¨çœ‹ä½œä¸¤å¼ æ¯”è¡¨,è‡ªå·±è¿æ¥è‡ªå·±</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æ‰¾å‡ºæ¯ä¸ªå‘˜å·¥çš„ä¸Šçº§é¢†å¯¼ï¼Œè¦æ±‚æ˜¾ç¤ºå‘˜å·¥çš„å§“åå’Œå¯¹åº”é¢†å¯¼åå­—ã€‚å‘˜å·¥è¡¨ä¸­æœ‰é¢†å¯¼å’Œå‘˜å·¥ mar å­—æ®µ å­˜å‚¨äº†å‘˜å·¥çš„ç¼–å·</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> e.ename <span class="keyword">as</span> <span class="string">&#x27;å‘˜å·¥å&#x27;</span>, m.ename <span class="keyword">as</span> <span class="string">&#x27;é¢†å¯¼å&#x27;</span></span><br><span class="line"><span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">join</span> emp m</span><br><span class="line"><span class="keyword">on</span> e.mar <span class="operator">=</span><span class="operator">=</span> m.empno;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> å†…è¿æ¥æŸ¥è¯¢å¤§Boss æŸ¥ä¸å‡ºæ¥</span><br></pre></td></tr></table></figure><h5 id="å¤–è¿æ¥"><a href="#å¤–è¿æ¥" class="headerlink" title="å¤–è¿æ¥"></a>å¤–è¿æ¥</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.ename <span class="keyword">as</span> <span class="string">&#x27;å‘˜å·¥å&#x27;</span>, m.ename <span class="keyword">as</span> <span class="string">&#x27;é¢†å¯¼å&#x27;</span></span><br><span class="line"><span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> emp m</span><br><span class="line"><span class="keyword">on</span> e.mar <span class="operator">=</span><span class="operator">=</span> m.empno;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> å¤–è¿æ¥å¯ä»¥æŸ¥å‡ºå¤§Boss æ•°æ® å¯¹åº”é¢†å¯¼ <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æŸ¥è¯¢å“ªä¸ªéƒ¨é—¨æ²¡æœ‰äºº</span><br><span class="line"><span class="keyword">select</span> d.<span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> dmp e</span><br><span class="line"><span class="keyword">right</span> <span class="keyword">join</span> dep d</span><br><span class="line"><span class="keyword">on</span> e.deptno <span class="operator">=</span> d.deptno</span><br><span class="line"><span class="keyword">where</span> e.ename <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure><h5 id="ä¸‰å¼ è¡¨ä»¥ä¸Šçš„è¡¨è¿æ¥æŸ¥è¯¢"><a href="#ä¸‰å¼ è¡¨ä»¥ä¸Šçš„è¡¨è¿æ¥æŸ¥è¯¢" class="headerlink" title="ä¸‰å¼ è¡¨ä»¥ä¸Šçš„è¡¨è¿æ¥æŸ¥è¯¢"></a>ä¸‰å¼ è¡¨ä»¥ä¸Šçš„è¡¨è¿æ¥æŸ¥è¯¢</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æ‰¾å‡ºæ¯ä¸€ä¸ªå‘˜å·¥çš„éƒ¨é—¨åç§°ä»¥åŠå·¥èµ„æƒ…å†µ</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> e.name, d.name, s.grade, e1.enmae <span class="string">&#x27;é¢†å¯¼&#x27;</span></span><br><span class="line"><span class="keyword">from</span> emp e</span><br><span class="line"><span class="keyword">join</span> dept d</span><br><span class="line"><span class="keyword">on</span> e.deptno <span class="operator">=</span> d.deptno</span><br><span class="line"><span class="keyword">join</span> salgrade s</span><br><span class="line"><span class="keyword">on</span> e.sal <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> emp e1</span><br><span class="line"><span class="keyword">on</span> e.mgr <span class="operator">=</span> e1.empno;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> å…ˆæŸ¥A <span class="operator">+</span> Bï¼Œåœ¨æŸ¥A <span class="operator">+</span> C</span><br><span class="line">...</span><br><span class="line">A</span><br><span class="line"><span class="keyword">join</span> B</span><br><span class="line"><span class="keyword">join</span> C</span><br><span class="line">...</span><br></pre></td></tr></table></figure><h4 id="å­åµŒå¥—æŸ¥è¯¢"><a href="#å­åµŒå¥—æŸ¥è¯¢" class="headerlink" title="å­åµŒå¥—æŸ¥è¯¢"></a>å­åµŒå¥—æŸ¥è¯¢</h4><blockquote><p>select è¯­å¥ä¸­åµŒå¥—selectè¯­å¥</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æ‰¾å‡ºé«˜äºå¹³å‡è–ªèµ„çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="operator">&gt;</span> (<span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp)</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> æ‰¾å‡ºæ¯ä¸ªéƒ¨é—¨å¹³å‡è–ªèµ„ç­‰çº§</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> <span class="number">1</span>ã€æ‰¾å‡ºæ¯ä¸ªéƒ¨é—¨å¹³å‡è–ªæ°´ï¼ˆæŒ‰ç…§éƒ¨é—¨ç¼–å·åˆ†ç»„ï¼Œæ±‚salï¼‰</span><br><span class="line"><span class="keyword">select</span> e.deptno ,<span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> <span class="number">2</span>ã€å°†ä¸Šä¸€æ­¥çš„æŸ¥è¯¢ç»“æœå½“ä½œä¸´æ—¶è¡¨t, è®©tå’Œè¡¨ salgrade è¿æ¥ï¼Œæ¡ä»¶æ˜¯: t.avgsal <span class="keyword">between</span> s.losal <span class="keyword">and</span> s.hisal</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æ‰¾å‡ºæ‰€æœ‰å‘˜å·¥çš„éƒ¨é—¨åç§°</span><br><span class="line"><span class="keyword">select</span> e.ename (</span><br><span class="line"><span class="keyword">select</span> d.ename <span class="keyword">from</span> dept d <span class="keyword">where</span> e.deptno <span class="operator">=</span> d.deptno</span><br><span class="line">) sd dname</span><br><span class="line"><span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><h4 id="union"><a href="#union" class="headerlink" title="union"></a>union</h4><blockquote><p>å°†æŸ¥è¯¢çš„ç»“æœé›†ç›¸åŠ , å¯ä»¥æ˜¯ä¸¤å¼ ä¸ç›¸å¹²çš„è¡¨æ•°æ®æŸ¥è¯¢ç»“æœæ•´åˆã€‚</p><p>ä½†æ˜¯ä¸¤ä¸ªè¡¨æŸ¥è¯¢ç»“æœæ•°é‡ä¸€è‡´æ—¶æ‰èƒ½æ•´åˆ</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æ‰¾å‡ºå…¬ä¼°å·¥ä½œå²—ä½æ˜¯ SALEMAå’ŒMANAGERçš„å‘˜å·¥</span><br><span class="line"><span class="keyword">select</span> ename,job </span><br><span class="line"><span class="keyword">from</span> emp</span><br><span class="line"><span class="keyword">where</span> job <span class="operator">=</span> <span class="string">&#x27;SALEMA&#x27;</span> <span class="keyword">or</span> <span class="string">&#x27;MANAGER&#x27;</span></span><br><span class="line"><span class="keyword">where</span> jon <span class="keyword">in</span> (<span class="string">&#x27;SALEMA&#x27;</span> ,<span class="string">&#x27;MANAGER&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> ename,job <span class="keyword">from</span> emp <span class="keyword">where</span> job <span class="operator">=</span> <span class="string">&#x27;SALEMA&#x27;</span></span><br><span class="line"><span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> ename,job <span class="keyword">from</span> emp <span class="keyword">where</span> job <span class="operator">=</span> <span class="string">&#x27;MANAGER&#x27;</span></span><br></pre></td></tr></table></figure><h4 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h4><blockquote><p>limit æ˜¯ MySQL ç‰¹æœ‰çš„ï¼Œå…¶ä»–æ•°æ®åº“ä¹ˆæœ‰</p><p>limit èµ·å§‹ä½ç½®ï¼Œæ¡æ•°</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp limit <span class="number">0</span>,<span class="number">10</span></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> ç¬¬ä¸€é¡µ pageSise <span class="operator">=</span> <span class="number">10</span></span><br><span class="line"><span class="number">0</span>, pageSise</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> ä¸‹ä¸€é¡µ, nä»£è¡¨é¡µæ•° <span class="number">1</span> å¼€å§‹</span><br><span class="line">pageSise<span class="operator">*</span>(n <span class="operator">-</span> <span class="number">1</span>), pageSise</span><br></pre></td></tr></table></figure><h3 id="åˆ›å»ºè¡¨åŠæ“ä½œ"><a href="#åˆ›å»ºè¡¨åŠæ“ä½œ" class="headerlink" title="åˆ›å»ºè¡¨åŠæ“ä½œ"></a>åˆ›å»ºè¡¨åŠæ“ä½œ</h3><p>å»ºè¡¨è¯­å¥è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> è¡¨å (</span><br><span class="line">    å­—æ®µ<span class="number">1</span> æ•°æ®ç±»å‹,</span><br><span class="line">    å­—æ®µ<span class="number">2</span> æ•°æ®ç±»å‹,</span><br><span class="line">    å­—æ®µ<span class="number">3</span> æ•°æ®ç±»å‹,</span><br><span class="line">    ...</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h5 id="å¸¸è§çš„æ•°æ®ç±»å‹"><a href="#å¸¸è§çš„æ•°æ®ç±»å‹" class="headerlink" title="å¸¸è§çš„æ•°æ®ç±»å‹"></a>å¸¸è§çš„æ•°æ®ç±»å‹</h5><ul><li>int æ•´æ•°å‹</li><li>bight é•¿æ•´å‹</li><li>float æµ®ç‚¹å‹</li><li>char å®šé•¿å­—ç¬¦ä¸²</li><li>date æ—¥æœŸç±»å‹</li><li>BLOB äºŒè¿›åˆ¶å¤§å¯¹è±¡ï¼ˆå›¾ç‰‡è§†é¢‘æµåª’ä½“ä¿¡æ¯ï¼‰</li><li>CLOB å­—ç¬¦å¤§å¯¹è±¡ (å‚¨å­˜è¾ƒå¤§æ–‡æœ¬ï¼Œ4Gå­—ç¬¦ä¸²)</li></ul><h5 id="insert-è¯­å¥æ’å…¥æ•°æ®"><a href="#insert-è¯­å¥æ’å…¥æ•°æ®" class="headerlink" title="insert è¯­å¥æ’å…¥æ•°æ®"></a>insert è¯­å¥æ’å…¥æ•°æ®</h5><blockquote><p>è¯­æ³•æ ¼å¼ï¼š</p><p>insert into è¡¨æ˜ ï¼ˆå­—å­—æ®µ2,å­—æ®µ2,æ®µ3,..ï¼‰ values (å€¼1, å€¼2, å€¼3);</p><p>å­—æ®µå’Œå€¼æ•°é‡ç›¸åŒ    </p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_student</span><br><span class="line">(name,class,birth)</span><br><span class="line"><span class="keyword">values</span></span><br><span class="line">(<span class="string">&#x27;å¼ ä¸‰&#x27;</span>, <span class="number">3</span>, <span class="string">&#x27;2006-1-1&#x27;</span>),</span><br><span class="line">(<span class="string">&#x27;æå››&#x27;</span>, <span class="number">3</span>, <span class="string">&#x27;2006-1-2&#x27;</span>);</span><br></pre></td></tr></table></figure><h5 id="è¡¨çš„å¤åˆ¶"><a href="#è¡¨çš„å¤åˆ¶" class="headerlink" title="è¡¨çš„å¤åˆ¶"></a>è¡¨çš„å¤åˆ¶</h5><blockquote><p>è¯­æ³•ï¼šå°†åè¾¹æŸ¥è¯¢çš„å†…å®¹æ’å…¥åˆ° dept1è¡¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept1 <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept</span><br></pre></td></tr></table></figure></blockquote><h5 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h5><blockquote><p>è¯­æ³•æ ¼å¼ï¼š</p><p>update è¡¨å set å­—æ®µ1=å€¼1,å­—æ®µå2=å€¼2â€¦.whereâ€¦</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> t_student <span class="keyword">set</span> name <span class="operator">=</span> <span class="string">&#x27;ç‹äº”&#x27;</span> <span class="keyword">where</span> æ¡ä»¶</span><br></pre></td></tr></table></figure><h5 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h5><blockquote><p>è¯­æ³•æ ¼å¼ï¼š</p><p>delete from è¡¨å where æ¡ä»¶;</p><p><strong>æ²¡æœ‰æ¡ä»¶å…¨éƒ¨åˆ é™¤</strong></p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> dept1 <span class="keyword">where</span> <span class="keyword">no</span> <span class="operator">=</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure><h5 id="åˆ é™¤å¤§è¡¨"><a href="#åˆ é™¤å¤§è¡¨" class="headerlink" title="åˆ é™¤å¤§è¡¨"></a><strong>åˆ é™¤å¤§è¡¨</strong></h5><blockquote><p>delete åˆ é™¤ä¸æ¸…ç©ºå†…å­˜ï¼Œå¯ä»¥å›æ»šæ“ä½œã€‚åˆ é™¤æ•ˆç‡æ…¢ï¼Œå°¤å…¶æ˜¯å¤§æ•°æ®è¡¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> è¡¨çš„æˆªæ–­ï¼Œåˆ é™¤å¿«ï¼Œä¸å¯å›æ»š</span><br><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> emp1;</span><br></pre></td></tr></table></figure></blockquote><h5 id="è¡¨ç»“æ„çš„ä¿®æ”¹"><a href="#è¡¨ç»“æ„çš„ä¿®æ”¹" class="headerlink" title="è¡¨ç»“æ„çš„ä¿®æ”¹"></a>è¡¨ç»“æ„çš„ä¿®æ”¹</h5><blockquote><p>é€šè¿‡ å·¥å…· æ¥æ“ä½œ</p></blockquote><h4 id="çº¦æŸ"><a href="#çº¦æŸ" class="headerlink" title="çº¦æŸ"></a>çº¦æŸ</h4><blockquote><p>ä¸ºäº†ä¿è¯æ•°æ®åˆæ³•æ€§ï¼Œå®Œæ•´æ€§</p></blockquote><ul><li>éç©ºçº¦æŸ ï¼ˆnot nullï¼‰å­—æ®µä¸èƒ½ä¸ºç©º</li><li>å”¯ä¸€çº¦æŸ ï¼ˆuniqueï¼‰å­—æ®µä¸èƒ½é‡å¤</li><li>ä¸»é”®çº¦æŸ ï¼ˆprimary keyï¼‰æ—¢ä¸èƒ½ä¸ºç©ºä¹Ÿä¸èƒ½ä¸ºnullï¼Œä¹Ÿä¸èƒ½é‡å¤</li><li>å¤–é”®çº¦æŸ ï¼ˆforeign keyï¼‰</li><li>æ£€æŸ¥çº¦æŸ ï¼ˆcheckï¼‰MySQLä¸æ”¯æŒ</li></ul><p>ä½¿ç”¨</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> è¡¨å (</span><br><span class="line">    å­—æ®µ<span class="number">1</span> æ•°æ®ç±»å‹ <span class="keyword">not</span> <span class="keyword">null</span>,<span class="operator">/</span><span class="operator">/</span> åˆ—çº§çº¦æŸ</span><br><span class="line">    å­—æ®µ<span class="number">2</span> æ•°æ®ç±»å‹ ,</span><br><span class="line">    å­—æ®µ<span class="number">3</span> æ•°æ®ç±»å‹ ,</span><br><span class="line">    <span class="keyword">unique</span>(å­—æ®µ<span class="number">1</span>,å­—æ®µ<span class="number">2</span>)<span class="operator">/</span><span class="operator">/</span> å¤šä¸ªå­—æ®µè”åˆèµ·æ¥æ·»åŠ çº¦æŸ<span class="keyword">unique</span>ã€è¡¨çº§çº¦æŸã€‘</span><br><span class="line">)</span><br></pre></td></tr></table></figure><h5 id="ä¸»é”®è‡ªå¢"><a href="#ä¸»é”®è‡ªå¢" class="headerlink" title="ä¸»é”®è‡ªå¢"></a>ä¸»é”®è‡ªå¢</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> t_class if <span class="keyword">exists</span> t_class;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t_class (</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,<span class="operator">/</span><span class="operator">/</span> åˆ—çº§çº¦æŸ</span><br><span class="line">    name <span class="type">varchar</span> ,</span><br><span class="line">    address <span class="type">varchar</span> ,</span><br><span class="line">    ...</span><br><span class="line">    </span><br><span class="line">)</span><br><span class="line"> </span><br></pre></td></tr></table></figure><h5 id="å¤–é”®çº¦æŸ"><a href="#å¤–é”®çº¦æŸ" class="headerlink" title="å¤–é”®çº¦æŸ"></a>å¤–é”®çº¦æŸ</h5><blockquote><p>è¡¨ç¤ºè¿™ä¸ªå­—æ®µå¼•ç”¨å…¶ å®ƒè¡¨çš„æŸä¸ªå­—æ®µï¼Œå¹¶ä¸”åªèƒ½æ˜¯ å…¶ä»–è¡¨çš„æŸä¸ªå­—æ®µ ä¸­æœ‰çš„å€¼</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t_class(</span><br><span class="line">    cno <span class="type">int</span>,</span><br><span class="line">    cname verchar(<span class="number">255</span>),</span><br><span class="line">    <span class="keyword">primary</span> key(cno)</span><br><span class="line">);</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> è¢«å¼•ç”¨çš„å­—æ®µè¦æ‹¥æœ‰å”¯ä¸€æ€§ï¼Œä¸€èˆ¬éƒ½æ˜¯å¼•ç”¨ä¸»é”®</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t_studenet(</span><br><span class="line">    cno <span class="type">int</span>,</span><br><span class="line">    sname verchar(<span class="number">255</span>),</span><br><span class="line">    classno <span class="type">int</span>,</span><br><span class="line">    <span class="keyword">foreign</span> key(classno) reference t_class(c_o)</span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="å­˜å‚¨å¼•æ“"><a href="#å­˜å‚¨å¼•æ“" class="headerlink" title="å­˜å‚¨å¼•æ“"></a>å­˜å‚¨å¼•æ“</h3><blockquote><p>è¡¨é»˜è®¤çš„å­˜å‚¨å¼•æ“æ˜¯ InnoDB</p><p>show create table è¡¨åï¼Œå¯è§</p><p>å­˜å‚¨å¼•æ“è¿™ä¸ªåå­—åªæœ‰åœ¨MySQLä¸­å­˜åœ¨(ç†è§£ä¸ºå­˜å‚¨æ–¹å¼)ï¼Œæ¯ä¸€ä¸ªå­˜å‚¨å¼•æ“éƒ½æœ‰ä¼˜ç¼ºç‚¹</p><p>æŸ¥çœ‹å½“å‰ MySQL æ”¯æŒçš„å­˜å‚¨å¼•æ“</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> engines \G</span><br><span class="line"><span class="comment">-----------------------------------</span></span><br><span class="line">Engine: InnoDB</span><br><span class="line">     Support: <span class="keyword">DEFAULT</span></span><br><span class="line">     Comment: Supports transactions, <span class="type">row</span><span class="operator">-</span>level locking, <span class="keyword">and</span> <span class="keyword">foreign</span> keys</span><br><span class="line">Transactions: YES</span><br><span class="line">          XA: YES</span><br><span class="line">  Savepoints: YES</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> æ”¯æŒäº‹åŠ¡ï¼Œå¤–é”®ï¼Œè¡Œçº§é”ï¼Œå¤–é”®ã€‚å®‰å…¨å¾—åˆ°ä¿éšœã€‚<span class="keyword">SQL</span>æœåŠ¡å™¨å´©æºƒåæä¾›è‡ªåŠ¨æ¢å¤</span><br><span class="line"><span class="comment">------------------------------------</span></span><br><span class="line">MyISAM</span><br><span class="line"></span><br><span class="line">ä¼˜ç‚¹ï¼š</span><br><span class="line">å¯æ‚²å‹ç¼©ï¼ŒèŠ‚çœå‚¨å­˜ç©ºé—´ã€‚å¹¶ä¸”å¯ä»¥è½¬æ¢ä¸ºåªè¯»è¡¨ï¼Œæé«˜æ£€ç´¢æ•ˆç‡</span><br><span class="line">ç¼ºç‚¹ï¼šä¸æŒæ”¯äº‹åŠ¡</span><br><span class="line"><span class="comment">-------------------------------------</span></span><br><span class="line">MEMORY å­˜å‚¨å¼•æ“</span><br><span class="line"><span class="operator">-</span>è¡¨æ•°æ®åŠç´¢å¼•å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼ŒæŸ¥è¯¢è´¼å¿«ã€‚æ•°æ®æ˜“ä¸¢å¤±</span><br><span class="line"></span><br></pre></td></tr></table></figure></blockquote><h3 id="äº‹åŠ¡"><a href="#äº‹åŠ¡" class="headerlink" title="äº‹åŠ¡"></a>äº‹åŠ¡</h3><blockquote><p>ä¸€ä¸ªäº‹åŠ¡æ˜¯ä¸€ä¸ªå®Œæ•´çš„ä¸šåŠ¡é€»è¾‘å•å…ƒï¼Œä¸å¯å†åˆ†</p><p>æ¯”å¦‚ï¼šé“¶è¡Œè´¦æˆ·è½¬è´¦ï¼Œä»Aè´¦æˆ·å‘Bè´¦æˆ·è½¬è´¦1000ï¼Œéœ€è¦</p><p>Aè´¦æˆ·å‡1000ï¼ŒBè´¦æˆ·åŠ 1000</p><p><strong>ä¸€æ¡è¯­å¥å¯ä»¥æå®šçš„äº‹ä¸éœ€è¦äº‹åŠ¡</strong></p></blockquote><p><strong>å’Œäº‹åŠ¡ç›¸å…³çš„è¯­å¥ï¼šDMLè¯­å¥ï¼ˆinsert delete updateï¼‰</strong></p><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230205153456211.png" alt="image-20230205153456211"></p><h5 id="å››å¤§ç‰¹æ€§"><a href="#å››å¤§ç‰¹æ€§" class="headerlink" title="å››å¤§ç‰¹æ€§"></a>å››å¤§ç‰¹æ€§</h5><blockquote><p>ACID</p></blockquote><ul><li>Aï¼šåŸå­æ€§ï¼šäº‹åŠ¡æœ€å°çš„å•å…ƒï¼Œä¸å¯æ‹†åˆ†</li><li>Bï¼šä¸€è‡´æ€§ï¼šäº‹åŠ¡å¿…é¡»ä¿è¯å¤šæ¡DMLè¯­å¥åŒæ—¶æˆåŠŸæˆ–åŒæ—¶å¤±è´¥</li><li>ï¼£ï¼šéš”ç¦»æ€§ï¼šäº‹åŠ¡Aä¸äº‹åŠ¡Bä¹‹é—´å…·æœ‰éš”ç¦»</li><li>Dï¼šæŒä¹…æ€§ï¼šæŒä¹…æ€§äº‹æœ€ç»ˆæ•°æ®å¿…é¡»æŒä¹…åŒ–åˆ°ç¡¬ç›˜æ–‡ä»¶ä¸­ï¼Œäº‹åŠ¡æ‰ç®—ç»“æŸ</li></ul><h4 id="å…³äºäº‹åŠ¡ä¹‹é—´çš„éš”ç¦»æ€§"><a href="#å…³äºäº‹åŠ¡ä¹‹é—´çš„éš”ç¦»æ€§" class="headerlink" title="å…³äºäº‹åŠ¡ä¹‹é—´çš„éš”ç¦»æ€§"></a>å…³äºäº‹åŠ¡ä¹‹é—´çš„éš”ç¦»æ€§</h4><p>äº‹åŠ¡éš”ç¦»æ€§å­˜åœ¨éš”ç¦»çº§åˆ«ï¼Œç†è®ºä¸Šéš”ç¦»çº§åˆ«åŒ…æ‹¬4ä¸ª:</p><ul><li><p>ç¬¬ä¸€çº§åˆ«: è¯»æœªæäº¤ (read uncommitted)å¯¹æ–¹äº‹åŠ¡è¿˜æ²¡æœ‰æäº¤ï¼Œæˆ‘ä»¬å½“å‰äº‹åŠ¡å¯ä»¥è¯»å–åˆ°å¯¹æ–¹æœªæäº¤çš„æ•°æ®è¯»æœªæäº¤å­˜åœ¨è„è¯» (Dirty Read)ç°è±¡:è¡¨ç¤ºè¯»åˆ°äº†è„çš„æ•°æ®ã€‚</p></li><li><p>ç¬¬äºŒçº§åˆ«: è¯•å·²ææœ¬ (read committed)<br>  å¯¹æ–¹äº‹åŠ¡æäº¤ä¹‹åçš„æ•°æ®æˆ‘æ–¹å¯ä»¥è¯»å–åˆ°ã€‚è¿™ç§éš”ç¦»çº§åˆ«è§£å†³äº†: è„è¯»ç°è±¡æ²¡æœ‰äº†ã€‚è¯»å·²æäº¤å­˜åœ¨çš„é—®é¢˜æ˜¯:ä¸å¯é‡å¤è¯»ã€‚</p></li><li><p>ç¬¬ä¸‰çº§åˆ«:å¯é‡å¤è¯» (repeatable read)<br>  è¿™ç§éš”ç¦»çº§åˆ«è§£å†³äº†:ä¸å¯é‡å¤è¯»é—®é¢˜ã€‚è¿™ç§éš”ç¦»çº§åˆ«å­˜åœ¨çš„é—®é¢˜æ˜¯:è¯»å–åˆ°çš„æ•°æ®æ˜¯å¹»è±¡ã€‚</p></li><li><p>ç¬¬å››çº§åˆ«: åºåˆ—åŒ–è¯»/ä¸²è¡ŒåŒ–è¯»è§£å†³äº†æ‰€æœ‰é—®é¢˜ã€‚æ•ˆç‡ä½ã€‚éœ€è¦äº‹åŠ¡æ’é˜Ÿã€‚</p></li></ul><blockquote><p>MySQLäº‹åŠ¡é»˜è®¤æƒ…å†µä¸‹æ˜¯è‡ªåŠ¨æäº¤çš„ï¼Œä»»æ„DMLè¯­å¥æ‰§è¡Œå®Œå°±æäº¤ä¸€æ¬¡</p><p>å…³é—­è‡ªåŠ¨æäº¤ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> å¼€å¯äº‹åŠ¡</span><br><span class="line"><span class="keyword">start</span>ã€€transaction;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> äº‹åŠ¡å›æ»šï¼Œ</span><br><span class="line"><span class="keyword">rollback</span>;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> æäº¤äº‹åŠ¡</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> è®¾ç½®äº‹åŠ¡çº§åˆ«</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> transation isolation level read uncommitted;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> æŸ¥çœ‹å…¨å±€äº‹åŠ¡éš”ç¦»çº§åˆ«</span><br><span class="line"><span class="keyword">select</span> @<span class="variable">@global</span>.tx_isolation;</span><br><span class="line"></span><br></pre></td></tr></table></figure></blockquote><h3 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h3><blockquote><p>ç´¢å¼•ç›¸å½“äºä¸€æœ¬ä¹¦çš„ç›®å½•ï¼Œé€šè¿‡ç›®å½•å¯ä»¥å¿«é€Ÿæ‰¾åˆ°å¯¹åº”çš„èµ„æºã€‚</p><p>æ•°æ®åº“ä¸­æŸ¥è¯¢ä¸€å¼ è¡¨æœ‰ä¸¤ç§æ£€ç´¢æ–¹å¼ï¼š</p><ol><li><p>å…¨è¡¨æ‰«æ</p></li><li><p>æ ¹æ®ç´¢å¼•æ£€ç´¢ï¼ˆæ•ˆç‡é«˜ï¼‰ã€</p><p> ç¼©å°äº†æ£€ç´¢èŒƒå›´</p></li></ol></blockquote><h5 id="ç´¢å¼•è™½ç„¶å¯ä»¥æé«˜æ£€ç´¢æ•ˆç‡ï¼Œä½†æ˜¯ä¸èƒ½éšæ„çš„æ·»åŠ ç´¢å¼•ï¼Œå› ä¸ºç´¢å¼•ä¹Ÿæ˜¯æ•°æ®åº“å½“ä¸­çš„å¯¹è±¡ï¼Œä¹Ÿéœ€è¦æ•°æ®åº“ä¸æ–­çš„ç»´æŠ¤ã€‚æ˜¯æœ‰ç»´æŠ¤æˆæœ¬çš„ã€‚æ¯”å¦‚ï¼Œè¡¨ä¸­çš„æ•°æ®ç»å¸¸è¢«ä¿®æ”¹è¿™æ ·å°±ä¸é€‚åˆæ·»åŠ ç´¢å¼•ï¼Œå› ä¸ºæ•°æ®ä¸€æ—¦ä¿®æ”¹ï¼Œç´¢å¼•éœ€è¦é‡æ–°æ’åºï¼Œè¿›è¡Œç»´æŠ¤ã€‚"><a href="#ç´¢å¼•è™½ç„¶å¯ä»¥æé«˜æ£€ç´¢æ•ˆç‡ï¼Œä½†æ˜¯ä¸èƒ½éšæ„çš„æ·»åŠ ç´¢å¼•ï¼Œå› ä¸ºç´¢å¼•ä¹Ÿæ˜¯æ•°æ®åº“å½“ä¸­çš„å¯¹è±¡ï¼Œä¹Ÿéœ€è¦æ•°æ®åº“ä¸æ–­çš„ç»´æŠ¤ã€‚æ˜¯æœ‰ç»´æŠ¤æˆæœ¬çš„ã€‚æ¯”å¦‚ï¼Œè¡¨ä¸­çš„æ•°æ®ç»å¸¸è¢«ä¿®æ”¹è¿™æ ·å°±ä¸é€‚åˆæ·»åŠ ç´¢å¼•ï¼Œå› ä¸ºæ•°æ®ä¸€æ—¦ä¿®æ”¹ï¼Œç´¢å¼•éœ€è¦é‡æ–°æ’åºï¼Œè¿›è¡Œç»´æŠ¤ã€‚" class="headerlink" title="ç´¢å¼•è™½ç„¶å¯ä»¥æé«˜æ£€ç´¢æ•ˆç‡ï¼Œä½†æ˜¯ä¸èƒ½éšæ„çš„æ·»åŠ ç´¢å¼•ï¼Œå› ä¸ºç´¢å¼•ä¹Ÿæ˜¯æ•°æ®åº“å½“ä¸­çš„å¯¹è±¡ï¼Œä¹Ÿéœ€è¦æ•°æ®åº“ä¸æ–­çš„ç»´æŠ¤ã€‚æ˜¯æœ‰ç»´æŠ¤æˆæœ¬çš„ã€‚æ¯”å¦‚ï¼Œè¡¨ä¸­çš„æ•°æ®ç»å¸¸è¢«ä¿®æ”¹è¿™æ ·å°±ä¸é€‚åˆæ·»åŠ ç´¢å¼•ï¼Œå› ä¸ºæ•°æ®ä¸€æ—¦ä¿®æ”¹ï¼Œç´¢å¼•éœ€è¦é‡æ–°æ’åºï¼Œè¿›è¡Œç»´æŠ¤ã€‚"></a>ç´¢å¼•è™½ç„¶å¯ä»¥æé«˜æ£€ç´¢æ•ˆç‡ï¼Œä½†æ˜¯ä¸èƒ½éšæ„çš„æ·»åŠ ç´¢å¼•ï¼Œå› ä¸ºç´¢å¼•ä¹Ÿæ˜¯æ•°æ®åº“å½“ä¸­çš„å¯¹è±¡ï¼Œä¹Ÿéœ€è¦æ•°æ®åº“ä¸æ–­çš„ç»´æŠ¤ã€‚æ˜¯æœ‰ç»´æŠ¤æˆæœ¬çš„ã€‚æ¯”å¦‚ï¼Œè¡¨ä¸­çš„æ•°æ®ç»å¸¸è¢«ä¿®æ”¹è¿™æ ·å°±ä¸é€‚åˆæ·»åŠ ç´¢å¼•ï¼Œå› ä¸ºæ•°æ®ä¸€æ—¦ä¿®æ”¹ï¼Œç´¢å¼•éœ€è¦é‡æ–°æ’åºï¼Œè¿›è¡Œç»´æŠ¤ã€‚</h5><h5 id="ä»€ä¹ˆæ—¶å€™è€ƒè™‘ç»™å­—æ®µæ·»åŠ ç´¢å¼•ï¼Ÿ"><a href="#ä»€ä¹ˆæ—¶å€™è€ƒè™‘ç»™å­—æ®µæ·»åŠ ç´¢å¼•ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ—¶å€™è€ƒè™‘ç»™å­—æ®µæ·»åŠ ç´¢å¼•ï¼Ÿ"></a>ä»€ä¹ˆæ—¶å€™è€ƒè™‘ç»™å­—æ®µæ·»åŠ ç´¢å¼•ï¼Ÿ</h5><ul><li>æ•°æ®é‡åºå¤§</li><li>å­—æ®µå¾ˆå°‘çš„DMLæ“ä½œï¼Œï¼ˆå­—æ®µä¿®æ”¹ï¼Œç´¢å¼•ä¹Ÿéœ€è¦ç»´æŠ¤ï¼‰</li><li>è¯¥å­—æ®µç»å¸¸å‡ºç°åœ¨whereå­—å¥ä¸­</li></ul><blockquote><p>ä¸»é”®å’Œå…·æœ‰uniqueçº¦æŸçš„å­—æ®µä¼šè‡ªåŠ¨æ·»åŠ ç´¢å¼•</p></blockquote><h5 id="æŸ¥çœ‹sqlè¯­å¥çš„æ‰§è¡Œè®¡åˆ’"><a href="#æŸ¥çœ‹sqlè¯­å¥çš„æ‰§è¡Œè®¡åˆ’" class="headerlink" title="æŸ¥çœ‹sqlè¯­å¥çš„æ‰§è¡Œè®¡åˆ’"></a>æŸ¥çœ‹sqlè¯­å¥çš„æ‰§è¡Œè®¡åˆ’</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">explain <span class="keyword">select</span> ename,sal <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="operator">=</span> <span class="number">1000</span>;</span><br></pre></td></tr></table></figure><h5 id="æ·»åŠ åˆ é™¤ç´¢å¼•"><a href="#æ·»åŠ åˆ é™¤ç´¢å¼•" class="headerlink" title="æ·»åŠ åˆ é™¤ç´¢å¼•"></a>æ·»åŠ åˆ é™¤ç´¢å¼•</h5><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> æ·»åŠ ç´¢å¼•</span><br><span class="line"><span class="keyword">create</span> inedx emp_ename_index <span class="keyword">on</span> emp(ename);</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> åˆ é™¤</span><br><span class="line"><span class="keyword">drop</span> inedx emp_ename_index;</span><br></pre></td></tr></table></figure><h5 id="ç´¢å¼•å®ç°åŸç†"><a href="#ç´¢å¼•å®ç°åŸç†" class="headerlink" title="ç´¢å¼•å®ç°åŸç†"></a>ç´¢å¼•å®ç°åŸç†</h5><blockquote><p>é€šè¿‡B Treeç¼©å°æ‰«æèŒƒå›´ï¼Œåº•å±‚ç´¢å¼•è¿›è¡Œäº†æ’åºï¼Œåˆ†åŒºï¼Œç´¢å¼•ä¼šæºå¸¦æ•°æ®åœ¨è¡¨ä¸­çš„ç‰©ç†åœ°å€â€æœ€ç»ˆé€šè¿‡ç´¢å¼•æ£€ç´¢åˆ°æ•°æ®ä¹‹åï¼Œè·å–åˆ°å…³è”çš„ç‰©ç†åœ°å€ï¼Œé€šè¿‡ç‰©ç†åœ°å€å®šä½è¡¨ä¸­çš„æ•°æ®ï¼Œæ•ˆç‡æ˜¯æœ€é«˜çš„ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="operator">=</span> <span class="string">&#x27;SMITH&#x27;</span> :é€šè¿‡ç´¢å¼•è½¬æ¢ä¸º:</span><br><span class="line"><span class="keyword">select</span> ename <span class="keyword">from</span> emp <span class="keyword">where</span> ç‰©ç†åœ°å€ <span class="operator">=</span> <span class="number">0x3</span>;</span><br></pre></td></tr></table></figure></blockquote><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230205162205142.png" alt="image-20230205162205142"></p><h5 id="ç´¢å¼•çš„åˆ†ç±»"><a href="#ç´¢å¼•çš„åˆ†ç±»" class="headerlink" title="ç´¢å¼•çš„åˆ†ç±»"></a>ç´¢å¼•çš„åˆ†ç±»</h5><ul><li>å•ä¸€ç´¢å¼•ï¼šç»™å•ä¸ªå­—æ®µæ·»åŠ ç´¢å¼•</li><li>å¤åˆç´¢å¼•ï¼šç»™å¤šä¸ªå­—æ®µè”åˆæ·»åŠ 1ä¸ªç´¢å¼•</li><li>ä¸»é”®ç´¢å¼•</li><li>å”¯ä¸€ç´¢å¼•</li></ul><p><strong>ç´¢å¼•çš„å¤±æ•ˆ</strong></p><blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> enamefrom emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;%A%&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æ¨¡ç³ŠæŸ¥è¯¢çš„æ—¶å€™ï¼Œç¬¬ä¸€ä¸ªé€šé…ç¬¦ä½¿ç”¨çš„æ˜¯%ï¼Œè¿™ä¸ªæ—¶å€™ç´¢å¼•æ˜¯å¤±æ•ˆçš„ã€‚</p></blockquote><h3 id="è§†å›¾ï¼ˆviewï¼‰"><a href="#è§†å›¾ï¼ˆviewï¼‰" class="headerlink" title="è§†å›¾ï¼ˆviewï¼‰"></a>è§†å›¾ï¼ˆviewï¼‰</h3><blockquote><p>ç«™åœ¨ä¸åŒè§’åº¦å»çœ‹åˆ°æ•°æ®</p><p>å¯¹è§†å›¾è¿›è¡Œå¢åˆ æ”¹æŸ¥ï¼Œä¼šå½±å“åˆ°åŸè¡¨æ•°æ®</p></blockquote><h4 id="è§†å›¾çš„ä½œç”¨ï¼Ÿ"><a href="#è§†å›¾çš„ä½œç”¨ï¼Ÿ" class="headerlink" title="è§†å›¾çš„ä½œç”¨ï¼Ÿ"></a><strong>è§†å›¾çš„ä½œç”¨ï¼Ÿ</strong></h4><blockquote><p>å¯ä»¥éšè—æ•°æ®åº“çœŸå®å­—æ®µåç­‰å®ç°ç»†èŠ‚ã€‚ä¿å¯†çº§åˆ«é«˜çš„ç³»ç»Ÿï¼Œæ•°æ®åº“åªæä¾›ç›¸å…³çš„è§†å›¾ï¼ŒJavaç¨‹åºå‘˜åªå¯¹è§†å›¾æ“ä½œ</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> åˆ›å»ºè§†å›¾, åªæœ‰æŸ¥è¯¢è¯­å¥å¯ä»¥åˆ›å»ºè§†å›¾</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> myview <span class="keyword">as</span> <span class="keyword">select</span> empno,ename <span class="keyword">from</span> emp;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> åˆ é™¤è§†å›¾</span><br><span class="line"><span class="keyword">drop</span> myview myview;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> é€šè¿‡è§†å›¾ä¿®æ”¹åŸè¡¨æ•°æ®ã€‚</span><br><span class="line"><span class="keyword">update</span> myviewl <span class="keyword">set</span> ename<span class="operator">=</span><span class="string">&#x27;hehe&#x27;</span>,sal<span class="operator">=</span><span class="number">1</span> <span class="keyword">where</span> empno <span class="operator">=</span> <span class="number">7369</span>;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> é€šè¿‡è§†å›¾åˆ é™¤åŸè¡¨æ•°æ®ã€‚</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span>,myview1 <span class="keyword">where</span> empno <span class="operator">=</span> <span class="number">7369</span>;</span><br></pre></td></tr></table></figure><h3 id="DBAå‘½ä»¤"><a href="#DBAå‘½ä»¤" class="headerlink" title="DBAå‘½ä»¤"></a>DBAå‘½ä»¤</h3><ul><li><p>æ–°å»ºç”¨æˆ·</p></li><li><p>æˆæƒ</p></li><li><p>å›æ”¶æƒé™</p></li><li><p>å¯¼å…¥å¯¼å‡º</p>  <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="operator">/</span><span class="operator">/</span> wondows dos å‘½ä»¤</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> å¯¼å‡ºåº“</span><br><span class="line">mysqldump åº“å<span class="operator">&gt;</span>D:\xxx.sql(å¯¼å‡ºçš„è·¯å¾„) <span class="operator">-</span>uç”¨æˆ·å <span class="operator">-</span>på¯†ç </span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> å¯¼å‡ºæŒ‡å®šè¡¨</span><br><span class="line"></span><br><span class="line">mysqldump åº“å è¡¨å<span class="operator">&gt;</span>D:\xxx.sql <span class="operator">-</span>uç”¨æˆ·å <span class="operator">-</span>på¯†ç </span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> å¯¼å…¥åº“</span><br><span class="line"><span class="keyword">create</span> database åº“å</span><br><span class="line">use åº“å</span><br><span class="line">source <span class="keyword">sql</span>æ–‡ä»¶è·¯å¾„</span><br></pre></td></tr></table></figure></li></ul><h3 id="æ•°æ®åº“è®¾è®¡ä¸‰èŒƒå¼"><a href="#æ•°æ®åº“è®¾è®¡ä¸‰èŒƒå¼" class="headerlink" title="æ•°æ®åº“è®¾è®¡ä¸‰èŒƒå¼"></a>æ•°æ®åº“è®¾è®¡ä¸‰èŒƒå¼</h3><blockquote><p>ä¸‰èŒƒå¼è®¾è®¡ï¼Œä¸ä¼šäº§ç”Ÿæ•°æ®å†—ä½™</p></blockquote><ul><li><p>ç¬¬ä¸€èŒƒå¼:ä»»ä½•ä¸€å¼ è¡¨éƒ½åº”è¯¥<strong>æœ‰ä¸»é”®</strong>ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ª<strong>å­—æ®µåŸå­æ€§ä¸å¯å†åˆ†</strong></p></li><li><p>ç¬¬äºŒèŒƒå¼:å»ºç«‹åœ¨ç¬¬ä¸€èŒƒå¼çš„åŸºç¡€ä¹‹ä¸Šï¼Œæ‰€æœ‰éä¸»é”®å­—æ®µå®Œå…¨ä¾èµ–ä¸»é”®ï¼Œ<strong>ä¸èƒ½äº§ç”Ÿéƒ¨åˆ†ä¾èµ–</strong>ã€‚</p></li><li><p>å»ºç«‹åœ¨ç¬¬äºŒèŒƒå¼çš„åŸºç¡€ä¹‹ä¸Šï¼Œæ‰€æœ‰éä¸»é”®å­—æ®µç›´æ¥ä¾èµ–ä¸»é”®ï¼Œ<strong>ä¸èƒ½äº§ç”Ÿä¼ é€’ä¾èµ–</strong>ã€‚</p></li></ul><blockquote><p>å®é™…å¼€å‘ä¸­ï¼Œä»¥å®ç°ç”¨æˆ·éœ€æ±‚ä¸ºä¸»ï¼Œæœ‰æ—¶å€™é‚£å†—ä½™æ¢æ‰§è¡Œé€Ÿåº¦</p></blockquote><blockquote><p>ä¸€å¯¹ä¸€è®¾è®¡ï¼š</p><p>ä¸»é”®å…±äº«ã€å¤–é”®å”¯ä¸€</p><p>ä¸€å¯¹å¤šè®¾è®¡ï¼š</p><p>ä¸¤å¼ è¡¨ï¼Œå¤šçš„è¡¨åŠ å¤–é”®</p><p>å¤šå¯¹å¤šè®¾è®¡ï¼š</p><p>ä¸‰å¼ è¡¨ï¼Œå…³ç³»è¡¨ä¸¤ä¸ªå¤–é”®ã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;h3 id=&quot;å®‰è£…ä¸åˆ é™¤&quot;&gt;&lt;a href=&quot;#å®‰è£…ä¸åˆ é™¤&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…ä¸åˆ é™¤&quot;&gt;&lt;/a&gt;å®‰è£…ä¸åˆ é™¤&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;é€šè¿‡exe æ–‡ä»¶å®‰è£…&lt;/p&gt;
&lt;p&gt;å¸è½½æ—¶å†ç‚¹å‡»å®‰è£…ç¨‹åºï¼Œé€‰æ‹© remove å³å¯å¸è½½ã€‚å¸è½½åè¿˜éœ€åˆ é™¤ä¸¤ä¸ªåœ°æ–¹æ–‡ä»¶ã€‚&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;C:/ProgrameData/mySQL&lt;/li&gt;
&lt;li&gt;C:/program Files(x86)/mySQL&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœä¸åˆ é™¤å¹²å‡€ï¼Œä¸‹æ¬¡ä¼šå®‰è£…ä¸ä¸Š&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;sql-DB-DBMSåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿå•¥å…³ç³»ï¼Ÿ&quot;&gt;&lt;a href=&quot;#sql-DB-DBMSåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿå•¥å…³ç³»ï¼Ÿ&quot; class=&quot;headerlink&quot; title=&quot;sql,DB,DBMSåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿå•¥å…³ç³»ï¼Ÿ&quot;&gt;&lt;/a&gt;sql,DB,DBMSåˆ†åˆ«æ˜¯ä»€ä¹ˆï¼Ÿå•¥å…³ç³»ï¼Ÿ&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;DB: &lt;/p&gt;
&lt;p&gt;  DataBase (æ•°æ®åº“ï¼Œæ•°æ®åº“å®é™…å†ç”µè„‘ä¸Šä»¥æ–‡ä»¶å½¢å¼å­˜åœ¨)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;DBMSï¼š &lt;/p&gt;
&lt;p&gt;  DataBase Management System(æ•°æ®åº“ç®¡ç†ç³»ç»Ÿï¼Œå¸¸è§ MYSQLï¼ŒOracleï¼ŒDB2,SqlServerâ€¦)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;SQL: &lt;/p&gt;
&lt;p&gt;  ç»“æ„åŒ–æŸ¥è¯¢è¯­å¥ï¼Œæ˜¯ä¸€é—¨æ ‡å‡†åŒ–é€šç”¨è¯­è¨€ã€‚æ ‡å‡†çš„sqlé€‚ç”¨äºæ‰€æœ‰æ•°æ®åº“äº§å“&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å…³ç³»ï¼š DBMS æ‰§è¡Œ SQL æ“ä½œ DB&lt;/p&gt;</summary>
    
    
    
    <category term="java" scheme="https://wyf195075595.github.io/categories/java/"/>
    
    
    <category term="æ•°æ®åº“" scheme="https://wyf195075595.github.io/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/"/>
    
  </entry>
  
  <entry>
    <title>javaåŸºç¡€</title>
    <link href="https://wyf195075595.github.io/2023/01/09/programming/java/%E5%85%A5%E9%97%A8%E5%9F%BA%E7%A1%80/"/>
    <id>https://wyf195075595.github.io/2023/01/09/programming/java/%E5%85%A5%E9%97%A8%E5%9F%BA%E7%A1%80/</id>
    <published>2023-01-09T05:00:00.000Z</published>
    <updated>2023-02-14T03:00:11.863Z</updated>
    
    <content type="html"><![CDATA[<h2 id="java-ç‰¹æ€§"><a href="#java-ç‰¹æ€§" class="headerlink" title="java ç‰¹æ€§"></a>java ç‰¹æ€§</h2><h3 id="Java-ç¨‹åºçš„ç‰ˆæœ¬"><a href="#Java-ç¨‹åºçš„ç‰ˆæœ¬" class="headerlink" title="Java ç¨‹åºçš„ç‰ˆæœ¬"></a>Java ç¨‹åºçš„ç‰ˆæœ¬</h3><blockquote><p>java SE (æ ‡å‡†ç‰ˆ)</p><p>java EEï¼ˆä¼ä¸šç‰ˆï¼‰</p><p>java MEï¼ˆç²¾ç®€ç‰ˆï¼‰</p></blockquote><h3 id="java-ç¨‹åºå¯ç§»æ¤æ€§"><a href="#java-ç¨‹åºå¯ç§»æ¤æ€§" class="headerlink" title="java ç¨‹åºå¯ç§»æ¤æ€§"></a>java ç¨‹åºå¯ç§»æ¤æ€§</h3><blockquote><p>ä»€ä¹ˆæ˜¯å¯ç§»æ¤æ€§ï¼Ÿ</p><p>java ç¨‹åºå¯ä»¥åšåˆ°ä¸€æ¬¡ç¼–è¯‘ï¼Œåˆ°å¤„è¿è¡Œã€‚å¯å°±æ˜¯è¯´å¯ä»¥è¿è¡Œåˆ°windows,linuxç­‰æ“ä½œç³»ç»Ÿä¸Šã€‚è¿™ä¸ªè¢«ç§°ä½œJavaç¨‹åºçš„å¯ç§»æ¤æ€§ï¼Œæˆ–è€…å«è·¨å¹³å°ã€‚</p><p>å¦‚ä½•å®ç°å‘¢ï¼Ÿ</p><p>Windowsæ“ä½œç³»ç»ŸäºLinuxæ“ä½œç³»ç»Ÿçš„å†…æ ¸è‚¯å®šä¸ä¸€æ ·ï¼Œç³»ç»Ÿæ‰§è¡ŒæŒ‡ä»¤çš„è€Œæ–¹å¼ä¹Ÿä¸ä¸€æ ·ã€‚ Javaç¨‹åºä¸èƒ½ç›´æ¥å’Œç³»ç»Ÿæ‰“äº¤é“ï¼Œå› ä¸ºJavaç¨‹åºåªæœ‰ä¸€ä»½ã€‚æ“ä½œç³»ç»ŸåŸç†éƒ½ä¸åŒ</p><p>è§£å†³ï¼š</p><p>sumå›¢é˜Ÿæƒ³åˆ°äº†ä¸€ä¸ªåŠæ³•ï¼Œä»–ä»¬è®©Javaç¨‹åºè¿è¡Œåœ¨ä¸€å°è™šæ‹Ÿçš„è®¡ç®—æœºä¸­ï¼Œè¿™ä¸ªè™šæ‹Ÿè®¡ç®—æœºå«Javaè™šæ‹Ÿæœºï¼Œç®€ç§°JVMã€‚Javaè™šæ‹Ÿæœºå†å’Œåº•å±‚æ“ä½œç³»ç»Ÿæ‰“äº¤é“ã€‚</p><p>è¿™ä¸ªè™šæ‹Ÿæœºä¸èƒ½ç›´æ¥å®‰è£…ï¼Œè€Œæ˜¯é€šè¿‡å®‰è£…é€‚åˆè‡ªå·±æ“ä½œç³»ç»Ÿçš„ <strong>java jdk</strong> æ¥å®ç°çš„</p></blockquote><h3 id="Java-çš„åŠ è½½ä¸æ‰§è¡Œ"><a href="#Java-çš„åŠ è½½ä¸æ‰§è¡Œ" class="headerlink" title="Java çš„åŠ è½½ä¸æ‰§è¡Œ"></a>Java çš„åŠ è½½ä¸æ‰§è¡Œ</h3><blockquote><p>ç¼–è¯‘é˜¶æ®µä¸»è¦ä»»åŠ¡æ˜¯æ£€æŸ¥ Java æºç¨‹åºæ˜¯å¦ç¬¦åˆ Java è¯­æ³•ï¼ˆä¸è¿›è¡Œè¿ç®—ï¼‰ï¼Œç¬¦åˆåˆ™ç”Ÿæˆæ­£å¸¸å­—èŠ‚ç æ–‡ä»¶ (xxx.class)ã€‚ä¸ç¬¦åˆåˆ™æ— æ³•ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶</p></blockquote><p>.java -&gt; .class -&gt;     ç±»è£…è½½å™¨ -&gt; java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ -&gt; æ“ä½œç³»ç»Ÿ -&gt; ç¡¬ä»¶å¹³å°</p><span id="more"></span><p><strong>å‰ä¸¤æ­¥ä¸ºç¼–è¯‘é˜¶æ®µï¼Œåé¢ä¸ºè¿è¡Œé˜¶æ®µã€‚ä¸¤æ­¥æ“ä½œå¯ä»¥åœ¨ä¸åŒç³»ç»Ÿæ‰§è¡Œ</strong></p><blockquote><ol><li><p>.java æ˜¯ java ç¨‹åºæºæ–‡ä»¶ï¼ˆæºä»£ç ï¼‰å¿…é¡»ç¬¦åˆJava ç¼–ç  è§„èŒƒ</p></li><li><p>class ç¼–è¯‘åçš„æ–‡ä»¶ï¼ˆå­—èŠ‚ç æ–‡ä»¶ï¼‰ï¼Œä½¿ç”¨ javac ç¼–è¯‘æºæ–‡ä»¶ç”Ÿæˆ</p><p> javac æ˜¯ä¸€ä¸ªjavaç¼–è¯‘å·¥å…·/å‘½ä»¤ï¼Œä¸€ä¸ªJava æºæ–‡ä»¶å¯ç¼–è¯‘ç”Ÿæˆå¤šä¸ª .class æ–‡ä»¶ã€‚</p><p> è¯­æ³•ï¼šjavac javaæºæ–‡ä»¶è·¯å¾„</p><p> å­—èŠ‚ç æ–‡ä»¶æ˜¯æœ€ç»ˆè¦æ‰§è¡Œçš„æ–‡ä»¶ï¼Œæ‰€ä»¥åˆ é™¤Javaæºæ–‡ä»¶ä¹Ÿä¸å½±å“Javaç¨‹åºè¿è¡Œæ•ˆæœã€‚ä½†ä¸€èˆ¬ä¸åˆ é™¤æºæ–‡ä»¶ï¼Œä»¥é˜²éœ€è¦ä¿®æ”¹ã€‚</p><p> class æ–‡ä»¶æ‹·è´åˆ°å…¶ä»–æ“ä½œç³»ç»Ÿä¹Ÿæ˜¯å¯ä»¥è¿è¡Œçš„</p></li><li><p>å®‰è£…jdkåé™¤äº†è‡ªå¸¦ javac.exe, è¿˜æœ‰ä¸€ä¸ªå·¥å…·/å‘½ä»¤ java.exeï¼Œä¸»è¦è´Ÿè´£è¿è¡Œé˜¶æ®µ</p><p> è¯­æ³•ï¼šjava ç±»å</p><p> ä¾‹å¦‚ï¼šç¡¬ç›˜ä¸Šæœ‰ä¸€ä¸ª A.class ,é‚£ä¹ˆæ‰§è¡Œ java Aã€‚è¿è¡Œç¨‹åºä¸è¦å¸¦ .class</p></li><li><p>è¿è¡Œé˜¶æ®µ</p><p> åœ¨DOSçª—å£è¿è¡Œï¼šjava A</p><p> Java.exe å‘½ä»¤ä¼šå¯åŠ¨Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰ï¼ŒJVM ä¼šå¯åŠ¨ç±»åŠ è½½å™¨ClassLoader å»ç¡¬ç›˜ä¸Šæœç´¢ A.classæ–‡ä»¶ï¼Œæ‰¾åˆ°æ–‡ä»¶åˆ™å°†è¯¥å­—èŠ‚ç æ–‡ä»¶è£…è½½åˆ°JVMå½“ä¸­ã€‚JVMç„¶åå°†A.classå­—èŠ‚ç æ–‡ä»¶è§£é‡Šæˆ äºŒè¿›åˆ¶10101010è¿™æ ·çš„æ•°æ®ï¼Œæœ€åç”±æ“ä½œç³»ç»Ÿæ‰§è¡ŒäºŒè¿›åˆ¶æ–‡ä»¶å’Œåº•å±‚å¹³å°ç»è¡Œäº¤äº’ã€‚</p></li></ol></blockquote><h3 id="å®‰è£…jdk-jdk-jre-jvm-å…³ç³»"><a href="#å®‰è£…jdk-jdk-jre-jvm-å…³ç³»" class="headerlink" title="å®‰è£…jdk,jdk,jre,jvm å…³ç³»"></a>å®‰è£…jdk,jdk,jre,jvm å…³ç³»</h3><ul><li>jdk    å¼€å‘å·¥å…·åŒ…,å¯å•ç‹¬å®‰è£…ï¼Œå®‰è£…æ—¶ä¼šè‡ªå¸¦å®‰è£…jre</li><li>jre     å¼€å‘è¿è¡Œç¯å¢ƒï¼ŒåŒ…æ‹¬ jvmï¼Œå¯å•ç‹¬å®‰è£…</li><li>jvm    Javaè™šæ‹Ÿæœº</li></ul><h3 id="jdk-ç›®å½•ä»‹ç»"><a href="#jdk-ç›®å½•ä»‹ç»" class="headerlink" title="jdk ç›®å½•ä»‹ç»"></a>jdk ç›®å½•ä»‹ç»</h3><blockquote><p>binç›®å½•ï¼š é‡Œé¢å­˜æ”¾äº†å¾ˆå¤šå‘½ä»¤ï¼Œå¦‚ javac.exe,java.exe</p><p>dbç›®å½•ï¼š</p><p>jreç›®å½•ï¼šè‡ªå¸¦çš„å¼€å‘è¿è¡Œç¯å¢ƒ</p><p>libç›®å½•ï¼š</p><p>includeç›®å½•:</p></blockquote><h3 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h3><ul><li><p>ç³»ç»Ÿç¯å¢ƒå˜é‡ path</p><p>  å¯ä»¥é€šè¿‡é…ç½® path,è®©å‘½ä»¤åœ¨DOSçª—å£ä»»æ„ ç›®å½•ä¸‹ä½¿ç”¨ï¼Œç›¸å½“äºç³»ç»Ÿå…¨å±€å˜é‡</p></li><li><p>java ç¯å¢ƒå˜é‡ classpath, ä¸é…ä¹Ÿæ²¡äº‹ï¼ˆé»˜è®¤å½“å‰è·¯å¾„ï¼‰</p><p>  é»˜è®¤ClassLoader åœ¨å½“å‰ç›®å½•è·¯å¾„ä¸‹åŠ è½½ xxx.class å­—èŠ‚ç ï¼Œé…ç½®classpath å¯ä»¥ç»™ ClassLoader ç±»åŠ è½½å™¨æŒ‡å®šè·¯å¾„ã€‚æ›´æ”¹é»˜è®¤æŒ‡å®šè·¯å¾„</p><p>  é…ç½® <strong>classpath=.</strong>    ï¼Œç›¸å½“äºæŒ‡å®šé»˜è®¤ç›®å½•å°±æ˜¯å½“å‰è·¯å¾„</p></li></ul><h3 id="Java-æ³¨é‡Š"><a href="#Java-æ³¨é‡Š" class="headerlink" title="Java æ³¨é‡Š"></a>Java æ³¨é‡Š</h3><blockquote><p>å·¥å…·  javadoc.exe å¯ä»¥å°†æ³¨é‡Šä¸­çš„æ–‡å­—æ·»åŠ åˆ°å¸®åŠ©æ–‡æ¡£ä¸­ã€‚æ³¨é‡Šè·Ÿ js ä¸€æ ·</p></blockquote><h3 id="Java-SEç±»åº“çš„æºç ä½ç½®ï¼Ÿ"><a href="#Java-SEç±»åº“çš„æºç ä½ç½®ï¼Ÿ" class="headerlink" title="Java SEç±»åº“çš„æºç ä½ç½®ï¼Ÿ"></a>Java SEç±»åº“çš„æºç ä½ç½®ï¼Ÿ</h3><ul><li>SEåº“å­—èŠ‚ç ï¼šC:\Program Files\Java\jdk1.7.0_51\jre\lib\rt.jar</li><li>SEåº“æºç ï¼šC:\Program Files\Java\jdk1.7.0_51\src.zip</li></ul><h3 id="ç¼–ç æ–¹å¼"><a href="#ç¼–ç æ–¹å¼" class="headerlink" title="ç¼–ç æ–¹å¼"></a>ç¼–ç æ–¹å¼</h3><blockquote><p>Java è¯­è¨€é‡‡ç”¨ Unicode ç¼–ç æ–¹å¼ï¼Œå®é™…å¼€å‘ä¸­ä½¿ç”¨ utf-8 è¾ƒå¤š</p></blockquote><p>javac xxx.java ç¼–è¯‘é”™è¯¯ï¼š ç¼–ç GBKçš„ä¸å¯æ˜ å°„å­—ç¬¦</p><p>è§£å†³æ–¹æ³•ï¼š</p><p>ä»¥è¿™ç§æ ¼å¼å¯¹æ–‡ä»¶ç»è¡Œé‡æ–°ç¼–è¯‘    </p><p>javac -encoding utf-8 xxx.java</p><h2 id="Java-è¯­æ³•"><a href="#Java-è¯­æ³•" class="headerlink" title="Java è¯­æ³•"></a>Java è¯­æ³•</h2><h3 id="public-class-å’Œ-class-çš„åŒºåˆ«"><a href="#public-class-å’Œ-class-çš„åŒºåˆ«" class="headerlink" title="public class å’Œ class çš„åŒºåˆ«"></a>public class å’Œ class çš„åŒºåˆ«</h3><ul><li>ä¸€ä¸ªJavaæºæ–‡ä»¶å½“ä¸­å¯ä»¥å®šä¹‰å¤šä¸ªclass</li><li>ä¸€ä¸ªJavaæºæ–‡ä»¶å½“ä¸­ public class ä¸æ˜¯å¿…é¡»çš„</li><li>ä¸€ä¸ªclassä¼šå®šä¹‰ç”Ÿæˆä¸€ä¸ª xxx.classå­—èŠ‚ç æ–‡ä»¶</li><li>ä¸€ä¸ªJavaæºæ–‡ä»¶å½“ä¸­å®šä¹‰å…¬å¼€çš„ç±»çš„è¯ï¼Œåªèƒ½æœ‰ä¸€ä¸ªï¼Œå¹¶ä¸”è¯¥ç±»å¿…é¡»å’ŒJavaæºæ–‡ä»¶åç§°ä¸€è‡´ã€‚</li><li>æ¯ä¸€ä¸ªclasså½“ä¸­éƒ½å¯ä»¥ç¼–å†™mainæ–¹æ³•ï¼Œéƒ½å¯ä»¥è®¾ç½®ç¨‹åºå…¥å£ã€‚è¦æ‰§è¡ŒB.class ä¸­çš„mainæ–¹æ³•ï¼Œæ‰§è¡Œ java Bã€‚å¦‚æœBä¸­æ²¡æœ‰mainä¸»æ–¹æ³•ï¼Œä¼šæŠ¥é”™</li></ul><h3 id="æ ‡è¯†ç¬¦"><a href="#æ ‡è¯†ç¬¦" class="headerlink" title="æ ‡è¯†ç¬¦"></a>æ ‡è¯†ç¬¦</h3><blockquote><p>Javaè¯­è¨€ä¸­çš„æ ‡è¯†ç¬¦ã€‚</p></blockquote><h4 id="ä»€ä¹ˆæ˜¯æ ‡è¯†ç¬¦ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ ‡è¯†ç¬¦ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ ‡è¯†ç¬¦ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ ‡è¯†ç¬¦ï¼Ÿ</h4><p>åœ¨Javaæºç ç¨‹åºä¸­ï¼Œå¯ä»¥è‡ªå·±å‘½åçš„å•è¯éƒ½æ˜¯æ ‡è¯†ç¬¦ã€‚</p><p>å¦‚ï¼šç±»åï¼Œæ–¹æ³•åï¼Œå¸¸é‡åï¼Œæ¥å£åâ€¦</p><h4 id="æ ‡è¯†ç¬¦çš„å‘½åè§„åˆ™ï¼Ÿ"><a href="#æ ‡è¯†ç¬¦çš„å‘½åè§„åˆ™ï¼Ÿ" class="headerlink" title="æ ‡è¯†ç¬¦çš„å‘½åè§„åˆ™ï¼Ÿ"></a>æ ‡è¯†ç¬¦çš„å‘½åè§„åˆ™ï¼Ÿ</h4><ul><li><p>ä¸€ä¸ªåˆæ³•çš„æ ‡è¯†ç¬¦åªèƒ½ç”± æ•°å­—ï¼Œå­—æ¯ï¼Œä¸‹åˆ’çº¿_ï¼Œç¾å…ƒç¬¦å·$ ç»„æˆï¼Œä¸èƒ½æœ‰å…¶ä»–ç¬¦å·ã€‚</p></li><li><p>ä¸èƒ½æ•°å­—å¼€å¤´</p></li><li><p>ä¸¥æ ¼åŒºåˆ†å¤§å°å†™</p></li><li><p>å…³é”®å­—ä¸èƒ½ç”¨</p></li><li><p>ç†è®ºä¸Šæ— é•¿åº¦é™åˆ¶</p></li></ul><h4 id="æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒï¼Ÿ"><a href="#æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒï¼Ÿ" class="headerlink" title="æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒï¼Ÿ"></a>æ ‡è¯†ç¬¦çš„å‘½åè§„èŒƒï¼Ÿ</h4><p>åªæ˜¯ä¸€ç§è§„èŒƒï¼Œä¸è¾“å…¥è¯­æ³•ï¼Œä¸éµå®ˆè§„èŒƒç¼–è¯‘ä¹Ÿå¯ä»¥é€šè¿‡ã€‚ä½†æ˜¯ä¸æ–¹ä¾¿ä»–äººç†è§£ä»£ç </p><ul><li>æœ€å¥½è§åçŸ¥æ„</li><li>éµå®ˆé©¼å³°å‘½å</li><li>ç±»åï¼Œæ¥å£åï¼šé¦–å­—æ¯å¤§å†™ï¼ˆå¤§é©¼å³°</li><li>å˜é‡ï¼Œæ–¹æ³•åï¼šé¦–å­—æ¯å°å†™ï¼ˆå°é©¼å³°</li><li>å¸¸é‡åï¼šå…¨éƒ¨å¤§å†™</li></ul><h3 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="headerlink" title="å…³é”®å­—"></a>å…³é”®å­—</h3><p>åœ¨Javaä¸­å…³é”®å­—éƒ½æ˜¯å°å†™</p><table><thead><tr><th>class</th><th>extend</th><th>implement</th><th>interface</th><th>important</th></tr></thead><tbody><tr><td>package</td><td>break</td><td>case</td><td>continue</td><td>default</td></tr><tr><td>do</td><td>if</td><td>else</td><td>for</td><td>return</td></tr><tr><td>switch</td><td>while</td><td>false</td><td>true</td><td>â€¦</td></tr></tbody></table><h3 id="å­—é¢å€¼"><a href="#å­—é¢å€¼" class="headerlink" title="å­—é¢å€¼"></a>å­—é¢å€¼</h3><blockquote><p>java è¯­è¨€ä¸­æ‰€æœ‰å­—ç¬¦ä¸²ç±»å‹å­—é¢å€¼å¿…é¡»ä½¿ç”¨åŒå¼•å·æ‹¬èµ·æ¥ï¼ŒåŒå¼•å·æ˜¯è‹±æ–‡çš„</p><p>Java è¯­è¨€ä¸­æ‰€æœ‰çš„å­—ç¬¦å‹å­—é¢é‡å¿…é¡»ä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥ï¼Œå•å¼•å·æ˜¯è‹±æ–‡çš„</p></blockquote><ul><li>10ï¼Œ1200</li><li>3.14</li><li>â€œabcâ€,â€123â€  å±äºå­—ç¬¦ä¸²</li><li>â€˜aâ€™,â€™1â€™,â€™äººâ€™  å±äºå­—é¢å€¼</li><li>true,false</li></ul><h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><blockquote><p>å˜é‡è¦æ±‚å‚¨å­˜çš„å…·ä½“çš„â€œæ•°æ®â€å¿…é¡»å’Œå˜é‡çš„â€œæ•°æ®ç±»å‹â€ä¸€è‡´ï¼Œå½“ä¸ä¸€è‡´çš„æ—¶å€™ç¼–è¯‘æŠ¥é”™</p></blockquote><h4 id="æ•°æ®ç±»å‹çš„ä½œç”¨ï¼Ÿ"><a href="#æ•°æ®ç±»å‹çš„ä½œç”¨ï¼Ÿ" class="headerlink" title="æ•°æ®ç±»å‹çš„ä½œç”¨ï¼Ÿ"></a>æ•°æ®ç±»å‹çš„ä½œç”¨ï¼Ÿ</h4><ul><li>ä¸åŒæ•°æ®ç±»å‹åº•å±‚åˆ†é…ä¸åŒå¤§å°çš„ç©ºé—´</li><li>æ•°æ®ç±»å‹æ˜¯æŒ‡å¯¼ç¨‹åºè¿è¡Œé˜¶æ®µåº”è¯¥åˆ†é…å¤šå¤§çš„å†…å­˜ç©ºé—´</li></ul><h4 id="å£°æ˜ã€å®šä¹‰å˜é‡çš„è¯­æ³•æ ¼å¼ï¼š"><a href="#å£°æ˜ã€å®šä¹‰å˜é‡çš„è¯­æ³•æ ¼å¼ï¼š" class="headerlink" title="å£°æ˜ã€å®šä¹‰å˜é‡çš„è¯­æ³•æ ¼å¼ï¼š"></a>å£°æ˜ã€å®šä¹‰å˜é‡çš„è¯­æ³•æ ¼å¼ï¼š</h4><p><strong>æ•°æ®ç±»å‹ å˜é‡å</strong></p><h4 id="å˜é‡çš„åˆ†ç±»ï¼š"><a href="#å˜é‡çš„åˆ†ç±»ï¼š" class="headerlink" title="å˜é‡çš„åˆ†ç±»ï¼š"></a>å˜é‡çš„åˆ†ç±»ï¼š</h4><ul><li><p>å±€éƒ¨å˜é‡</p><p>  åœ¨æ–¹æ³•ä½“å½“ä¸­å£°æ˜çš„å˜é‡å«å±€éƒ¨å˜é‡</p></li><li><p>æˆå‘˜å˜é‡</p><p>  åœ¨æ–¹æ³•ä½“å¤–ã€ç±»ä½“ä¹‹å†…ã€‘å£°æ˜çš„å˜é‡å«åšæˆå‘˜å˜é‡</p></li></ul><p><strong>ä¸åŒä½œç”¨åŸŸä¸‹å˜é‡åå¯ä»¥ç›¸åŒ</strong>ï¼ŒJava éµå¾ªå°±è¿‘åŸåˆ™ </p><h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><p><strong>åŸºæœ¬æ•°æ®ç±»å‹</strong></p><ol><li>æ•´æ•°å‹ intï¼Œbyteï¼Œshortï¼Œlong</li><li>æµ®ç‚¹å‹ floatï¼Œdouble</li><li>å¸ƒå°”å‹ boolean</li><li>å­—ç¬¦å‹ char ã€è¡¨ç¤ºç°å®ä¸­çš„æ–‡å­—ï¼Œé€šè¿‡ASCç è¡¨è½¬æ¢ã€‘</li></ol><h4 id="å…«ç§åŸºæœ¬æ•°æ®ç±»å‹å ç”¨ç©ºé—´å¤§å°ï¼š"><a href="#å…«ç§åŸºæœ¬æ•°æ®ç±»å‹å ç”¨ç©ºé—´å¤§å°ï¼š" class="headerlink" title="å…«ç§åŸºæœ¬æ•°æ®ç±»å‹å ç”¨ç©ºé—´å¤§å°ï¼š"></a>å…«ç§åŸºæœ¬æ•°æ®ç±»å‹å ç”¨ç©ºé—´å¤§å°ï¼š</h4><table><thead><tr><th>åŸºæœ¬æ•°æ®ç±»å‹</th><th>å ç”¨ç©ºé—´å¤§å°(byte)</th><th>å–å€¼èŒƒå›´</th><th>é»˜è®¤å€¼</th></tr></thead><tbody><tr><td>byte</td><td>1</td><td>-2^7~2^7-1(-128,127)</td><td>0</td></tr><tr><td>short</td><td>2</td><td>-2^15~2^15-1(-32768,32767)</td><td>0</td></tr><tr><td>int</td><td>4</td><td>-2^31~-2^31-1</td><td>0</td></tr><tr><td>long</td><td>8</td><td>-2^63~2^63-1</td><td>0L</td></tr><tr><td>float</td><td>4</td><td>å¤§çº¦Â±3.40282347E+38F(æœ‰æ•ˆä½15)</td><td>0</td></tr><tr><td>double</td><td>8</td><td>å¤§çº¦Â±1.79769313486231570E+308(æœ‰æ•ˆä½15)</td><td>0.0</td></tr><tr><td>boolean</td><td>1</td><td>true/false</td><td>false</td></tr><tr><td>chart</td><td>2</td><td>0~2^16-1(0, 65535)</td><td>\u0000</td></tr></tbody></table><blockquote><p>å­—èŠ‚ï¼ˆbyteï¼‰ï¼š</p><p>1 byte = 8 bit ã€ä¸€ä¸ªå­—èŠ‚=8ä¸ªæ¯”ç‰¹ä½ã€‘1ä¸ªæ¯”ç‰¹ä½è¡¨ç¤ºä¸€ä¸ªäºŒè¿›åˆ¶ä½ï¼š1/0</p><p>1 KB = 1024 Byte</p><p>1 MB = 1024 KB</p><p>1 GB = 1024 MB</p><p>byte ç±»å‹æœ€å¤§å€¼ï¼š 2çš„7æ¬¡æ–¹ - 1ï¼Œ127</p><p>byte ç±»å‹æœ€å°å€¼ï¼š-128</p><p>byte ç±»å‹å¯ä»¥è¡¨ç¤º 256 ä¸ªä¸åŒçš„æ•°å­—</p></blockquote><h4 id="å…³äºå…«ç§åŸºæœ¬æ•°æ®ç±»å‹çš„é»˜è®¤å€¼ï¼šä¸€åˆ‡å‘0çœ‹é½"><a href="#å…³äºå…«ç§åŸºæœ¬æ•°æ®ç±»å‹çš„é»˜è®¤å€¼ï¼šä¸€åˆ‡å‘0çœ‹é½" class="headerlink" title="å…³äºå…«ç§åŸºæœ¬æ•°æ®ç±»å‹çš„é»˜è®¤å€¼ï¼šä¸€åˆ‡å‘0çœ‹é½"></a>å…³äºå…«ç§åŸºæœ¬æ•°æ®ç±»å‹çš„é»˜è®¤å€¼ï¼š<strong>ä¸€åˆ‡å‘0çœ‹é½</strong></h4><blockquote><p>å˜é‡éµå®ˆè¿™ä¸ªè¯­æ³•ï¼šå¿…é¡»å…ˆå£°æ˜ï¼Œå†èµ‹å€¼ï¼Œæ‰èƒ½è®¿é—®ã€‚</p><p>æˆå‘˜å˜é‡æ²¡æœ‰æ‰‹åŠ¨èµ‹å€¼ç³»ç»Ÿé»˜è®¤ä¼šèµ‹å€¼ï¼Œä½†æ˜¯å±€éƒ¨å˜é‡ä¸ä¼š</p></blockquote><p><strong>å¼•ç”¨æ•°æ®ç±»å‹</strong></p><p>å­—ç¬¦ä¸² â€œabcâ€ ä¸å±äºåŸºæœ¬æ•°æ®ç±»å‹ï¼Œå±äº â€œå¼•ç”¨æ•°æ®ç±»å‹â€ï¼Œå­—ç¬¦å±äºåŸºæœ¬æ•°æ®ç±»å‹ï¼š</p><h4 id="char-ä¸-è½¬è¯‘å­—ç¬¦"><a href="#char-ä¸-è½¬è¯‘å­—ç¬¦" class="headerlink" title="char ä¸ è½¬è¯‘å­—ç¬¦"></a>char ä¸ è½¬è¯‘å­—ç¬¦</h4><blockquote><p>chart æ”¯æŒ ä¸­æ–‡(â€˜ä¸­â€™)ï¼Œæ”¯æŒè½¬ä¹‰å­—ç¬¦ï¼ˆâ€™\nâ€™ï¼‰, ä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥ï¼Œ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™ä¸ªè¾“å‡ºå‘½ä»¤ä¼šæ¢è¡Œ</span></span><br><span class="line">System.out.println()</span><br><span class="line"><span class="comment">// è¿™ä¸ªä¸ä¼šæ¢è¡Œ</span></span><br><span class="line">System.out.print()</span><br></pre></td></tr></table></figure><h4 id="æ•´æ•°å‹"><a href="#æ•´æ•°å‹" class="headerlink" title="æ•´æ•°å‹"></a>æ•´æ•°å‹</h4><blockquote><p>Java è¯­è¨€å½“ä¸­çš„ <strong>â€œæ•´æ•°å‹å­—é¢é‡å€¼â€è¢«é»˜è®¤å½“ä½œ int ç±»å‹æ¥å¤„ç†</strong>ã€‚è¦è®©è¿™ä¸ª â€œæ•´æ•°å­—é¢é‡å€¼â€åé¢æ·»åŠ  <strong>l/L</strong> ,å»ºè®®ä½¿ç”¨å¤§å†™<strong>L</strong></p></blockquote><p><strong>æ•´æ•°å­—é¢å€¼çš„ä¸‰ç§è¡¨ç¤ºæ–¹å¼ï¼š</strong></p><ol><li>åè¿›åˆ¶ï¼šæ˜¯ä¸€ç§ç¼ºçœé»˜è®¤çš„æ–¹å¼</li><li>å…«è¿›åˆ¶ï¼šéœ€è¦ä»¥0å¼€å§‹</li><li>åå…­è¿›åˆ¶ï¼šéœ€è¦ä»¥0xå¼€å§‹</li></ol><p><strong>ç±»å‹è½¬æ¢</strong></p><blockquote><p>int æ˜¯å°å®¹é‡ï¼Œlong ç±»å‹æ˜¯å¤§å®¹é‡ã€‚å°å®¹é‡å¯ä»¥è‡ªåŠ¨è½¬æ¢æˆå¤§å®¹é‡ï¼Œç§°ä¸ºè‡ªåŠ¨ç±»å‹è½¬æ¢æœºåˆ¶</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1ã€å¯ä»¥è‡ªåŠ¨è½¬æ¢ä¸ºå¤§å®¹é‡</span></span><br><span class="line"><span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">123</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">long</span> <span class="variable">y</span> <span class="operator">=</span> x;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2ã€ç¼–è¯‘å‡ºé”™</span></span><br><span class="line"><span class="type">long</span> <span class="variable">z</span> <span class="operator">=</span> <span class="number">2147483648</span>; </span><br><span class="line"></span><br><span class="line"><span class="comment">// 2147483648 å­—é¢é‡ä¸€å¼€å§‹ä¼šè¢«å½“ä½œintç±»å‹4ä¸ªå­—èŠ‚å¤„ç†ï¼Œä½†æ˜¯è¿™ä¸ªå­—é¢å€¼è¶…å‡ºäº†intèŒƒå›´ï¼Œæ‰€ä»¥æŠ¥é”™</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å†³</span></span><br><span class="line"><span class="type">long</span> <span class="variable">z</span> <span class="operator">=</span> <span class="number">2147483648L</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™æ ·ä¸€å¼€å§‹å­—é¢é‡å°±ä¼šè¢«å½“ä½œlongç±»å‹å¤„ç†</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 3ã€å¤§å®¹é‡è½¬æ¢å°å®¹é‡éœ€è¦å¼ºåˆ¶è½¬æ¢ï¼Œä½†æ˜¯è¿è¡Œé˜¶æ®µå¯èƒ½æŸå¤±ç²¾åº¦ï¼ˆæ…ç”¨ï¼‰</span></span><br><span class="line"><span class="comment">// è½¬æ¢åŸç†ï¼šå°†åŸå§‹äºŒè¿›åˆ¶æ•°æ®å‰ 32ä¸ªæ¯”ç‰¹ï¼ˆ4å­—èŠ‚ï¼‰å»æ‰</span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> (<span class="type">int</span>)z;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4ã€int è½¬æ¢ä¸ºbyteç±»å‹ï¼Œåªè¦ä¸è¶…å‡ºbyteå­˜å‚¨èŒƒå›´ä¸éœ€è¦å¼ºåˆ¶è½¬æ¢ </span></span><br><span class="line"><span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">127</span>;</span><br><span class="line"><span class="type">byte</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">128</span><span class="string">&#x27;// ç¼–è¯‘å‡ºé”™</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure><h4 id="æµ®ç‚¹å‹"><a href="#æµ®ç‚¹å‹" class="headerlink" title="æµ®ç‚¹å‹"></a>æµ®ç‚¹å‹</h4><blockquote><p>æµ®ç‚¹å‹å­˜å‚¨çš„å€¼éƒ½æ˜¯è¿‘ä¼¼å€¼ï¼Œç°å®ä¸–ç•Œä¸­æœ‰äº›æ•°å­—æ˜¯æ— é™å¾ªç¯å°æ•°ï¼Œè®¡ç®—æœºå­˜å‚¨èµ„æºæœ‰é™ï¼Œæ‰€ä»¥åªèƒ½å­˜å‚¨è¿‘ä¼¼å€¼</p><p>float å•ç²¾åº¦ã€4ä¸ªå­—èŠ‚ã€‘</p><p>double åŒç²¾åº¦ã€8ä¸ªå­—èŠ‚ï¼Œç²¾åº¦è¾ƒé«˜ã€‘</p><p>å¯¹äºè´¢åŠ¡ç±»å‹è½¯ä»¶ï¼Œdoubleç²¾åº¦è¿˜æ˜¯è¿‡ä½ï¼Œæ‰€ä»¥Javaæä¾›äº†å¦ä¸€ä¸ªå¼•ç”¨ç±»å‹ï¼š Java.math.bigDecima</p></blockquote><p>åœ¨Javaè¯­è¨€ä¸­ï¼Œæ‰€æœ‰çš„æµ®ç‚¹å‹å­—é¢å€¼ã€3.0ã€‘ï¼Œé»˜è®¤è¢«å½“ä½œ double ç±»å‹æ¥å¤„ç†ï¼Œè¦æƒ³è¯¥å­—é¢å€¼å½“ä½œ float ç±»å‹æ¥å¤„ç†ï¼Œéœ€è¦åœ¨å­—é¢å€¼åé¢æ·»åŠ  F/f;</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">3.0</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">float</span> <span class="variable">f</span> <span class="operator">=</span> <span class="number">5.1</span>;<span class="comment">// ç¼–è¯‘é”™è¯¯</span></span><br><span class="line"><span class="comment">// 5.1 é»˜è®¤æ˜¯doubleç±»å‹å¤§å®¹é‡ï¼Œ float æ˜¯å•ç²¾åº¦å°å®¹é‡ï¼Œéœ€è¦å¼ºåˆ¶è½¬æ¢ç¬¦</span></span><br><span class="line"></span><br><span class="line"><span class="type">float</span> <span class="variable">f</span> <span class="operator">=</span> (<span class="type">float</span>)<span class="number">5.1</span>;<span class="comment">// å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="type">float</span> <span class="variable">f</span> <span class="operator">=</span> <span class="number">5.1f</span>;<span class="comment">// æ²¡æœ‰å¼ºåˆ¶è½¬æ¢</span></span><br></pre></td></tr></table></figure><h4 id="å¸ƒå°”å€¼"><a href="#å¸ƒå°”å€¼" class="headerlink" title="å¸ƒå°”å€¼"></a>å¸ƒå°”å€¼</h4><blockquote><p>åªæœ‰ä¸¤ä¸ªå€¼ï¼štrue,false.</p><p>åº•å±‚å­˜å‚¨çš„æ—¶å€™Booleanç±»å‹å ç”¨1ä¸ªå­—èŠ‚ï¼Œå› ä¸ºå®é™…å­˜å‚¨çš„æ—¶å€™falseåº•å±‚æ˜¯0ï¼Œtrueåº•å±‚æ˜¯1</p><p>ä¸»è¦ä½¿ç”¨åœ¨é€»è¾‘è¿ç®—å’Œæ¡ä»¶æ§åˆ¶è¯­å¥ä¸­</p></blockquote><h4 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h4><blockquote><ol><li><p>å…«ç§åŸºæœ¬æ•°æ®ç±»å‹å½“ä¸­ï¼Œé™¤äº†<strong>Boolean</strong>ç±»å‹å…¶ä»–ç±»å‹éƒ½èƒ½äº’ç›¸è½¬æ¢</p></li><li><p>å°å®¹é‡å‘å¤§å®¹é‡è½¬æ¢ï¼Œç§°ä¸ºè‡ªåŠ¨ç±»å‹è½¬æ¢ï¼Œå®¹é‡ä»å°åˆ°å¤§ï¼š</p><p> byte &lt; (short = char) &lt; int &lt; long &lt; float &lt; double</p><p> ä»»ä½•æµ®ç‚¹ç±»å‹ä¸ç®¡å ç”¨å¤šå°‘ä¸ªå­—èŠ‚ï¼Œéƒ½æ˜¯æ¯”æ•´æ•°å‹å®¹é‡å¤§</p></li><li><p>å°å®¹é‡è½¬å¤§å®¹é‡ï¼Œå¿…é¡»åŠ å¼ºåˆ¶è½¬æ¢ç¬¦ï¼Œç¼–è¯‘æ‰èƒ½é€šè¿‡ï¼Œä½†æ˜¯è¿è¡Œé˜¶æ®µå¯èƒ½æŸå¤±ç²¾åº¦ï¼Œæ…ç”¨</p></li><li><p>å½“æ•´æ•°å­—é¢é‡æ²¡æœ‰è¶…å‡º<strong>byteï¼Œshortï¼Œchar</strong>çš„å–å€¼èŒƒå›´ï¼Œå¯ä»¥ç›´æ¥èµ‹å€¼ç»™<strong>byteï¼Œshortï¼Œchar</strong>ç±»å‹çš„å˜é‡</p></li><li><p><strong>byteï¼Œshortï¼Œchar</strong>æ··åˆè¿ç®—æ—¶ï¼Œå„è‡ªå…ˆè½¬æ¢æˆ<strong>int</strong>ç±»å‹åœ¨åšè¿ç®—</p></li><li><p>å¤šç§æ•°æ®ç±»å‹æ··åˆè¿ç®—ï¼Œå…ˆè½¬æ¢æˆå®¹é‡æœ€å¤§çš„é‚£ç§ç±»å‹å†åšè¿ç®—</p><p> <strong>ç¼–å†™.javaæ–‡ä»¶åªè€ƒè™‘ç¼–è¯‘ï¼Œä¸è€ƒè™‘è¿è¡Œ</strong></p></li></ol></blockquote><h4 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h4><table><thead><tr><th>ç®—æ•°è¿ç®—ç¬¦</th><th>+ã€-ã€*ã€/ã€++ã€â€“ã€%</th></tr></thead><tbody><tr><td>é€»è¾‘è¿ç®—ç¬¦</td><td>&amp;(ä¸)ã€(æˆ–)ã€~(é)ã€^(å¼‚æˆ–)ã€&amp;&amp;(çŸ­è·¯ä¸)ã€||(çŸ­è·¯æˆ–)</td></tr><tr><td>å…³ç³»è¿ç®—ç¬¦</td><td>&lt;ã€&lt;=ã€&gt;=ã€==ã€!=</td></tr><tr><td>å¸ƒå°”è¿ç®—ç¬¦</td><td>&amp;&amp;ã€||ã€|ã€&amp;ã€ï¼</td></tr><tr><td>ä½è¿ç®—ç¬¦</td><td>&amp;(ä¸)ã€|(æˆ–)ã€~(é)ã€^(æŒ‰ä½å¼‚)ã€&gt;&gt;(å³ç§»)ã€&gt;&gt;&gt;(å³ç§»ï¼Œå·¦è¾¹ç©ºå‡ºçš„ä½0å¡«å……)ã€&lt;&lt;(å·¦ç§»)</td></tr><tr><td>èµ‹å€¼ç±»è¿ç®—ç¬¦</td><td>=ã€+=ã€-=ã€*=ã€/=ã€%/</td></tr><tr><td>å­—ç¬¦ä¸²è¿æ¥è¿ç®—ç¬¦</td><td>+</td></tr><tr><td>æ¡ä»¶è¿ç®—ç¬¦</td><td>?:</td></tr><tr><td>å…¶ä»–è¿ç®—ç¬¦</td><td>instanceofã€new</td></tr></tbody></table><p><strong>é€»è¾‘è¿ç®—ç¬¦</strong></p><ul><li><p>é€»è¾‘è¿ç®—ç¬¦ è¦æ±‚ä¸¤è¾¹çš„ç®—å­éƒ½æ˜¯ çœŸ/å‡ï¼ˆå¸ƒå°”ç±»å‹ï¼‰ï¼Œä¸”æœ€ç»ˆè¿ç®—ç»“æœä¹Ÿæ˜¯ä¸€ä¸ªå¸ƒå°”ç±»å‹</p><p>  å¼‚æˆ–ï¼ˆä¸¤è¾¹çš„ç®—å­åªè¦ä¸ä¸€æ ·ï¼Œç»“æœå°±æ˜¯ trueï¼‰</p></li><li><p>çŸ­è·¯ä¸å’Œé€»è¾‘ä¸çš„è¿ç®—ç»“æœç›¸åŒï¼Œåªä¸è¿‡çŸ­è·¯ä¸å­˜åœ¨çŸ­è·¯ç°è±¡</p></li><li><p>çŸ­è·¯æˆ–å’Œé€»è¾‘æˆ–çš„è¿ç®—ç»“æœç›¸åŒï¼Œåªä¸è¿‡çŸ­è·¯æˆ–å­˜åœ¨çŸ­è·¯ç°è±¡</p></li></ul><p><strong>èµ‹å€¼è¿ç®—ç¬¦</strong></p><blockquote><p>æ‰©å±•ç±»çš„èµ‹å€¼è¿ç®—ç¬¦ï¼Œä¸æ”¹å˜è¿ç®—ç»“æœç±»å‹ï¼Œå‡è®¾æœ€åˆè¿™ä¸ªå˜é‡ç±»å‹æ˜¯ byte ç±»å‹ï¼Œæ— è®ºæ€ä¹ˆè¿›è¡Œè¿½åŠ ï¼Œè¿½å‡ï¼Œæœ€ç»ˆè¯¥å˜é‡çš„æ•°æ®ç±»å‹è¿˜æ˜¯byteç±»å‹</p></blockquote><p>+è¿ç®—ç¬¦ åœ¨Javaä¸­çš„ä¸¤ä¸ªä½œç”¨ï¼š</p><ul><li>åŠ æ³•è¿ç®—ï¼Œæ±‚å’Œ</li><li>å­—ç¬¦ä¸²çš„è¿æ¥è¿ç®—</li></ul><p>å½“ â€œ+â€ è¿ç®—ç¬¦ä¸¤è¾¹çš„æ•°æ®éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œä¸€å®šæ˜¯å­—ç¬¦ä¸²è¿æ¥è¿ç®—ã€‚</p><ul><li>æ•°å­— + æ•°å­— â€“&gt; æ•°å­—</li><li>æ•°å­— + â€œå­—ç¬¦ä¸²â€ â€”&gt; â€œå­—ç¬¦ä¸²â€ ã€å­—ç¬¦ä¸²è¿æ¥ã€‘</li></ul><p>åœ¨ä¸€ä¸ªè¡¨è¾¾å¼ä¸­å¯ä»¥å‡ºç°å¤šä¸ª â€œ+â€ å·ï¼Œå¦‚æœæ²¡æœ‰ æ‹¬å·ï¼Œé‚£ä¹ˆå°±æ˜¯ä»å·¦åˆ°å³ä¾æ¬¡è¿ç®—</p><h2 id="æ§åˆ¶è¯­å¥"><a href="#æ§åˆ¶è¯­å¥" class="headerlink" title="æ§åˆ¶è¯­å¥"></a>æ§åˆ¶è¯­å¥</h2><p>Javaæ§åˆ¶è¯­å¥å¯ä»¥åˆ†ä¸º7ç§</p><ul><li><p>æ§åˆ¶é€‰æ‹©ç»“æ„è¯­å¥</p><ul><li>if,else æ‹¬å·ä¸­æ¥å—ä¸€ä¸ªBoolean</li><li>switch æ‹¬å·ä¸­æ¥å—ä¸€ä¸ª int/String</li></ul></li><li><p>æ§åˆ¶å¾ªç¯ç»“æ„è¯­å¥</p><ul><li>for</li><li>while</li><li>do while</li></ul></li><li><p>æ”¹å˜æ§åˆ¶è¯­å¥é¡ºåº</p><ul><li><p>break </p><p>  ä½œç”¨åœ¨for,while,do..while</p></li><li><p>continue</p></li></ul></li></ul><h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><blockquote><p>è¯­æ³•ç»“æ„ï¼š</p><p>[ä¿®é¥°ç¬¦åˆ—è¡¨] è¿”å›å€¼ç±»å‹ æ–¹æ³•å (å½¢å‚å‚æ•°åˆ—è¡¨) {</p><p>â€‹    æ–¹æ³•ä½“ï¼š</p><p>}</p><p>è¿”å›å€¼ç±»å‹å¯ä»¥æ˜¯åŸºæœ¬ç±»å‹ä¹Ÿå¯ä»¥æ˜¯å¼•ç”¨ç±»å‹ï¼Œå½“è¿”å›ç±»å‹æ˜¯viodæ—¶ï¼Œæ–¹æ³•ä½“ä¸èƒ½ ä½¿ç”¨ return è¯­å¥ è¿”å›å€¼</p><p>ä¿®é¥°ç¬¦åˆ—è¡¨ ç»Ÿä¸€å†™æˆï¼š public  static</p></blockquote><ol><li><p>å¯¹äºæ–¹æ³•çš„ä¿®é¥°ç¬¦åˆ—è¡¨ä¸­æœ‰ static å…³é”®å­—çš„ï¼šåœ¨æ–¹æ³•ä½“ç§è°ƒç”¨æ—¶å¯ä»¥çœç•¥<strong>ç±»å.</strong> </p></li><li><p>å»ºè®®ä¸€ä¸ªJavaæºæ–‡ä»¶å½“ä¸­åªå®šä¹‰ä¸€ä¸ª classï¼Œæ¸…æ™°æ˜“è¯»</p></li><li><p>æ–¹æ³•çš„å†…å­˜åˆ†é…æƒ…å†µ</p><p> <img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230111111814126.png" alt="image-20230111111814126"></p></li></ol><h3 id="æ–¹æ³•çš„é‡è½½"><a href="#æ–¹æ³•çš„é‡è½½" class="headerlink" title="æ–¹æ³•çš„é‡è½½"></a>æ–¹æ³•çš„é‡è½½</h3><blockquote><p>åŒä¸€ä¸ªç±»ä¸­åŠŸèƒ½ç›¸ä¼¼çš„æ–¹æ³•å¯ä»¥å…±ç”¨åŒä¸€ä¸ªæ–¹æ³•åï¼Œç„¶åæ ¹æ®ä¼ å…¥å‚æ•°ç±»å‹çš„ä¸åŒæ¥è°ƒç”¨ä¸åŒçš„æ–¹æ³•</p></blockquote><p><strong>ä»€ä¹ˆæ¡ä»¶æ»¡è¶³ä¹‹åæ„æˆæ–¹æ³•é‡è½½ï¼Ÿ</strong></p><ul><li>åœ¨åŒä¸€ä¸ªç±»</li><li>æ–¹æ³•åç›¸åŒ</li><li>å‚æ•°åˆ—è¡¨ä¸åŒ<ul><li>æ•°é‡ä¸åŒ</li><li>é¡ºåºä¸åŒ</li><li>ç±»å‹ä¸åŒ</li></ul></li></ul><p><strong>æ–¹æ³•é‡è½½å’Œä»€ä¹ˆæœ‰å…³ï¼Œå’Œä»€ä¹ˆæ²¡æœ‰å…³ç³»ï¼Ÿ</strong></p><ul><li>æ–¹æ³•é‡è½½å’Œæ–¹æ³•å+å‚æ•°åˆ—è¡¨æœ‰å…³ç³»</li><li>æ–¹æ³•é‡è½½å’Œè¿”å›å€¼ç±»å‹æ— å…³</li><li>æ–¹æ³•é‡è½½å’Œä¿®é¥°ç¬¦æ— å…³</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">OverloadTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> sum(<span class="number">1</span>, <span class="number">2</span>);<span class="comment">// 3</span></span><br><span class="line">        <span class="type">double</span> <span class="variable">b</span> <span class="operator">=</span> sum(<span class="number">1.0</span>, <span class="number">2.0</span>);<span class="comment">// 3.0</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">c</span> <span class="operator">=</span> sum(<span class="number">1L</span>, <span class="number">2L</span>);<span class="comment">// 3L</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">sum</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">sum</span><span class="params">(<span class="type">long</span> a, <span class="type">long</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ–¹æ³•çš„é€’å½’"><a href="#æ–¹æ³•çš„é€’å½’" class="headerlink" title="æ–¹æ³•çš„é€’å½’"></a>æ–¹æ³•çš„é€’å½’</h3><blockquote><p>æ–¹æ³•è‡ªè°ƒç”¨å°±æ˜¯é€’å½’</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¹˜æ³•é€’å½’</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">chen</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> n * chen(--n);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h2><blockquote><p>é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ï¼š</p><ol><li>å°è£…</li><li>ç»§æ‰¿</li><li>å¤šæ€</li></ol><p>æ‰€æœ‰é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€éƒ½æœ‰è¿™ä¸‰å¤§ç‰¹å¾ã€‚</p><ol><li>é¢å‘å¯¹è±¡çš„åˆ†æï¼šOOA</li><li>é¢å‘å¯¹è±¡çš„è®¾è®¡ï¼šOOD</li><li>é¢å‘å¯¹è±¡çš„ç¼–ç¨‹ï¼šOOP</li></ol></blockquote><h3 id="å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨"><a href="#å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨" class="headerlink" title="å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨"></a>å¯¹è±¡çš„åˆ›å»ºå’Œä½¿ç”¨</h3><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230111154018456.png" alt="image-20230111154018456"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OOTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        é€šè¿‡ä¸€ä¸ªç±»å¯ä»¥å®ä¾‹åŒ–Nä¸ªå¯¹è±¡</span></span><br><span class="line"><span class="comment">        è¯­æ³•ï¼š new ç±»å();</span></span><br><span class="line"><span class="comment">        new è¿ç®—ç¬¦ä½œç”¨æ˜¯åˆ›å»ºå¯¹è±¡ï¼Œåœ¨JVMå †å†…å­˜ä¸­å¼€è¾Ÿæ–°çš„å†…å­˜ç©ºé—´</span></span><br><span class="line"><span class="comment">        æ–¹æ³•åŒºå†…å­˜ï¼šç±»åŠ è½½æ—¶ï¼Œclasså­—èŠ‚ç ä»£ç ç‰‡æ®µè¢«åŠ è½½åˆ°è¯¥å†…å­˜ç©ºé—´</span></span><br><span class="line"><span class="comment">        æ ˆå†…å­˜ï¼ˆå±€éƒ¨å˜é‡ï¼‰ï¼šæ–¹æ³•ä»£ç æ‰§è¡Œæ—¶ï¼Œä¼šç»™è¯¥æ–¹æ³•åˆ†é…æ ˆå†…å­˜ç©ºé—´ï¼Œå‹æ ˆ</span></span><br><span class="line"><span class="comment">        å †å†…å­˜ï¼šnew çš„å¯¹è±¡åœ¨å †å†…å­˜ä¸­å‚¨å­˜</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        Student æ˜¯ä¸ªå¼•ç”¨æ•°æ®ç±»å‹ï¼Œs æ˜¯ å˜é‡ï¼Œnew Student() æ˜¯ä¸€ä¸ªå­¦ç”Ÿå¯¹è±¡</span></span><br><span class="line"><span class="comment">        ä»€ä¹ˆæ˜¯å¼•ç”¨ï¼Ÿ</span></span><br><span class="line"><span class="comment">        å¼•ç”¨æ˜¯ä¸€ä¸ªå˜é‡ï¼Œåªä¸è¿‡è¿™ä¸ªå˜é‡ä¸­ä¿å­˜äº†å¦ä¸€ä¸ªJavaå¯¹è±¡çš„å†…å­˜åœ°å€</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        è®¿é—®å®ä¾‹å˜é‡çš„è¯­æ³•æ ¼å¼ï¼š</span></span><br><span class="line"><span class="comment">        è¯»å–æ•°æ®ï¼šå¼•ç”¨.å˜é‡å</span></span><br><span class="line"><span class="comment">        ä¿®æ”¹æ•°æ®ï¼šå¼•ç”¨.å˜é‡å = å€¼</span></span><br><span class="line"><span class="comment">        </span></span><br><span class="line"><span class="comment">        ä¸èƒ½ç›´æ¥é€šè¿‡ Student.no è®¿é—®</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        </span><br><span class="line">        s.no = <span class="number">10</span>;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="comment">// å­¦å·</span></span><br><span class="line">    <span class="type">int</span> no;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å§“å</span></span><br><span class="line">    String name;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// å¹´é¾„</span></span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ€§åˆ«</span></span><br><span class="line">    <span class="type">boolean</span> sex;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä½å€</span></span><br><span class="line">    String addr;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æˆå‘˜å˜é‡æ²¡æœ‰èµ‹å€¼ï¼Œåˆ™èµ‹é»˜è®¤å€¼ï¼Œ å¼•ç”¨ç±»å‹é»˜è®¤å€¼ä¸º null</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure><h3 id="ç©ºæŒ‡é’ˆå¼‚å¸¸"><a href="#ç©ºæŒ‡é’ˆå¼‚å¸¸" class="headerlink" title="ç©ºæŒ‡é’ˆå¼‚å¸¸"></a>ç©ºæŒ‡é’ˆå¼‚å¸¸</h3><blockquote><p>ç©ºå¼•ç”¨è®¿é—®â€œå®ä¾‹â€ç›¸å…³æ•°æ®ä¸€å®šä¼šå‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸</p><p>java.lang.NullPointerExption</p></blockquote><h3 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h3><blockquote><p>å°è£…çš„æ­¥éª¤ï¼š</p><ol><li><p>æ‰€æœ‰å±æ€§ç§æœ‰åŒ–ï¼Œä½¿ç”¨ private å…³é”®å­—è¿›è¡Œä¿®é¥°ï¼Œä¿®é¥°çš„æ•°æ®åªèƒ½åœ¨æœ¬ç±»ä¸­è®¿é—®</p></li><li><p>å¯¹å¤–æä¾›ç®€å•çš„æ“ä½œå…¥å£ï¼Œå¦‚ï¼šè¯»å–å’Œä¿®æ”¹</p></li><li><p>set,getæ–¹æ³•å‘½åè§„èŒƒï¼š</p><ul><li><p>public void setAge (int a) {</p><p>  â€‹    age = a;</p><p>  }</p></li><li><p>public int getAge () {</p><p>  â€‹    return age;</p><p>  }</p></li><li><p>è°ƒç”¨ï¼š</p><p>  å¯¹äº æœ‰ static ä¿®é¥°çš„æ–¹æ³•é‡‡ç”¨ ç±»å.æ–¹æ³•å(å®å‚)</p><p>  å¯¹äºæ²¡æœ‰ static ä¿®é¥°çš„æ–¹æ³•é‡‡ç”¨ å¼•ç”¨.æ–¹æ³•å(å®å‚)</p></li></ul></li></ol></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;zhang san&quot;</span>;</span><br><span class="line">    <span class="comment">// æŠŠå±æ€§è®¾ç½®ç§æœ‰åŒ–</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">address</span> <span class="operator">=</span> <span class="string">&quot;somewhere interesting&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h3><blockquote><ol><li><p>æ„é€ æ–¹æ³•åˆè¢«ç§°ä¸ºæ„é€ å‡½æ•°/æ„é€ å™¨/Constructor</p></li><li><p>æ„é€ æ–¹æ³•è¯­æ³•ç»“æ„ï¼š</p><p> [ä¿®é¥°ç¬¦åˆ—è¡¨] æ„é€ æ–¹æ³•å(å½¢å¼å‚æ•°åˆ—è¡¨) {</p><p> â€‹    æ„é€ æ–¹æ³•ä½“;</p><p> }</p></li><li><p>æ™®é€šæ–¹æ³•è¯­æ³•ç»“æ„</p><p> [ä¿®é¥°ç¬¦åˆ—è¡¨] è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å½¢å¼å‚æ•°åˆ—è¡¨) {</p><p> â€‹    æ–¹æ³•ä½“;</p><p> }</p></li><li><p>å½“ä¸€ä¸ªç±»æ²¡æœ‰å®šä¹‰æ„é€ æ–¹æ³•ï¼Œç³»ç»Ÿé»˜è®¤ç»™è¯¥ç±»æä¾›ä¸€ä¸ªæ— å‚æ„é€ å‡½æ•°ï¼Œç§° ç¼ºçœæ„é€ å™¨</p></li><li><p>æ„é€ æ–¹æ³•é™¤äº† new æ—¶è°ƒç”¨ï¼Œè¿˜å¯ä»¥æ‰‹åŠ¨è°ƒç”¨ this()</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="type">int</span> year;</span><br><span class="line">    <span class="type">int</span> month;</span><br><span class="line">    <span class="type">int</span> day;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(<span class="type">int</span> year, <span class="type">int</span> month, <span class="type">int</span> day )</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.year = year;</span><br><span class="line">        <span class="built_in">this</span>.month = month;</span><br><span class="line">        <span class="built_in">this</span>.day = day;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ— å‚æ•°æ—¶è°ƒç”¨æ¬¡æ„é€ æ–¹æ³•ï¼Œé»˜è®¤è®¾ç½®æ—¥æœŸ 2020 12 12</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(<span class="number">2020</span>, <span class="number">12</span>, <span class="number">12</span>);<span class="comment">// è¿™ç§è¯­æ³•åªèƒ½å‡ºç°åœ¨æ„é€ å‡½æ•°ç¬¬ä¸€è¡Œï¼Œç±»ä¼¼äº super</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h3 id="this-å…³é”®å­—"><a href="#this-å…³é”®å­—" class="headerlink" title="this å…³é”®å­—"></a>this å…³é”®å­—</h3><blockquote><p>å…³äºJavaä¸­çš„thiså…³é”®å­—</p></blockquote><ol><li><p>thisæ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œthisæ˜¯ä¸€ä¸ªå˜é‡ï¼Œthiså˜é‡ä¸­ä¿å­˜äº†å†…å­˜åœ°å€æŒ‡å‘è‡ªèº«ï¼Œthiså­˜å‚¨åœ¨JVMå †å†…å­˜Javaå¯¹è±¡å†…éƒ¨</p></li><li><p>this ä¸èƒ½ä½¿ç”¨åœ¨å¸¦æœ‰staticçš„æ–¹æ³•ä¸­</p><p> é‚£ä¹ˆåœ¨ static æ–¹æ³•ä¸­æ€ä¹ˆè®¿é—®æˆå‘˜å˜é‡ï¼Ÿ</p><ul><li>æ–¹æ³•ä¸­å®ä¾‹åŒ–å¯¹è±¡è·å–å¼•ç”¨è®¿é—®</li><li>é€šè¿‡å‚æ•°å°†å®ä¾‹ä¼ å…¥</li><li>ç”¨ static ä¿®é¥°æˆå‘˜å˜é‡ï¼Œä½†åœ¨ éstatic æ–¹æ³•ä¸­ä¸èƒ½ç”¨ this è®¿é—®åªèƒ½ç”¨ <strong>ç±»å.å±æ€§å</strong></li></ul></li></ol><h3 id="static-å…³é”®å­—"><a href="#static-å…³é”®å­—" class="headerlink" title="static å…³é”®å­—"></a>static å…³é”®å­—</h3><blockquote><p>é™æ€å˜é‡ï¼šåœ¨ç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–ï¼Œä¸éœ€è¦åˆ›å»ºå¯¹è±¡<strong>å†…å­˜</strong>å°±åœ¨<strong>æ–¹æ³•åŒº</strong>å¼€è¾Ÿäº†</p><ul><li><p>static å…³é”®å­—ä¿®é¥°çš„ å±æ€§ï¼Œæ–¹æ³•ä»£è¡¨ ç±»çº§åˆ«çš„å’Œå…·ä½“å¯¹è±¡æ— å…³ã€‚éœ€è¦ä½¿ç”¨ ç±»åè°ƒç”¨,å¼•ç”¨æ–¹å¼ä¹Ÿèƒ½è°ƒç”¨ã€ä¸å»ºè®®ã€‘</p></li><li><p>é static å…³é”®å­—ä¿®é¥°çš„ å±æ€§ï¼Œæ–¹æ³• ä»£è¡¨å¯¹è±¡çº§åˆ«çš„ã€‚éœ€è¦å¼•ç”¨å»è°ƒç”¨</p></li></ul></blockquote><p>å¯ä»¥ä½¿ç”¨ static å…³é”®å­—æ¥å®šä¹‰ <strong>é™æ€ä»£ç å—</strong></p><p>1ã€è¯­æ³•æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">    java è¯­å¥;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2ã€é™æ€ä»£ç åœ¨ç±»åŠ è½½æ—¶æ‰§è¡Œï¼Œå¹¶åªæ‰§è¡Œä¸€æ¬¡</p><h3 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h3><blockquote><p>å…³äºJava è¯­è¨€ä¸­çš„ç»§æ‰¿ï¼š</p></blockquote><ol><li><p>ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾ä¹‹ä¸€,ä¸‰å¤§ç‰¹å¾åˆ†åˆ«æ˜¯ï¼šå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€</p></li><li><p>ç»§æ‰¿ <strong>â€œåŸºæœ¬â€</strong> ä½œç”¨æ˜¯ï¼šä»£ç å¤ç”¨ã€‚ä½†æ˜¯ç»§æ‰¿ æœ€é‡è¦ çš„ä½œç”¨æ˜¯ï¼šæœ‰äº†ç»§æ‰¿æ‰æœ‰ä»¥åâ€æ–¹æ³•çš„è¦†ç›–â€å’Œå¤šæ€æœºåˆ¶ã€‚</p></li><li><p>ç»§æ‰¿è¯­æ³•æ ¼å¼ï¼š</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦åˆ—è¡¨] class ç±»å extends çˆ¶ç±»å &#123;</span><br><span class="line">ç±»ä½“ = å±æ€§ + æ–¹æ³•</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>Java è¯­è¨€å½“ä¸­çš„ç»§æ‰¿åªæ”¯æŒå•ç»§æ‰¿ï¼Œä¸€ä¸ªç±»ä¸èƒ½åŒæ—¶ç»§æ‰¿å¾ˆå¤šç±»ï¼Œåªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»</p></li><li><p>å…³äºç»§æ‰¿ä¸­çš„ä¸€äº›æœ¯è¯­ï¼š</p><p> Bç±»ç»§æ‰¿Aç±»ï¼Œå…¶ä¸­ï¼š</p><p> â€‹    Aç±»ç§°ä¸ºï¼šçˆ¶ç±»ï¼ŒåŸºç±»ã€è¶…ç±»ã€superclass</p><p> â€‹    Bç±»ç§°ä¸º: å­ç±»ï¼Œæ´¾ç”Ÿç±»ã€subclass</p></li><li><p>Javaè¯­è¨€ä¸­å­ç±»ç»§æ‰¿çˆ¶ç±»éƒ½ç»§æ‰¿å“ªäº›æ•°æ®å‘¢ï¼Ÿ</p><ul><li><p>ç§æœ‰çš„ä¸æ”¯æŒ</p></li><li><p>æ„é€ æ–¹æ³•ä¸æ”¯æŒ</p></li><li><p>å…¶ä»–æ•°æ®éƒ½æ”¯æŒ</p></li></ul></li><li><p>è™½ç„¶Javaè¯­è¨€åªæ”¯æŒå•ç»§æ‰¿ï¼Œä½†æ˜¯ä¸€ä¸ªç±»ä¹Ÿå¯ä»¥ç®€æ´ç»§æ‰¿å…¶ä»–ç±»ï¼Œä¾‹å¦‚ï¼š</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C <span class="keyword">extends</span> <span class="title class_">B</span> &#123;&#125;</span><br><span class="line">B <span class="keyword">extends</span> <span class="title class_">A</span> &#123;&#125;</span><br><span class="line">A <span class="keyword">extends</span> <span class="title class_">T</span> &#123;&#125;</span><br><span class="line"><span class="comment">// C ç›´æ¥ç»§æ‰¿Bç±»ï¼Œä½†æ˜¯Cç±»ç›´æ¥ç»§æ‰¿Tã€Aç±»ã€‚</span></span><br></pre></td></tr></table></figure></li><li><p>Javaè¯­è¨€ä¸­å‡è®¾ä¸€ä¸ªç±»æ²¡æœ‰æ˜¾ç¤ºçš„ç»§æ‰¿ä»»ä½•ç±»ï¼Œè¯¥ç±»é»˜è®¤ç»§æ‰¿ JavaSE åº“å½“ä¸­æä¾›çš„ Java.lang.Objectç±»ã€‚</p></li></ol><h3 id="æ–¹æ³•çš„è¦†ç›–"><a href="#æ–¹æ³•çš„è¦†ç›–" class="headerlink" title="æ–¹æ³•çš„è¦†ç›–"></a>æ–¹æ³•çš„è¦†ç›–</h3><blockquote><p>Java è¯­è¨€ä¸­æ–¹æ³•çš„é‡è½½çš„æ¡ä»¶</p><ul><li>åœ¨åŒä¸€ä¸ªç±»å½“ä¸­</li><li>æ–¹æ³•åç›¸åŒ</li><li>å‚æ•°åˆ—è¡¨ä¸åŒï¼šç±»å‹ï¼Œé¡ºåºï¼Œä¸ªæ•°è‡³å°‘ä¸€ä¸ªä¸åŒ</li></ul><ol><li>æ–¹æ³•é‡è½½å’Œä»€ä¹ˆæ— å…³ï¼Ÿ<ul><li>å’Œæ–¹æ³•çš„è€Œè¿”å›å€¼ç±»å‹æ— å…³</li><li>å’Œæ–¹æ³•ä¿®é¥°ç¬¦åˆ—è¡¨æ— å…³</li></ul></li></ol></blockquote><blockquote><p>Java è¯­è¨€ä¸­æ–¹æ³•çš„è¦†ç›–</p><ol><li><p>æ–¹æ³•è¦†ç›–åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ï¼Ÿ</p><p> <strong>å½“çˆ¶ç±»æ–¹æ³•æ— æ³•æ»¡è¶³å­ç±»çš„ä¸šåŠ¡éœ€æ±‚æ—¶ï¼Œå­ç±»æœ‰å¿…è¦é‡å†™èªçˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•</strong></p></li><li><p>ä»€ä¹ˆæ¡ä»¶æ»¡è¶³ä¹‹åæ„æˆæ–¹æ³•é‡è½½ï¼Ÿ</p><ul><li>æ–¹æ³•è¦†ç›–å‘ç”Ÿåœ¨å…·æœ‰ç»§æ‰¿å…³ç³»çš„çˆ¶å­ç±»ä¹‹é—´</li><li>è¿”å›å€¼ç±»å‹ç›¸åŒï¼Œæ–¹æ³•åç›¸åŒï¼Œå½¢å‚åˆ—è¡¨ç›¸åŒ</li><li>è®¿é—®æƒé™ä¸èƒ½æ›´ä½ ã€protected -&gt; publicã€‘</li><li>æŠ›å‡ºå¼‚å¸¸ä¸èƒ½æ›´å¤šï¼Œå¯ä»¥æ›´å°‘</li></ul></li><li><p>æ–¹æ³•è¦†ç›–å’Œä»€ä¹ˆæ— å…³ï¼Ÿ</p><ul><li>å’Œæ–¹æ³•çš„è€Œè¿”å›å€¼ç±»å‹æ— å…³</li><li>å’Œæ–¹æ³•ä¿®é¥°ç¬¦åˆ—è¡¨æ— å…³</li></ul></li></ol></blockquote><ol><li>ç§æœ‰æ–¹æ³•ä¸èƒ½ç»§æ‰¿ï¼Œæ‰€ä»¥ä¸èƒ½è¦†ç›–ã€‚</li><li>æ„é€ æ–¹æ³•ä¸èƒ½ç»§æ‰¿ï¼Œæ‰€ä»¥ä¸èƒ½è¦†ç›–ã€‚</li><li>é™æ€æ–¹æ³•ä¸å­˜åœ¨è¦†ç›–ã€‚å› ä¸ºæ˜¯é€šè¿‡ç±»åè®¿é—®çš„ï¼Œçˆ¶å­ç±»åè‚¯å®šä¸åŒ</li><li>è¦†ç›–åªé’ˆå¯¹æ–¹æ³•ï¼Œä¸è°ˆå±æ€§</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–¹æ³•çš„è¦†ç›–</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line"> <span class="comment">// åŠ¨ç‰©éƒ½æ˜¯å¯ä»¥ç§»åŠ¨çš„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">move</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åŠ¨ç‰©åœ¨ç§»åŠ¨&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// çŒ«ç§‘ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">move</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çŒ«åœ¨èµ°çŒ«æ­¥&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æŠ“è€é¼ </span></span><br><span class="line">    catchMouse() &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çŒ«æŠ“è€é¼ &quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h3><blockquote><p>è¯­æ³•æœºåˆ¶ï¼š</p><p>Cat ç»§æ‰¿ Animalï¼ŒBird ç»§æ‰¿ Animalã€‚Cat å’Œ Bird æ²¡æœ‰ä»»ä½•ç»§æ‰¿å…³ç³»ã€‚</p><p>å…³äºå¤šæ€æ¶‰åŠçš„å‡ ä¸ªæ¦‚å¿µï¼š</p><ul><li>å‘ä¸Šè½¬å‹<ul><li>å­ç±»å‹ â€“&gt; çˆ¶ç±»å‹    è‡ªåŠ¨ç±»å‹è½¬æ¢</li></ul></li><li>å‘ä¸‹è½¬å‹ <ul><li>çˆ¶ç±»å‹ â€“&gt; å­ç±»å‹    å¼ºåˆ¶ç±»å‹è½¬æ¢ã€åŠ å¼ºåˆ¶ç±»å‹è½¬æ¢ç¬¦ã€‘</li></ul></li><li>è½¬å‹çš„å‰ææ˜¯æ‹¥æœ‰ç»§æ‰¿å…³ç³»</li></ul></blockquote><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230112162203837.png" alt="image-20230112162203837"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Animal</span> <span class="variable">a1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();<span class="comment">// å‘ä¸Šè½¬å‹ï¼Œç¼–è¯‘è¿‡ï¼Œä¸€å®šèƒ½è¿è¡Œ</span></span><br><span class="line"></span><br><span class="line">a1.move();<span class="comment">// çŒ«åœ¨èµ°çŒ«æ­¥</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ç¼–è¯‘ä¸é€šè¿‡ï¼Œ</span></span><br><span class="line"><span class="comment">å› ä¸º a1 æ˜¯ Animalç±»å‹ï¼Œè€ŒAnimalç±»å‹ä¸­ä¸å­˜åœ¨æ‰¾è€é¼ æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment">æ­¤æ—¶æƒ³è¦è°ƒç”¨ catchMouse æ–¹æ³•ï¼Œéœ€è¦å°† a1 å¼ºåˆ¶è½¬æ¢ä¸º Cat.</span></span><br><span class="line"><span class="comment">å‘ä¸‹è½¬å‹ï¼šå½“è°ƒç”¨çš„æ–¹æ³•æ˜¯å­ç±»ç‰¹æœ‰çš„ï¼Œçˆ¶ç±»ä¸­ä¸å­˜åœ¨çš„ï¼Œå¿…é¡»è¿›è¡Œå‘ä¸‹è½¬å‹</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// a1.catchMouse();</span></span><br><span class="line"><span class="type">Cat</span> <span class="variable">c1</span> <span class="operator">=</span> (Cat)a2;</span><br><span class="line">c1.catchMouse();</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤è¯­æ³•ç¼–è¯‘é€šè¿‡ï¼Œä½†æ˜¯è¿è¡Œä¼šå¼‚å¸¸</span></span><br><span class="line"><span class="comment">å› ä¸ºa1 å®é™…å¼•ç”¨æ˜¯ Cat,è€Œ Cat ä¸Bird ä¸å­˜åœ¨ä»»ä½•ç»§æ‰¿å…³ç³»ï¼Œç”±æ­¤å‡ºç°è‘—åå¼‚å¸¸ï¼š</span></span><br><span class="line"><span class="comment">java.lang.ClassCastException</span></span><br><span class="line"><span class="comment">ç±»å‹è½¬æ¢å¼‚å¸¸ï¼Œè¿™ç§å¼‚å¸¸æ€»æ˜¯åœ¨ &quot;å‘ä¸‹è½¬å‹çš„æ—¶å€™&quot;ä¼šå‘ç”Ÿã€‚</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">è§£å†³å‘ä¸‹è½¬å‹é”™è¯¯ï¼š</span></span><br><span class="line"><span class="comment">ä½¿ç”¨ instanceof è¿ç®—ç¬¦ è§£å†³</span></span><br><span class="line"><span class="comment">è¯­æ³•æ ¼å¼ï¼šï¼ˆå¼•ç”¨ instanceof æ•°æ®ç±»å‹åï¼‰</span></span><br><span class="line"><span class="comment">eg: a instanceof Animal</span></span><br><span class="line"><span class="comment">true: aè¿™ä¸ªå¼•ç”¨æŒ‡å‘å¯¹è±¡æ˜¯ä¸€ä¸ª Animal ç±»å‹</span></span><br><span class="line"><span class="comment">false: aè¿™ä¸ªå¼•ç”¨æŒ‡å‘å¯¹è±¡ä¸æ˜¯ä¸€ä¸ª Animal ç±»å‹</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Bird b1 = (Bird)a1;// å‘ä¸‹è½¬å‹ï¼Œç¼–è¯‘è¿‡ï¼Œå¯èƒ½è¿è¡Œé”™è¯¯</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è§£å†³ï¼š</span></span><br><span class="line"><span class="keyword">if</span>(a1 <span class="keyword">instanceof</span> Bird) &#123;</span><br><span class="line">    <span class="type">Bird</span> <span class="variable">b1</span> <span class="operator">=</span> (Bird)a1;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¤šæ€åœ¨å®é™…å¼€å‘ä¸­çš„ä½œç”¨ï¼š"><a href="#å¤šæ€åœ¨å®é™…å¼€å‘ä¸­çš„ä½œç”¨ï¼š" class="headerlink" title="å¤šæ€åœ¨å®é™…å¼€å‘ä¸­çš„ä½œç”¨ï¼š"></a>å¤šæ€åœ¨å®é™…å¼€å‘ä¸­çš„ä½œç”¨ï¼š</h4><blockquote><p>åˆ†æï¼š ä¸»äººå–‚å…»å® ç‰©è¿™ä¸ªåœºæ™¯éœ€è¦ç»è¡Œç±»å‹æŠ½è±¡ï¼š</p><ul><li>ä¸»äººã€ç±»ã€‘<ul><li>ä¸»äººå¯ä»¥å–‚å…»å® ç‰©ï¼Œæ‰€æœ‰ä¸»äººéƒ½æœ‰è¿™ä¸ªåŠ¨ä½œ</li></ul></li><li>å® ç‰©ã€ç±»ã€‘<ul><li>å® ç‰©å¯ä»¥åƒä¸œè¥¿ï¼Œæ‰€æœ‰å® ç‰©éƒ½æœ‰åƒä¸œè¥¿çš„è¿™ä¸ªåŠ¨ä½œ</li></ul></li></ul></blockquote><ul><li>é™ä½ç¨‹åºè€¦åˆåº¦ï¼Œæé«˜ç¨‹åºæ‰©å±•åŠ›ï¼Œèƒ½ä½¿ç”¨å¤šæ€å°½é‡ä½¿ç”¨å¤šæ€ã€‚çˆ¶ç±»å‹å¼•ç”¨æŒ‡å‘å­ç±»å‹å¯¹è±¡</li></ul><p>æ ¸å¿ƒï¼š é¢å‘æŠ½è±¡ç¼–ç¨‹ï¼Œä¸è¦é¢å‘å…·ä½“ç¼–ç¨‹</p><p>ä¸ä½¿ç”¨å¤šæ€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸»äººç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Master</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    è¿™ç§æ–¹å¼æ²¡æœ‰ä½¿ç”¨å¤šæ€ï¼Œæ¯æ¬¡åŠ ä¸€ä¸ªå® ç‰©å°±è¦æ–°å¢ä¸€ä¸ªæ–¹æ³•</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fead</span> <span class="params">(Cat c)</span> &#123;</span><br><span class="line">        c.eat();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fead</span> <span class="params">(Dog c)</span> &#123;</span><br><span class="line">        c.eat();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span> <span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çŒ«åœ¨åƒé¥­é¥­&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span> <span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç‹—åœ¨åƒé¥­é¥­&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸»äºº</span></span><br><span class="line">        <span class="type">Master</span> <span class="variable">m1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Master</span>();</span><br><span class="line">        <span class="comment">// åˆ›å»ºçŒ«</span></span><br><span class="line">        <span class="type">Cat</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        <span class="comment">// ä¸»äººå–‚çŒ«</span></span><br><span class="line">        m1.fead(c1);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// åˆ›å»ºç‹—</span></span><br><span class="line">        <span class="type">Dog</span> <span class="variable">d1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        <span class="comment">// ä¸»äººå–‚ç‹—</span></span><br><span class="line">        m1.fead(d1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨å¤šæ€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸»äººç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Master</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    ä½¿ç”¨å¤šæ€ï¼Œpet æ˜¯ä¸€ä¸ªçˆ¶å¼•ç”¨</span></span><br><span class="line"><span class="comment">    è€¦åˆåº¦ä½ï¼Œæ‰©å±•åŠ›å¼º</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fead</span> <span class="params">(Ped pet)</span> &#123;</span><br><span class="line">        pet.eat();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å® ç‰©ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Pet</span> &#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span> <span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å® ç‰©åœ¨åƒé¥­é¥­&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Pet</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span> <span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çŒ«åœ¨åƒé¥­é¥­&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Pet</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span> <span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç‹—åœ¨åƒé¥­é¥­&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Snake</span> <span class="keyword">extends</span> <span class="title class_">Pet</span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span> <span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è›‡åœ¨åƒé¥­é¥­&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸»äºº</span></span><br><span class="line">        <span class="type">Master</span> <span class="variable">m1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Master</span>();</span><br><span class="line">        <span class="comment">// ä¸»äººå–‚çŒ«</span></span><br><span class="line">        m1.fead(<span class="keyword">new</span> <span class="title class_">Cat</span>());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ä¸»äººå–‚ç‹—</span></span><br><span class="line">        m1.fead(<span class="keyword">new</span> <span class="title class_">Dog</span>());</span><br><span class="line">        </span><br><span class="line">     <span class="comment">// ä¸»äººå–‚è›‡</span></span><br><span class="line">        m1.fead(<span class="keyword">new</span> <span class="title class_">Snake</span>());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="finall-å…³é”®å­—"><a href="#finall-å…³é”®å­—" class="headerlink" title="finall å…³é”®å­—"></a>finall å…³é”®å­—</h3><blockquote><p>è¡¨ç¤ºæœ€ç»ˆçš„ï¼Œä¸å¯å˜çš„ã€‚è·Ÿ js ä¸­ const ä½œç”¨æœ‰ç‚¹ç±»ä¼¼</p><ul><li>final ä¿®é¥°çš„ç±»æ— æ³•è¢«ç»§æ‰¿</li><li>final ä¿®é¥°çš„æ–¹æ³•æ— æ³•è¢«è¦†ç›–</li><li>final ä¿®é¥°çš„å˜é‡ä¸€æ—¦èµ‹å€¼ï¼Œä¸å¯é‡æ–°èµ‹å€¼</li><li>final ä¿®é¥°çš„å®ä¾‹å˜é‡å¿…é¡»æ‰‹åŠ¨èµ‹å€¼ï¼Œä¸èƒ½é»˜è®¤èµ‹å€¼</li><li>final ä¿®é¥°çš„å¼•ç”¨è™½ç„¶æŒ‡å‘æŸä¸ªå¯¹è±¡ä¹‹åä¸èƒ½æŒ‡å‘å…¶ä»–å¯¹è±¡ï¼Œä½†æ˜¯æ‰€æŒ‡å‘çš„å¯¹è±¡å†…éƒ¨çš„å†…å­˜æ˜¯å¯ä»¥è¢«ä¿®æ”¹çš„</li><li>final ä¿®é¥°çš„å®ä¾‹å˜é‡ï¼Œä¸€èˆ¬å’Œstaticè”åˆä½¿ç”¨ï¼Œè¢«ç§°ä¸ºå¸¸é‡</li></ul></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">finalTest</span> &#123;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    æˆå‘˜å˜é‡åˆé»˜è®¤èµ‹å€¼ + final ä¿®é¥°çš„å˜é‡ä¸€æ—¦èµ‹å€¼å°±ä¸èƒ½é‡æ–°èµ‹å€¼</span></span><br><span class="line"><span class="comment">    æ‰€ä»¥ä¸‹é¢è¯­æ³•å°±æ˜¯é»˜è®¤å€¼0ï¼Œä¸èƒ½å†é‡æ–°èµ‹å€¼ï¼Œå˜é‡å°±æ²¡æœ‰æ„ä¹‰</span></span><br><span class="line"><span class="comment">    */</span> </span><br><span class="line">    <span class="comment">// final int age; // ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">    <span class="comment">// æ­£ç¡®å†™æ³•1</span></span><br><span class="line">    <span class="keyword">final</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ­£ç¡®å†™æ³•2</span></span><br><span class="line">    <span class="keyword">final</span> age;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">finalTest</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = <span class="number">20</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸Šè¾¹ä¸¤ç§å†™æ³•æœ¬è´¨æ˜¯ä¸€æ ·çš„ï¼Œå˜é‡çš„èµ‹å€¼å°±å‘ç”Ÿåœ¨æ„é€ å‡½æ•°æ‰§è¡Œ</span></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Java å†…ç½®çš„ String æ–¹æ³•ä¸ºæœ€ç»ˆæ–¹æ³•ä¸èƒ½è¢«ç»§æ‰¿ï¼Œè¦†ç›–ï¼Œèµ‹å€¼</span></span><br><span class="line"><span class="comment">// ç¼–è¯‘é”™è¯¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">myString</span> <span class="keyword">extends</span> <span class="title class_">String</span> &#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="packageï¼Œimportant"><a href="#packageï¼Œimportant" class="headerlink" title="packageï¼Œimportant"></a>packageï¼Œimportant</h3><blockquote><p>åŒ…åˆç§°ä¸ºpackageå—Java ä¸­å¼•å…¥è¿™ç§è¯­æ³•æœºåˆ¶ä¸»è¦æ˜¯ä¸ºäº†æ–¹ä¾¿ç¨‹åºå‘˜çš„ç®¡ç†ã€‚ä¸åŒåŠŸèƒ½çš„ç±»è¢«åˆ†é—¨åˆ«ç±»æ”¾åˆ°ä¸åŒçš„è½¯ä»¶åŒ…å½“ä¸­ï¼ŒæŸ¥æ‰¾æ¯”è¾ƒæ–¹ä¾¿ï¼Œç®¡ç†æ¯”è¾ƒæ–¹ä¾¿ï¼Œæ˜“ç»´æŠ¤ã€‚</p></blockquote><h4 id="æ€ä¹ˆå®šä¹‰-packageï¼Ÿ"><a href="#æ€ä¹ˆå®šä¹‰-packageï¼Ÿ" class="headerlink" title="æ€ä¹ˆå®šä¹‰ packageï¼Ÿ"></a><strong>æ€ä¹ˆå®šä¹‰ packageï¼Ÿ</strong></h4><ul><li><p>åœ¨Java æºç¨‹åºçš„ç¬¬ä¸€è¡Œä¸Šç¼–å†™ package è¯­å¥ã€‚</p></li><li><p>package åªèƒ½ç¼–å†™ä¸€ä¸ªè¯­å¥</p></li><li><p>è¯­æ³•ç»“æ„ï¼š</p><p>  package åŒ…åï¼›</p></li></ul><h4 id="åŒ…åçš„å‘½åè§„èŒƒï¼š"><a href="#åŒ…åçš„å‘½åè§„èŒƒï¼š" class="headerlink" title="åŒ…åçš„å‘½åè§„èŒƒï¼š"></a><strong>åŒ…åçš„å‘½åè§„èŒƒï¼š</strong></h4><ul><li><p>å…¬å¸åŸŸåå€’åº + é¡¹ç›®å + æ¨¡å—å + åŠŸèƒ½åï¼›</p></li><li><p>é‡‡ç”¨è¿™ç§æ–¹å¼é‡åæ¦‚ç‡è¾ƒä½ã€‚å› ä¸ºå…¬å¸åŸŸåå…·æœ‰å…¨çƒå”¯ä¸€æ€§ã€‚</p></li><li><p>åŒ…åè¦æ±‚å…¨éƒ¨å°å†™ï¼ŒåŒ…åä¹Ÿæ˜¯æ ‡è¯†ç¬¦ï¼Œå¿…é¡»éµå®ˆå‘½ä»¤è§„åˆ™</p></li><li><p>ä¸€ä¸ªåŒ…å°†æ¥å¯¹åº”ä¸€ä¸ªç›®å½•</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjpowernode.javase.day11.Test01;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ package æœºåˆ¶åï¼Œ<strong>java ç±»å</strong> ä¸­ç±»å ä¸å†æ˜¯ æ–‡ä»¶åã€‚è€Œæ˜¯ com.bjpowernode.javase.day11.Test01;</p><p>ç¼–è¯‘å éœ€è¦åˆ›å»ºå¯¹åº”ç›®å½•ï¼šcom/javase/day11/Test01.class</p><p><strong>å¦ä¸€ç§æ–¹å¼ï¼ˆç¼–è¯‘+è¿è¡Œï¼‰</strong></p><ul><li><p>javac -d ç¼–è¯‘ä¹‹åå­˜æ”¾è·¯å¾„ Java æºæ–‡ä»¶çš„è·¯å¾„</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// eg: å°† F:\Hello.java æ–‡ä»¶ç¼–è¯‘åå­˜æ”¾åˆ° C:\com ç›®å½•ä¸‹</span></span><br><span class="line">javac -d C:\com F:\Hello.java</span><br></pre></td></tr></table></figure></li><li><p>å°†å½“å‰è·¯å¾„ä¸­ *.java ç¼–è¯‘ä¹‹åæ”¾åˆ° c:\ç›®å½•ä¸‹</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// JVM çš„ç±»åŠ è½½å™¨ ClassLoader é»˜è®¤èªå½“å‰è·¯å¾„ä¸‹åŠ è½½</span></span><br><span class="line">javac -d . *.java</span><br></pre></td></tr></table></figure></li></ul><h4 id="import"><a href="#import" class="headerlink" title="import"></a>import</h4><blockquote><p>å½“å‰ç±»ä¸­è®¿é—®å…¶ä»–ä¸åŒå½“å‰ç›®å½•çš„çš„ç¨‹åºæ—¶ï¼Œéœ€è¦ä½¿ç”¨importå¯¼å…¥å…¶ä»–åŒ…ä¸­çš„ç¨‹åº</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.bjpowernode.javase.test002.Cat;</span><br><span class="line"><span class="comment">// å¯¼å…¥ javase ç›®å½• ä¸‹ test002 åŒ… ä¸­çš„ Cat ç±»</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// çœç•¥å†™æ³•ï¼Œè¡¨ç¤ºå¯¼å…¥åŒ…com.bjpowernode.javase.test002åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ä½¿ç”¨åˆ°çš„æ‰€æœ‰ç±»ï¼Œä¸ç”¨è€ƒè™‘æ€§èƒ½é—®é¢˜</span></span><br><span class="line"><span class="keyword">import</span> com.bjpowernode.javase.test002.*</span><br></pre></td></tr></table></figure><h3 id="æ§åˆ¶è®¿é—®æƒé™ä¿®é¥°ç¬¦"><a href="#æ§åˆ¶è®¿é—®æƒé™ä¿®é¥°ç¬¦" class="headerlink" title="æ§åˆ¶è®¿é—®æƒé™ä¿®é¥°ç¬¦"></a>æ§åˆ¶è®¿é—®æƒé™ä¿®é¥°ç¬¦</h3><blockquote><p>è®¿é—®æ§åˆ¶æƒé™ä¿®é¥°ç¬¦æ¥æ§åˆ¶å…ƒç´ è®¿é—®èŒƒå›´</p></blockquote><p><strong>è®¿é—®æ§åˆ¶æƒé™ä¿®é¥°ç¬¦åŒ…æ‹¬ï¼š</strong></p><ul><li>public    è¡¨ç¤ºå…¬å¼€çš„ï¼Œåœ¨ä»»ä½•ä½ç½®éƒ½å¯ä»¥è®¿é—®</li><li>protected  åŒåŒ…ä¸‹ï¼Œå­ç±»ä¸­å¯ä»¥è®¿é—®</li><li>ç¼ºçœ  åŒåŒ…ä¸‹å¯ä»¥è®¿é—®</li><li>private  è¡¨ç¤ºç§æœ‰çš„ï¼Œåªèƒ½åœ¨æœ¬ç±»ä¸­è®¿é—®</li></ul><p>èŒƒå›´ä»å¤§åˆ°å°æ’åºï¼š public &gt; protected &gt; é»˜è®¤ &gt; private</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> &#123;</span><br><span class="line">    <span class="comment">// å—ä¿æŠ¤çš„</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// ç¼ºçœ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="comment">// ç§æœ‰çš„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&quot;privateC&quot;</span>;</span><br><span class="line">    <span class="comment">// å…¬å¼€çš„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">float</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">1.0f</span>;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç±»ï¼Œæ¥å£ åªèƒ½é‡‡ç”¨ public å’Œç¼ºçœçš„ä¿®é¥°ç¬¦è¿›è¡Œä¿®é¥°ã€‚ã€å†…éƒ¨ç±»é™¤å¤–ã€‘</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">A</span> &#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> &#123;&#125;</span><br></pre></td></tr></table></figure><p>å±æ€§ ï¼ˆå››ä¸ªéƒ½èƒ½ç”¨ï¼‰</p><p>æ–¹æ³• ï¼ˆå››ä¸ªéƒ½èƒ½ç”¨ï¼‰</p><h3 id="super-å…³é”®å­—"><a href="#super-å…³é”®å­—" class="headerlink" title="super å…³é”®å­—"></a>super å…³é”®å­—</h3><blockquote><p>å…³é”®å­—ï¼Œå…¨å°å†™</p><p>ä¸ this å¯¹æ¯”</p><p>this:</p><p>ç›®çš„ï¼šè°ƒç”¨æœ¬ç±»çš„æ–¹æ³•</p><ul><li>this èƒ½å‡ºç°åœ¨å®ä¾‹æ„é€ æ–¹æ³•</li><li>this çš„è¯­æ³•æ˜¯ï¼šâ€this.â€ ,â€this()â€ã€this() åªèƒ½å‡ºç°åœ¨æ„é€ æ–¹æ³•ç¬¬ä¸€è¡Œï¼Œç›®çš„æ˜¯æ„é€ æ–¹æ³•ä»£ç å¤ç”¨ï¼Œé€šç”¨è°ƒç”¨æœ¬ç±»å…¶ä»–æ„é€ æ–¹æ³•ã€‘</li><li>this ä¸èƒ½åœ¨é™æ€æ–¹æ³•ä¸­ä½¿ç”¨</li><li>this å¤§éƒ¨åˆ†æƒ…å†µå¯ä»¥çœç•¥ï¼ˆåœ¨åŒºåˆ†å±€éƒ¨å˜é‡å’Œæˆå‘˜å˜é‡æ—¶ä¸èƒ½çœç•¥ï¼‰</li></ul><p>super:</p><p>ç›®çš„ï¼šåˆ›å»ºå­ç±»å¯¹è±¡çš„æ—¶å€™ï¼Œå…ˆåˆå§‹åŒ–çˆ¶ç±»å‹çš„ç‰¹å¾</p><ul><li>super èƒ½å‡ºç°åœ¨å®ä¾‹æ„é€ æ–¹æ³•å’Œæ„é€ æ–¹æ³•ä¸­</li><li>super çš„è¯­æ³•æ˜¯ï¼šâ€this.â€ ,â€this()â€</li><li>super ä¸èƒ½åœ¨é™æ€æ–¹æ³•ä¸­ä½¿ç”¨</li><li>super åªèƒ½å‡ºç°åœ¨æ„é€ æ–¹æ³•ç¬¬ä¸€è¡Œï¼Œé€šè¿‡å½“å‰æ–¹æ³•å»è°ƒç”¨<strong>çˆ¶ç±»</strong>ä¸­å…¶ä»–çš„æ„é€ æ–¹æ³•ï¼Œç›®çš„æ˜¯ï¼šä»£ç å¤ç”¨</li></ul><p><strong>this() å’Œ super() ä¸èƒ½å…±å­˜</strong></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">superTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> viod <span class="title function_">main</span><span class="params">(Stirng[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºå­ç±»å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">C</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="comment">// å»ºè®®æ‰‹åŠ¨å°†ä¸€ä¸ªç±»çš„æ— å‚æ„é€ æ–¹æ³•å†™å‡ºæ¥</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">A</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// super(); // è¿™é‡Œä¹Ÿæ˜¯é»˜è®¤çš„æ„é€ æ–¹æ³•å†™å‡ºæ¥</span></span><br><span class="line">        System.out.println(<span class="string">&quot;A ç±»çš„æ— å‚æ„é€ æ–¹æ³•&quot;</span>);<span class="comment">//1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">B</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bç±»çš„æ— å‚æ•°æ„é€ æ–¹æ³•&quot;</span>);<span class="comment">//2</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">B</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Bç±»çš„æœ‰å‚æ•°æ„é€ æ–¹æ³•ï¼ˆStringï¼‰&quot;</span>);<span class="comment">//3</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> <span class="keyword">extends</span> <span class="title class_">B</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">C</span> <span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(<span class="string">&quot;zhanggsan&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;C ç±»çš„æ— å‚æ•°æ„é€ æ–¹æ³•&quot;</span>);<span class="comment">//4</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">C</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(name, <span class="number">20</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Cç±»çš„æœ‰å‚æ•°æ„é€ æ–¹æ³•ï¼ˆStringï¼‰&quot;</span>);<span class="comment">//5</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">C</span><span class="params">(String name, <span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        System.out.println(<span class="string">&quot;Cç±»çš„æœ‰å‚æ•°æ„é€ æ–¹æ³•ï¼ˆString, intï¼‰&quot;</span>);<span class="comment">//6</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡Œé¡ºåº</span></span><br><span class="line"><span class="number">13654</span></span><br></pre></td></tr></table></figure><p><strong>è°ƒç”¨å­ç±»æ„é€ æ–¹æ³•å¿…ç„¶è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•</strong></p><p><strong>åœ¨Javaè¯­è¨€ä¸­ä¸ç®¡æ˜¯newä»€ä¹ˆå¯¹è±¡ï¼Œæœ€åè€ç¥–å®—çš„Objectç±»çš„æ— å‚æ„é€ æ–¹æ³•ï¼ˆå¤„äºæ ˆé¡¶éƒ¨ï¼Œæœ€åè°ƒç”¨ï¼Œæœ€å…ˆç»“æŸï¼‰ä¸€å®šä¼šæ‰§è¡Œ</strong></p><h3 id="æŠ½è±¡ç±»"><a href="#æŠ½è±¡ç±»" class="headerlink" title="æŠ½è±¡ç±»"></a>æŠ½è±¡ç±»</h3><blockquote><ol><li><p>ä»€ä¹ˆæ˜¯æŠ½è±¡ç±»ï¼Ÿ</p><p> ç±»å’Œç±»ä¹‹é—´å…·æœ‰å…±åŒç‰¹å¾ï¼Œå°†è¿™äº›å…±åŒç‰¹å¾æå–å‡ºæ¥ï¼Œå½¢æˆçš„å°±æ˜¯æŠ½è±¡ç±»ã€‚</p><p> ç±»æœ¬èº«æ˜¯ä¸å­˜åœ¨çš„ï¼Œæ‰€ä»¥æŠ½è±¡ç±»æ— æ³•åˆ›å»ºå¯¹è±¡ã€Šæ— æ³•å®ä¾‹åŒ–ã€‹</p></li><li><p>æŠ½è±¡ç±»å±äºä»€ä¹ˆç±»å‹ï¼Ÿ</p><p> æŠ½è±¡ç±»ä¹Ÿå±äºå¼•ç”¨æ•°æ®ç±»å‹ã€‚</p></li><li><p>æŠ½è±¡ç±»æ€ä¹ˆå®šä¹‰ï¼Ÿ</p><p> è¯­æ³•ï¼š</p><p> â€‹    [ä¿®é¥°ç¬¦åˆ—è¡¨] abstract class ç±»å {</p><p> â€‹        ç±»ä½“;</p><p> â€‹    }</p></li><li><p>æŠ½è±¡ç±»æ— æ³•å®ä¾‹åŒ–ï¼Œæ— æ³•åˆ›å»ºå¯¹è±¡ï¼Œæ‰€æœ‰å®ƒæ˜¯ç”¨æ¥è¢«å­ç±»ç»§æ‰¿çš„</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é“¶è¡Œè´¦æˆ·ç±»</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Account</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­ç±»ç»§æ‰¿æŠ½è±¡ç±»ï¼Œå­ç±»å¯ä»¥å®ä¾‹åŒ–</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CreditAccount</span> extend Account &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æŠ½è±¡ç±»çš„å­ç±»ä¹Ÿå¯ä»¥æ˜¯æŠ½è±¡çš„ç±»</span></span><br><span class="line"><span class="comment">//abstract class CreditAccount extend Account &#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="type">CreditAccount</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CreditAccount</span>();</span><br></pre></td></tr></table></figure></li><li><p>ç”±äºfinalä¿®é¥°çš„ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œæ‰€ä»¥ finalä¸abstractä¸èƒ½åŒæ—¶å‡ºç°</p></li><li><p>æŠ½è±¡ç±»æœ‰æ„é€ æ–¹æ³•ï¼Œè¿™ä¸ªæ–¹æ³•æä¾›ç»™å­ç±»ä½¿ç”¨</p></li><li><p>æŠ½è±¡æ–¹æ³•ï¼šè¡¨ç¤ºæ²¡æœ‰å®ç°çš„æ–¹æ³•ï¼Œæ²¡æœ‰æ–¹æ³•ä½“çš„æ–¹æ³•</p><p> ç‰¹ç‚¹ï¼š</p><ul><li>æ²¡æœ‰æ–¹æ³•ä½“ï¼Œä»¥åˆ†å·ç»“å°¾</li><li>å‰é¢æœ‰ abstract å…³é”®å­—</li></ul> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">dosome</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure></li><li><p>æŠ½è±¡ç±»ä¸­ä¸ä¸€å®šæœ‰æŠ½è±¡æ–¹æ³•ï¼ŒæŠ½è±¡æ–¹æ³•å¿…é¡»å‡ºç°åœ¨æŠ½è±¡ç±»ä¸­</p></li><li><p>éæŠ½è±¡å­ç±»ç»§æ‰¿æŠ½è±¡ç±»æ—¶ï¼Œä¼šç»§æ‰¿æŠ½è±¡æ–¹æ³•ã€‚ä½†æŠ½è±¡æ–¹æ³•åªèƒ½å‡ºç°åœ¨æŠ½è±¡ç±»ä¸­ã€‚æ‰€ä»¥è¦æŠŠå­ç±»æ”¹ä¸ºæŠ½è±¡çš„ï¼Œæˆ–è€…é‡å†™è¿™ä¸ªç»§æ‰¿çš„æŠ½è±¡æ–¹æ³•ï¼ˆä¹Ÿå¯ä»¥å«<strong>å®ç°</strong>ï¼‰é¿å…ç¼–è¯‘å‡ºé”™</p><p> <strong>ä¸€ä¸ªéæŠ½è±¡ç±»ç»§æ‰¿ä¸€ä¸ªæŠ½ç›¸ç±»ï¼ŒéæŠ½è±¡ç±»å¿…é¡»è¦å°†æŠ½è±¡æ–¹æ³•å®ç°</strong></p><p> é¢å‘æŠ½è±¡ç¼–ç¨‹ï¼š</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŠ¨ç‰©æŠ½è±¡ç±»</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="comment">// æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">move</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bird</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="comment">// å®ç°æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">move</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;é¸Ÿå„¿åœ¨é£ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AbstractTest02</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// å¤šæ€ï¼šç¼–è¯‘æ˜¯ä¸€ç§çŠ¶æ€ï¼Œè¿è¡Œæ˜¯å¦ä¸€ç§çŠ¶æ€</span></span><br><span class="line">        <span class="comment">// çˆ¶ç±»å‹å¼•ç”¨æŒ‡å‘å­ç±»å‹å¯¹è±¡</span></span><br><span class="line">        <span class="type">Animal</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bird</span>();<span class="comment">// å‘ä¸Šè½¬å‹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></blockquote><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230130154911339.png" alt="image-20230130154911339"></p><h3 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h3><blockquote><ol><li><p>æ¥å£ä¹Ÿæ˜¯ä¸€ç§å¼•ç”¨æ•°æ®ç±»å‹</p></li><li><p>æ¥å£ä¹Ÿæ˜¯å®Œå…¨æŠ½è±¡çš„ï¼ˆæŠ½è±¡ç±»æ˜¯åŠæŠ½è±¡ï¼‰æˆ–è€…ä¹Ÿå¯ä»¥è¯´æ¥å£æ˜¯ç‰¹æ®Šçš„æŠ½è±¡ç±»</p></li><li><p>æ¥å£æ€ä¹ˆå®šä¹‰ï¼Œè¯­æ³•æ˜¯ä»€ä¹ˆï¼Ÿ</p><p> [ä¿®é¥°ç¬¦åˆ—è¡¨] interface æ¥å£å {}</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span> &#123;&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span> &#123;&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">C</span> &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ¥å£æ”¯æŒå¤šç»§æ‰¿ï¼Œä¸€ä¸ªæ¥å£å¯ä»¥ç»§æ‰¿å¤šä¸ªæ¥å£</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">D</span> <span class="keyword">extends</span> <span class="title class_">A</span>,B,C &#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ¥å£ä¸­åªåŒ…å«ä¸¤ä¸ªéƒ¨åˆ†å†…å®¹ï¼Œ<strong>å¸¸é‡å’ŒæŠ½è±¡æ–¹æ³•</strong></p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyMath</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;</span><br><span class="line">    <span class="comment">// çœç•¥å†™æ³•</span></span><br><span class="line">    <span class="comment">// int sum(int a, int b);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•éƒ½æ˜¯å…¬å¼€çš„</p></li><li><p>æ¥å£ä¸­çš„æ–¹æ³•éƒ½æ˜¯æŠ½è±¡æ–¹æ³•ï¼Œæ‰€ä»¥æ¥å£ä¸­æ–¹æ³•éƒ½ä¸èƒ½æœ‰æ–¹æ³•ä½“</p></li><li><p>æ¥å£ä¸­çš„å¸¸é‡ä¸èƒ½è¢«ä¿®æ”¹</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyMath</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">double</span> <span class="variable">PI</span> <span class="operator">=</span> <span class="number">3.1415926</span>;</span><br><span class="line">    <span class="comment">// çœç•¥å†™æ³•</span></span><br><span class="line">    <span class="comment">// double PI = 3.1415926;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol></blockquote><h3 id="æ¥å£çš„åŸºç¡€è¯­æ³•"><a href="#æ¥å£çš„åŸºç¡€è¯­æ³•" class="headerlink" title="æ¥å£çš„åŸºç¡€è¯­æ³•"></a><strong>æ¥å£çš„åŸºç¡€è¯­æ³•</strong></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">MyMath</span> &#123;</span><br><span class="line">    <span class="type">double</span> <span class="variable">FF</span> <span class="operator">=</span> <span class="number">3.1415926</span>;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">sub</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><p>ç±»å’Œç±»ä¹‹é—´å«åšç»§æ‰¿ï¼Œç±»å’Œæ¥å£ä¹‹é—´å«åšå®ç°ï¼ˆä¹Ÿå¯ä»¥çœ‹ä½œâ€ç»§æ‰¿â€œï¼‰</p><p> ç»§æ‰¿ä½¿ç”¨ extends å…³é”®å­—</p><p> å®ç°ä½¿ç”¨ implements å…³é”®å­—</p></li><li><p>å½“ä¸€ä¸ª<strong>éæŠ½è±¡çš„ç±»</strong>å®ç°æ¥å£çš„è¯ï¼Œå¿…é¡»å°†æ¥å£ä¸­æ‰€æœ‰æ–¹æ³•å®ç°</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">mian</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// é¢å‘æ¥å£ç¼–ç¨‹</span></span><br><span class="line">        <span class="type">MyMath</span> <span class="variable">mm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyMathImpl</span>();</span><br><span class="line">        mm.sum(<span class="number">1</span>,<span class="number">2</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMathImpl</span> <span class="keyword">implements</span> <span class="title class_">MyMath</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sub</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a - b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£</p><p> è¿™ç§æœºåˆ¶å¼¥è¡¥äº†Javaç±»åªæ”¯æŒå•ç»§æ‰¿å¸¦æ¥çš„ç¼ºé™·</p></li><li><p>ç±»å‹è½¬æ¢</p><p> å‘ä¸‹è½¬å‹å…»æˆå¥½ä¹ æƒ¯ï¼Œå…ˆç”¨ instanceof åˆ¤æ–­</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">void</span> main(String[] args) &#123;</span><br><span class="line">        <span class="type">A</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">D</span>();</span><br><span class="line">        <span class="type">B</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">D</span>();</span><br><span class="line">        <span class="type">C</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">D</span>();</span><br><span class="line">        <span class="comment">// å¤šæ€</span></span><br><span class="line">        <span class="type">B</span> <span class="variable">b2</span> <span class="operator">=</span> (B)a;</span><br><span class="line">        <span class="comment">// æ¥å£ Eï¼ŒD æ²¡æœ‰ç»§æ‰¿å…³ç³»ï¼Œå¼ºè½¬æ—¶ç¼–è¯‘ä¸ä¼šå‡ºé”™ï¼Œä½†æ˜¯è¿è¡Œæ—¶å¯èƒ½å‡ºç° ClassCastException å¼‚å¸¸</span></span><br><span class="line">        <span class="type">E</span> <span class="variable">e</span> <span class="operator">=</span> (B)a;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span> &#123;&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span> &#123;&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">C</span> &#123;&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">E</span> &#123;&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">D</span> <span class="keyword">extends</span> <span class="title class_">A</span>,B,C &#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç»§æ‰¿å’Œå®ç°åŒæ—¶å­˜åœ¨</p><p> å…ˆç»§æ‰¿ï¼Œå†å®ç°ã€‚</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;\</span><br><span class="line">        <span class="comment">// å¤šæ€</span></span><br><span class="line">        <span class="type">Flyable</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ’æ‹”çš„æ˜¯æ¥å£ï¼Œé€šå¸¸æå–çš„æ˜¯è¡Œä¸ºåŠ¨ä½œ</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Flyable</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç»™çŒ«æ’ä¸Šç¿…è†€</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> <span class="keyword">implements</span> <span class="title class_">Flyable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="æ¥å£åœ¨å¼€å‘ä¸­çš„ä½œç”¨"><a href="#æ¥å£åœ¨å¼€å‘ä¸­çš„ä½œç”¨" class="headerlink" title="æ¥å£åœ¨å¼€å‘ä¸­çš„ä½œç”¨"></a>æ¥å£åœ¨å¼€å‘ä¸­çš„ä½œç”¨</h3><blockquote><p>æ³¨æ„ï¼šæ¥å£åœ¨å¼€å‘ä¸­çš„ä½œç”¨ç±»ä¼¼äºå¤šæ€åœ¨å¼€å‘ä¸­çš„ä½œç”¨</p><p>å¼ºåˆ¶è½¬æ¢è¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ˜¯ç±»è½¬æ¢æˆæ¥å£ï¼Œé‚£ä¹ˆç±»å’Œæ¥å£ä¹‹é—´å¯ä»¥æ²¡æœ‰ç»§æ‰¿å…³ç³»</p><p>å¤šæ€ï¼šé¢å‘æŠ½è±¡ç¼–ç¨‹ï¼Œä¸è¦é¢å‘å…·ä½“ç¼–ç¨‹ã€‚é™ä½ç¨‹åºè€¦åˆåº¦ã€‚æé«˜ç¨‹åºæ‹“å±•åŠ›ã€‚</p><p>é¢å‘æ¥å£ç¼–ç¨‹å°‘ä¸äº†å¤šæ€ï¼ˆæ¥å£+å¤šæ€æ‰å¯ä»¥è¾¾åˆ°é™ä½è€¦åˆï¼‰</p><p>ä»»ä½•ä¸€ä¸ªæ¥å£éƒ½æœ‰è°ƒç”¨è€…å’Œå®ç°è€…ï¼Œè§£è€¦åˆæ˜¯æŒ‡æ¥è§¦è°ƒç”¨è€…å’Œå®ç°è€…çš„è€¦åˆ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¡¾å®¢</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer</span> &#123;</span><br><span class="line">    FoodMenu foodmenu;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer</span><span class="params">()</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer</span><span class="params">(FoodMenu fm)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.foodmenu = fm;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ç‚¹èœ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">order</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.foodmenu.shiZiChaoJiDan();</span><br><span class="line">        <span class="built_in">this</span>.foodmenu.yuXaingRouSi();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// èœå•</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">FoodMenu</span> &#123;</span><br><span class="line">    <span class="comment">// è¥¿çº¢æŸ¿ç‚’é¸¡è›‹</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">shiZiChaoJiDan</span><span class="params">()</span>;</span><br><span class="line">    <span class="comment">// é±¼é¦™è‚‰ä¸</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">yuXaingRouSi</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¨å¸ˆ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ChinaCooker</span> <span class="keyword">implements</span> <span class="title class_">FoodMenu</span> &#123;</span><br><span class="line">    <span class="comment">// è¥¿çº¢æŸ¿ç‚’é¸¡è›‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shiZiChaoJiDan</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸­é¤å¨å¸ˆåšçš„è¥¿çº¢æŸ¿ç‚’é¸¡è›‹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é±¼é¦™è‚‰ä¸</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">yuXaingRouSi</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¸­é¤å¨å¸ˆåšçš„é±¼é¦™è‚‰ä¸&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AmericCooker</span> <span class="keyword">implements</span> <span class="title class_">FoodMenu</span> &#123;</span><br><span class="line">    <span class="comment">// è¥¿çº¢æŸ¿ç‚’é¸¡è›‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">shiZiChaoJiDan</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¥¿é¤å¨å¸ˆåšçš„è¥¿çº¢æŸ¿ç‚’é¸¡è›‹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é±¼é¦™è‚‰ä¸</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">yuXaingRouSi</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¥¿é¤å¨å¸ˆåšçš„é±¼é¦™è‚‰ä¸&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æµ‹è¯•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºå¨å¸ˆ</span></span><br><span class="line">        <span class="type">FoodMenu</span> <span class="variable">cc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ChinaCooker</span>();</span><br><span class="line">        <span class="comment">// åˆ›å»ºé¡¾å®¢</span></span><br><span class="line">        <span class="type">Customer</span> <span class="variable">cm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer</span>(cc);</span><br><span class="line">        cm.order();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç±»å‹å’Œç±»å‹ä¹‹é—´çš„å…³ç³»"><a href="#ç±»å‹å’Œç±»å‹ä¹‹é—´çš„å…³ç³»" class="headerlink" title="ç±»å‹å’Œç±»å‹ä¹‹é—´çš„å…³ç³»"></a>ç±»å‹å’Œç±»å‹ä¹‹é—´çš„å…³ç³»</h3><blockquote><p>is a, has a, like a</p><ul><li><p>is a: </p><p>  Cat is a Animalï¼ˆçŒ«æ˜¯ä¸€ä¸ªåŠ¨ç‰©ï¼‰</p><p>  å‡¡æ˜¯æ»¡è¶³ is a çš„è¡¨ç¤º <strong>ç»§æ‰¿å…³ç³»</strong></p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A <span class="keyword">extends</span> <span class="title class_">B</span></span><br></pre></td></tr></table></figure></li><li><p>has a:</p><p>  I has a Pen ï¼ˆæˆ‘æœ‰ä¸€æ”¯ç¬”ï¼‰</p><p>  å‡¡æ˜¯èƒ½æ»¡è¶³ has a å…³ç³»çš„è¡¨ç¤º <strong>å…³è”å…³ç³»</strong></p><p>  å…³è”å…³ç³»é€šå¸¸ä»¥â€å±æ€§â€œçš„å½¢å¼å­˜åœ¨</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A &#123;</span><br><span class="line">    B b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>like a:</p><p>  Cooker like a FoodMemu ï¼ˆå¨å¸ˆåƒä¸€ä¸ªèœå•ä¸€æ ·ï¼‰</p><p>  å‡¡æ˜¯èƒ½æ»¡è¶³ like a å…³ç³»çš„è¡¨ç¤º <strong>å®ç°å…³ç³»</strong></p><p>  å®ç°å…³ç³»é€šå¸¸æ˜¯ï¼š ç±»å®ç°æ¥å£</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">A <span class="keyword">implements</span> <span class="title class_">B</span>;</span><br></pre></td></tr></table></figure></li></ul></blockquote><h3 id="æŠ½è±¡ç±»å’Œæ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"><a href="#æŠ½è±¡ç±»å’Œæ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ" class="headerlink" title="æŠ½è±¡ç±»å’Œæ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ"></a>æŠ½è±¡ç±»å’Œæ¥å£æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</h3><blockquote><p>æŠ½è±¡ç±»æ˜¯åŠæŠ½è±¡çš„ï¼Œæ¥å£æ˜¯å®Œå…¨æŠ½è±¡çš„</p><p>æŠ½è±¡ç±»ä¸­æ²¡æœ‰æ„é€ æ–¹æ³•ï¼Œæ¥å£ä¸­æ²¡æœ‰æ„é€ æ–¹æ³•</p><p>æ¥å£ä¹‹é—´å¯ä»¥å¤šç»§æ‰¿ï¼Œç±»ä¹‹é—´åªèƒ½å•ç»§æ‰¿</p><p>ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªæ¥å£ï¼Œä¸€ä¸ªæŠ½è±¡ç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»</p></blockquote><h2 id="å¼€å‘å·¥å…·-IDEä½¿ç”¨"><a href="#å¼€å‘å·¥å…·-IDEä½¿ç”¨" class="headerlink" title="å¼€å‘å·¥å…· IDEä½¿ç”¨"></a>å¼€å‘å·¥å…· IDEä½¿ç”¨</h2><blockquote><p>å¿«æ·é”®ï¼š</p><p>ç”Ÿæˆ<strong>main</strong>æ–¹æ³•ï¼š psvm</p><p>ç”Ÿæˆ æ‰“å°è¯­å¥ï¼šsout</p><p>åˆ é™¤ä¸€è¡Œï¼šCtrl + Y</p><p>ç¼–è¾‘çª—å£å˜å¤§å˜å°ï¼šCtrl + shift + F12</p><p>æ˜¾ç¤ºéšè—é¡¹ç›®æ ‘ï¼šalt + 1</p><p>æ–°å¢/æ–°å»º/æ·»åŠ å¿«æ·é”®ï¼š alt + insert</p><p>tab é¡µåˆ‡æ¢ï¼š alt + å·¦å³ç®­å¤´</p><p>è¿è¡Œï¼šCtrl + shift + F10</p><p>çº é”™ï¼š alt + å›è½¦</p></blockquote><h2 id="UML"><a href="#UML" class="headerlink" title="UML"></a>UML</h2><blockquote><p>UML æ˜¯ä¸€ç§ç»Ÿä¸€å»ºæ¨¡è¯­è¨€ï¼Œä¸€ç§å›¾æ ‡å¼è¯­è¨€ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡UMLæ¥æè¿°ä¸€ä¸‹ç»§æ‰¿ç»“æ„ã€‚ å°±åƒæ˜¯å»ºç­‘å¸ˆçš„è®¾è®¡å›¾çº¸</p></blockquote><h2 id="æºç åŠAPIæ–‡æ¡£"><a href="#æºç åŠAPIæ–‡æ¡£" class="headerlink" title="æºç åŠAPIæ–‡æ¡£"></a>æºç åŠAPIæ–‡æ¡£</h2><h3 id="JDK-ç±»åº“çš„æ ¹ç±»ï¼šObject"><a href="#JDK-ç±»åº“çš„æ ¹ç±»ï¼šObject" class="headerlink" title="JDK ç±»åº“çš„æ ¹ç±»ï¼šObject"></a>JDK ç±»åº“çš„æ ¹ç±»ï¼šObject</h3><blockquote><p>è¿™äº›æ–¹æ³•æ˜¯æ‰€æœ‰å­ç±»é€šç”¨çš„ï¼Œä»»ä½•ä¸€ä¸ªç±»é»˜è®¤ç»§æ‰¿objectï¼Œè®¡ç®—æ²¡æœ‰ç›´æ¥ç»§æ‰¿ï¼Œæœ€ç»ˆä¹Ÿä¼šé»˜è®¤ç»§æ‰¿ã€‚</p></blockquote><p>æœ‰å“ªäº›å¸¸ç”¨çš„æ–‡æ¡£ï¼Ÿ</p><ol><li>å»æºä»£ç æŸ¥çœ‹ ã€C:\Program Files\Java\jdk1.8.0_321\srcã€‘</li><li>å»æŸ¥é˜…Javaç±»åº“å¸®åŠ©æ–‡æ¡£</li></ol><h4 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h4><blockquote><p>è¿”å›å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚ç±»å+@+16è¿›åˆ¶å¯¹è±¡å“ˆå¸Œç </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">getClass().getName() + <span class="string">&#x27;@&#x27;</span> + Integer.toHexString(hashCode())</span><br><span class="line">    </span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line">obj.toString()</span><br></pre></td></tr></table></figure><h4 id="equals"><a href="#equals" class="headerlink" title="equals"></a>equals</h4><blockquote><p>æŒ‡ç¤ºä¸€äº›å…¶ä»–å¯¹è±¡æ˜¯å¦ç­‰äºæ­¤å¯¹è±¡ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (<span class="built_in">this</span> === obj);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è°ƒç”¨</span></span><br><span class="line">obj1.equals(obj2);</span><br></pre></td></tr></table></figure><p>é»˜è®¤æ˜¯é€šè¿‡ == åˆ¤æ–­æ˜¯å¦ç›¸ç­‰ï¼Œ== æ˜¯åˆ¤æ–­ä¸¤ä¸ªJavaå¯¹è±¡çš„å†…å­˜åœ°å€ã€‚å¦‚æœæˆ‘ä»¬éœ€è¦åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡å†…å®¹ç›¸åŒåˆ™éœ€è¦é‡å†™ equals æ–¹æ³•</p><h4 id="finalize"><a href="#finalize" class="headerlink" title="finalize"></a>finalize</h4><blockquote><p>åƒåœ¾å›æ”¶å™¨è´Ÿè´£è°ƒç”¨,æ­¤æ–¹æ³•ä¸éœ€è¦è°ƒç”¨ï¼Œåªè¦é‡å†™å³å¯ã€‚å¸¦ç³»ç»Ÿæ‰§è¡Œåƒåœ¾å›æ”¶æ—¶ä¼šè§¦å‘è¿™ä¸ªæ–¹æ³•</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">finalize</span><span class="params">()</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å³å°†è¢«é”€æ¯ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¾‹å¦‚ï¼šå½“ </span></span><br><span class="line"><span class="type">Person</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">p = <span class="literal">null</span>; <span class="comment">// æ­¤æ—¶ä¼šè§¦å‘ p.finalize()</span></span><br><span class="line"></span><br><span class="line">System.gc();<span class="comment">// æ‰‹åŠ¨è§¦å‘åƒåœ¾å›æ”¶</span></span><br></pre></td></tr></table></figure><p>java ä¸­çš„åƒåœ¾å›æ”¶æœºåˆ¶ä¸ä¼šè½»æ˜“å¯åŠ¨ï¼Œjdk9ç‰ˆæœ¬ååºŸå¼ƒäº†</p><h4 id="clone"><a href="#clone" class="headerlink" title="clone"></a>clone</h4><blockquote><p>å¯¹è±¡çš„å…‹éš†</p></blockquote><h4 id="hashCode"><a href="#hashCode" class="headerlink" title="hashCode"></a>hashCode</h4><blockquote><p>è·å–å¯¹è±¡å“ˆå¸Œå€¼çš„ä¸€ä¸ªæ–¹æ³•ï¼Œè¿”å›å€¼æ˜¯ç»è¿‡å“ˆå¸Œç®—æ³•è½¬æ¢çš„æ•°å­—ï¼Œç­‰åŒäºå†…å­˜åœ°å€</p></blockquote><h3 id="åŒ¿åå†…éƒ¨ç±»"><a href="#åŒ¿åå†…éƒ¨ç±»" class="headerlink" title="åŒ¿åå†…éƒ¨ç±»"></a>åŒ¿åå†…éƒ¨ç±»</h3><blockquote><p><strong>ä¹Ÿå«åšå±€éƒ¨å†…éƒ¨ç±»ã€‚ä¸æ¨èä½¿ç”¨ï¼Œä½†æ˜¯è¦çœ‹æ‡‚åˆ«äººå†™çš„</strong></p><ol><li><p>ä»€ä¹ˆæ˜¯å†…éƒ¨ç±»ï¼Ÿ</p><p> åœ¨ç±»çš„å†…éƒ¨åˆé‡æ–°å®šä¹‰äº†ä¸€ä¸ªç±»ï¼Œè¢«ç§°ä¸ºå†…éƒ¨ç±»</p></li><li><p>å†…éƒ¨ç±»çš„åˆ†ç±»</p><ul><li>é™æ€å†…éƒ¨ç±»ï¼šç±»ä¼¼äºé™æ€å˜é‡</li><li>å®ä¾‹å†…éƒ¨ç±»ï¼šç±»ä¼¼äºå®ä¾‹å˜é‡</li><li>å±€éƒ¨å†…éƒ¨ç±»ï¼šç±»ä¼¼äºå±€éƒ¨å˜é‡</li></ul></li></ol></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="comment">// é™æ€å†…éƒ¨ç±»</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Inner1</span> &#123;&#125;</span><br><span class="line">    <span class="comment">// å®ä¾‹å†…éƒ¨ç±»</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Inner2</span> &#123;&#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSome</span> <span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// å±€éƒ¨å†…éƒ¨ç±»</span></span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Inner3</span> &#123;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®ä¾‹åŒ–å†…éƒ¨ç±»</span></span><br><span class="line"><span class="comment">// new Test().new Inner2();</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è´Ÿè´£è®¡ç®—çš„æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Compute</span> &#123;</span><br><span class="line">    <span class="comment">// æŠ½è±¡æ–¹æ³•å•Š</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">sum</span> <span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¡ç®—çš„æ¥å£éœ€è¦å®ç°ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ComputeImpl</span> <span class="keyword">implements</span> <span class="title class_">Compute</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum</span> <span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°å­¦ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMath</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sum</span><span class="params">(Compute c, <span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rs</span> <span class="operator">=</span> c.sum(x, y);</span><br><span class="line">        System.out.println(<span class="string">&quot;è®¡ç®—ç»“æœ:&quot;</span> + rs);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> voidd <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyMath</span> <span class="variable">mm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyMath</span>();</span><br><span class="line">        </span><br><span class="line">        mm.sum(<span class="keyword">new</span> <span class="title class_">ComputeImpl</span>(), <span class="number">200</span>, <span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒ¿åå†…éƒ¨ç±»å¯ä»¥çœç•¥ è®¡ç®—çš„æ¥å£éœ€è¦å®ç°ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è´Ÿè´£è®¡ç®—çš„æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Compute</span> &#123;</span><br><span class="line">    <span class="comment">// æŠ½è±¡æ–¹æ³•å•Š</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">sum</span> <span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ•°å­¦ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyMath</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sum</span><span class="params">(Compute c, <span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rs</span> <span class="operator">=</span> c.sum(x, y);</span><br><span class="line">        System.out.println(<span class="string">&quot;è®¡ç®—ç»“æœ:&quot;</span> + rs);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> voidd <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyMath</span> <span class="variable">mm</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyMath</span>();</span><br><span class="line">        <span class="comment">// ä½¿ç”¨åŒ¿åå†…éƒ¨ç±», çœ‹ä¼¼æ˜¯æ¥å£å¯ä»¥ new äº†ï¼Œå®é™…ä¸Šæ˜¯åé¢çš„æ‹¬å·ä¸­å®ç°äº†æ–¹æ³•ã€‚ ã€ä¸æ¨èä½¿ç”¨ï¼Œä¸èƒ½å¤ç”¨ï¼Œç»“æ„ä¸æ¸…æ™°ã€‘</span></span><br><span class="line">        mm.sum(<span class="keyword">new</span> <span class="title class_">Compute</span>() &#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sum</span> <span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> a + b;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="number">200</span>, <span class="number">100</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><blockquote><ul><li><p>Java è¯­è¨€ä¸­çš„æ•°ç»„å±äºå¼•ç”¨æ•°æ®ç±»å‹ã€‚çˆ¶ç±»æ˜¯ Object</p></li><li><p>å¯ä»¥å‚¨å­˜ ä»»æ„æ•°æ®ç±»å‹ã€‚å‚¨å­˜åœ¨å †å†…å­˜ï¼Œå¼•ç”¨ç±»å‹åœ¨æ•°ç»„ä¸­å­˜å‚¨çš„æ˜¯å¼•ç”¨ å†…å­˜åœ°å€</p></li><li><p>æ•°ç»„åˆ†ç±»ï¼šä¸€ç»´ï¼ŒäºŒç»´ï¼Œä¸‰ç»´ï¼Œå¤šç»´æ•°ç»„</p></li><li><p>æ•°ç»„ä¸­å…ƒç´ çš„ç±»å‹è¦æ±‚ç»Ÿä¸€ã€è£…è‹¹æœçš„æ•°ç»„å°±ä¸èƒ½è£…é¦™è•‰ã€‘</p></li></ul><p>ä¼˜ç‚¹ï¼š</p><ol><li>æ£€ç´¢æ•°æ®æ•ˆç‡æœ€å¿«</li><li>å…ƒç´ ç±»å‹ç›¸åŒï¼Œæ‰€ä»¥å ç”¨ç©ºé—´ç›¸åŒ</li><li>å‚¨å­˜ç©ºé—´æ˜¯è¿ç»­çš„</li></ol><p>ç¼ºç‚¹ï¼š</p><ul><li>éšæœºå¢åˆ å…ƒç´ ï¼Œä¼šå½±å“åè¾¹å…ƒç´ å‘å‰æˆ–å‘åç§»åŠ¨ï¼Œæ•ˆç‡ä½ã€å¯¹æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ å¢åˆ æ— å½±å“ã€‘</li><li>å†…å­˜ä¸­è¿ç»­çš„å¤§ç©ºé—´å°‘ã€‚æ— æ³•å­˜å‚¨å¤§æ•°æ®</li></ul></blockquote><h4 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šä¹‰</span></span><br><span class="line"><span class="type">int</span>[] arrar1;</span><br><span class="line"><span class="type">double</span>[] arrar1;</span><br><span class="line"><span class="type">boolean</span>[] arrar1;</span><br><span class="line">Object[] arrar1;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆå§‹åŒ–</span></span><br><span class="line"><span class="type">int</span>[] array = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br><span class="line"><span class="comment">// åˆå§‹åŒ–6ä¸ªé•¿åº¦çš„Stringç±»å‹æ•°ç»„,é»˜è®¤å€¼ä¸º null</span></span><br><span class="line">String[] array1 = <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">6</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= array.length; i++) &#123;</span><br><span class="line">    <span class="comment">// ä¸‹æ ‡è¶Šç•Œå¼‚å¸¸ï¼š ArrayIndexOutOfBoundsException</span></span><br><span class="line">    array[i];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¼ å‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">test(array); <span class="comment">// âˆš</span></span><br><span class="line">test(&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;);<span class="comment">// Ã—</span></span><br><span class="line">test(<span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>]);<span class="comment">// âˆš</span></span><br><span class="line">test(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;);<span class="comment">// âˆš</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ä¸»å‡½æ•°-main-çš„å‚æ•°"><a href="#ä¸»å‡½æ•°-main-çš„å‚æ•°" class="headerlink" title="ä¸»å‡½æ•° main çš„å‚æ•°"></a>ä¸»å‡½æ•° main çš„å‚æ•°</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> voidd <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">java Test å‚æ•°<span class="number">1</span> å‚æ•°<span class="number">2</span> ...</span><br></pre></td></tr></table></figure><h4 id="æ‰©å®¹"><a href="#æ‰©å®¹" class="headerlink" title="æ‰©å®¹"></a>æ‰©å®¹</h4><blockquote><p>æ•°ç»„é•¿åº¦ä¸€æ—¦ç¡®å®šå°±ä¸å¯å˜ï¼Œé‚£æ•°ç»„æ»¡äº†æ€ä¹ˆåŠï¼Ÿ</p><p>javaä¸­çš„æ–¹å¼ï¼šå…ˆå»ºä¸€ä¸ªå¤§å®¹é‡æ•°ç»„ï¼Œå†å°†å°å®¹é‡æ•°ç»„ä¸­æ•°ç»„ä¸€ä¸ªä¸€ä¸ªæ‹·è´è¿‡å»</p><p>ç»“è®ºï¼šæ•ˆç‡ä½ï¼Œå°‘ç”¨</p></blockquote><p>æ•°ç»„æ‹·è´æ–¹æ³•ï¼š</p><p><strong>System.arraycopy(src, srcPos, dest, destPos, length)</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] a1 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>&#125;;</span><br><span class="line"><span class="type">int</span>[] a2 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>];</span><br><span class="line">System.arraycopy(a1,<span class="number">0</span>,a2,<span class="number">0</span>,<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">System.out.print(a2[<span class="number">0</span>]+ <span class="string">&quot;&quot;</span> +a2[<span class="number">1</span>]+ <span class="string">&quot;&quot;</span> +a2[<span class="number">2</span>]+ <span class="string">&quot;&quot;</span> +a2[<span class="number">3</span>]+ <span class="string">&quot;&quot;</span> +a2[<span class="number">4</span>]+ <span class="string">&quot;&quot;</span> +a2[<span class="number">5</span>]);</span><br></pre></td></tr></table></figure><h4 id="äºŒç»´æ•°ç»„"><a href="#äºŒç»´æ•°ç»„" class="headerlink" title="äºŒç»´æ•°ç»„"></a>äºŒç»´æ•°ç»„</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[][] a = &#123;</span><br><span class="line">    &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,</span><br><span class="line">    &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,</span><br><span class="line">    &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æ•°ç»„çš„å·¥å…·æ–¹æ³•"><a href="#æ•°ç»„çš„å·¥å…·æ–¹æ³•" class="headerlink" title="æ•°ç»„çš„å·¥å…·æ–¹æ³•"></a>æ•°ç»„çš„å·¥å…·æ–¹æ³•</h4><blockquote><p>java.utils.Arrays</p><p>å¸¸ç”¨çš„æ–¹æ³•ï¼Œsort, binarySearchã€äºŒåˆ†æ³•æŸ¥æ‰¾ã€‘</p></blockquote><ul><li><p>binarySearch()</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›å¯¹åº”ä¸‹æ ‡ï¼Œæ²¡æœ‰è¿”å› -1</span></span><br><span class="line">Arrays.binarySearch(æ•°ç»„, æŸ¥æ‰¾çš„å€¼);</span><br></pre></td></tr></table></figure></li><li><p>sort()</p></li></ul><h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><blockquote><ul><li>åŒå¼•å·æ‹¬èµ·æ¥çš„éƒ½æ˜¯Stringå¯¹è±¡</li><li>å­—ç¬¦ä¸²ä¸å¯å˜ï¼Œä¸èƒ½ä¿®æ”¹</li><li>JDKä¸­å­—ç¬¦ä¸²éƒ½æ˜¯ç›´æ¥å­˜å‚¨åœ¨<strong>æ–¹æ³•åŒº</strong>çš„<strong>å­—ç¬¦ä¸²å¸¸é‡æ± </strong>å½“ä¸­ã€åƒåœ¾å›æ”¶æœºåˆ¶ä¸ä¼šå›æ”¶å¸¸é‡æ± æ•°æ®ã€‘</li></ul></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">ä¸€å…±åˆ›å»ºäº†ä¸‰ä¸ªå¯¹è±¡ï¼š</span></span><br><span class="line"><span class="comment">å­—ç¬¦ä¸²å¸¸é‡æ±  ï¼š &quot;hello&quot;</span></span><br><span class="line"><span class="comment">å †å†…å­˜: s1,s2</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;hello&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="å¸¸ç”¨æ„é€ æ–¹æ³•ï¼š"><a href="#å¸¸ç”¨æ„é€ æ–¹æ³•ï¼š" class="headerlink" title="å¸¸ç”¨æ„é€ æ–¹æ³•ï¼š"></a>å¸¸ç”¨æ„é€ æ–¹æ³•ï¼š</h4><ol><li><p>```java<br> String s = new String(â€œâ€)</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. ```java</span><br><span class="line">String s = &quot;&quot;</span><br></pre></td></tr></table></figure></li><li><p>```java<br> String s = new String(charæ•°ç»„)</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4. ```java</span><br><span class="line">String s = new String(charæ•°ç»„,èµ·å§‹ä¸‹æ ‡,é•¿åº¦)</span><br></pre></td></tr></table></figure></li><li><p>```java<br> String s = new String(byteæ•°ç»„)</p> <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">6. ```java</span><br><span class="line">String s = new String(byteæ•°ç»„,èµ·å§‹ä¸‹æ ‡,é•¿åº¦)</span><br></pre></td></tr></table></figure></li></ol><h4 id="chartAt"><a href="#chartAt" class="headerlink" title="chartAt"></a>chartAt</h4><blockquote><p>è¿”å›æŒ‡å®šç´¢å¼•å¤„çš„ char å€¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;ä¸­å›½äºº&quot;</span>.charAt(<span class="number">1</span>);<span class="comment">// å›½</span></span><br></pre></td></tr></table></figure></blockquote><h4 id="compareTo"><a href="#compareTo" class="headerlink" title="compareTo"></a>compareTo</h4><blockquote><p>æŒ‰ç…§å­—å…¸ï¼ˆascllç è¡¨å€¼ï¼‰é¡ºåºå»æ¯”è¾ƒå­—ç¬¦ä¸²å¤§å°.</p><p>å‰å°åå¤§: -1</p><p>å‰åä¸€è‡´ï¼š0</p><p>å‰å¤§åå°ï¼š1</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;abc&quot;</span>.compareTo(<span class="string">&quot;abce&quot;</span>); <span class="comment">// -1</span></span><br></pre></td></tr></table></figure></blockquote><h4 id="contains"><a href="#contains" class="headerlink" title="contains"></a>contains</h4><blockquote><p>æ˜¯å¦åŒ…å«æŸå­—ç¬¦ä¸²</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;Hello java&quot;</span>.contains(<span class="string">&quot;java&quot;</span>);<span class="comment">// true</span></span><br></pre></td></tr></table></figure></blockquote><h4 id="endsWith"><a href="#endsWith" class="headerlink" title="endsWith"></a>endsWith</h4><blockquote><p>æ˜¯å¦ä»¥æŸå­—ç¬¦ä¸²ç»“å°¾</p></blockquote><h4 id="equalsIgnoreCase"><a href="#equalsIgnoreCase" class="headerlink" title="equalsIgnoreCase"></a>equalsIgnoreCase</h4><blockquote><p>å¿½ç•¥å¤§å°å†™çš„æ¯”è¾ƒå­—ç¬¦ä¸²ç›¸ç­‰</p></blockquote><h4 id="getBytes"><a href="#getBytes" class="headerlink" title="getBytes"></a>getBytes</h4><blockquote><p>å°†å­—ç¬¦ä¸²å¯¹è±¡è½¬ä¸ºå­—èŠ‚æ•°ç»„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span>[] bytes = <span class="string">&quot;abcde&quot;</span>.getBytes();</span><br></pre></td></tr></table></figure></blockquote><h4 id="isEmpty"><a href="#isEmpty" class="headerlink" title="isEmpty"></a>isEmpty</h4><blockquote><p>åˆ¤æ–­æŸä¸ªå­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©º</p></blockquote><h4 id="toChartArray"><a href="#toChartArray" class="headerlink" title="toChartArray"></a>toChartArray</h4><blockquote><p>å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºcharæ•°ç»„</p></blockquote><h4 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf"></a>valueOf</h4><blockquote><p>åº•å±‚è°ƒç”¨ toString()</p></blockquote><h4 id="indexOf-lastIndexOf"><a href="#indexOf-lastIndexOf" class="headerlink" title="indexOf,lastIndexOf"></a>indexOf,lastIndexOf</h4><blockquote><p>æŸä¸ªå­—ç¬¦ä¸²åœ¨å½“å‰å­—ç¬¦ä¸²ä¸­ç¬¬ä¸€æ¬¡/æœ€åä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ç´¢å¼•</p></blockquote><h3 id="stringBuffer"><a href="#stringBuffer" class="headerlink" title="stringBuffer"></a>stringBuffer</h3><blockquote><p>stringBuider ä¸ stringBuffer éƒ½å¯ä»¥æ‹¼æ¥å­—ç¬¦ä¸²ï¼ŒåŒºåˆ«åœ¨äºå‰è€…æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œåè€…ä¸æ˜¯</p><p>ç”¨ + æ‹¼æ¥å­—ç¬¦ä¸²ä¼šå¯¼è‡´æ–¹æ³•åŒºå­—ç¬¦ä¸²å¸¸é‡æ± åˆ›å»ºå¤šä¸ªå¯¹è±¡ã€‚é€ æˆç©ºé—´æµªè´¹</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªåˆå§‹åŒ–å®¹é‡ä¸º16ä¸ªbyte[] æ•°ç»„ã€‚ï¼ˆå­—ç¬¦ä¸²ç¼“å†²åŒºï¼‰ï¼Œåˆ›å»ºæ—¶å¯ä»¥ä¼°è®¡ç»™ä¸€ä¸ªå®¹é‡ï¼ˆå­—èŠ‚ï¼‰</span></span><br><span class="line"><span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>(<span class="number">50</span>);</span><br><span class="line"><span class="comment">// append è¿½åŠ å­—ç¬¦ä¸²åº•å±‚ä¼šæ‰©å®¹</span></span><br><span class="line">sb.append(<span class="string">&quot;æˆ‘æ˜¯&quot;</span>);</span><br><span class="line">sb.append(<span class="number">300</span>);</span><br><span class="line">System.out.println(sb);<span class="comment">// æˆ‘æ˜¯300</span></span><br></pre></td></tr></table></figure><h3 id="åŒ…è£…ç±»"><a href="#åŒ…è£…ç±»" class="headerlink" title="åŒ…è£…ç±»"></a>åŒ…è£…ç±»</h3><blockquote><p>Javaä¸º8ä¸­æ•°æ®ç±»å‹æä¾›äº†8ç§åŒ…è£…ç±»ï¼Œçˆ¶ç±»æ˜¯Objectã€‚</p><p>åŒ…è£…ç±»å¯ä»¥å°†åŸºæœ¬æ•°æ®ç±»å‹åŒ…è£…æˆå¯¹è±¡</p></blockquote><table><thead><tr><th>åŸºæœ¬æ•°æ®ç±»å‹</th><th>åŒ…è£…ç±»å‹</th></tr></thead><tbody><tr><td>byte</td><td>java.lang.Byteï¼ˆçˆ¶ç±»Numberï¼‰</td></tr><tr><td>short</td><td>java.lang.Shortï¼ˆçˆ¶ç±»Numberï¼‰</td></tr><tr><td>int</td><td>java.lang.<strong>Integer</strong>ï¼ˆçˆ¶ç±»Numberï¼‰</td></tr><tr><td>long</td><td>java.lang.Longï¼ˆçˆ¶ç±»Numberï¼‰</td></tr><tr><td>float</td><td>java.lang.Floatï¼ˆçˆ¶ç±»Numberï¼‰</td></tr><tr><td>double</td><td>java.lang.Doubleï¼ˆçˆ¶ç±»Numberï¼‰</td></tr><tr><td>boolean</td><td>java.lang.Booleanï¼ˆçˆ¶ç±»Objectï¼‰</td></tr><tr><td>char</td><td>java.lang.<strong>Character</strong>ï¼ˆçˆ¶ç±»Objectï¼‰</td></tr></tbody></table><p>åŒ…è£…ç±»è¿˜æä¾›äº†å„ç§ç±»å‹çš„æ‹†ç®±æ–¹æ³•ï¼Œå°†åŒ…è£…ç±»è½¬ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ã€‚ä¸è¿‡åé¢éƒ½åºŸå¼ƒäº†ï¼Œjdk1.5åæ”¯æŒäº†è‡ªåŠ¨è£…ç®±æ‹†ç®±</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰‹åŠ¨è£…ç®±</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">10</span>);</span><br><span class="line"><span class="comment">// æ‰‹åŠ¨æ‹†ç®±</span></span><br><span class="line"><span class="type">int</span> <span class="variable">ii</span> <span class="operator">=</span> i.intValue();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªåŠ¨è£…ç®±</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="comment">// è‡ªåŠ¨æ‹†ç®±</span></span><br><span class="line"><span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> x;</span><br></pre></td></tr></table></figure><p>java ä¸­ä¸ºäº†æé«˜ç¨‹åºæ•ˆç‡ï¼Œå°† [-128, 127]æ•°å­—æå‰åŒ…è£…åˆ›å»ºå¥½äº†ï¼Œæ‰€ä»¥è¿™ä¸ªåŒºé—´çš„çš„æ•°æ®ä¸åœ¨éœ€è¦new,ç›´æ¥ä»å¸¸é‡æ± ä¸­è·å–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Integer</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line"><span class="type">Integer</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line">a == b;<span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="type">Integer</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"><span class="type">Integer</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line">x == y;<span class="comment">// true</span></span><br></pre></td></tr></table></figure><h3 id="Number-å¸¸ç”¨æ–¹æ³•"><a href="#Number-å¸¸ç”¨æ–¹æ³•" class="headerlink" title="Number å¸¸ç”¨æ–¹æ³•"></a>Number å¸¸ç”¨æ–¹æ³•</h3><ul><li>parseInt    è½¬æ•´å½¢</li><li></li></ul><h3 id="æ—¥æœŸå¤„ç†"><a href="#æ—¥æœŸå¤„ç†" class="headerlink" title="æ—¥æœŸå¤„ç†"></a>æ—¥æœŸå¤„ç†</h3><blockquote><p>java.utils.Date å¯¹è±¡</p><p>æ ¼å¼åŒ–æ—¶é—´çš„åº“ï¼šjava.text.SimpleDateFormat</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">yyyy å¹´</span></span><br><span class="line"><span class="comment">MMæœˆ</span></span><br><span class="line"><span class="comment">ddæ—¥</span></span><br><span class="line"><span class="comment">HHæ—¶</span></span><br><span class="line"><span class="comment">mmåˆ†</span></span><br><span class="line"><span class="comment">ssç§’</span></span><br><span class="line"><span class="comment">sssæ¯«ç§’</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// Date -&gt; String</span></span><br><span class="line"><span class="type">Date</span> <span class="variable">dt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="type">SimpleDateFormat</span> <span class="variable">format</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss:sss&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">time</span> <span class="operator">=</span> format.format(dt);</span><br><span class="line">System.out.println(time);<span class="comment">// 2023-02-02 09:27:32:032</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// String -&gt; date</span></span><br><span class="line"><span class="type">String</span> <span class="variable">dateTime</span> <span class="operator">=</span> <span class="string">&quot;2022-12-12 12:12:12&quot;</span>;</span><br><span class="line"><span class="comment">// æ­¤å¤„æ ¼å¼è¦å’Œå­—ç¬¦ä¸²æ—¥æœŸæ ¼å¼ç›¸åŒ</span></span><br><span class="line"><span class="type">SimpleDateFormat</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line"><span class="type">Date</span> <span class="variable">rs</span> <span class="operator">=</span> f2.parse(dateTime);</span><br><span class="line">System.out.println(rs);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ—¶é—´æˆ³ -&gt; Date</span></span><br><span class="line"><span class="type">int</span> <span class="variable">timestamp</span> <span class="operator">=</span> <span class="number">1675302056747</span>;</span><br><span class="line"><span class="type">Date</span> <span class="variable">dt</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(timestamp);</span><br><span class="line"><span class="type">SimpleDateFormat</span> <span class="variable">format</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss:sss&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">ddd</span> <span class="operator">=</span> format1.format(dt1);</span><br><span class="line">System.out.println(<span class="string">&quot;ddd = &quot;</span> + ddd);<span class="comment">// 2023-02-02 09:40:56:056</span></span><br></pre></td></tr></table></figure><h3 id="æ•°å­—æ ¼å¼åŒ–"><a href="#æ•°å­—æ ¼å¼åŒ–" class="headerlink" title="æ•°å­—æ ¼å¼åŒ–"></a>æ•°å­—æ ¼å¼åŒ–</h3><blockquote><p>java.text.DecimalFormat ç±»</p><p>æ ¼å¼ï¼š</p><p>#ï¼šä»£è¡¨ä»»æ„æ•°å­—</p><p>,ï¼šä»£è¡¨åƒåˆ†ä½</p><p>.ï¼šä»£è¡¨å°æ•°ç‚¹</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">double</span> <span class="variable">xx</span> <span class="operator">=</span> <span class="number">10023.222502056</span>;</span><br><span class="line"><span class="type">DecimalFormat</span> <span class="variable">df</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DecimalFormat</span>(<span class="string">&quot;###,###.###&quot;</span>);</span><br><span class="line"><span class="type">String</span> <span class="variable">rr</span> <span class="operator">=</span> df.format(xx);</span><br><span class="line">System.out.println(rr);<span class="comment">// 10,023.223</span></span><br></pre></td></tr></table></figure><h3 id="é«˜ç²¾åº¦-BigDecimal"><a href="#é«˜ç²¾åº¦-BigDecimal" class="headerlink" title="é«˜ç²¾åº¦ BigDecimal"></a>é«˜ç²¾åº¦ BigDecimal</h3><blockquote><p>BigDecimal å±äºå¤§æ•°æ®ï¼Œç²¾åº¦æé«˜ã€‚ä¸“é—¨ç”¨åœ¨è´¢åŠ¡è½¯ä»¶å½“ä¸­</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BigDecimal</span> <span class="variable">bd1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="number">100</span>);</span><br><span class="line"><span class="type">BigDecimal</span> <span class="variable">bd2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="number">100</span>);</span><br><span class="line"><span class="comment">// +</span></span><br><span class="line">bd1.add(bd2);</span><br><span class="line"><span class="comment">// è¿ç®—éƒ½æä¾›äº†è‡ªå·±çš„æ–¹æ³•</span></span><br></pre></td></tr></table></figure><h3 id="éšæœºæ•°"><a href="#éšæœºæ•°" class="headerlink" title="éšæœºæ•°"></a>éšæœºæ•°</h3><blockquote><p>äº§ç”Ÿä¸€ä¸ªintç±»å‹å–å€¼èŒƒå›´å†…çš„æ•°å­—</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"><span class="comment">// ä¸‹ä¸€ä¸ªint ç±»å‹çš„æ•°æ®æ˜¯101ï¼Œè¡¨ç¤ºåªèƒ½å–åˆ°100</span></span><br><span class="line"><span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> random.nextInt(<span class="number">101</span>);</span><br></pre></td></tr></table></figure><h4 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h4><blockquote><p>æšä¸¾ç¼–è¯‘ä¹‹åä¹Ÿæ˜¯ç”Ÿæˆ class æ–‡ä»¶</p><p>æšä¸¾æ˜¯ä¸€ç§å¼•ç”¨ç±»å‹</p><p>å½“ä¸€ä¸ªæ–¹æ³•è¿”å›ç»“æœè¶…è¿‡ä¸¤ç§ä¸”å¯ä»¥ä¸€ä¸€åˆ—ä¸¾çš„æƒ…å†µå»ºè®®ä½¿ç”¨æšä¸¾</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">Season</span> &#123;</span><br><span class="line">    CHUN,XIA,QIU,DONG</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><h3 id="å¼‚å¸¸æœºåˆ¶"><a href="#å¼‚å¸¸æœºåˆ¶" class="headerlink" title="å¼‚å¸¸æœºåˆ¶"></a>å¼‚å¸¸æœºåˆ¶</h3><blockquote><p>å½“Javaç¨‹åºè¿è¡Œå‡ºç°ä¸æ­£å¸¸çš„æƒ…å†µæ—¶ï¼ŒJavaè¯­è¨€ä¼šæŠŠç¨‹åºçš„å¼‚å¸¸ä¿¡æ¯è¾“å‡ºåˆ°æ§åˆ¶å°ã€‚ä¾›ç¨‹åºå‘˜å‚è€ƒï¼Œä»¥å¯¹ç¨‹åºç»è¡Œä¿®æ”¹</p><p>æ‰€æœ‰å¼‚å¸¸éƒ½å‘ç”Ÿåœ¨è¿è¡Œé˜¶æ®µ</p></blockquote><h4 id="å¼‚å¸¸å£°æ˜"><a href="#å¼‚å¸¸å£°æ˜" class="headerlink" title="å¼‚å¸¸å£°æ˜"></a>å¼‚å¸¸å£°æ˜</h4><p>java å†…ç½®äº†å¼‚å¸¸ç±»ï¼Œå¯ä»¥é€šè¿‡ åˆ›å»ºå¼‚å¸¸å¯¹è±¡ å†æŠ›å‡ºä½¿ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ArithmeticExcepetion</span> <span class="variable">error</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArithmeticExcepetion</span>(<span class="string">&quot;å¼‚å¸¸ä¿¡æ¯&quot;</span>);</span><br><span class="line"><span class="keyword">throw</span> error;</span><br></pre></td></tr></table></figure><h4 id="å¼‚å¸¸çš„å¤„ç†"><a href="#å¼‚å¸¸çš„å¤„ç†" class="headerlink" title="å¼‚å¸¸çš„å¤„ç†"></a>å¼‚å¸¸çš„å¤„ç†</h4><blockquote><p>å¦‚æœè¿™ä¸ªæ–¹æ³•ä½ æƒ³è®©è°ƒç”¨è€…å¤„ç†æ ‡é”™å°±throwsï¼Œå¦åˆ™å°± try catch</p></blockquote><ol><li><p>try catch æ•è·å¼‚å¸¸å¹¶å¤„ç†</p><ul><li>catch åè¾¹å°æ‹¬å·ä¸­å¾—äº†ç±»å‹å¯ä»¥æ˜¯å…·ä½“ç±»å‹ï¼Œä¹Ÿå¯ä»¥æ˜¯çˆ¶ç±»å‹</li><li>catch å¯ä»¥å†™å¤šä¸ªã€‚ä¾¿äºç²¾ç¡®å¤„ç†</li><li>ç¼–å†™å¤šä¸ªcatch æ—¶ï¼Œæ•è·é”™è¯¯è¦ä»å°åˆ°å¤§</li></ul> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">   <span class="comment">// return è¯­å¥å†æ–¹æ³•ä¸­è‚¯å®šæ˜¯ æœ€åæ‰§è¡Œçš„ï¼Œfinall ä¼šåœ¨return å‰æ‰§è¡Œï¼Œä¸ä¼šå½±å“return çš„å€¼     </span></span><br><span class="line">   <span class="keyword">return</span> è¯­å¥</span><br><span class="line">&#125; <span class="keyword">catch</span>(é”™è¯¯<span class="number">1</span>|é”™è¯¯<span class="number">2</span>|é”™è¯¯<span class="number">3</span> e) &#123;</span><br><span class="line">    <span class="comment">// å¤šä¸ªé”™è¯¯å£°æ˜ æ˜¯ jdk8 æ–°ç‰¹æ€§</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è°ƒç”¨æ­¤æ–¹æ³•ï¼Œä¼šåœ¨æ§åˆ¶å°æ‰“å°å¼‚å¸¸è¯¦æƒ…ï¼Œå»ºè®®ä½¿ç”¨</span></span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">    <span class="comment">// é™¤é System.exit(0); æ¨å‡ºJVMè™šæ‹Ÿæœºã€‚å¦åˆ™ æ­¤å¤„ä»£ç ä¸€å®šä¼šæ‰§è¡Œ</span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–¹æ³•å£°æ˜ä½ç½®ä¸Šï¼Œä½¿ç”¨ throws å…³é”®å­—ï¼ŒæŠ›ç»™ä¸Šä¸€çº§</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args)</span> &#123;</span><br><span class="line">        doSome();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">doSome</span><span class="params">()</span> <span class="keyword">throws</span> å¼‚å¸¸<span class="number">1</span>,å¼‚å¸¸<span class="number">2</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rs</span> <span class="operator">=</span> a/b;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="è‡ªå®šä¹‰å¼‚å¸¸"><a href="#è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="è‡ªå®šä¹‰å¼‚å¸¸"></a>è‡ªå®šä¹‰å¼‚å¸¸</h4><blockquote><p>ä¸šåŠ¡ä¸­çš„å¼‚å¸¸å¾ˆå¤šï¼Œå†…ç½®å¼‚å¸¸ä¸æ»¡è¶³ã€‚æ­¤æ—¶éœ€è¦è‡ªå®šä¹‰å¼‚å¸¸ã€‚</p><p><strong>è‡ªå®šä¹‰å¼‚å¸¸ä¸€å®šè¦æŠ›å‡ºå»è®©è°ƒç”¨è€…å¤„ç†ï¼Œå¦è€…æ²¡æœ‰æ„ä¹‰</strong></p><p>å¼‚å¸¸çš„åº”ç”¨æ˜¯ä»£æ›¿ return å­—ç¬¦ä¸²é”™è¯¯æç¤º</p></blockquote><p><strong>å¦‚ä½•è‡ªå®šä¹‰å¼‚å¸¸ï¼Ÿ</strong></p><ol><li>ç¼–å†™ä¸€ä¸ªç±»ç»§æ‰¿ Exception æˆ–è€… RuntimeException</li><li>æä¾›ä¸¤ä¸ªæ„é€ æ–¹æ³•ï¼Œä¸€ä¸ªæ— å‚ï¼Œä¸€ä¸ªå¾…ç”¨String å‚æ•°çš„</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyException</span> <span class="keyword">extends</span>  <span class="title class_">Exception</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyException</span><span class="params">()</span> &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyException</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨</span></span><br><span class="line"><span class="type">MyException</span> <span class="variable">mye</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyException</span>(<span class="string">&quot;è‡ªå®šä¹‰çš„é”™è¯¯&quot;</span>);</span><br><span class="line"><span class="keyword">throw</span> mye;</span><br></pre></td></tr></table></figure><h3 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h3><blockquote><p>é›†åˆæœ¬èº«æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œç”¨æ¥å­˜å‚¨å¼•ç”¨ç±»å‹çš„æ•°æ®ï¼Œä¸èƒ½ç›´æ¥å­˜å‚¨åŸºæœ¬æ•°æ®ç±»å‹</p><p>Javaä¸­ä¸åŒçš„é›†åˆå¯¹åº”ä¸åŒçš„æ•°æ®ç»“æ„ï¼Œä¾‹å¦‚ï¼šæ•°ç»„ï¼ŒäºŒå‰æ ‘ï¼Œé“¾è¡¨ï¼Œå“ˆå¸Œè¡¨ã€‚ã€‚ã€‚</p><ul><li>new ArrayList(); åº•å±‚æ˜¯æ•°ç»„</li><li>new LinkedList(); åº•å±‚æ˜¯é“¾è¡¨</li><li>new ThreeSet(); åº•å±‚æ˜¯äºŒå‰æ ‘ </li></ul></blockquote><p>åœ¨Javaä¸­é›†åˆåˆ†ä¸ºä¸¤å¤§ç±»ï¼š</p><ol><li><p>ä¸€ç±»æ˜¯å­˜å‚¨å•ä¸ªå…ƒç´ </p><p> è¿™ç±»é›†åˆç¥–å…ˆæ˜¯ java.utlls.Collection ã€å¯è¿­ä»£ï¼Œå¯éå†ã€‘</p><ul><li>list    æœ‰åºï¼Œå¯é‡å¤ï¼Œå…ƒç´ æœ‰ä¸‹æ ‡<ul><li>ArrayListã€ç±»ã€‘    åº•å±‚æ•°ç»„ï¼Œéçº¿ç¨‹å®‰å…¨</li><li>LinkedListã€ç±»ã€‘  åº•å±‚åŒå‘é“¾è¡¨  </li><li>Vectorã€ç±»ã€‘    åº•å±‚æ•°ç»„ï¼Œçº¿ç¨‹å®‰å…¨ï¼Œä½¿ç”¨è¾ƒå°‘ã€çº¿ç¨‹å®‰å…¨æœ‰å…¶ä»–æ–¹æ¡ˆã€‘</li></ul></li><li>Set    æ— åºï¼Œä¸å¯é‡å¤ï¼Œå…ƒç´ æ— ä¸‹æ ‡<ul><li>hashSetã€ç±»ã€‘    åº•å±‚newäº†hashMapã€åº•å±‚å“ˆå¸Œè¡¨ã€‘</li><li>SortedSet  è‡ªåŠ¨æ’åº<ul><li>TreeSetã€ç±»ã€‘    åº•å±‚newäº†TreeMapã€åº•å±‚äºŒå‰æ ‘ã€‘</li></ul></li></ul></li></ul></li><li><p>ä¸€ç±»æ˜¯é”®å€¼å¯¹å­˜å‚¨å½¢å¼</p><p> è¿™ç±»é›†åˆç¥–å…ˆæ˜¯ java.utlls.Map, key æ˜¯æ— éœ€ä¸å¯é‡å¤</p><ul><li>HashMapã€ç±»ã€‘    éçº¿ç¨‹å®‰å…¨ï¼Œåº•å±‚å“ˆå¸Œè¡¨</li><li>Hashtableã€ç±»ã€‘    çº¿ç¨‹å®‰å…¨ï¼Œåº•å±‚å“ˆå¸Œè¡¨ï¼Œä½¿ç”¨è¾ƒå°‘ã€çº¿ç¨‹å®‰å…¨æœ‰å…¶ä»–æ–¹æ¡ˆã€‘<ul><li>Propertiesã€ç±»ã€‘  çº¿ç¨‹å®‰å…¨ï¼Œé”®,å€¼è¦æ±‚æ˜¯Stringç±»å‹</li></ul></li><li>SortedMap    ä¼šè‡ªåŠ¨æ’åº<ul><li>TreeMapã€ç±»ã€‘åº•å±‚äºŒå‰æ ‘ï¼ŒkeyæŒ‰è‡ªåŠ¨å¤§å°æ’åº</li></ul></li></ul></li></ol><blockquote><p><strong>Mapé›†åˆçš„keyéƒ¨åˆ†å­˜å‚¨çš„å°±æ˜¯ Seté›†åˆ</strong></p></blockquote><h4 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h4><blockquote><p>ä¸ä½¿ç”¨æ³›å‹ä¹‹å‰ï¼ŒCollection ä¸­å¯ä»¥å­˜å‚¨Objectçš„æ‰€æœ‰å­ç±»å‹ã€‚ä½¿ç”¨æ³›å‹ä¹‹åï¼ŒCollectionä¸­åªèƒ½å‚¨å­˜æŸä¸ªå…·ä½“ç±»å‹</p></blockquote><p><strong>Collection ä¸­å¸¸ç”¨æ–¹æ³•</strong></p><ul><li><p>add æ·»åŠ å…ƒç´ </p></li><li><p>size è·å–é›†åˆä¸­å…ƒç´ ä¸ªæ•°</p></li><li><p>void æ¸…ç©ºé›†åˆ</p></li><li><p>contains(Object o) åˆ¤æ–­é›†åˆä¸­åŒ…å« æŸå¯¹è±¡ o</p></li><li><p>remove åˆ é™¤æŸä¸ªå…ƒç´ </p></li><li><p>isEmpty é›†åˆä¸­æ•°æ®ä¸ªæ•°æ˜¯å¦ä¸º0</p></li><li><p>toArray  å°†é›†åˆè½¬æ¢ä¸ºæ•°ç»„</p></li><li><p>iterator  è¿”å›è¿­ä»£å™¨</p></li><li><p>dynchronizedList(list l) è®©é›†åˆå˜æˆçº¿ç¨‹å®‰å…¨çš„</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…ƒç´ å†…å®¹å‘ç”Ÿæ”¹å˜æ—¶ã€‚éœ€è¦å†²æ–°è·å– iterator</span></span><br><span class="line"><span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> c.iterator();</span><br><span class="line">it.hasNext();<span class="comment">// æœ‰å°±è¿”å›true</span></span><br><span class="line">it.next();<span class="comment">// è¿”å›è¿­ä»£çš„ä¸‹ä¸€ä¸ªå…ƒç´ </span></span><br></pre></td></tr></table></figure></li></ul><p><strong>contains æ–¹æ³•è§£æ</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Test &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(string[] args)</span> &#123;</span><br><span class="line">        <span class="type">ArrayList</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;def&quot;</span>;</span><br><span class="line">        c.add(s1);</span><br><span class="line">        c.add(s2);</span><br><span class="line">        <span class="type">String</span> <span class="variable">x</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­é›†åˆä¸­æ˜¯å¦å­˜åœ¨ &quot;abc&quot;</span></span><br><span class="line">        c.contains(x);<span class="comment">// true</span></span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŒ‰ç…§å†…å­˜åœ°å€ï¼Œx ä¸åœ¨ C å½“ä¸­ã€‚ contains å®ç°æ—¶è°ƒç”¨äº† equals() æ–¹æ³•,æŠŠxä¸é›†åˆä¸­å…ƒç´ æ¯”è¾ƒ</p><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230203132125708.png" alt="image-20230203132125708"></p><blockquote><p>æ”¾è¿›é›†åˆçš„å…ƒç´  ä¸€å®šè¦é‡å†™ equals æ–¹æ³•ï¼Œéåˆ™æ¯”è¾ƒæ—¶æ¯”è¾ƒçš„æ˜¯å†…å­˜åœ°å€è€Œä¸æ˜¯å†…å®¹</p></blockquote><p><strong>æ•°ç»„åå°</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿­ä»£è¿‡ç¨‹ä¸­ä¸èƒ½ä¿®æ”¹é›†åˆç»“æ„ï¼šä¾‹å¦‚åˆ é™¤ï¼Œæ–°å¢</span></span><br><span class="line"><span class="type">Collection</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Array</span>();</span><br><span class="line">c2.add(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">c2.add(<span class="string">&quot;def&quot;</span>);</span><br><span class="line">c2.add(<span class="string">&quot;xyz&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="type">Iterator</span> <span class="variable">it2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Iterator</span>();</span><br><span class="line"><span class="keyword">while</span>(it2.hasNext()) &#123;</span><br><span class="line">    <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> it2.next();</span><br><span class="line">    <span class="comment">// c2.remove(); // åˆ é™¤ä¹‹åä¼šå‡ºç°å¼‚å¸¸</span></span><br><span class="line">    <span class="comment">// å¯ä»¥ä½¿ç”¨è¿­ä»£å™¨æ¥åˆ é™¤ï¼Ÿ</span></span><br><span class="line">    it.remove();<span class="comment">// å¯ä»¥ï¼Œåˆ é™¤çš„ä¸€å®šæ˜¯å½“å‰æŒ‡å‘çš„å…ƒç´ </span></span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//åŸå› ï¼š å› ä¸ºé›†åˆåˆ é™¤å…ƒç´ ä¸ä¼šæ›´æ–°è¿­ä»£å™¨ï¼Œè€Œè¿­ä»£å™¨åˆ é™¤ä¼šæ›´æ–°è¿­ä»£å™¨</span></span><br></pre></td></tr></table></figure><p><strong>list æ¥å£å¸¸ç”¨æ–¹æ³•</strong></p><ul><li>get(int index)  æ ¹æ®ä¸‹æ ‡è·å–å…ƒç´ </li><li>indexOf(Object o)  è·å–æŒ‡å®šå¯¹è±¡ç¬¬ä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ç´¢å¼•</li><li>lastIndexOf(Object o) è·å–æŒ‡å®šå¯¹è±¡æœ€åä¸€æ¬¡å‡ºç°çš„ä¸‹æ ‡ç´¢å¼•</li><li>remove(int index) åˆ é™¤æŒ‡å®šç´¢å¼•çš„å…ƒç´ </li><li>set(int index, E element)  ä¿®æ”¹æŒ‡å®šä½ç½®çš„å…ƒç´ </li><li>add(Object element) æ–°å¢</li></ul><h5 id="ArrayList-æŒ‡å®šå®¹é‡åŠæ‰©å®¹"><a href="#ArrayList-æŒ‡å®šå®¹é‡åŠæ‰©å®¹" class="headerlink" title="ArrayList æŒ‡å®šå®¹é‡åŠæ‰©å®¹"></a>ArrayList æŒ‡å®šå®¹é‡åŠæ‰©å®¹</h5><blockquote><p>é»˜è®¤åˆå§‹åŒ–å®¹é‡ä¸º 10.</p><p>æ‰©å®¹: å…ƒç´ è¶…è¿‡åˆå§‹åŒ–å®¹é‡æ—¶ï¼Œè‡ªåŠ¨æ‰©å®¹ï¼Œåˆ›å»ºæ–°çš„æ•°ç»„ã€ åŸå®¹é‡ 1.5 å€ã€‘æŠŠæ•°æ®æ”¾è¿›å»</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆå§‹åŒ–æŒ‡å®šå®¹é‡ï¼Œåº•å±‚å…ˆåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º0çš„æ•°ç»„ï¼Œå½“æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œåˆå§‹åŒ–å®¹é‡20</span></span><br><span class="line"><span class="type">List</span> <span class="variable">list1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>(<span class="number">20</span>);</span><br></pre></td></tr></table></figure><h5 id="ArrayListæœ‰å‚æ„é€ "><a href="#ArrayListæœ‰å‚æ„é€ " class="headerlink" title="ArrayListæœ‰å‚æ„é€ "></a><strong>ArrayListæœ‰å‚æ„é€ </strong></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Collection</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HashSet</span>();</span><br><span class="line"></span><br><span class="line">c.add(<span class="number">100</span>);</span><br><span class="line">c.add(<span class="number">200</span>);</span><br><span class="line">c.add(<span class="number">300</span>);</span><br><span class="line"><span class="comment">// å¯å°†HashSet é›†åˆè½¬ä¸º ArrayList</span></span><br><span class="line"><span class="type">List</span> <span class="variable">myList1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>(c);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="linkedList"><a href="#linkedList" class="headerlink" title="linkedList"></a>linkedList</h5><blockquote><p>åº•å±‚æ˜¯é“¾è¡¨ç»“æ„ã€‚éšæœºå¢åˆ æ•ˆç‡è¾ƒé«˜ã€‚æ£€ç´¢æ•ˆç‡ä½</p></blockquote><h5 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h5><blockquote><ul><li>ä¸å¯é‡å¤</li><li>å­˜å‚¨ä½ç½®å’Œå–å‡ºä½ç½®ä¸ä¸€è‡´</li><li>æ”¾åˆ°hashSet é›†åˆçš„å…ƒç´ å®é™…ä¸Šæ˜¯æ”¾åˆ°HashMapçš„keyéƒ¨åˆ†äº†</li></ul></blockquote><h4 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h4><blockquote><ol><li><p>Mapå’ŒCollectionæ²¡æœ‰ç»§æ‰¿å…³ç³»</p></li><li><p>Mapé›†åˆä»¥é”®å€¼å¯¹æ”¾å•Šæ˜¯å­˜å‚¨</p><p> key,valueéƒ½æ˜¯å¼•ç”¨ç±»å‹</p></li></ol></blockquote><h5 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h5><ul><li>V put(K key, V value) æ–°å¢</li><li>V get(Object key) é€šè¿‡keyè·å–value</li><li>void clear() æ¸…ç©ºMapé›†åˆ</li><li>boolean containsKey(Object key) åˆ¤æ–­Mapä¸­æ˜¯å¦åŒ…å«æŸä¸ªkey</li><li>boolean containsValue(Object value)  åˆ¤æ–­Mapä¸­æ˜¯å¦åŒ…å«æŸä¸ªvalue</li><li>isEmpty() åˆ¤æ–­Mapé›†åˆä¸­å…ƒç´ ä¸ªæ•°æ˜¯å¦ä¸º0</li><li>Set&lt;K&gt; keyset() è·å–Mapé›†åˆä¸­æ‰€æœ‰çš„valueï¼ˆæ‰€æœ‰çš„é”®æ˜¯ä¸€ä¸ªseté›†åˆï¼‰</li><li>V remove(Object key) é€šè¿‡keyåˆ é™¤é”®å€¼å¯¹</li><li>int size() è¿”å›é›†åˆä¸­é”®å€¼å¯¹çš„ä¸ªæ•°</li><li>Collection&lt;V&gt; values() è·å–Mapé›†åˆä¸­æ‰€æœ‰çš„valueï¼Œè¿”å›ä¸€ä¸ªCollection</li><li>Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet() å°†Mapé›†åˆè½¬Seté›†åˆ</li></ul><h5 id="Mapå¯¹è±¡çš„éå†"><a href="#Mapå¯¹è±¡çš„éå†" class="headerlink" title="Mapå¯¹è±¡çš„éå†"></a>Mapå¯¹è±¡çš„éå†</h5><ol><li><p>é€šè¿‡éå†key,æ¥è·å–æ•°æ®</p><p> getKeys, å†éå†å¾—åˆ°keyï¼Œä½¿ç”¨ get(key)è·å–å€¼</p></li><li><p>é€šè¿‡ entrySet,å†ä½¿ç”¨ foreach</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€‚åˆå¤§æ•°æ®é‡</span></span><br><span class="line">HashMap&lt;String,String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">map.put(<span class="string">&quot;1&quot;</span>, <span class="string">&quot;å¼ ä¸‰ä¸‰&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;2&quot;</span>, <span class="string">&quot;ææ€æ€&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;3&quot;</span>, <span class="string">&quot;ç‹äº”äº”&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;4&quot;</span>, <span class="string">&quot;äº”å…­ä¸ƒ&quot;</span>);</span><br><span class="line">Set&lt;Map.Entry&lt;String,String&gt;&gt; map2 = map.entrySet();</span><br><span class="line"><span class="keyword">for</span> (Map.Entry item: map2) &#123;</span><br><span class="line">    System.out.println(item.getValue());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="Properties"><a href="#Properties" class="headerlink" title="Properties"></a>Properties</h4><blockquote><p>é”®å€¼å¯¹é™åˆ¶ä¸ºStringç±»å‹</p></blockquote><h4 id="å¢å¼ºforå¾ªç¯"><a href="#å¢å¼ºforå¾ªç¯" class="headerlink" title="å¢å¼ºforå¾ªç¯"></a>å¢å¼ºforå¾ªç¯</h4><blockquote><p>foreach,ç¼ºç‚¹æ˜¯æ²¡æœ‰ä¸‹æ ‡</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(<span class="type">int</span> item: arr) &#123;</span><br><span class="line">    System.out.println(<span class="string">&#x27;item:&#x27;</span>, item)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h4><blockquote><p>æ˜¯æ•°ç»„å’Œå•é“¾è¡¨çš„ç»“åˆä½“ï¼Œå……åˆ†å‘æŒ¥å„è‡ªçš„æœ‰ç‚¹</p></blockquote><h4 id="é›†åˆå·¥å…·ç±»"><a href="#é›†åˆå·¥å…·ç±»" class="headerlink" title="é›†åˆå·¥å…·ç±»"></a>é›†åˆå·¥å…·ç±»</h4><blockquote><p>java.util.Collections é›†åˆå·¥å…·ç±»ï¼Œæ–¹ä¾¿æ“ä½œ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å˜æˆçº¿ç¨‹å®‰å…¨çš„</span></span><br><span class="line">Collection.synchronizedList(list)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ’åº, å¯¹list é›†åˆç»è¡Œæ’åºè¦ä¿è¯ï¼Œlisté›†åˆä¸­çš„å…ƒç´ å®ç°äº†ï¼šComparable æ¥å£</span></span><br><span class="line">Collection.sort(list)</span><br></pre></td></tr></table></figure><h4 id="æ³›å‹æœºåˆ¶"><a href="#æ³›å‹æœºåˆ¶" class="headerlink" title="æ³›å‹æœºåˆ¶"></a>æ³›å‹æœºåˆ¶</h4><blockquote><p>ç¼–è¯‘æœŸé—´çš„æ–°ç‰¹æ€§ï¼Œjdk5æ–°å¢</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Cat,bird ç±»ç»§æ‰¿ Animalç±»</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"><span class="type">Bird</span> <span class="variable">bird</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bird</span>();</span><br><span class="line"><span class="comment">// ä¸ä½¿ç”¨æ³›å‹</span></span><br><span class="line"><span class="type">List</span> <span class="variable">myList</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"><span class="comment">// ä½¿ç”¨æ³›å‹ï¼ŒæŒ‡å®šæ³›å‹åé›†åˆåªèƒ½æ”¾ Animal ç±»å‹</span></span><br><span class="line">List&lt;Animal&gt; myList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line"></span><br><span class="line">myList.add(cat);</span><br><span class="line">myList.add(bird);</span><br><span class="line"><span class="comment">// ä¸ä½¿ç”¨æ³›å‹</span></span><br><span class="line"><span class="type">Iterator</span> <span class="variable">it</span> <span class="operator">=</span> myList.iterator();</span><br><span class="line"><span class="comment">// ä½¿ç”¨æ³›å‹</span></span><br><span class="line">Iterator&lt;Animal&gt; it = myList.iterator();</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">    <span class="comment">// ä¸ä½¿ç”¨æ³›å‹ï¼Œæ­¤æ—¶è¿”å›çš„ç±»å‹æ˜¯Object</span></span><br><span class="line">    <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> it.next()</span><br><span class="line">    <span class="comment">// ä½¿ç”¨æ³›å‹, æ­¤æ—¶å¯ä»¥è°ƒç”¨Animalçš„æ–¹æ³•</span></span><br><span class="line">    <span class="type">Animal</span> <span class="variable">obj</span> <span class="operator">=</span> it.next()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="è‡ªåŠ¨ç±»å‹æ¨æ–­æœºåˆ¶"><a href="#è‡ªåŠ¨ç±»å‹æ¨æ–­æœºåˆ¶" class="headerlink" title="è‡ªåŠ¨ç±»å‹æ¨æ–­æœºåˆ¶"></a>è‡ªåŠ¨ç±»å‹æ¨æ–­æœºåˆ¶</h5><blockquote><p>jdk8æ–°å¢ï¼Œåˆç§°é’»çŸ³è¡¨è¾¾å¼</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å³è¾¹çš„ &lt;&gt; å¯ä»¥çœç•¥</span></span><br><span class="line">List&lt;Anamal&gt; myList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br></pre></td></tr></table></figure><h5 id="è‡ªå®šä¹‰æ³›å‹"><a href="#è‡ªå®šä¹‰æ³›å‹" class="headerlink" title="è‡ªå®šä¹‰æ³›å‹"></a>è‡ªå®šä¹‰æ³›å‹</h5><blockquote><p>myType æ˜¯ä¸€ä¸ªæ ‡è¯†ç¬¦éšä¾¿å‘½åï¼Œjavaæºä»£ç ä¸€èˆ¬ç”¨Tï¼ŒE</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &lt;myType&gt;&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSome</span><span class="params">(myType o)</span> &#123;</span><br><span class="line">        System.out.println(o);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Test&lt;<span class="type">int</span>&gt; int1 = <span class="keyword">new</span> <span class="title class_">Test</span>&lt;&gt;();</span><br><span class="line">        int1.doSome(<span class="number">1</span>);<span class="comment">// æ­¤å¤„åªèƒ½ä¼  int ç±»å‹</span></span><br><span class="line">        </span><br><span class="line">         Test&lt;String&gt; str1 = <span class="keyword">new</span> <span class="title class_">Test</span>&lt;&gt;();</span><br><span class="line">        str1.doSome(<span class="number">1</span>);<span class="comment">// æ­¤å¤„åªèƒ½ä¼  String ç±»å‹</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="IOæµ"><a href="#IOæµ" class="headerlink" title="IOæµ"></a>IOæµ</h3><blockquote><p>æ–‡ä»¶çš„è¾“å…¥ï¼ˆç¡¬ç›˜-&gt;å†…å­˜ï¼‰å’Œè¾“å‡ºï¼ˆå†…å­˜-&gt;ç¡¬ç›˜ï¼‰ã€‚é€šè¿‡IOå¯ä»¥å®Œæˆç¡¬ç›˜æ–‡ä»¶çš„è¯»å’Œå†™</p></blockquote><ul><li>å­—èŠ‚æµï¼šæ¯æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚ï¼Œå•¥ç±»å‹éƒ½èƒ½è¯»å–</li><li>å­—ç¬¦æµï¼šæ¯æ¬¡è¯»å–ä¸€ä¸ªå­—ç¬¦ï¼Œè¿™ç§æµæ˜¯ä¸ºäº†æ–¹ä¾¿è¯»å–æ™®é€šæ–‡ä»¶å­˜åœ¨çš„ã€‚å¦‚ï¼š.text</li></ul><h5 id="IOæµçš„å››å¤§å®¶æ—"><a href="#IOæµçš„å››å¤§å®¶æ—" class="headerlink" title="IOæµçš„å››å¤§å®¶æ—"></a>IOæµçš„å››å¤§å®¶æ—</h5><ol><li>java.io.InputStream    å­—èŠ‚è¾“å…¥æµ</li><li>java.io.OutPutStream   å­—èŠ‚è¾“å‡ºæµ</li><li>java.io.Reader    å­—ç¬¦è¾“å…¥æµ</li><li>java.io.Writer    å­—ç¬¦è¾“å‡ºæµ</li></ol><blockquote><ul><li><p>æ–¹æ³•åä»¥ <strong>Stream ç»“å°¾</strong>çš„éƒ½æ˜¯å­—èŠ‚æµã€‚</p></li><li><p>å››å¤§å®¶æ—é¦–é¢†éƒ½æ˜¯æŠ½è±¡ç±»ã€‚</p></li><li><p>æ‰€æœ‰æµéƒ½æœ‰closeæ–¹æ³•</p></li><li><p>æ‰€æœ‰è¾“å‡ºæµéƒ½æ˜¯å¯åˆ·æ–°çš„ï¼ˆå®ç°äº†java.io.Flushableï¼‰åˆ·æ–°çš„ä½œç”¨å°±æ˜¯æ¸…ç©ºç®¡é“ï¼Œæœ€ç»ˆè¾“å‡ºå®Œè®°å¾—è°ƒä¸€ä¸‹</p></li></ul></blockquote><p>6ç§ç±»å‹çš„æµï¼š</p><ul><li><p>File æ–‡ä»¶ä¸“å±</p><ul><li><p>*FileInputStream</p><blockquote><p>read() è¯»</p><p>available() å‰©ä½™å¤šå°‘å­—èŠ‚æœªè¯»</p><p>skip()  è·³è¿‡å¤šå°‘å­—èŠ‚ä¸è¯»</p></blockquote>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­—èŠ‚è¯»å–</span></span><br><span class="line"><span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;data.text&quot;</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">readCount</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> (readCount != -<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="comment">// å¯ä»¥ä¸€æ¬¡è¯»5ä¸ªå­—èŠ‚</span></span><br><span class="line">    <span class="comment">// byte[] bytes = new byte[4];</span></span><br><span class="line">    <span class="comment">// ä¸€æ¬¡è¯»å®Œï¼Œä¸é€‚åˆå¤§æ–‡ä»¶</span></span><br><span class="line">    <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[fis.available()];</span><br><span class="line">    </span><br><span class="line">    readCount = fis.read(bytes);</span><br><span class="line">    <span class="keyword">if</span> (readCount &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// å°†byteè½¬å­—ç¬¦ä¸²</span></span><br><span class="line">        System.out.println(<span class="string">&quot;str = &quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(bytes,<span class="number">0</span>,readCount));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">fis.close();</span><br></pre></td></tr></table></figure></li><li><p>*FileOutPutStream </p><blockquote><p>write(æ–‡ä»¶å, è¿½åŠ æ¨¡å¼)</p><p>flush() æ¸…ç©ºè¿æ¥ç®¡é“</p></blockquote>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬äºŒå‚æ•° true è¡¨ç¤ºè¿½åŠ ï¼Œä¸æ˜¯é‡å†™</span></span><br><span class="line"><span class="type">FileOutputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;data.text&quot;</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="type">byte</span>[] bt = &#123;<span class="number">100</span>, <span class="number">120</span>,<span class="number">110</span>,<span class="number">111</span>&#125;;</span><br><span class="line"><span class="comment">// å­—ç¬¦ä¸²è½¬byteåœ¨å†™å…¥</span></span><br><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;æˆ‘æ˜¯ä¸€ä¸ªä¸­å›½äºº&quot;</span>;</span><br><span class="line"><span class="type">byte</span>[] bs = s.getBytes();</span><br><span class="line">fis.write(bt);</span><br><span class="line">fis.write(bs);</span><br><span class="line">fis.flush();</span><br><span class="line">fis.close();</span><br></pre></td></tr></table></figure><p>  <strong>æ–‡ä»¶çš„å¤åˆ¶</strong></p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">fis = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(getPath(<span class="string">&quot;data.text&quot;</span>));</span><br><span class="line">fos = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:/javaSE/daySE01/data1.text&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ ¸å¿ƒï¼šè¾¹å†™è¾¹è¯»</span></span><br><span class="line"><span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>*<span class="number">1024</span>];<span class="comment">// æœ€å¤šæ‹·è´1M</span></span><br><span class="line"><span class="type">int</span> <span class="variable">readCount</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> ((readCount = fis.read(bytes)) != -<span class="number">1</span>) &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;readCount = &quot;</span> + readCount);</span><br><span class="line">    fos.write(bytes, <span class="number">0</span>, readCount);</span><br><span class="line">&#125;</span><br><span class="line">fos.flush();</span><br><span class="line"></span><br><span class="line">fis.close();</span><br><span class="line">fos.close();</span><br></pre></td></tr></table></figure></li><li><p>FileReader</p><blockquote><p>æ–‡ä»¶å­—ç¬¦è¾“å…¥æµï¼Œåªèƒ½è¯»å–æ™®é€šæ–‡æœ¬</p></blockquote>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">fr = <span class="keyword">new</span> <span class="title class_">FileReader</span>(getPath(<span class="string">&quot;data.text&quot;</span>));</span><br><span class="line"><span class="type">char</span>[] chars = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">4</span>];</span><br><span class="line"><span class="type">int</span> <span class="variable">readCount</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> ((readCount = fr.read(chars)) != -<span class="number">1</span>) &#123;</span><br><span class="line">    System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(bytes, <span class="number">0</span>, readCount));</span><br><span class="line">&#125;</span><br><span class="line">fr.close();</span><br></pre></td></tr></table></figure></li><li><p>FileWriter</p><blockquote><p>æ–‡ä»¶å­—ç¬¦è¾“å‡ºæµï¼Œåªèƒ½å†™åˆ°æ™®é€šæ–‡æœ¬()èƒ½ç”¨è®°äº‹æœ¬æ‰“å¼€çš„éƒ½æ˜¯æ™®é€šæ–‡æœ¬</p></blockquote>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">out = <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\data.text&quot;</span>, <span class="literal">true</span>);</span><br><span class="line"><span class="type">char</span>[] charts = &#123;<span class="string">&#x27;æˆ‘&#x27;</span>,<span class="string">&#x27;æ˜¯&#x27;</span>,<span class="string">&#x27;è°&#x27;</span>,<span class="string">&#x27;?&#x27;</span>&#125;;</span><br><span class="line">out.write(charts);</span><br><span class="line">out.write(<span class="string">&quot;æˆ‘æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚&quot;</span>);</span><br><span class="line">out.flush();</span><br><span class="line">out.close();</span><br></pre></td></tr></table></figure><p>  <strong>å¤åˆ¶æ–‡ä»¶</strong></p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="type">FileReader</span> <span class="variable">in</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">out = <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\data.text&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">in = <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\target.text&quot;</span>);</span><br><span class="line"><span class="type">char</span>[] charts = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">1024</span>*<span class="number">512</span>];<span class="comment">// é™åˆ¶1M</span></span><br><span class="line"><span class="type">int</span> <span class="variable">readCount</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">while</span> ((readCount = in.read(charts)) != -<span class="number">1</span>) &#123;</span><br><span class="line">    out.write(charts, <span class="number">0</span>, readCount);</span><br><span class="line">&#125;</span><br><span class="line">out.flush();</span><br><span class="line">in.close();</span><br><span class="line">out.close();</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Buffered  ç¼“å†²æµ ã€ä¸éœ€è¦æŒ‡å®šchar,byte ç¼“å†²å­—ç¬¦ã€‘</p><ul><li><p>BufferedInputStream</p></li><li><p>BufferedOutPutStream   </p></li><li><p>BufferedReader</p><blockquote><p>BufferedReader(Reader) åªèƒ½ä¼ å…¥å­—ç¬¦æµ</p><p>readLine() è¯»å–ä¸€è¡Œå­—ç¬¦</p></blockquote>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\data.text&quot;</span>);</span><br><span class="line"></span><br><span class="line">FileInputStream</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“ä¸€ä¸ªæµæ„é€ æ–¹æ³•éœ€è¦ä¼ å…¥ä¸€ä¸ªæµæ—¶ï¼šè¢«ä¼ å…¥çš„æµå«åšèŠ‚ç‚¹æµ fr</span></span><br><span class="line"><span class="comment">// å¤–éƒ¨è´Ÿè´£åŒ…è£…çš„æµï¼Œå«åšåŒ…è£…æµ/å¤„ç†æµ br</span></span><br><span class="line"><span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(fr);</span><br><span class="line"><span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">while</span> ((rs = br.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">    System.out.println(rs);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// èŠ‚ç‚¹æµä¸éœ€è¦æ‰‹åŠ¨å…³é—­ï¼Œä¼šè‡ªåŠ¨å…³é—­</span></span><br><span class="line">br.close();</span><br></pre></td></tr></table></figure></li><li><p>BufferedWriter</p><blockquote></blockquote>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\data.text&quot;</span>,<span class="literal">true</span>)));</span><br><span class="line">bw.write(<span class="string">&quot;xxx&quot;</span>);</span><br><span class="line">bw.flush();</span><br><span class="line">bw.close();</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Data  æ•°æ®æµ</p><blockquote><p>DataOutPutStream å†™å…¥æ•°æ®ï¼Œåªèƒ½ç”¨  DataOutPutStream æŒ‰å†™å…¥é¡ºåºè¯»å–æŒ‡å®šç±»å‹ï¼Œæ‰èƒ½æ­£å¸¸å»é™¤æ•°æ®</p></blockquote><ul><li><p>*DataInputStream</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DataInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\data2.text&quot;</span>));</span><br><span class="line">System.out.println(in.readBoolean());</span><br><span class="line">System.out.println(in.read());</span><br><span class="line">System.out.println(in.readUTF());</span><br><span class="line">System.out.println(in.readChar());</span><br><span class="line"></span><br><span class="line">in.close();</span><br></pre></td></tr></table></figure></li><li><p>*DataOutPutStream</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">DataOutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\data2.text&quot;</span>));</span><br><span class="line"></span><br><span class="line"><span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">b</span> <span class="operator">=</span> <span class="string">&quot;b&quot;</span>;</span><br><span class="line"><span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&#x27;c&#x27;</span>;</span><br><span class="line"></span><br><span class="line">out.writeBoolean(flag);</span><br><span class="line">out.write(a);</span><br><span class="line">out.writeUTF(b);</span><br><span class="line">out.writeChar(c);</span><br><span class="line">out.flush();</span><br><span class="line">out.close();</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Print  æ ‡å‡†è¾“å‡ºæµ</p><ul><li><p>PrintWriter</p></li><li><p>PrintStream</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;xxx&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°†æ ‡å‡†è¾“å‡ºæµæ–¹å‘ä¿®æ”¹åˆ° log æ–‡ä»¶, æ ‡å‡†è¾“å‡ºæµä¸éœ€è¦å…³é—­</span></span><br><span class="line"><span class="type">PrintStream</span> <span class="variable">printStream</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\log.text&quot;</span>, <span class="literal">true</span>));</span><br><span class="line">printStream.println(<span class="string">&quot;æ—¥å¿—1&quot;</span>);</span><br><span class="line">printStream.println(<span class="string">&quot;æ—¥å¿—2&quot;</span>);</span><br></pre></td></tr></table></figure></li></ul></li><li><p>Object  å¯¹è±¡ä¸“å±æµ</p><blockquote><p><strong>åºåˆ—åŒ–</strong>ï¼šå°†å†…å­˜ä¸­çš„javaå¯¹è±¡ä¸€å—ä¸€å—çš„å†™å…¥åˆ°ç¡¬ç›˜æ–‡ä»¶çš„è¿‡ç¨‹</p><p><strong>ååºåˆ—åŒ–</strong>ï¼šå°†ç¡¬ç›˜ä¸Šçš„ç¢ç‰‡æ•°æ®åœ¨å†…å­˜ä¸­æ¢å¤æˆå¯¹è±¡</p><p>å¯¹è±¡è¦æƒ³å‚ä¸åºåˆ—åŒ–ï¼Œéœ€è¦å®ç° Serializable æ¥å£</p><p> <strong>Serializable æ¥å£</strong>:</p><p>â€‹    è¿™æ˜¯ä¸€ä¸ªæ ‡å¿—æ¥å£ï¼Œé‡Œè¾¹å•¥ä¹Ÿæ²¡æœ‰.å®ç°è¿™ä¸ªæ¥å£çš„ç±» javaè™šæ‹Ÿæœºä¼šæä¾›ä¸€ä¸ªåºåˆ—åŒ–ç‰ˆæœ¬å·ã€‚ã€å°†ä¸€ä¸ªå¯¹è±¡åºåˆ—åŒ–åï¼Œå¦‚æœä¹‹åç±»å‘ç”Ÿäº†å˜åŒ–ï¼Œåˆ™åè¾¹æƒ³ååºåˆ—åŒ–å¯¹è±¡å°±ä¼šæŠ¥é”™ã€‘</p><p><strong>åºåˆ—åŒ–ç‰ˆæœ¬å·çš„ä½œç”¨ï¼Ÿ</strong></p><p>â€‹    JavaåŒºåˆ†ä¸€ä¸ªç±»ï¼Œå…ˆæ¯”è¾ƒç±»åï¼Œå†æ¯”è¾ƒåºåˆ—åŒ–ç‰ˆæœ¬å·</p><p><strong>è‡ªåŠ¨ç”Ÿæˆåºåˆ—åŒ–çš„ç¼ºé™·</strong></p><p>â€‹    å‡ å¹´å‰åºåˆ—åŒ–çš„ä¸€ä¸ªå¯¹è±¡ï¼Œåç»­ä¸èƒ½æ›´æ”¹ä»£ç ã€‚å¦åˆ™å‡ å¹´å‰åºåˆ—åŒ–çš„å¯¹è±¡ä¸èƒ½ååºåˆ—åŒ–å›æ¥</p><p><strong>ä¸€æ¬¡åºåˆ—åŒ–å¤šä¸ªå¯¹è±¡</strong>ï¼š ä½¿ç”¨é›†åˆæŠŠå¤šä¸ªå¯¹è±¡è£…è¿›å»ï¼Œé›†åˆä¸å…¶ä¸­å¯¹è±¡éƒ½éœ€è¦å®ç° Serializable æ¥å£</p><p><strong>ç»“è®ºï¼šå‡¡æ˜¯å®ç°Serializable æ¥å£çš„ç±»åº”è¯¥æ‰‹åŠ¨è®¾ç½®ï¼Œä¸åœ¨æ”¹å˜</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Test implemtnts Serializable &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><ul><li><p>ObjectInputStream</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ååºåˆ—åŒ–</span></span><br><span class="line">oos = <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\student&quot;</span>));</span><br><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> oos.readObject();</span><br><span class="line">System.out.println(<span class="string">&quot;obj = &quot;</span> + obj);</span><br><span class="line">oos.close();</span><br></pre></td></tr></table></figure></li><li><p>ObjectOutPutStream</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åºåˆ—åŒ–</span></span><br><span class="line"><span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;www&quot;</span>, <span class="number">16</span>);</span><br><span class="line"><span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">oos = <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\student&quot;</span>));</span><br><span class="line">oos.writeObject(s);</span><br><span class="line">oos.flush();</span><br><span class="line">oos.close();</span><br></pre></td></tr></table></figure><p>  å¦‚æœæŸä¸ªå¯¹è±¡ä¸­çš„å±æ€§ä¸å¸Œæœ›å‚ä¸åºåˆ—åŒ–å¯ä»¥ä½¿ç”¨ å±æ€§ä¿®é¥°ç¬¦ï¼štransient</p></li></ul></li><li><p>è½¬æ¢æµï¼ˆå°†å­—èŠ‚æµ-&gt; å­—ç¬¦æµï¼‰</p><ul><li><p>InputStreamReader</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="type">InputStreamReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­—èŠ‚æµ</span></span><br><span class="line">in= <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\data.text&quot;</span>);</span><br><span class="line"><span class="comment">// å­—èŠ‚æµ =&gt; å­—ç¬¦æµ</span></span><br><span class="line">reader = <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(in);</span><br></pre></td></tr></table></figure></li><li><p>OutPutStreamWriter</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\data.text&quot;</span>,<span class="literal">true</span>)));</span><br></pre></td></tr></table></figure></li></ul></li></ul><h4 id="é€šè¿‡properties-è¯»å–é…ç½®æ–‡ä»¶ä¿¡æ¯"><a href="#é€šè¿‡properties-è¯»å–é…ç½®æ–‡ä»¶ä¿¡æ¯" class="headerlink" title="é€šè¿‡properties è¯»å–é…ç½®æ–‡ä»¶ä¿¡æ¯"></a>é€šè¿‡properties è¯»å–é…ç½®æ–‡ä»¶ä¿¡æ¯</h4><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">username=www</span><br><span class="line">password=123</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">FileReader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;D:\\javaSE\\daySE01\\src\\data2.text&quot;</span>);</span><br><span class="line"><span class="type">Properties</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">p.load(reader);</span><br><span class="line">System.out.println(p.getProperty(<span class="string">&quot;username&quot;</span>));</span><br><span class="line">System.out.println(p.getProperty(<span class="string">&quot;password&quot;</span>));</span><br></pre></td></tr></table></figure><h4 id="Java-io-File-ç±»"><a href="#Java-io-File-ç±»" class="headerlink" title="Java.io.File ç±»"></a>Java.io.File ç±»</h4><blockquote><p>FIle ç±»ä¸æµæ— å…³ï¼Œä¸èƒ½è¯»å†™ï¼ŒFile å¯¹è±¡è¡¨ç¤º <strong>æ–‡ä»¶å’Œç›®å½•</strong>çš„æŠ½è±¡å½¢å¼ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»º File,</span></span><br><span class="line"><span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/myTest&quot;</span>);</span><br><span class="line"><span class="comment">// ä¸å­˜åœ¨ä»¥æ–‡ä»¶å½¢å¼åˆ›å»º</span></span><br><span class="line"><span class="keyword">if</span> (!f1.exists()) &#123;</span><br><span class="line">    f1.createNewFile();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¸å­˜åœ¨ä»¥ç›®å½•å½¢å¼åˆ›å»º</span></span><br><span class="line"><span class="keyword">if</span>(!f1.exists()) &#123;</span><br><span class="line">    f1.mkdir();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºå¤šé‡ç›®å½•</span></span><br><span class="line"><span class="type">File</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/myTest/day01/module1/one&quot;</span>);</span><br><span class="line"><span class="keyword">if</span>(!f2.exists()) &#123;</span><br><span class="line">    f2.mkdirs();</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">File</span> <span class="variable">f3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/myTest/day01/module1&quot;</span>);</span><br><span class="line"><span class="comment">// è·å–çˆ¶çº§ç›®å½•</span></span><br><span class="line"><span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> f3.getParent();</span><br><span class="line"><span class="comment">// è·å–çˆ¶çº§ç»å¯¹è·¯å¾„</span></span><br><span class="line">f3.getParentFile().getAbsolutePath();</span><br></pre></td></tr></table></figure><h5 id="å¸¸ç”¨æ–¹æ³•-1"><a href="#å¸¸ç”¨æ–¹æ³•-1" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h5><ul><li>isFile  åˆ¤æ–­æ˜¯å¦æ–‡ä»¶</li><li>isDirectory  åˆ¤æ–­æ˜¯å¦ç›®å½•</li><li>getName  è·å–æ–‡ä»¶å</li><li>lastModified  è·å–ä¸Šæ¬¡ä¿®æ”¹æ—¶é—´</li><li>length  è·å–æ–‡ä»¶å¤§å°</li><li>listFile  è·å–å½“å‰ç›®å½•ä¸‹æ‰€æœ‰å­æ–‡ä»¶</li></ul><h3 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h3><blockquote><p><strong>ä»€ä¹ˆå¼è¿›ç¨‹ï¼Ÿçº¿ç¨‹?</strong></p><p>è¿›ç¨‹æ˜¯ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼ˆè¿›ç¨‹å¯ä»¥å¯åŠ¨å¤šä¸ªçº¿ç¨‹ï¼‰</p><p>çº¿ç¨‹æ˜¯ä¸€ä¸ªè¿›ç¨‹çš„ä¸­çš„æ‰§è¡Œåœºæ™¯/æ‰§è¡Œå•å…ƒ</p></blockquote><h4 id="è¿›ç¨‹ï¼Œçº¿ç¨‹å…³ç³»"><a href="#è¿›ç¨‹ï¼Œçº¿ç¨‹å…³ç³»" class="headerlink" title="è¿›ç¨‹ï¼Œçº¿ç¨‹å…³ç³»"></a>è¿›ç¨‹ï¼Œçº¿ç¨‹å…³ç³»</h4><blockquote><p>è¿›ç¨‹Aå’Œè¿›ç¨‹Bå†…å­˜ç‹¬ç«‹ä¸å…±äº«</p><p>çº¿ç¨‹Aå’ŒBï¼Œå †å†…å­˜å’Œæ–¹æ³•åŒºå…±äº«ï¼Œæ ˆå†…å­˜ç‹¬ç«‹</p></blockquote><h4 id="çœŸæ­£çš„å¤šçº¿ç¨‹å¹¶å‘"><a href="#çœŸæ­£çš„å¤šçº¿ç¨‹å¹¶å‘" class="headerlink" title="çœŸæ­£çš„å¤šçº¿ç¨‹å¹¶å‘"></a>çœŸæ­£çš„å¤šçº¿ç¨‹å¹¶å‘</h4><blockquote><p>t1çº¿ç¨‹æ‰§è¡Œt1,t2çº¿ç¨‹æ‰§è¡Œt2.ä¸¤è€…ä¸ä¼šç›¸äº’å½±å“ã€‚è¿™å«åšçœŸæ­£çš„å¹¶å‘</p><p>å•æ ¸CPU ä¸èƒ½åšåˆ°çœŸæ­£çš„å¤šçº¿ç¨‹å¹¶å‘ï¼Œä½†å¯ä»¥åšåˆ°ç»™äººå¤šçº¿ç¨‹å¹¶å‘çš„ æ„Ÿè§‰ã€</p></blockquote><h4 id="å®çº¿çº¿ç¨‹çš„æ–¹å¼"><a href="#å®çº¿çº¿ç¨‹çš„æ–¹å¼" class="headerlink" title="å®çº¿çº¿ç¨‹çš„æ–¹å¼"></a>å®çº¿çº¿ç¨‹çš„æ–¹å¼</h4><ol><li><p>ç¼–å†™ä¸€ä¸ªç±»ç›´æ¥ç»§æ‰¿java.lang.Thread, é‡å†™runæ–¹æ³•</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">td</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        <span class="comment">// å¯åŠ¨çº¿ç¨‹.åœ¨JVMä¸­å¼€å¯ä¸€ä¸ªæ–°çš„æ ˆç©ºé—´ï¼Œstartæ–¹æ³•å°±ç»“æŸäº†ã€‚ ç›´æ¥è°ƒç”¨runæ–¹æ³•ä¸ä¼šå¼€è¾Ÿæ–°ç©ºé—´å¼€å¯çº¿ç¨‹</span></span><br><span class="line">        td.start();</span><br><span class="line">        <span class="comment">// å…¶ä»–ä»£ç </span></span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThred</span> implaments Thread &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–°çš„çº¿ç¨‹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä¸€ä¸ªç±»å®ç°java.lang.Runnableæ¥å£ (è¿™ç§æ–¹å¼æ‹“å±•æ€§å¥½)</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">            <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">            <span class="type">MyRunnable</span> <span class="variable">td</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line">            <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(td);</span><br><span class="line">            t.start();</span><br><span class="line">            <span class="comment">// å…¶ä»–ä»£ç </span></span><br><span class="line">            ...</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–°çš„çº¿ç¨‹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> åŒ¿åå†…éƒ¨ç±»æ–¹å¼</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">MyRunnable</span>() &#123;</span><br><span class="line">            run() &#123;</span><br><span class="line">                ...</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        t.start();</span><br><span class="line">        <span class="comment">// å…¶ä»–ä»£ç </span></span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>å®ç° Callable æ¥å£</p><blockquote><p>å¯ä»¥è·å–çº¿ç¨‹è¿”å›å€¼</p></blockquote> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        </span><br><span class="line">        <span class="type">FutureTask</span> <span class="variable">task</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FutureTask</span>(<span class="keyword">new</span> <span class="title class_">MyRunnable</span>()&#123;</span><br><span class="line">            <span class="keyword">public</span> Object <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throw</span> Exception &#123;</span><br><span class="line">                ...</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(task);</span><br><span class="line">        </span><br><span class="line">        t.start();</span><br><span class="line">        <span class="comment">// è·å–ç»“æœ, æ­¤å¤„ä¼šé˜»å¡</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> task.get();</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyRunnable</span> <span class="keyword">implements</span> <span class="title class_">Callable</span>  &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–°çš„çº¿ç¨‹&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"></a>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</h4><ul><li>æ–°å»ºçŠ¶æ€ï¼šåˆš new å‡ºæ¥</li><li>å°±ç»ªçŠ¶æ€ï¼šè°ƒç”¨äº† start æ–¹æ³•ï¼Œå…·æœ‰æŠ¢å¤ºCPUæ—¶é—´ç‰‡çš„æƒåˆ©</li><li>è¿è¡ŒçŠ¶æ€ï¼šå†…éƒ¨è°ƒç”¨äº† runæ–¹æ³•åè¿›å…¥ï¼Œå½“æŠ¢å¤ºçš„æ—¶é—´ç‰‡ç”¨å®Œå†æ¬¡å›åˆ°å°±ç»ªçŠ¶æ€ï¼Œå†æ¬¡æŠ¢å¤ºæ—¶é—´ç‰‡å›æ¥ç»§ç»­æ‰§è¡Œä»£ç ï¼ˆè¿™ä¸ªæ¥å›åˆ‡æ¢çŠ¶æ€çš„è¿‡ç¨‹å«åšJVMçš„è°ƒåº¦ï¼‰</li><li>é˜»å¡çŠ¶æ€ï¼šæ­¤æ—¶çº¿ç¨‹ä¼šæ”¾å¼ƒä¹‹å‰å æœ‰çš„CPUæ—¶é—´ç‰‡ï¼Œä¾‹å¦‚è¿›å…¥åˆ°é”®ç›˜è¾“å…¥ï¼Œä¼‘çœ ç­‰æ–¹æ³•</li></ul><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230209112604572.png" alt="image-20230209112604572"></p><h4 id="è·å–çº¿ç¨‹å¯¹è±¡ï¼Œåå­—"><a href="#è·å–çº¿ç¨‹å¯¹è±¡ï¼Œåå­—" class="headerlink" title="è·å–çº¿ç¨‹å¯¹è±¡ï¼Œåå­—"></a>è·å–çº¿ç¨‹å¯¹è±¡ï¼Œåå­—</h4><blockquote><p>é»˜è®¤çº¿ç¨‹åå­— Thread-n ã€nä»å¼€å§‹é€’å¢ã€‘</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line"><span class="type">MyRunnable</span> <span class="variable">td</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line"><span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(td);</span><br><span class="line"><span class="comment">// è·å–çº¿ç¨‹åå­—</span></span><br><span class="line">System.out.println(t.getName());;</span><br><span class="line"><span class="comment">// ä¿®æ”¹åå­—</span></span><br><span class="line">t.setName(<span class="string">&quot;line&quot;</span>);</span><br><span class="line">System.out.println(t.getName());;</span><br><span class="line">t.start();</span><br></pre></td></tr></table></figure><h4 id="è·å–å½“å‰çº¿ç¨‹"><a href="#è·å–å½“å‰çº¿ç¨‹" class="headerlink" title="è·å–å½“å‰çº¿ç¨‹"></a>è·å–å½“å‰çº¿ç¨‹</h4><blockquote><p>å“ªä¸ªçº¿ç¨‹åœ¨æ‰§è¡Œrunæ–¹æ³•ï¼Œå°±è·å–å“ªä¸ªçº¿ç¨‹</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Thread</span> <span class="variable">currentThread</span> <span class="operator">=</span> Thread.currentThread();</span><br></pre></td></tr></table></figure><h4 id="çº¿ç¨‹çš„sleepæ–¹æ³•"><a href="#çº¿ç¨‹çš„sleepæ–¹æ³•" class="headerlink" title="çº¿ç¨‹çš„sleepæ–¹æ³•"></a>çº¿ç¨‹çš„sleepæ–¹æ³•</h4><blockquote><p>é™æ€æ–¹æ³•(è·Ÿè°è°ƒç”¨æ²¡å…³ç³»)ï¼Œå‚æ•° æ¯«ç§’ã€‚è®©å½“å‰çº¿ç¨‹è¿›ç»„é˜»å¡çŠ¶æ€</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Thread.sleep(<span class="number">1000</span>*<span class="number">3</span>)<span class="string">&#x27;// sleep 3s</span></span><br></pre></td></tr></table></figure><h4 id="å”¤é†’çº¿ç¨‹"><a href="#å”¤é†’çº¿ç¨‹" class="headerlink" title="å”¤é†’çº¿ç¨‹"></a>å”¤é†’çº¿ç¨‹</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line"><span class="type">MyRunnable</span> <span class="variable">td</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line"><span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(td);</span><br><span class="line">t.inerrupt();</span><br></pre></td></tr></table></figure><h4 id="å¼ºè¡Œç»ˆæ­¢çº¿ç¨‹"><a href="#å¼ºè¡Œç»ˆæ­¢çº¿ç¨‹" class="headerlink" title="å¼ºè¡Œç»ˆæ­¢çº¿ç¨‹"></a>å¼ºè¡Œç»ˆæ­¢çº¿ç¨‹</h4><blockquote><p>å®¹æ˜“ä¸¢å¤±æ•°æ®ï¼Œä¸å»ºè®®ä½¿ç”¨</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line"><span class="type">MyRunnable</span> <span class="variable">td</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line"><span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(td);</span><br><span class="line">t.sopt();</span><br></pre></td></tr></table></figure><h4 id="åˆç†çš„ç»ˆæ­¢çº¿ç¨‹"><a href="#åˆç†çš„ç»ˆæ­¢çº¿ç¨‹" class="headerlink" title="åˆç†çš„ç»ˆæ­¢çº¿ç¨‹"></a>åˆç†çš„ç»ˆæ­¢çº¿ç¨‹</h4><blockquote></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">MyRunnable</span> <span class="variable">td</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line"><span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(td);</span><br><span class="line"><span class="comment">// ç»ˆæ­¢çº¿ç¨‹</span></span><br><span class="line">td.run = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">run</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–°çš„çº¿ç¨‹&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(run) &#123;</span><br><span class="line">            ...</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="çº¿ç¨‹çš„è°ƒåº¦"><a href="#çº¿ç¨‹çš„è°ƒåº¦" class="headerlink" title="çº¿ç¨‹çš„è°ƒåº¦"></a>çº¿ç¨‹çš„è°ƒåº¦</h4><blockquote><p><strong>å¸¸è§çš„çº¿ç¨‹è°ƒåº¦æ¨¡å‹</strong>ï¼ŒJavaé‡‡ç”¨ç¬¬ä¸€ç§</p><ul><li>æŠ¢å å¼è°ƒåº¦æ¨¡å‹ï¼šå“ªä¸ªçº¿ç¨‹ä¼˜å…ˆçº§é«˜ï¼Œå¼ºå¤ºCPUæ—¶é—´ç‰‡çš„æ¦‚ç‡å°±é«˜ä¸€äº›</li><li>å‡åˆ†å¼è°ƒåº¦æ¨¡å‹ï¼šå¹³å‡åˆ†é…CPUæ—¶é—´ç‰‡ï¼Œæ¯ä¸ªçº¿ç¨‹å ç”¨CPUæ—¶é—´ç‰‡é•¿åº¦ä¸€æ ·</li></ul></blockquote><h4 id="çº¿ç¨‹è°ƒåº¦ç›¸å…³æ–¹æ³•"><a href="#çº¿ç¨‹è°ƒåº¦ç›¸å…³æ–¹æ³•" class="headerlink" title="çº¿ç¨‹è°ƒåº¦ç›¸å…³æ–¹æ³•"></a>çº¿ç¨‹è°ƒåº¦ç›¸å…³æ–¹æ³•</h4><ul><li><p>setPriority(int newPriority) è®¾ç½®çº¿ç¨‹çš„ä¼˜å…ˆçº§</p></li><li><p>int getPriority()  è·å–çº¿ç¨‹ä¼˜å…ˆçº§ [1,10]ï¼Œé»˜è®¤5</p></li><li><p>static void yield()  è®©ä½ï¼Œæš‚åœå½“å‰çº¿ç¨‹è®©å…¶ä»–çº¿ç¨‹å…ˆæ‰§è¡Œï¼ˆéé˜»å¡ï¼‰ï¼Œä»è¿è¡ŒçŠ¶æ€é€€å›å°±ç»ªçŠ¶æ€</p></li><li><p>join() åˆå¹¶çº¿ç¨‹</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// tåˆå¹¶åˆ°å½“å‰çº¿ç¨‹ï¼Œå½“å‰çº¿ç¨‹å—é˜»å¡ï¼Œtçº¿ç¨‹æ‰§è¡Œç›´åˆ°ç»“æŸ</span></span><br><span class="line">t.join();</span><br></pre></td></tr></table></figure></li></ul><h4 id="çº¿ç¨‹å®‰å…¨é—®é¢˜"><a href="#çº¿ç¨‹å®‰å…¨é—®é¢˜" class="headerlink" title="çº¿ç¨‹å®‰å…¨é—®é¢˜"></a>çº¿ç¨‹å®‰å…¨é—®é¢˜</h4><blockquote><p>ä»¥ååœ¨å¼€å‘ä¸­ï¼Œæˆ‘ä»¬çš„é¡¹ç›®éƒ½æ˜¯è¿è¡Œåœ¨æœåŠ¡å™¨å½“ä¸­ï¼Œè€ŒæœåŠ¡å™¨å·²ç»å°†çº¿ç¨‹çš„å®šä¹‰ï¼Œçº¿ç¨‹å¯¹è±¡çš„åˆ›å»ºï¼Œçº¿ç¨‹çš„å¯åŠ¨ç­‰ï¼Œéƒ½å·²ç»å®ç°å®Œäº†ã€‚è¿™äº›ä»£ç æˆ‘ä»¬éƒ½ä¸éœ€è¦ç¼–å†™.<br>æœ€é‡è¦çš„æ˜¯:ä½ è¦çŸ¥é“ï¼Œä½ ç¼–å†™çš„ç¨‹åºéœ€è¦æ”¾åˆ°ä¸€ä¸ªå¤šçº¿ç¨‹çš„ç¯å¢ƒä¸‹è¿è¡Œï¼Œä½ æ›´éœ€è¦å…³æ³¨çš„æ˜¯è¿™äº›æ•°æ®åœ¨å¤šçº¿ç¨‹å¹¶å‘çš„ç¯å¢ƒä¸‹æ˜¯å¦æ˜¯å®‰å…¨çš„ã€‚(é‡ç‚¹: *<em>t</em> )</p></blockquote><p><strong>å•¥æ—¶å€™æ•°æ®ä¼šåœ¨å¤šçº¿ç¨‹å¹¶å‘å­˜åœ¨å®‰å…¨é—®é¢˜</strong></p><p>æ»¡è¶³ä»¥ä¸‹ä¸‰ä¸ªæ¡ä»¶å°±ä¼šå­˜åœ¨å®‰å…¨é—®é¢˜ï¼š</p><ul><li>å¤šçº¿ç¨‹å¹¶å‘</li><li>æœ‰æ•°æ®å…±äº«</li><li>å…±äº«æ•°æ®æœ‰ä¿®æ”¹è¡Œä¸º</li></ul><p><strong>æ€ä¹ˆè§£å†³ï¼Ÿ</strong></p><blockquote><p>çº¿ç¨‹æ’é˜Ÿæ‰§è¡Œï¼Œä¸èƒ½å¹¶å‘ã€‚ï¼ˆçº¿ç¨‹åŒæ­¥æœºåˆ¶ï¼‰</p></blockquote><p>å¼‚æ­¥ç¼–ç¨‹æ¨¡å‹ï¼šå¼‚æ­¥å°±æ˜¯å¹¶å‘</p><p>åŒæ­¥ç¼–ç¨‹æ¨¡å‹ï¼šåŒæ­¥å°±æ˜¯æ’é˜Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çº¿ç¨‹åŒæ­¥æœºåˆ¶è¯­æ³•</span></span><br><span class="line"><span class="comment">// ()ä¸­å†™ä»€ä¹ˆï¼Ÿå‡è®¾t1,t2,t3 3ä¸ªçº¿ç¨‹ï¼Œåªå¸Œæœ›t1,t2æ’é˜Ÿï¼Œt3ä¸æ’é˜Ÿã€‚ï¼ˆï¼‰ä¸­å°±å†™t1,t2å…±äº«çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡å¯¹äºt3æ¥è¯´ä¸æ˜¯å…±äº«çš„</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">withdraw</span><span class="params">()</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">    synchroized() &#123;</span><br><span class="line">    ...</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­¤æ—¶ å…±äº«å¯¹è±¡åªèƒ½æ˜¯ this</span></span><br><span class="line"><span class="keyword">public</span> synchroized <span class="keyword">void</span> <span class="title function_">withdraw</span><span class="params">()</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¡¨ç¤ºæ‰¾ç±»ğŸ”’ï¼Œç±»é”åªæœ‰ä¸€ä¸ªï¼Œåˆ›å»ºçš„å¯¹è±¡éƒ½å…±ç”¨ä¸€ä¸ª</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> synchroized <span class="keyword">void</span> <span class="title function_">withdraw</span><span class="params">()</span> &#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>ç†è§£çº¿ç¨‹åŒæ­¥é”æœºåˆ¶ ï¼šä¾‹å¦‚ğŸš¾å°±ä¸€ä¸ªğŸ•³ï¼Œä¸€ä¸ªäººä¸Šæ—¶ä¼šğŸ”’ğŸšªï¼Œç¬¬äºŒä¸ªäººå°±è¿›ä¸å»ï¼Œåªæœ‰ç­‰ç¬¬ä¸€ä¸ªäººè§£å†³å®Œæ‰“å¼€ğŸ”’å¼€ğŸšªåï¼Œç¬¬äºŒä¸ªäººæ‰èƒ½è¿›å»</strong>ï¼Œ äººå°±åƒçº¿ç¨‹ï¼Œå…±äº«çš„å¯¹è±¡å°±æ˜¯ğŸ•³</p><h4 id="æ­»é”ç°è±¡"><a href="#æ­»é”ç°è±¡" class="headerlink" title="æ­»é”ç°è±¡"></a>æ­»é”ç°è±¡</h4><p>ä¸¤ä¸ªçº¿ç¨‹t1, t2ï¼Œå…±äº«ğŸ”’s1,s2ã€‚ t1 å…ˆé” s1, å†é”s2ã€‚t2å…ˆé”s2,å†é”s1ã€‚ ç»“æœt1é”ä½s1,ç­‰å¾…s2ï¼Œt2é”ä½s2,ç­‰å¾…s1ã€‚è¿™ç§ç°è±¡å°±å«æ­»é”</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="type">Object</span> <span class="variable">o1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    <span class="type">Object</span> <span class="variable">o2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"><span class="type">MyThread1</span> <span class="variable">m1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread1</span>(o1, o2);</span><br><span class="line">    <span class="type">MyThread1</span> <span class="variable">m2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread1</span>(o1, o2);</span><br><span class="line">    m1.start();</span><br><span class="line">    m2.start();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread1</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    Object o1;</span><br><span class="line">    Object o2;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyThread</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.o1 = o1;</span><br><span class="line">        <span class="built_in">this</span>.o2 = o2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        sychonized (o1) &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            sychonized (o2) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread2</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    Object o1;</span><br><span class="line">    Object o2;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyThread</span><span class="params">(Object o1, Object o2)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.o1 = o1;</span><br><span class="line">        <span class="built_in">this</span>.o2 = o2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        sychonized (o2) &#123;</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            sychonized (o1) &#123;&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ä¸‰ç§å˜é‡"><a href="#ä¸‰ç§å˜é‡" class="headerlink" title="ä¸‰ç§å˜é‡"></a>ä¸‰ç§å˜é‡</h4><ul><li>å®ä¾‹å˜é‡ï¼šå †</li><li>é™æ€å˜é‡ï¼šæ–¹æ³•åŒº</li><li>å±€éƒ¨å˜é‡ï¼šæ ˆ</li></ul><p>å±€éƒ¨å˜é‡æ°¸è¿œä¸ä¼šæœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œå› ä¸º ä¸å…±äº«ï¼Œä¸€ä¸ªçº¿ç¨‹ä¸€ä¸ªæ ˆ</p><h4 id="å¼€å‘ä¸­å¦‚ä½•é¿å…"><a href="#å¼€å‘ä¸­å¦‚ä½•é¿å…" class="headerlink" title="å¼€å‘ä¸­å¦‚ä½•é¿å…"></a>å¼€å‘ä¸­å¦‚ä½•é¿å…</h4><blockquote><p>ä¸èƒ½ç›´æ¥ä½¿ç”¨çº¿ç¨‹å®‰å…¨çš„æ•°æ®ç±»å‹ï¼Œå¾ˆå¯¼è‡´ç¨‹åºæ‰§è¡Œæ•ˆç‡ä½</p></blockquote><ol><li>ç»é‡ä½¿ç”¨å±€éƒ¨å˜é‡ä»£æ›¿å®ä¾‹å˜é‡å’Œé™æ€å˜é‡</li><li>å¦‚æœå¿…é¡»æ˜¯å®ä¾‹å˜é‡ï¼Œå¯ä»¥è€ƒè™‘åˆ›å»ºå¤šä¸ªå¯¹è±¡ï¼Œä¸å…±äº«å†…å­˜</li><li>ä½¿ç”¨  synchroized,çº¿ç¨‹åŒæ­¥æœºåˆ¶</li></ol><h4 id="å®ˆæŠ¤çº¿ç¨‹"><a href="#å®ˆæŠ¤çº¿ç¨‹" class="headerlink" title="å®ˆæŠ¤çº¿ç¨‹"></a>å®ˆæŠ¤çº¿ç¨‹</h4><blockquote><p>å¦‚ System.gc(); ä¹Ÿå«åšåå°çº¿ç¨‹ã€‚ä¸€èˆ¬å®ˆæŠ¤çº¿ç¨‹æ˜¯æ­»å¾ªç¯ã€‚åªè¦ç”¨æˆ·çº¿ç¨‹ç»“æŸï¼Œå®ˆæŠ¤çº¿ç¨‹è‡ªåŠ¨ç»“æŸ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è‡ªå®šä¹‰å®ˆæŠ¤çº¿ç¨‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span> <span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">    <span class="comment">// è®¾ç½®æˆå®ˆæŠ¤çº¿ç¨‹</span></span><br><span class="line">    t.setDaemon(<span class="literal">true</span>);</span><br><span class="line">    t.start();</span><br><span class="line">    </span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span> <span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.print(<span class="string">&quot;æˆ‘æ˜¯å®ˆæŠ¤è€…&quot;</span>);</span><br><span class="line">            Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å®šæ—¶å™¨"><a href="#å®šæ—¶å™¨" class="headerlink" title="å®šæ—¶å™¨"></a>å®šæ—¶å™¨</h4><blockquote><p>java.util.Timer å¾ˆå°‘ç”¨ï¼Œæ¡†æ¶å¤§å¤šä¼šæä¾›å®šæ—¶ä»»åŠ¡åŠŸèƒ½</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®šæ—¶ä»»åŠ¡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Timer</span> <span class="variable">timer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Timer</span>();</span><br><span class="line">        <span class="type">SimpleDataFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDataFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">first</span> <span class="operator">=</span> sdf.parse(<span class="string">&#x27;2023-03-03&#x27;</span>);</span><br><span class="line">     timer.schedule(<span class="keyword">new</span> <span class="title class_">logTimerTask</span>(), first, <span class="number">1000</span>*<span class="number">10</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">LogTomerTsak</span> <span class="keyword">extends</span> <span class="title class_">TimerTask</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span> <span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="wait-å’Œ-notify-æ–¹æ³•"><a href="#wait-å’Œ-notify-æ–¹æ³•" class="headerlink" title="wait å’Œ notify æ–¹æ³•"></a>wait å’Œ notify æ–¹æ³•</h4><blockquote><p>å®ƒä»¬å¹¶ä¸æ˜¯çº¿ç¨‹å¯¹è±¡ä¸“å±æ–¹æ³•ï¼Œæ‰€æœ‰å¯¹è±¡éƒ½èƒ½è°ƒç”¨</p></blockquote><h5 id="wait"><a href="#wait" class="headerlink" title="wait"></a>wait</h5><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">o.await();</span><br></pre></td></tr></table></figure><p>â€‹    è®©æ­£åœ¨oå¯¹è±¡ä¸Šæ´»åŠ¨çš„çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œæ— æœŸé™ç­‰å¾…ï¼Œç™¾åˆ°è¢«å”¤é…ä¸ºæ­¢ã€‚<br>â€‹    o.wait() ;æ–¹æ³•çš„è°ƒç”¨ï¼Œä¼šè®©â€å½“å‰çº¿ç¨‹(æ­£åœ¨oå¯¹è±¡ä¸Šæ´»åŠ¨çš„çº¿ç¨‹)â€è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼Œ</p></blockquote><h5 id="notify"><a href="#notify" class="headerlink" title="notify"></a>notify</h5><blockquote><p>å”¤é†’oå¯¹è±¡ä¸Šæ²‰ç¡çš„çº¿ç¨‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">o.notify();</span><br></pre></td></tr></table></figure></blockquote><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230209164328749.png" alt="image-20230209164328749"></p><h3 id="åå°„æœºåˆ¶"><a href="#åå°„æœºåˆ¶" class="headerlink" title="åå°„æœºåˆ¶"></a>åå°„æœºåˆ¶</h3><blockquote><p>é€šè¿‡Java è¯­è¨€ä¸­çš„åå°„æœºåˆ¶å¯ä»¥æ“ä½œå­—èŠ‚ç æ–‡ä»¶ã€‚</p></blockquote><blockquote><p>ç›¸å…³åŒ…çš„ä½ç½®ï¼š java.lang.reflect.*</p><p>ç›¸å…³é‡è¦çš„ç±»</p><ul><li>java.lang.Class å­—èŠ‚ç æ–‡ä»¶</li><li>java.lang.reflect.Method å­—èŠ‚ç ä¸­çš„æ–¹æ³•</li><li>java.lang.reflect.Constructor å­—èŠ‚ç ä¸­æ„é€ æ–¹æ³•å­—èŠ‚ç </li><li>java.lang.reflect.Field å­—èŠ‚ç ä¸­å±æ€§å­—èŠ‚ç </li></ul></blockquote><h4 id="è·å–å­—èŠ‚ç çš„ä¸‰ç§æ–¹å¼"><a href="#è·å–å­—èŠ‚ç çš„ä¸‰ç§æ–¹å¼" class="headerlink" title="è·å–å­—èŠ‚ç çš„ä¸‰ç§æ–¹å¼"></a>è·å–å­—èŠ‚ç çš„ä¸‰ç§æ–¹å¼</h4><ol><li><p>java.lang.Class</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">c1</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;java.lang.String&quot;</span>);</span><br></pre></td></tr></table></figure></li><li><p>java ä¸­ä»»æ„ä¸€ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªæ–¹æ³•ï¼šgetClass()</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="comment">// x ä»£è¡¨String.class å­—èŠ‚ç æ–‡ä»¶ï¼Œxä»£è¡¨String ç±»å‹</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">x</span> <span class="operator">=</span> s.getClass();</span><br><span class="line">c1 = x;<span class="comment">// true</span></span><br></pre></td></tr></table></figure></li><li><p>javaè¯­è¨€ä¸­ä»»ä½•ä¸€ç§ç±»å‹ï¼ŒåŒ…æ‹¬åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä»–éƒ½æœ‰.classå±æ€§</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">z</span> <span class="operator">=</span> String.class;<span class="comment">// ä»£è¡¨Stringç±»å‹</span></span><br><span class="line">z==x;<span class="comment">// true</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="é€šè¿‡åå°„å®ä¾‹åŒ–å¯¹è±¡"><a href="#é€šè¿‡åå°„å®ä¾‹åŒ–å¯¹è±¡" class="headerlink" title="é€šè¿‡åå°„å®ä¾‹åŒ–å¯¹è±¡"></a>é€šè¿‡åå°„å®ä¾‹åŒ–å¯¹è±¡</h4><blockquote><p>è·å–åˆ°classèƒ½å¹²å—ï¼Ÿ</p><p>é€šè¿‡ newInstance å®ä¾‹åŒ–å¯¹è±¡ï¼Œå®é™…ä¸Šè°ƒç”¨äº†æ— å‚æ„é€ æ–¹æ³•ï¼Œå¿…é¡»ä¿è¯æ— å‚æ„é€ å­˜åœ¨ã€‚ã€æ¯”æ™®é€šæ–¹å¼çµæ´»ã€‘</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.xxx.java.bean.User&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// newInstance ä¼šè°ƒç”¨æ— å‚æ„é€ </span></span><br><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">c</span>.newInstance();</span><br></pre></td></tr></table></figure><p>å¯ä»¥åŒè¿‡é…ç½®é¡¹ï¼ŒåŠ¨æ€åŠ è½½ä¸åŒçš„ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// chapter25/classinfo.properties</span></span><br><span class="line">classNae = <span class="string">&quot;java.util.Date&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºè¯»å–æµ</span></span><br><span class="line"><span class="type">FileReader</span> <span class="variable">rd</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;chapter25/classinfo.properties&quot;</span>);</span><br><span class="line"><span class="comment">// åˆ›å»ºé›†åˆ</span></span><br><span class="line"><span class="type">Propereties</span> <span class="variable">pro</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line"><span class="comment">// åŠ è½½</span></span><br><span class="line">pro.load(rd);</span><br><span class="line"><span class="comment">// å…³é—­æµ</span></span><br><span class="line">rd.close();</span><br><span class="line"><span class="comment">// åå°„å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line"><span class="type">String</span> <span class="variable">className</span> <span class="operator">=</span> pro.getProperty(<span class="string">&#x27;className&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Class.forName(className);</span><br><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">c</span>.newInstance();</span><br></pre></td></tr></table></figure><h4 id="Class-forName-å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"><a href="#Class-forName-å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Class.forName å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"></a>Class.forName å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h4><blockquote><p>Class.forName ä¼šå¯¼è‡´ç±»åŠ è½½ã€‚<strong>å¦‚æœä½ å¸Œæœ›ä¸€ä¸ªç±»çš„é™æ€ä»£ç å—é•¿è®°æ€§ï¼Œå…¶ä»–ä¸€å¾‹ä¸æ‰§è¡Œ</strong> å¯ä»¥è¿™æ ·ä½¿ç”¨ Class.forName(className);</p></blockquote><h4 id="æ–‡ä»¶è·¯å¾„é—®é¢˜"><a href="#æ–‡ä»¶è·¯å¾„é—®é¢˜" class="headerlink" title="æ–‡ä»¶è·¯å¾„é—®é¢˜"></a>æ–‡ä»¶è·¯å¾„é—®é¢˜</h4><blockquote><p>å¤åˆ¶å¼•ç”¨çš„æ–¹å¼åªåœ¨Ideaä¸­æœ‰æ•ˆã€‚ä»£ç åœ¨å…¶ä»–ä½ç½®æ‰“å¼€å¯èƒ½ä¸ä¸€æ ·ã€‚</p></blockquote><p><strong>srcæ˜¯ç±»è·¯å¾„çš„æ ¹è·¯å¾„ï¼Œåœ¨srcä¸‹çš„éƒ½æ˜¯ç±»è·¯å¾„ï¼š</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Thread.currentThread()å½“å‰çº¿ç¨‹è·¯å¾„</span></span><br><span class="line"><span class="comment">getContextClassLoader() çº¿ç¨‹æ–¹æ³•ï¼Œå¯ä»¥è·å–å½“å‰çº¿ç¨‹çš„ç±»åŠ è½½å™¨å¯¹è±¡</span></span><br><span class="line"><span class="comment">getResource(&quot;&quot;) ã€è·å–èµ„æºã€‘ç±»åŠ è½½å™¨æ–¹æ³•ï¼Œå½“å‰ç±»åŠ è½½å™¨é»˜è®¤çš„æ ¹è·¯å¾„ã€srcã€‘ä¸‹åŠ è½½èµ„æº</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æ ¹ç±»è·¯å¾„ä½ç½®å…ˆæŠŠgetResource()æ–¹æ³•ä¸ä¼ å‚æ•°çœ‹çœ‹ï¼Œä¸åŒæ¡†æ¶å¯èƒ½ä¸ä¸€æ ·</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">æœ€ç»ˆè·å–åˆ°æ–‡ä»¶çš„ç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> Thread.currentThread().getContextClassLoader().getResource(<span class="string">&quot;com/bjpowernode/java/bean/classinfo.properties&quot;</span>).getPath();</span><br></pre></td></tr></table></figure><p><strong>ä»¥æµçš„å½¢å¼è¿”å›</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">InputStream</span> <span class="variable">rd</span> <span class="operator">=</span> Thread.currentThread().getContextClassLoader().getResourceAsStream(<span class="string">&quot;test.properties&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Properties</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    p.load(rd);</span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="type">String</span> <span class="variable">className</span> <span class="operator">=</span> p.getProperty(<span class="string">&quot;className&quot;</span>);</span><br></pre></td></tr></table></figure><h4 id="èµ„æºç»‘å®šå™¨"><a href="#èµ„æºç»‘å®šå™¨" class="headerlink" title="èµ„æºç»‘å®šå™¨"></a>èµ„æºç»‘å®šå™¨</h4><blockquote><p>java.util åŒ…ä¸‹æä¾›äº†ä¸€ä¸ªèµ„æºç»‘å®šå™¨ï¼Œä¾¿äºè·å–å±æ€§é…ç½®æ–‡ä»¶ä¸­çš„å†…å®¹</p><p>åªèƒ½ç»‘å®š xxx.properties æ–‡ä»¶,ç»‘å®šæ—¶ä¸å¸¦åç¼€ã€‚å¹¶ä¸”è¿™ä¸ªåï¼Œå¿…é¡»åœ¨ç±»è·¯å¾„ä¸‹</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ResourceBundle</span> <span class="variable">bundle</span> <span class="operator">=</span> ResourceBundle.getBundle(<span class="string">&quot;test&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">className</span> <span class="operator">=</span> bundle.getString(<span class="string">&quot;className&quot;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="åå°„å±æ€§"><a href="#åå°„å±æ€§" class="headerlink" title="åå°„å±æ€§"></a>åå°„å±æ€§</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">reflectTestFiled</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;myName&quot;</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">version</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">address</span> <span class="operator">=</span> <span class="string">&quot;com.zkrd.officialwebsite.util.reflectTestFiled&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">studentClass</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.zkrd.officialwebsite.util.reflectTestFiled&quot;</span>);</span><br><span class="line"><span class="comment">// è·å–å®Œæ•´ç±»å studentClass.getName()</span></span><br><span class="line"><span class="comment">// è·å–ç®€å•ç±»å studentClass.getSimpleName()</span></span><br><span class="line"><span class="comment">// è·å–å±æ€§ç±»å‹ studentClass.getTypeName()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ‰€æœ‰ç±»ä¸­çš„ publicä¿®é¥°çš„ Filed</span></span><br><span class="line">Field[] field = studentClass.getFields();</span><br><span class="line"><span class="type">Field</span> <span class="variable">f</span> <span class="operator">=</span> field[<span class="number">0</span>];</span><br><span class="line"><span class="comment">// å–å‡ºåå­—</span></span><br><span class="line">System.out.println(<span class="string">&quot;å–å‡º &quot;</span> + f.getName());</span><br><span class="line"><span class="comment">// è¿‡å»æ‰€æœ‰å±æ€§å</span></span><br><span class="line">Field[] fs = studentClass.getDeclaredFields();</span><br><span class="line">System.out.println(<span class="string">&quot;field = &quot;</span> + fs.length);</span><br><span class="line"><span class="keyword">for</span> (Field item: fs) &#123;</span><br><span class="line">    <span class="comment">// Modifier.toString(int type) å°† item.getModifiers() è¿”å›çš„æ•°å­—ç±»å‹è½¬æ¢ä¸ºæ–‡å­—æè¿°</span></span><br><span class="line">    System.out.println(<span class="string">&quot;ç±»å‹ï¼š &quot;</span>+ item.getType().getSimpleName() + <span class="string">&quot;å±æ€§åï¼š&quot;</span> + item.getName() + <span class="string">&quot;ä¿®é¥°ç¬¦ï¼š&quot;</span> + Modifier.toString(item.getModifiers()));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åç¼–è¯‘"><a href="#åç¼–è¯‘" class="headerlink" title="åç¼–è¯‘"></a>åç¼–è¯‘</h4><blockquote><p>é€šè¿‡åå°„æœºåˆ¶ï¼Œåç¼–è¯‘ä¸€ä¸ªç±»</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">studentClass</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    studentClass = Class.forName(<span class="string">&quot;com.zkrd.officialwebsite.util.reflectTestFiled&quot;</span>);</span><br><span class="line">&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ›å»ºå­—ç¬¦ä¸²æ‹¼æ¥ç¼“å†²</span></span><br><span class="line"><span class="type">StringBuilder</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line"></span><br><span class="line">s.append(Modifier.toString(studentClass.getModifiers()) + <span class="string">&quot; class &quot;</span> + studentClass.getSimpleName() + <span class="string">&quot; &#123;\n&quot;</span>);</span><br><span class="line">Field[] fields = studentClass.getDeclaredFields();</span><br><span class="line"><span class="keyword">for</span> (Field item: fields) &#123;</span><br><span class="line">    s.append(<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">    s.append(Modifier.toString(item.getModifiers()));</span><br><span class="line">    s.append(<span class="string">&quot; &quot;</span>+ item.getType().getSimpleName() + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    s.append(item.getName()+ <span class="string">&quot;;\n&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">s.append(<span class="string">&quot;&#125;&quot;</span>);</span><br><span class="line">System.out.println(s);</span><br></pre></td></tr></table></figure><h4 id="æ€ä¹ˆé€šè¿‡åå°„æœºåˆ¶è®¿é—®ä¸€ä¸ªJavaå¯¹è±¡çš„å±æ€§ï¼Ÿ"><a href="#æ€ä¹ˆé€šè¿‡åå°„æœºåˆ¶è®¿é—®ä¸€ä¸ªJavaå¯¹è±¡çš„å±æ€§ï¼Ÿ" class="headerlink" title="æ€ä¹ˆé€šè¿‡åå°„æœºåˆ¶è®¿é—®ä¸€ä¸ªJavaå¯¹è±¡çš„å±æ€§ï¼Ÿ"></a>æ€ä¹ˆé€šè¿‡åå°„æœºåˆ¶è®¿é—®ä¸€ä¸ªJavaå¯¹è±¡çš„å±æ€§ï¼Ÿ</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">studentClass</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.zkrd.officialwebsite.util.reflectTestFiled&quot;</span>);</span><br><span class="line"><span class="comment">// c å°±æ˜¯ reflectTestFiled å¯¹è±¡ï¼Œåº•å±‚è°ƒç”¨æ— å‚æ„é€ </span></span><br><span class="line"><span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> stydentClass.newInstance();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å– name å±æ€§</span></span><br><span class="line"><span class="type">Field</span> <span class="variable">nameField</span> <span class="operator">=</span> studentClass.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line"><span class="comment">// å¦‚æœè¦è®¿é—®çš„å±æ€§æ˜¯ç§æœ‰çš„ï¼Œéœ€è¦æ‰“ç ´å°è£…æ‰èƒ½èµ‹å€¼ ã€åˆå®‰å…¨éšæ‚£ã€‘</span></span><br><span class="line">nameField.setAccessible(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">// ç»™name èµ‹å€¼</span></span><br><span class="line">nameField.set(c, <span class="string">&quot;ä½ çš„åå­—&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="åå°„æ–¹æ³•"><a href="#åå°„æ–¹æ³•" class="headerlink" title="åå°„æ–¹æ³•"></a>åå°„æ–¹æ³•</h4><blockquote><p>æ–¹æ³•ä½“ä¸­çš„é€»è¾‘ä»£ç æ— æ³•åç¼–è¯‘</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">userClass</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.zkrd.officialwebsite.util.reflectTestFiled&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ‰€æœ‰æ–¹æ³•</span></span><br><span class="line">Method[] methods = userClass.getDeclaredMethods();</span><br><span class="line"></span><br><span class="line"><span class="comment">// éå†</span></span><br><span class="line"><span class="keyword">for</span>(Method item: methods) &#123;</span><br><span class="line">    <span class="comment">// æ–¹æ³•è¿”å›å€¼ç±»å‹</span></span><br><span class="line">    item.getReturnType();</span><br><span class="line">    <span class="comment">// è·å–æ–¹æ³•åå­—</span></span><br><span class="line">    item.getName();</span><br><span class="line">    <span class="comment">// è·å–ä¿®é¥°ç¬¦åˆ—è¡¨</span></span><br><span class="line">    Modifier.toString(item.getModifiers());</span><br><span class="line">    <span class="comment">// æ–¹æ³•å‚æ•°åˆ—è¡¨</span></span><br><span class="line">    Class[] paramsTypes = item.getParameterTypes();</span><br><span class="line">    <span class="keyword">for</span>(Class parameterType: paramsTypes) &#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="é€šè¿‡åå°„æœºåˆ¶æ€ä¹ˆè°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Ÿ"><a href="#é€šè¿‡åå°„æœºåˆ¶æ€ä¹ˆè°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Ÿ" class="headerlink" title="é€šè¿‡åå°„æœºåˆ¶æ€ä¹ˆè°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Ÿ"></a>é€šè¿‡åå°„æœºåˆ¶æ€ä¹ˆè°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Ÿ</h4><blockquote></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">userClass</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.zkrd.officialwebsite.util.reflectTestFiled&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// c å°±æ˜¯ reflectTestFiled å¯¹è±¡ï¼Œåº•å±‚è°ƒç”¨æ— å‚æ„é€ </span></span><br><span class="line"><span class="type">Object</span> <span class="variable">c</span> <span class="operator">=</span> userClass.newInstance();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–æ–¹æ³•ï¼Œ é€šè¿‡æ–¹æ³•åï¼Œå‚æ•°åˆ—è¡¨åŒºåˆ†æ–¹æ³•</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">loginMethod</span> <span class="operator">=</span> item.getDeclaredMethod(<span class="string">&quot;login&quot;</span>, String.class, String.class);</span><br><span class="line"><span class="comment">//Method loginMethod = item.getDeclaredMethod(&quot;login&quot;, int.class);</span></span><br><span class="line"><span class="comment">// è°ƒç”¨æ–¹æ³•4è¦ç´ ï¼Œå¯¹è±¡ï¼Œæ–¹æ³•åï¼Œå‚æ•°ï¼Œè¿”å›å€¼</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">retValue</span> <span class="operator">=</span> loginMethod.invoke(c, <span class="string">&quot;admin&quot;</span>, <span class="string">&quot;123&quot;</span>)</span><br></pre></td></tr></table></figure><h4 id="é€šè¿‡åå°„æœºåˆ¶åˆ›å»ºå¯¹è±¡"><a href="#é€šè¿‡åå°„æœºåˆ¶åˆ›å»ºå¯¹è±¡" class="headerlink" title="é€šè¿‡åå°„æœºåˆ¶åˆ›å»ºå¯¹è±¡"></a>é€šè¿‡åå°„æœºåˆ¶åˆ›å»ºå¯¹è±¡</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.zkrd.officialwebsite.util.reflectTestFiled&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> c.newInstance();</span><br><span class="line"><span class="comment">// è·å–æœ‰å‚æ„é€ </span></span><br><span class="line"><span class="type">Construct</span> <span class="variable">con</span> <span class="operator">=</span> c.getDelaredConstrucror(<span class="type">int</span>.class, String.class, String.class, <span class="type">boolean</span>.class);</span><br><span class="line"></span><br><span class="line">con.newInstance(<span class="number">110</span>, <span class="string">&quot;joke&quot;</span>, <span class="string">&quot;1900-10-11&quot;</span>, <span class="literal">true</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="é€šè¿‡åå°„è·å–ä¸€ä¸ªç±»çš„çˆ¶ç±»ï¼Œå·²ç»å®ç°çš„æ¥å£"><a href="#é€šè¿‡åå°„è·å–ä¸€ä¸ªç±»çš„çˆ¶ç±»ï¼Œå·²ç»å®ç°çš„æ¥å£" class="headerlink" title="é€šè¿‡åå°„è·å–ä¸€ä¸ªç±»çš„çˆ¶ç±»ï¼Œå·²ç»å®ç°çš„æ¥å£"></a>é€šè¿‡åå°„è·å–ä¸€ä¸ªç±»çš„çˆ¶ç±»ï¼Œå·²ç»å®ç°çš„æ¥å£</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.zkrd.officialwebsite.util.reflectTestFiled&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–çˆ¶ç±»</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">supClass</span> <span class="operator">=</span> c.getSuperClass();</span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–çˆ¶ç±»å®ç°çš„æ¥å£ (ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£)</span></span><br><span class="line">Class[] interfaces = c.getInterfaces();</span><br><span class="line"><span class="keyword">for</span>(Class item: interfaces) &#123;</span><br><span class="line">    System.out.println(item.getName());</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="å¯å˜é•¿åº¦å‚æ•°"><a href="#å¯å˜é•¿åº¦å‚æ•°" class="headerlink" title="å¯å˜é•¿åº¦å‚æ•°"></a>å¯å˜é•¿åº¦å‚æ•°</h4><blockquote><p>è¯­æ³•ï¼š intâ€¦ argsã€‚ æ ¹jsä¸­çš„æ‹“å±•è¿ç®—ç¬¦æœ‰ç‚¹ç±»ä¼¼</p><ul><li>å¯å˜é•¿åº¦è¦æ±‚å‚æ•°ä¸ªæ•°æ˜¯ï¼š0~N</li><li>å¯å˜é•¿åº¦å‚æ•°åªèƒ½æœ‰ä¸€ä¸ªï¼Œè€Œä¸”åªèƒ½åœ¨æœ€å</li><li>å¯å˜é•¿åº¦å¯ä»¥å½“ä½œä¸€ä¸ªæ•°ç»„å¤„ç†</li></ul></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">m1</span><span class="params">(<span class="type">int</span> a, Sting... args1)</span> &#123;&#125;</span><br></pre></td></tr></table></figure><h3 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h3><blockquote><p>æ³¨è§£Annotationæ˜¯ä¸€ç§å¼•ç”¨æ•°æ®ç±»å‹ã€‚ç¼–è¯‘ä¹‹åä¹Ÿæ˜¯ç”Ÿæˆ xxx.classæ–‡ä»¶</p><p>è¯­æ³•æ ¼å¼ï¼š</p><p>[ä¿®é¥°ç¬¦åˆ—è¡¨] @interface æ³¨è§£ç±»å‹å {}</p></blockquote><h4 id="æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿ"><a href="#æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿ" class="headerlink" title="æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿ"></a>æ³¨è§£å¯ä»¥ç”¨åœ¨ä»€ä¹ˆåœ°æ–¹ï¼Ÿ</h4><ol><li><p>æ³¨è§£ä½¿ç”¨æ—¶çš„è¯­æ³•æ ¼å¼æ˜¯ï¼š</p><p> @æ³¨è§£ç±»å‹å</p></li><li><p>æ³¨è§£å¯ä»¥å‡ºç°åœ¨ç±»ï¼Œå±æ€§ï¼Œæ–¹æ³•ï¼Œå˜é‡ä¸Šâ€¦</p><p> æ³¨è§£è¿˜å¯ä»¥å‡ºç°åœ¨æ³¨è§£ç±»å‹ä¸Š</p></li></ol><h4 id="JDKå†…ç½®çš„æ³¨è§£"><a href="#JDKå†…ç½®çš„æ³¨è§£" class="headerlink" title="JDKå†…ç½®çš„æ³¨è§£"></a>JDKå†…ç½®çš„æ³¨è§£</h4><blockquote><ul><li><p>Deprecated    </p><p>  ç”¨Deprecated æ³¨é‡Šçš„ç¨‹åºå…ƒç´ ï¼Œä¸é¼“åŠ±ç¨‹åºå‘˜ä½¿ç”¨è¿™æ ·çš„å…ƒç´ ï¼Œé€šå¸¸æ˜¯å› ä¸ºå®ƒå¾ˆå±é™©æˆ–å­˜åœ¨æ›´å¥½çš„é€‰æ‹©ã€æ­¤ä»£ç å·²è¿‡æ—¶ã€‘</p></li><li><p>Override </p><p>  è¡¨ç¤ºä¸€ä¸ªæ–¹æ³•é‡å†™ï¼Œç»™ç¼–è¯‘å™¨å‚è€ƒçš„ï¼Œè¿è¡Œæ— ç”¨</p></li></ul></blockquote><h5 id="å…ƒæ³¨è§£"><a href="#å…ƒæ³¨è§£" class="headerlink" title="å…ƒæ³¨è§£"></a>å…ƒæ³¨è§£</h5><blockquote><p>ç”¨æ¥æ ‡æ³¨â€™æ³¨è§£ç±»å‹çš„æ³¨è§£ï¼Œç§°ä¸ºå…ƒæ³¨è§£</p><p>å¸¸è§çš„å…ƒæ³¨è§£</p><ul><li><p>Target</p><p>  æ ‡ç¤ºè¢«æ³¨è§£çš„æ³¨è§£å¯ä»¥ä½¿ç”¨åœ¨å“ªäº›åœ°æ–¹</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åªèƒ½å‡ºç°åœ¨æ–¹æ³•ä¸Š</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.METHOD&#125;)</span></span><br></pre></td></tr></table></figure></li><li><p>Retention</p><p>  è¡¨ç¤ºè¢«æ³¨è§£çš„æ³¨è§£æœ€ç»ˆä¿å­˜åœ¨å“ªä¸ªä½ç½®</p>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¿å­˜åœ¨Javaæºä»£ç ä¸­</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span></span><br></pre></td></tr></table></figure></li></ul></blockquote><h4 id="å¦‚æœä¸€ä¸ªæ³¨è§£å½“ä¸­æœ‰å±æ€§ï¼Œé‚£ä¹ˆå¿…é¡»ç»™å±æ€§èµ‹å€¼-é™¤éæœ‰é»˜è®¤å€¼"><a href="#å¦‚æœä¸€ä¸ªæ³¨è§£å½“ä¸­æœ‰å±æ€§ï¼Œé‚£ä¹ˆå¿…é¡»ç»™å±æ€§èµ‹å€¼-é™¤éæœ‰é»˜è®¤å€¼" class="headerlink" title="å¦‚æœä¸€ä¸ªæ³¨è§£å½“ä¸­æœ‰å±æ€§ï¼Œé‚£ä¹ˆå¿…é¡»ç»™å±æ€§èµ‹å€¼,é™¤éæœ‰é»˜è®¤å€¼"></a>å¦‚æœä¸€ä¸ªæ³¨è§£å½“ä¸­æœ‰å±æ€§ï¼Œé‚£ä¹ˆå¿…é¡»ç»™å±æ€§èµ‹å€¼,é™¤éæœ‰é»˜è®¤å€¼</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”Ÿæˆæ³¨è§£</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyNonotation &#123;</span><br><span class="line">    <span class="comment">// name å±æ€§</span></span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span>;</span><br><span class="line">    String <span class="title function_">color</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;red&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨æ³¨è§£</span></span><br><span class="line"><span class="meta">@MyNonotation(name=&quot;å±æ€§å€¼&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSome</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœå±æ€§åæ˜¯value, å¯ä»¥çœç•¥ä¸å†™</span></span><br><span class="line"><span class="meta">@MyNonotation(&quot;å±æ€§å€¼&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSome</span><span class="params">()</span> &#123;&#125;</span><br></pre></td></tr></table></figure><h4 id="æ³¨è§£ä¸­çš„å±æ€§å¯ä»¥æ˜¯ï¼Ÿ"><a href="#æ³¨è§£ä¸­çš„å±æ€§å¯ä»¥æ˜¯ï¼Ÿ" class="headerlink" title="æ³¨è§£ä¸­çš„å±æ€§å¯ä»¥æ˜¯ï¼Ÿ"></a>æ³¨è§£ä¸­çš„å±æ€§å¯ä»¥æ˜¯ï¼Ÿ</h4><blockquote><p>byte,short,int, long,double,boolean,char,string,class,æšä¸¾ç±»å‹ã€‚ä»¥åŠä»¥ä¸Šæ¯ä¸€ç§çš„æ•°ç»„å½¢å¼</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">// æ•°ç»„å¤§æ‹¬å·, å¦‚æœæ•°ç»„åªæœ‰ä¸€é¡¹å¯ä»¥çœç•¥å¤§æ‹¬å·</span></span><br><span class="line"><span class="meta">@MyNonotation(friend = &#123;&quot;å¼ ä¸‰&quot;, &#x27;æå››&#x27;&#125;, arr = 5)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">doSome</span><span class="params">()</span> &#123;&#125;</span><br></pre></td></tr></table></figure><h4 id="åå°„æ³¨è§£"><a href="#åå°„æ³¨è§£" class="headerlink" title="åå°„æ³¨è§£"></a>åå°„æ³¨è§£</h4><blockquote><p>å¦‚æœå¸Œæœ›è¿™ä¸ªæ³¨è§£å¯ä»¥è¢«åå°„ï¼š</p><p>@Retention(Retentionpolicy.RUNTIME})</p></blockquote><p><strong>è·å–æŸä¸ªç±»ä¸Šçš„æ³¨è§£</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Class.forName(<span class="string">&#x27;xxxxx.MyAnnotation.class&#x27;</span>);</span><br><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯å¦æœ‰æ³¨è§£</span></span><br><span class="line"><span class="type">Boolean</span> <span class="variable">flag</span> <span class="operator">=</span>  c.isAnnotationPresent(MyAnnotation.class);</span><br><span class="line"><span class="keyword">if</span>(flag) &#123;</span><br><span class="line">    <span class="type">MyAnnotation</span> <span class="variable">annotation</span> <span class="operator">=</span> (MyAnnotation)c.getAnnotation(MyAnnotation.class);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è·å–æ³¨è§£ value å±æ€§</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> annotation.value();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è·å–æ–¹æ³•ä¸Šæ³¨è§£è‡ªå®šä¹‰å±æ€§çš„å€¼"><a href="#è·å–æ–¹æ³•ä¸Šæ³¨è§£è‡ªå®šä¹‰å±æ€§çš„å€¼" class="headerlink" title="è·å–æ–¹æ³•ä¸Šæ³¨è§£è‡ªå®šä¹‰å±æ€§çš„å€¼"></a>è·å–æ–¹æ³•ä¸Šæ³¨è§£è‡ªå®šä¹‰å±æ€§çš„å€¼</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–ç±»</span></span><br><span class="line"><span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Class.forName(<span class="string">&#x27;xxxxx.MyAnnotation.class&#x27;</span>);</span><br><span class="line"><span class="comment">// è·å–æ–¹æ³•</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">doSomeMethod</span> <span class="operator">=</span> c.getDeclaredMethod(<span class="string">&quot;dosome&quot;</span>);</span><br><span class="line"><span class="comment">// æ–¹æ³•ä¸­æ˜¯å¦æœ‰æ³¨è§£</span></span><br><span class="line"><span class="keyword">if</span>(doSomeMethod.isAnnotationPresent(MyAnnotation.class)) &#123;</span><br><span class="line">    <span class="comment">// è·å–æ–¹æ³•æ³¨è§£</span></span><br><span class="line">    <span class="type">MyAnnotaion</span> <span class="variable">myAnnotaion</span> <span class="operator">=</span> doSomeMethod.getAnnotation(MyAnnotation.class);</span><br><span class="line">    <span class="comment">// è·å–æ³¨è§£å±æ€§</span></span><br><span class="line">    myAnnotaion.username();</span><br><span class="line">    myAnnotaion.password();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="JDKç±»åŠ è½½å™¨"><a href="#JDKç±»åŠ è½½å™¨" class="headerlink" title="JDKç±»åŠ è½½å™¨"></a>JDKç±»åŠ è½½å™¨</h3><blockquote><p>è´Ÿè´£ä¸“é—¨åŠ è½½ç±»çš„å‘½ä»¤/å·¥å…·</p><p>jdk ä¸­è‡ªå¸¦äº†3ä¸ªç±»åŠ è½½å™¨</p><ul><li>å¯åŠ¨ç±»åŠ è½½å™¨</li><li>æ‰©å±•ç±»åŠ è½½å™¨</li><li>åº”ç”¨ç±»åŠ è½½å™¨</li></ul></blockquote><p>å‡è®¾è¿™æ ·ä¸€æ®µä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;abc&quot;</span>;</span><br></pre></td></tr></table></figure><p>ä»£ç æ‰§è¡Œå‰ï¼Œä¼šå°†æ‰€éœ€è¦ç±»å…¨éƒ¨åŠ è½½åˆ°JVMå½“ä¸­ã€‚é€šè¿‡ç±»åŠ è½½å™¨åŠ è½½ï¼Œçœ‹åˆ°ä»¥ä¸Šä»£ç ç±»åŠ è½½å™¨ä¼šæ‰¾String.classæ–‡ä»¶ï¼Œæ‰¾åˆ°å°±åŠ è½½ï¼Œé‚£ä¹ˆæ˜¯æ€ä¹ˆç»è¡ŒåŠ è½½çš„å‘¢ï¼Ÿ</p><ol><li><p>é¦–å…ˆ<strong>å¯åŠ¨ç±»åŠ è½½å™¨</strong></p><p> ï¼šè·¯å¾„ %JAVA_HOME%/jre/lib/rt.jar [é‡Œè¾¹éƒ½æ˜¯JDKæ ¸å¿ƒç±»åº“]</p></li><li><p>1åŠ è½½ä¸åˆ°å°±é€šè¿‡<strong>æ‰©å±•ç±»åŠ è½½å™¨</strong>åŠ è½½</p><p> ï¼šè·¯å¾„ %JAVA_HOME%/jre/lib/ext</p></li><li><p>å¦‚æœ2ä¹Ÿæ‰¾ä¸åˆ°å°±ä¼šé€šè¿‡<strong>åº”ç”¨ç±»åŠ è½½å™¨</strong>åŠ è½½</p><p> æ³¨æ„ï¼šåº”ç”¨ç±»åŠ è½½å™¨ä¸“é—¨åŠ è½½ï¼šclassoathä¸­çš„ç±»</p></li></ol><blockquote><p>ä¼˜å…ˆä» 1ï¼ˆçˆ¶ï¼‰2ï¼ˆæ¯ï¼‰ã€åŒäº²å§”æ´¾æœºåˆ¶ã€‘åŠ è½½ï¼Œé˜²æ­¢ç±»åŠ è½½ä»£ç æ¤å…¥</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;h2 id=&quot;java-ç‰¹æ€§&quot;&gt;&lt;a href=&quot;#java-ç‰¹æ€§&quot; class=&quot;headerlink&quot; title=&quot;java ç‰¹æ€§&quot;&gt;&lt;/a&gt;java ç‰¹æ€§&lt;/h2&gt;&lt;h3 id=&quot;Java-ç¨‹åºçš„ç‰ˆæœ¬&quot;&gt;&lt;a href=&quot;#Java-ç¨‹åºçš„ç‰ˆæœ¬&quot; class=&quot;headerlink&quot; title=&quot;Java ç¨‹åºçš„ç‰ˆæœ¬&quot;&gt;&lt;/a&gt;Java ç¨‹åºçš„ç‰ˆæœ¬&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;java SE (æ ‡å‡†ç‰ˆ)&lt;/p&gt;
&lt;p&gt;java EEï¼ˆä¼ä¸šç‰ˆï¼‰&lt;/p&gt;
&lt;p&gt;java MEï¼ˆç²¾ç®€ç‰ˆï¼‰&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;java-ç¨‹åºå¯ç§»æ¤æ€§&quot;&gt;&lt;a href=&quot;#java-ç¨‹åºå¯ç§»æ¤æ€§&quot; class=&quot;headerlink&quot; title=&quot;java ç¨‹åºå¯ç§»æ¤æ€§&quot;&gt;&lt;/a&gt;java ç¨‹åºå¯ç§»æ¤æ€§&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯å¯ç§»æ¤æ€§ï¼Ÿ&lt;/p&gt;
&lt;p&gt;java ç¨‹åºå¯ä»¥åšåˆ°ä¸€æ¬¡ç¼–è¯‘ï¼Œåˆ°å¤„è¿è¡Œã€‚å¯å°±æ˜¯è¯´å¯ä»¥è¿è¡Œåˆ°windows,linuxç­‰æ“ä½œç³»ç»Ÿä¸Šã€‚è¿™ä¸ªè¢«ç§°ä½œJavaç¨‹åºçš„å¯ç§»æ¤æ€§ï¼Œæˆ–è€…å«è·¨å¹³å°ã€‚&lt;/p&gt;
&lt;p&gt;å¦‚ä½•å®ç°å‘¢ï¼Ÿ&lt;/p&gt;
&lt;p&gt;Windowsæ“ä½œç³»ç»ŸäºLinuxæ“ä½œç³»ç»Ÿçš„å†…æ ¸è‚¯å®šä¸ä¸€æ ·ï¼Œç³»ç»Ÿæ‰§è¡ŒæŒ‡ä»¤çš„è€Œæ–¹å¼ä¹Ÿä¸ä¸€æ ·ã€‚ Javaç¨‹åºä¸èƒ½ç›´æ¥å’Œç³»ç»Ÿæ‰“äº¤é“ï¼Œå› ä¸ºJavaç¨‹åºåªæœ‰ä¸€ä»½ã€‚æ“ä½œç³»ç»ŸåŸç†éƒ½ä¸åŒ&lt;/p&gt;
&lt;p&gt;è§£å†³ï¼š&lt;/p&gt;
&lt;p&gt;sumå›¢é˜Ÿæƒ³åˆ°äº†ä¸€ä¸ªåŠæ³•ï¼Œä»–ä»¬è®©Javaç¨‹åºè¿è¡Œåœ¨ä¸€å°è™šæ‹Ÿçš„è®¡ç®—æœºä¸­ï¼Œè¿™ä¸ªè™šæ‹Ÿè®¡ç®—æœºå«Javaè™šæ‹Ÿæœºï¼Œç®€ç§°JVMã€‚Javaè™šæ‹Ÿæœºå†å’Œåº•å±‚æ“ä½œç³»ç»Ÿæ‰“äº¤é“ã€‚&lt;/p&gt;
&lt;p&gt;è¿™ä¸ªè™šæ‹Ÿæœºä¸èƒ½ç›´æ¥å®‰è£…ï¼Œè€Œæ˜¯é€šè¿‡å®‰è£…é€‚åˆè‡ªå·±æ“ä½œç³»ç»Ÿçš„ &lt;strong&gt;java jdk&lt;/strong&gt; æ¥å®ç°çš„&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;Java-çš„åŠ è½½ä¸æ‰§è¡Œ&quot;&gt;&lt;a href=&quot;#Java-çš„åŠ è½½ä¸æ‰§è¡Œ&quot; class=&quot;headerlink&quot; title=&quot;Java çš„åŠ è½½ä¸æ‰§è¡Œ&quot;&gt;&lt;/a&gt;Java çš„åŠ è½½ä¸æ‰§è¡Œ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;ç¼–è¯‘é˜¶æ®µä¸»è¦ä»»åŠ¡æ˜¯æ£€æŸ¥ Java æºç¨‹åºæ˜¯å¦ç¬¦åˆ Java è¯­æ³•ï¼ˆä¸è¿›è¡Œè¿ç®—ï¼‰ï¼Œç¬¦åˆåˆ™ç”Ÿæˆæ­£å¸¸å­—èŠ‚ç æ–‡ä»¶ (xxx.class)ã€‚ä¸ç¬¦åˆåˆ™æ— æ³•ç”Ÿæˆå­—èŠ‚ç æ–‡ä»¶&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;.java -&amp;gt; .class -&amp;gt;     ç±»è£…è½½å™¨ -&amp;gt; java è™šæ‹Ÿæœºï¼ˆJVMï¼‰ -&amp;gt; æ“ä½œç³»ç»Ÿ -&amp;gt; ç¡¬ä»¶å¹³å°&lt;/p&gt;</summary>
    
    
    
    <category term="java" scheme="https://wyf195075595.github.io/categories/java/"/>
    
    
    <category term="javaåŸºç¡€" scheme="https://wyf195075595.github.io/tags/java%E5%9F%BA%E7%A1%80/"/>
    
  </entry>
  
  <entry>
    <title>ä½ ä¸çŸ¥é“çš„JavaScript</title>
    <link href="https://wyf195075595.github.io/2022/11/15/programming/javascript/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84javascript/"/>
    <id>https://wyf195075595.github.io/2022/11/15/programming/javascript/%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84javascript/</id>
    <published>2022-11-15T00:58:10.000Z</published>
    <updated>2022-12-08T06:28:40.482Z</updated>
    
    <content type="html"><![CDATA[<p><strong>LHSä¸RHS</strong></p><blockquote><p>LHSå’ŒRHSçš„å«ä¹‰æ˜¯â€œèµ‹å€¼æ“ä½œçš„å·¦ä¾§æˆ–å³ä¾§â€å¹¶ä¸ä¸€å®šæ„å‘³ç€å°±æ˜¯â€œ=èµ‹å€¼æ“ä½œç¬¦çš„å·¦ä¾§æˆ–å³ä¾§â€ã€‚èµ‹å€¼æ“ä½œè¿˜æœ‰å…¶ä»–å‡ ç§å½¢å¼ï¼Œå› æ­¤åœ¨æ¦‚å¿µä¸Šæœ€å¥½å°†å…¶ç†è§£ä¸ºâ€œèµ‹å€¼æ“ä½œçš„ç›®æ ‡æ˜¯è°ï¼ˆLHSï¼‰â€ä»¥åŠâ€œè°æ˜¯èµ‹å€¼æ“ä½œçš„æºå¤´ï¼ˆRHSï¼‰â€</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> b = a;</span><br><span class="line">    <span class="keyword">return</span> a + b;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> c = <span class="title function_">foo</span>(<span class="number">2</span>);</span><br></pre></td></tr></table></figure><p>1ï¼æ‰¾åˆ°å…¶ä¸­æ‰€æœ‰çš„LHSæŸ¥è¯¢ã€‚ï¼ˆè¿™é‡Œæœ‰3å¤„ï¼ï¼‰</p><p>2ï¼æ‰¾åˆ°å…¶ä¸­æ‰€æœ‰çš„RHSæŸ¥è¯¢ã€‚ï¼ˆè¿™é‡Œæœ‰4å¤„ï¼ï¼‰</p><p><strong>ReferenceError</strong></p><blockquote><p>å¦‚æœRHSæŸ¥è¯¢åœ¨æ‰€æœ‰åµŒå¥—çš„ä½œç”¨åŸŸä¸­éå¯»ä¸åˆ°æ‰€éœ€çš„å˜é‡ï¼Œå¼•æ“å°±ä¼šæŠ›å‡ºReferenceErrorå¼‚å¸¸.</p><p>ç›¸è¾ƒä¹‹ä¸‹ï¼Œå½“å¼•æ“æ‰§è¡ŒLHSæŸ¥è¯¢æ—¶ï¼Œå¦‚æœåœ¨é¡¶å±‚ï¼ˆå…¨å±€ä½œç”¨åŸŸï¼‰ä¸­ä¹Ÿæ— æ³•æ‰¾åˆ°ç›®æ ‡å˜é‡ï¼Œå…¨å±€ä½œç”¨åŸŸä¸­å°±ä¼šåˆ›å»ºä¸€ä¸ªå…·æœ‰è¯¥åç§°çš„å˜é‡ï¼Œå¹¶å°†å…¶è¿”è¿˜ç»™å¼•æ“ï¼Œå‰ææ˜¯ç¨‹åºè¿è¡Œåœ¨éâ€œä¸¥æ ¼æ¨¡å¼â€ä¸‹ã€‚</p></blockquote><p><strong>TypeError</strong></p><blockquote><p>ReferenceErroråŒä½œç”¨åŸŸåˆ¤åˆ«å¤±è´¥ç›¸å…³ï¼Œè€ŒTypeErroråˆ™ä»£è¡¨ä½œç”¨åŸŸåˆ¤åˆ«æˆåŠŸäº†ï¼Œä½†æ˜¯å¯¹ç»“æœçš„æ“ä½œæ˜¯éæ³•æˆ–ä¸åˆç†çš„ã€‚</p></blockquote><span id="more"></span><h2 id="è¯æ³•ä½œç”¨åŸŸ"><a href="#è¯æ³•ä½œç”¨åŸŸ" class="headerlink" title="è¯æ³•ä½œç”¨åŸŸ"></a>è¯æ³•ä½œç”¨åŸŸ</h2><blockquote><p>ä½œç”¨åŸŸå…±æœ‰ä¸¤ç§ä¸»è¦çš„å·¥ä½œæ¨¡å‹ã€‚ç¬¬ä¸€ç§æ˜¯æœ€ä¸ºæ™®éçš„ï¼Œè¢«å¤§å¤šæ•°ç¼–ç¨‹è¯­è¨€æ‰€é‡‡ç”¨çš„è¯æ³•ä½œç”¨åŸŸï¼Œæˆ‘ä»¬ä¼šå¯¹è¿™ç§ä½œç”¨åŸŸè¿›è¡Œæ·±å…¥è®¨è®ºã€‚å¦å¤–ä¸€ç§å«ä½œåŠ¨æ€ä½œç”¨åŸŸï¼Œä»æœ‰ä¸€äº›ç¼–ç¨‹è¯­è¨€åœ¨ä½¿ç”¨ï¼ˆæ¯”å¦‚Bashè„šæœ¬ã€Perlä¸­çš„ä¸€äº›æ¨¡å¼ç­‰ï¼‰ã€‚</p></blockquote><h3 id="è¯æ³•é˜¶æ®µ"><a href="#è¯æ³•é˜¶æ®µ" class="headerlink" title="è¯æ³•é˜¶æ®µ"></a>è¯æ³•é˜¶æ®µ</h3><blockquote><p>å¤§éƒ¨åˆ†æ ‡å‡†è¯­è¨€ç¼–è¯‘å™¨çš„ç¬¬ä¸€ä¸ªå·¥ä½œé˜¶æ®µå«ä½œè¯æ³•åŒ–ï¼ˆä¹Ÿå«å•è¯åŒ–ï¼‰ã€‚å›å¿†ä¸€ä¸‹ï¼Œè¯æ³•åŒ–çš„è¿‡ç¨‹ä¼šå¯¹æºä»£ç ä¸­çš„å­—ç¬¦è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœæ˜¯æœ‰çŠ¶æ€çš„è§£æè¿‡ç¨‹ï¼Œè¿˜ä¼šèµ‹äºˆå•è¯è¯­ä¹‰ã€‚è¿™ä¸ªæ¦‚å¿µæ˜¯ç†è§£è¯æ³•ä½œç”¨åŸŸåŠå…¶åç§°æ¥å†çš„åŸºç¡€ã€‚</p></blockquote><h4 id="å±è”½æ•ˆåº”"><a href="#å±è”½æ•ˆåº”" class="headerlink" title="å±è”½æ•ˆåº”"></a><strong>å±è”½æ•ˆåº”</strong></h4><blockquote><p>ä½œç”¨åŸŸæŸ¥æ‰¾ä¼šåœ¨æ‰¾åˆ°ç¬¬ä¸€ä¸ªåŒ¹é…çš„æ ‡è¯†ç¬¦æ—¶åœæ­¢ã€‚åœ¨å¤šå±‚çš„åµŒå¥—ä½œç”¨åŸŸä¸­å¯ä»¥å®šä¹‰åŒåçš„æ ‡è¯†ç¬¦ï¼Œè¿™å«ä½œâ€œé®è”½æ•ˆåº”â€ï¼ˆå†…éƒ¨çš„æ ‡è¯†ç¬¦â€œé®è”½â€äº†å¤–éƒ¨çš„æ ‡è¯†ç¬¦ï¼‰</p></blockquote><p>å…¨å±€å˜é‡ä¼šè‡ªåŠ¨æˆä¸ºå…¨å±€å¯¹è±¡ï¼ˆæ¯”å¦‚æµè§ˆå™¨ä¸­çš„windowå¯¹è±¡ï¼‰çš„å±æ€§ï¼Œå› æ­¤å¯ä»¥ä¸ç›´æ¥é€šè¿‡å…¨å±€å¯¹è±¡çš„è¯æ³•åç§°ï¼Œè€Œæ˜¯é—´æ¥åœ°é€šè¿‡å¯¹å…¨å±€å¯¹è±¡å±æ€§çš„å¼•ç”¨æ¥å¯¹å…¶è¿›è¡Œè®¿é—®ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">a</span></span><br></pre></td></tr></table></figure><p>é€šè¿‡è¿™ç§æŠ€æœ¯å¯ä»¥è®¿é—®é‚£äº›è¢«åŒåå˜é‡æ‰€é®è”½çš„å…¨å±€å˜é‡ã€‚ä½†éå…¨å±€çš„å˜é‡å¦‚æœè¢«é®è”½äº†ï¼Œæ— è®ºå¦‚ä½•éƒ½æ— æ³•è¢«è®¿é—®åˆ°ã€‚</p><h3 id="æ¬ºéª—è¯æ³•"><a href="#æ¬ºéª—è¯æ³•" class="headerlink" title="æ¬ºéª—è¯æ³•"></a><strong>æ¬ºéª—è¯æ³•</strong></h3><blockquote><p>å¦‚æœè¯æ³•ä½œç”¨åŸŸå®Œå…¨ç”±å†™ä»£ç æœŸé—´å‡½æ•°æ‰€å£°æ˜çš„ä½ç½®æ¥å®šä¹‰ï¼Œæ€æ ·æ‰èƒ½åœ¨è¿è¡Œæ—¶æ¥â€œä¿®æ”¹â€ï¼ˆä¹Ÿå¯ä»¥è¯´æ¬ºéª—ï¼‰è¯æ³•ä½œç”¨åŸŸå‘¢ï¼Ÿ</p></blockquote><h4 id="eval"><a href="#eval" class="headerlink" title="eval"></a>eval</h4><blockquote><p>eval(..)å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå­—ç¬¦ä¸²ä¸ºå‚æ•°ï¼Œå¹¶å°†å…¶ä¸­çš„å†…å®¹è§†ä¸ºå¥½åƒåœ¨ä¹¦å†™æ—¶å°±å­˜åœ¨äºç¨‹åºä¸­è¿™ä¸ªä½ç½®çš„ä»£ç </p></blockquote><p>JavaScriptä¸­è¿˜æœ‰å…¶ä»–ä¸€äº›åŠŸèƒ½æ•ˆæœå’Œeval(..)å¾ˆç›¸ä¼¼ã€‚setTimeout(..)å’ŒsetInterval(..)çš„ç¬¬ä¸€ä¸ªå‚æ•°å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²çš„å†…å®¹å¯ä»¥è¢«è§£é‡Šä¸ºä¸€æ®µåŠ¨æ€ç”Ÿæˆçš„å‡½æ•°ä»£ç ã€‚è¿™äº›åŠŸèƒ½å·²ç»è¿‡æ—¶ä¸”å¹¶ä¸è¢«æå€¡ã€‚ä¸è¦ä½¿ç”¨å®ƒä»¬ï¼</p><p>new Function(..)å‡½æ•°çš„è¡Œä¸ºä¹Ÿå¾ˆç±»ä¼¼ï¼Œæœ€åä¸€ä¸ªå‚æ•°å¯ä»¥æ¥å—ä»£ç å­—ç¬¦ä¸²ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºåŠ¨æ€ç”Ÿæˆçš„å‡½æ•°ï¼ˆå‰é¢çš„å‚æ•°æ˜¯è¿™ä¸ªæ–°ç”Ÿæˆçš„å‡½æ•°çš„å½¢å‚ï¼‰ã€‚è¿™ç§æ„å»ºå‡½æ•°çš„è¯­æ³•æ¯”eval(..)ç•¥å¾®å®‰å…¨ä¸€äº›ï¼Œä½†ä¹Ÿè¦å°½é‡é¿å…ä½¿ç”¨ã€‚</p><h4 id="with"><a href="#with" class="headerlink" title="with"></a>with</h4><blockquote><p>JavaScriptä¸­å¦ä¸€ä¸ªéš¾ä»¥æŒæ¡ï¼ˆå¹¶ä¸”ç°åœ¨ä¹Ÿä¸æ¨èä½¿ç”¨ï¼‰çš„ç”¨æ¥æ¬ºéª—è¯æ³•ä½œç”¨åŸŸçš„åŠŸèƒ½æ˜¯withå…³é”®å­—</p></blockquote><p>withé€šå¸¸è¢«å½“ä½œé‡å¤å¼•ç”¨åŒä¸€ä¸ªå¯¹è±¡ä¸­çš„å¤šä¸ªå±æ€§çš„å¿«æ·æ–¹å¼ï¼Œå¯ä»¥ä¸éœ€è¦é‡å¤å¼•ç”¨å¯¹è±¡æœ¬èº«ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">c</span>: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// å•è°ƒä¹å‘³çš„é‡å¤&quot;obj&quot;</span></span><br><span class="line">obj.<span class="property">a</span> = <span class="number">2</span>;</span><br><span class="line">obj.<span class="property">b</span> = <span class="number">3</span>;</span><br><span class="line">obj.<span class="property">c</span> = <span class="number">4</span>;</span><br><span class="line"><span class="comment">// ç®€å•çš„å¿«æ·æ–¹å¼</span></span><br><span class="line"><span class="keyword">with</span> (obj) &#123;</span><br><span class="line">    a = <span class="number">3</span>;</span><br><span class="line">    b = <span class="number">4</span>;</span><br><span class="line">    c = <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å°½ç®¡withå—å¯ä»¥å°†ä¸€ä¸ªå¯¹è±¡å¤„ç†ä¸ºè¯æ³•ä½œç”¨åŸŸï¼Œä½†æ˜¯è¿™ä¸ªå—å†…éƒ¨æ­£å¸¸çš„varå£°æ˜å¹¶ä¸ä¼šè¢«é™åˆ¶åœ¨è¿™ä¸ªå—çš„ä½œç”¨åŸŸä¸­ï¼Œè€Œæ˜¯è¢«æ·»åŠ åˆ°withæ‰€å¤„çš„å‡½æ•°ä½œç”¨åŸŸä¸­ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">    <span class="keyword">with</span> (obj) &#123;</span><br><span class="line">      a = <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> o1 = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> o2 = &#123;</span><br><span class="line">    <span class="attr">b</span>: <span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="title function_">foo</span>(o1);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o1.<span class="property">a</span>); <span class="comment">// 2</span></span><br><span class="line"><span class="title function_">foo</span>(o2);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(o2.<span class="property">a</span>); <span class="comment">// undefined</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 2â€”â€”ä¸å¥½ï¼Œaè¢«æ³„æ¼åˆ°å…¨å±€ä½œç”¨åŸŸä¸Šäº†ï¼</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>eval(..)å‡½æ•°å¦‚æœæ¥å—äº†å«æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªå£°æ˜çš„ä»£ç ï¼Œå°±ä¼šä¿®æ”¹å…¶æ‰€å¤„çš„è¯æ³•ä½œç”¨åŸŸï¼Œè€Œwithå£°æ˜å®é™…ä¸Šæ˜¯æ ¹æ®ä½ ä¼ é€’ç»™å®ƒçš„å¯¹è±¡å‡­ç©ºåˆ›å»ºäº†ä¸€ä¸ªå…¨æ–°çš„è¯æ³•ä½œç”¨åŸŸã€‚</strong></p></blockquote><blockquote><p>å¦å¤–ä¸€ä¸ªä¸æ¨èä½¿ç”¨eval(..)å’Œwithçš„åŸå› æ˜¯ä¼šè¢«ä¸¥æ ¼æ¨¡å¼æ‰€å½±å“ï¼ˆé™åˆ¶ï¼‰ã€‚withè¢«å®Œå…¨ç¦æ­¢ï¼Œè€Œåœ¨ä¿ç•™æ ¸å¿ƒåŠŸèƒ½çš„å‰æä¸‹ï¼Œé—´æ¥æˆ–éå®‰å…¨åœ°ä½¿ç”¨eval(..)ä¹Ÿè¢«ç¦æ­¢äº†</p></blockquote><h2 id="å‡½æ•°ä½œç”¨åŸŸå’Œå—çº§ä½œç”¨åŸŸ"><a href="#å‡½æ•°ä½œç”¨åŸŸå’Œå—çº§ä½œç”¨åŸŸ" class="headerlink" title="å‡½æ•°ä½œç”¨åŸŸå’Œå—çº§ä½œç”¨åŸŸ"></a>å‡½æ•°ä½œç”¨åŸŸå’Œå—çº§ä½œç”¨åŸŸ</h2><blockquote><p><strong>åŒºåˆ†å‡½æ•°å£°æ˜å’Œè¡¨è¾¾å¼</strong>æœ€ç®€å•çš„æ–¹æ³•æ˜¯çœ‹functionå…³é”®å­—å‡ºç°åœ¨å£°æ˜ä¸­çš„ä½ç½®ï¼ˆä¸ä»…ä»…æ˜¯ä¸€è¡Œä»£ç ï¼Œè€Œæ˜¯æ•´ä¸ªå£°æ˜ä¸­çš„ä½ç½®ï¼‰ã€‚å¦‚æœfunctionæ˜¯å£°æ˜ä¸­çš„ç¬¬ä¸€ä¸ªè¯ï¼Œé‚£ä¹ˆå°±æ˜¯ä¸€ä¸ªå‡½æ•°å£°æ˜ï¼Œå¦åˆ™å°±æ˜¯ä¸€ä¸ªå‡½æ•°è¡¨è¾¾å¼ã€‚</p></blockquote><h3 id="åŒ¿åå’Œå…·å"><a href="#åŒ¿åå’Œå…·å" class="headerlink" title="åŒ¿åå’Œå…·å"></a>åŒ¿åå’Œå…·å</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;I waited 1 second! &quot;</span>);</span><br><span class="line">&#125;, <span class="number">1000</span> );</span><br></pre></td></tr></table></figure><blockquote><p>è¿™å«ä½œåŒ¿sssåå‡½æ•°è¡¨è¾¾å¼ï¼Œå› ä¸ºfunction().ï¼æ²¡æœ‰åç§°æ ‡è¯†ç¬¦ã€‚å‡½æ•°è¡¨è¾¾å¼å¯ä»¥æ˜¯åŒ¿åçš„ï¼Œè€Œå‡½æ•°å£°æ˜åˆ™ä¸å¯ä»¥çœç•¥å‡½æ•°åâ€”â€”åœ¨JavaScriptçš„è¯­æ³•ä¸­è¿™æ˜¯éæ³•çš„ã€‚</p></blockquote><p>1ï¼åŒ¿åå‡½æ•°åœ¨æ ˆè¿½è¸ªä¸­ä¸ä¼šæ˜¾ç¤ºå‡ºæœ‰æ„ä¹‰çš„å‡½æ•°åï¼Œä½¿å¾—è°ƒè¯•å¾ˆå›°éš¾ã€‚</p><p>2ï¼å¦‚æœæ²¡æœ‰å‡½æ•°åï¼Œå½“å‡½æ•°éœ€è¦å¼•ç”¨è‡ªèº«æ—¶åªèƒ½ä½¿ç”¨å·²ç»è¿‡æœŸçš„arguments.calleeå¼•ç”¨ï¼Œæ¯”å¦‚åœ¨é€’å½’ä¸­ã€‚å¦ä¸€ä¸ªå‡½æ•°éœ€è¦å¼•ç”¨è‡ªèº«çš„ä¾‹å­ï¼Œæ˜¯åœ¨äº‹ä»¶è§¦å‘åäº‹ä»¶ç›‘å¬å™¨éœ€è¦è§£ç»‘è‡ªèº«ã€‚</p><p>3ï¼åŒ¿åå‡½æ•°çœç•¥äº†å¯¹äºä»£ç å¯è¯»æ€§/å¯ç†è§£æ€§å¾ˆé‡è¦çš„å‡½æ•°åã€‚ä¸€ä¸ªæè¿°æ€§çš„åç§°å¯ä»¥è®©ä»£ç ä¸è¨€è‡ªæ˜ã€‚</p><h4 id="ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼"><a href="#ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼"></a>ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼</h4><blockquote><p>è¿™ç§æ¨¡å¼å¾ˆå¸¸è§ï¼Œå‡ å¹´å‰ç¤¾åŒºç»™å®ƒè§„å®šäº†ä¸€ä¸ªæœ¯è¯­ï¼šIIFEï¼Œä»£è¡¨ç«‹å³æ‰§è¡Œå‡½æ•°è¡¨è¾¾å¼ï¼ˆImmediately Invoked Function Expressionï¼‰ï¼›</p><p>å‡½æ•°åå¯¹IIFEå½“ç„¶ä¸æ˜¯å¿…é¡»çš„ï¼ŒIIFEæœ€å¸¸è§çš„ç”¨æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªåŒ¿åå‡½æ•°è¡¨è¾¾å¼ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">(<span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 3</span></span><br><span class="line">&#125;)();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p>ç›¸è¾ƒäºä¼ ç»Ÿçš„IIFEå½¢å¼ï¼Œå¾ˆå¤šäººéƒ½æ›´å–œæ¬¢å¦ä¸€ä¸ªæ”¹è¿›çš„å½¢å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span>(<span class="params"></span>)&#123; .. &#125;())</span><br></pre></td></tr></table></figure><p><strong>IIFEçš„å¦ä¸€ä¸ªéå¸¸æ™®éçš„è¿›é˜¶ç”¨æ³•æ˜¯æŠŠå®ƒä»¬å½“ä½œå‡½æ•°è°ƒç”¨å¹¶ä¼ é€’å‚æ•°è¿›å»ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span> <span class="title function_">IIFE</span>(<span class="params"><span class="variable language_">global</span></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 3</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">global</span>.<span class="property">a</span>); <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">&#125;)(<span class="variable language_">window</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><p><strong>IIFEè¿˜æœ‰ä¸€ç§å˜åŒ–çš„ç”¨é€”æ˜¯å€’ç½®ä»£ç çš„è¿è¡Œé¡ºåºï¼Œå°†éœ€è¦è¿è¡Œçš„å‡½æ•°æ”¾åœ¨ç¬¬äºŒä½ï¼Œåœ¨IIFEæ‰§è¡Œä¹‹åå½“ä½œå‚æ•°ä¼ é€’è¿›å»ã€‚è¿™ç§æ¨¡å¼åœ¨UMDï¼ˆUniversal Module Definitionï¼‰é¡¹ç›®ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚å°½ç®¡è¿™ç§æ¨¡å¼ç•¥æ˜¾å†—é•¿ï¼Œä½†æœ‰äº›äººè®¤ä¸ºå®ƒæ›´æ˜“ç†è§£ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">function</span> <span class="title function_">IIFE</span>(<span class="params">def</span>) &#123;</span><br><span class="line">    <span class="title function_">def</span>(<span class="variable language_">window</span>);</span><br><span class="line">&#125;)(<span class="keyword">function</span> <span class="title function_">def</span>(<span class="params"><span class="variable language_">global</span></span>) &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">3</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 3</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">global</span>.<span class="property">a</span>); <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="å—çº§ä½œç”¨åŸŸ"><a href="#å—çº§ä½œç”¨åŸŸ" class="headerlink" title="å—çº§ä½œç”¨åŸŸ"></a>å—çº§ä½œç”¨åŸŸ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for å¾ªç¯å—çº§ä½œç”¨åŸŸ</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// if å—çº§ä½œç”¨åŸŸ</span></span><br><span class="line"><span class="keyword">var</span> foo = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (foo) &#123;</span><br><span class="line">    <span class="keyword">var</span> bar = foo * <span class="number">2</span>;</span><br><span class="line">    bar = <span class="title function_">something</span>(bar);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(bar);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="with-1"><a href="#with-1" class="headerlink" title="with"></a>with</h4><blockquote><p>æˆ‘ä»¬åœ¨ç¬¬2ç« è®¨è®ºè¿‡withå…³é”®å­—ã€‚å®ƒä¸ä»…æ˜¯ä¸€ä¸ªéš¾äºç†è§£çš„ç»“æ„ï¼ŒåŒæ—¶ä¹Ÿæ˜¯å—ä½œç”¨åŸŸçš„ä¸€ä¸ªä¾‹å­ï¼ˆå—ä½œç”¨åŸŸçš„ä¸€ç§å½¢å¼ï¼‰ï¼Œç”¨withä»å¯¹è±¡ä¸­åˆ›å»ºå‡ºçš„ä½œç”¨åŸŸä»…åœ¨withå£°æ˜ä¸­è€Œéå¤–éƒ¨ä½œç”¨åŸŸä¸­æœ‰æ•ˆ</p></blockquote><h4 id="try-catch"><a href="#try-catch" class="headerlink" title="try/catch"></a>try/catch</h4><blockquote><p>éå¸¸å°‘æœ‰äººä¼šæ³¨æ„åˆ°JavaScriptçš„ES3è§„èŒƒä¸­è§„å®štry/catchçš„catchåˆ†å¥ä¼šåˆ›å»ºä¸€ä¸ªå—ä½œç”¨åŸŸï¼Œå…¶ä¸­å£°æ˜çš„å˜é‡ä»…åœ¨catchå†…éƒ¨æœ‰æ•ˆã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="title function_">undefined</span>(); <span class="comment">// æ‰§è¡Œä¸€ä¸ªéæ³•æ“ä½œæ¥å¼ºåˆ¶åˆ¶é€ ä¸€ä¸ªå¼‚å¸¸</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">catch</span> (err) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(err); <span class="comment">// èƒ½å¤Ÿæ­£å¸¸æ‰§è¡Œï¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(err); <span class="comment">// ReferenceError: err not found</span></span><br></pre></td></tr></table></figure><h4 id="let"><a href="#let" class="headerlink" title="let"></a>let</h4><blockquote><p>letå…³é”®å­—å¯ä»¥å°†å˜é‡ç»‘å®šåˆ°æ‰€åœ¨çš„ä»»æ„ä½œç”¨åŸŸä¸­ï¼ˆé€šå¸¸æ˜¯{ .. }å†…éƒ¨ï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œletä¸ºå…¶å£°æ˜çš„å˜é‡éšå¼åœ°åŠ«æŒäº†æ‰€åœ¨çš„å—ä½œç”¨åŸŸã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="literal">true</span>    </span><br><span class="line"><span class="keyword">if</span> (foo) &#123;</span><br><span class="line">        &#123; <span class="comment">// &lt;-- æ˜¾å¼çš„å—</span></span><br><span class="line">          <span class="keyword">let</span> bar = foo ï¼Š <span class="number">2</span>;</span><br><span class="line">          bar = <span class="title function_">something</span>(bar);</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(bar);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(bar); <span class="comment">// ReferenceError</span></span><br></pre></td></tr></table></figure><blockquote><p>åªè¦å£°æ˜æ˜¯æœ‰æ•ˆçš„ï¼Œåœ¨å£°æ˜ä¸­çš„ä»»æ„ä½ç½®éƒ½å¯ä»¥ä½¿ç”¨{ .. }æ‹¬å·æ¥ä¸ºletåˆ›å»ºä¸€ä¸ªç”¨äºç»‘å®šçš„å—ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬åœ¨ifå£°æ˜å†…éƒ¨æ˜¾å¼åœ°åˆ›å»ºäº†ä¸€ä¸ªå—ï¼Œå¦‚æœéœ€è¦å¯¹å…¶è¿›è¡Œé‡æ„ï¼Œæ•´ä¸ªå—éƒ½å¯ä»¥è¢«æ–¹ä¾¿åœ°ç§»åŠ¨è€Œä¸ä¼šå¯¹å¤–éƒ¨ifå£°æ˜çš„ä½ç½®å’Œè¯­ä¹‰äº§ç”Ÿä»»ä½•å½±å“</p></blockquote><h4 id="åƒåœ¾æ”¶é›†"><a href="#åƒåœ¾æ”¶é›†" class="headerlink" title="åƒåœ¾æ”¶é›†"></a>åƒåœ¾æ”¶é›†</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">        </span><br><span class="line"><span class="keyword">function</span> <span class="title function_">process</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// åœ¨è¿™é‡Œåšç‚¹æœ‰è¶£çš„äº‹æƒ…</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> someReallyBigData = &#123; ..&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">process</span>(someReallyBigData);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;my button&quot;</span>);</span><br><span class="line"></span><br><span class="line">btn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> <span class="title function_">click</span>(<span class="params">evt</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;button clicked&quot;</span>);</span><br><span class="line">&#125;, <span class="comment">/*capturingPhase=*/</span><span class="literal">false</span> );</span><br></pre></td></tr></table></figure><blockquote><p>clickå‡½æ•°çš„ç‚¹å‡»å›è°ƒå¹¶ä¸éœ€è¦someReallyBigDataå˜é‡ã€‚ç†è®ºä¸Šè¿™æ„å‘³ç€å½“process(..)æ‰§è¡Œåï¼Œåœ¨å†…å­˜ä¸­å ç”¨å¤§é‡ç©ºé—´çš„æ•°æ®ç»“æ„å°±å¯ä»¥è¢«åƒåœ¾å›æ”¶äº†ã€‚ä½†æ˜¯ï¼Œç”±äºclickå‡½æ•°å½¢æˆäº†ä¸€ä¸ªè¦†ç›–æ•´ä¸ªä½œç”¨åŸŸçš„é—­åŒ…ï¼ŒJavaScriptå¼•æ“ææœ‰å¯èƒ½ä¾ç„¶ä¿å­˜ç€è¿™ä¸ªç»“æ„ï¼ˆå–å†³äºå…·ä½“å®ç°ï¼‰ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">process</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// åœ¨è¿™é‡Œåšç‚¹æœ‰è¶£çš„äº‹æƒ…</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åœ¨è¿™ä¸ªå—ä¸­å®šä¹‰çš„å†…å®¹å®Œäº‹å¯ä»¥é”€æ¯ï¼</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">let</span> someReallyBigData = &#123; .. &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">process</span>(someReallyBigData);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;my button&quot;</span>);</span><br><span class="line"></span><br><span class="line">btn.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> <span class="title function_">click</span>(<span class="params">evt</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;button clicked&quot;</span>);</span><br><span class="line">&#125;, <span class="comment">/*capturingPhase=*/</span><span class="literal">false</span> );</span><br></pre></td></tr></table></figure><h4 id="const"><a href="#const" class="headerlink" title="const"></a>const</h4><blockquote><p>é™¤äº†letä»¥å¤–ï¼ŒES6è¿˜å¼•å…¥äº†constï¼ŒåŒæ ·å¯ä»¥ç”¨æ¥åˆ›å»ºå—ä½œç”¨åŸŸå˜é‡ï¼Œä½†å…¶å€¼æ˜¯å›ºå®šçš„ï¼ˆå¸¸é‡ï¼‰ã€‚ä¹‹åä»»ä½•è¯•å›¾ä¿®æ”¹å€¼çš„æ“ä½œéƒ½ä¼šå¼•èµ·é”™è¯¯ã€‚</p></blockquote><h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><blockquote><p>å‡½æ•°æ˜¯JavaScriptä¸­æœ€å¸¸è§çš„ä½œç”¨åŸŸå•å…ƒã€‚æœ¬è´¨ä¸Šï¼Œå£°æ˜åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„å˜é‡æˆ–å‡½æ•°ä¼šåœ¨æ‰€å¤„çš„ä½œç”¨åŸŸä¸­â€œéšè—â€èµ·æ¥ï¼Œè¿™æ˜¯æœ‰æ„ä¸ºä¹‹çš„è‰¯å¥½è½¯ä»¶çš„è®¾è®¡åŸåˆ™ã€‚ä½†å‡½æ•°ä¸æ˜¯å”¯ä¸€çš„ä½œç”¨åŸŸå•å…ƒã€‚å—ä½œç”¨åŸŸæŒ‡çš„æ˜¯å˜é‡å’Œå‡½æ•°ä¸ä»…å¯ä»¥å±äºæ‰€å¤„çš„ä½œç”¨åŸŸï¼Œä¹Ÿå¯ä»¥å±äºæŸä¸ªä»£ç å—ï¼ˆé€šå¸¸æŒ‡{ .. }å†…éƒ¨ï¼‰ã€‚ä»ES3å¼€å§‹ï¼Œtry/catchç»“æ„åœ¨catchåˆ†å¥ä¸­å…·æœ‰å—ä½œç”¨åŸŸã€‚åœ¨ES6ä¸­å¼•å…¥äº†letå…³é”®å­—ï¼ˆvarå…³é”®å­—çš„è¡¨äº²ï¼‰ï¼Œç”¨æ¥åœ¨ä»»æ„ä»£ç å—ä¸­å£°æ˜å˜é‡ã€‚if (..) { let a = 2; }ä¼šå£°æ˜ä¸€ä¸ªåŠ«æŒäº†ifçš„{ .. }å—çš„å˜é‡ï¼Œå¹¶ä¸”å°†å˜é‡æ·»åŠ åˆ°è¿™ä¸ªå—ä¸­ã€‚æœ‰äº›äººè®¤ä¸ºå—ä½œç”¨åŸŸä¸åº”è¯¥å®Œå…¨ä½œä¸ºå‡½æ•°ä½œç”¨åŸŸçš„æ›¿ä»£æ–¹æ¡ˆã€‚ä¸¤ç§åŠŸèƒ½åº”è¯¥åŒæ—¶å­˜åœ¨ï¼Œå¼€å‘è€…å¯ä»¥å¹¶ä¸”ä¹Ÿåº”è¯¥æ ¹æ®éœ€è¦é€‰æ‹©ä½¿ç”¨ä½•ç§ä½œç”¨åŸŸï¼Œåˆ›é€ å¯è¯»ã€å¯ç»´æŠ¤çš„ä¼˜è‰¯ä»£ç ã€‚</p></blockquote><h2 id="æå‡"><a href="#æå‡" class="headerlink" title="æå‡"></a>æå‡</h2><blockquote><p>å˜é‡å’Œå‡½æ•°å£°æ˜éƒ½ä¼šåœ¨ä½œç”¨åŸŸæå‡</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a)<span class="comment">// undefined</span></span><br><span class="line">a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰åŒäº</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">a = <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p><strong>å‡½æ•°è¡¨è¾¾å¼å´ä¸ä¼šè¢«æå‡</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">foo</span>(); <span class="comment">// ä¸æ˜¯ReferenceError, è€Œæ˜¯TypeError!</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// TypeError</span></span><br><span class="line"><span class="title function_">bar</span>(); <span class="comment">// ReferenceError</span></span><br><span class="line"></span><br><span class="line">foo = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> bar = ...self...</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å‡½æ•°ä¼˜å…ˆ"><a href="#å‡½æ•°ä¼˜å…ˆ" class="headerlink" title="å‡½æ•°ä¼˜å…ˆ"></a>å‡½æ•°ä¼˜å…ˆ</h4><blockquote><p>å‡½æ•°å£°æ˜å’Œå˜é‡å£°æ˜éƒ½ä¼šè¢«æå‡ã€‚ä½†æ˜¯ä¸€ä¸ªå€¼å¾—æ³¨æ„çš„ç»†èŠ‚ï¼ˆè¿™ä¸ªç»†èŠ‚å¯ä»¥å‡ºç°åœ¨æœ‰å¤šä¸ªâ€œé‡å¤â€å£°æ˜çš„ä»£ç ä¸­ï¼‰æ˜¯å‡½æ•°ä¼šé¦–å…ˆè¢«æå‡ï¼Œç„¶åæ‰æ˜¯å˜é‡ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">foo</span>(); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p><strong>ä¼šè¾“å‡º1è€Œä¸æ˜¯2ï¼è¿™ä¸ªä»£ç ç‰‡æ®µä¼šè¢«å¼•æ“ç†è§£ä¸ºå¦‚ä¸‹å½¢å¼ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line">foo = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼Œvar fooå°½ç®¡å‡ºç°åœ¨function foo()..ï¼çš„å£°æ˜ä¹‹å‰ï¼Œä½†å®ƒæ˜¯é‡å¤çš„å£°æ˜ï¼ˆå› æ­¤è¢«å¿½ç•¥äº†ï¼‰ï¼Œå› ä¸ºå‡½æ•°å£°æ˜ä¼šè¢«æå‡åˆ°æ™®é€šå˜é‡ä¹‹å‰ã€‚</p></blockquote><h2 id="ä½œç”¨åŸŸé—­åŒ…"><a href="#ä½œç”¨åŸŸé—­åŒ…" class="headerlink" title="ä½œç”¨åŸŸé—­åŒ…"></a>ä½œç”¨åŸŸé—­åŒ…</h2><blockquote><p>å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸæ—¶ï¼Œå°±äº§ç”Ÿäº†é—­åŒ…ï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(a); <span class="comment">// 2</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">bar</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>();</span><br></pre></td></tr></table></figure><p><strong>è¿™æ˜¯é—­åŒ…å—ï¼Ÿ</strong></p><blockquote><p>æŠ€æœ¯ä¸Šæ¥è®²ï¼Œä¹Ÿè®¸æ˜¯ã€‚ä½†æ ¹æ®å‰é¢çš„å®šä¹‰ï¼Œç¡®åˆ‡åœ°è¯´å¹¶ä¸æ˜¯ã€‚æˆ‘è®¤ä¸ºæœ€å‡†ç¡®åœ°ç”¨æ¥è§£é‡Šbar()å¯¹açš„å¼•ç”¨çš„æ–¹æ³•æ˜¯è¯æ³•ä½œç”¨åŸŸçš„æŸ¥æ‰¾è§„åˆ™ï¼Œè€Œè¿™äº›è§„åˆ™åªæ˜¯é—­åŒ…çš„ä¸€éƒ¨åˆ†ã€‚ï¼ˆä½†å´æ˜¯éå¸¸é‡è¦çš„ä¸€éƒ¨åˆ†ï¼ï¼‰</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> bar;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> baz = <span class="title function_">foo</span>();</span><br><span class="line"><span class="title function_">baz</span>(); <span class="comment">// 2â€”â€”æœ‹å‹ï¼Œè¿™å°±æ˜¯é—­åŒ…çš„æ•ˆæœã€‚</span></span><br></pre></td></tr></table></figure><blockquote><p>æ— è®ºé€šè¿‡ä½•ç§æ‰‹æ®µå°†å†…éƒ¨å‡½æ•°ä¼ é€’åˆ°æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸä»¥å¤–ï¼Œå®ƒéƒ½ä¼šæŒæœ‰å¯¹åŸå§‹å®šä¹‰ä½œç”¨åŸŸçš„å¼•ç”¨ï¼Œæ— è®ºåœ¨ä½•å¤„æ‰§è¡Œè¿™ä¸ªå‡½æ•°éƒ½ä¼šä½¿ç”¨é—­åŒ…ã€‚</p></blockquote><h3 id="å¾ªç¯å’Œé—­åŒ…"><a href="#å¾ªç¯å’Œé—­åŒ…" class="headerlink" title="å¾ªç¯å’Œé—­åŒ…"></a>å¾ªç¯å’Œé—­åŒ…</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>; i&lt;=<span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> <span class="title function_">timer</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">    &#125;, iï¼Š<span class="number">1000</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯¹è¿™æ®µä»£ç è¡Œä¸ºçš„é¢„æœŸæ˜¯åˆ†åˆ«è¾“å‡ºæ•°å­—1ï½5ï¼Œæ¯ç§’ä¸€æ¬¡ï¼Œæ¯æ¬¡ä¸€ä¸ªã€‚ä½†å®é™…ä¸Šï¼Œè¿™æ®µä»£ç åœ¨è¿è¡Œæ—¶ä¼šä»¥æ¯ç§’ä¸€æ¬¡çš„é¢‘ç‡è¾“å‡ºäº”æ¬¡6ã€‚</p><p><strong>å»¶è¿Ÿå‡½æ•°çš„å›è°ƒä¼šåœ¨å¾ªç¯ç»“æŸæ—¶æ‰æ‰§è¡Œ</strong>ã€‚äº‹å®ä¸Šï¼Œå½“å®šæ—¶å™¨è¿è¡Œæ—¶å³ä½¿æ¯ä¸ªè¿­ä»£ä¸­æ‰§è¡Œçš„æ˜¯setTimeout(.., 0)ï¼Œæ‰€æœ‰çš„å›è°ƒå‡½æ•°ä¾ç„¶æ˜¯åœ¨å¾ªç¯ç»“æŸåæ‰ä¼šè¢«æ‰§è¡Œï¼Œå› æ­¤ä¼šæ¯æ¬¡è¾“å‡ºä¸€ä¸ª6å‡ºæ¥ã€‚</p></blockquote><p><strong>åˆ©ç”¨IIFE</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">1</span>; i&lt;=<span class="number">5</span>; i++) &#123;</span><br><span class="line">    (<span class="keyword">function</span>(<span class="params">j</span>) &#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="keyword">function</span> <span class="title function_">timer</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(j);</span><br><span class="line">      &#125;, j*<span class="number">1000</span> );</span><br><span class="line">    &#125;)(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨è¿­ä»£å†…ä½¿ç”¨IIFEä¼šä¸ºæ¯ä¸ªè¿­ä»£éƒ½ç”Ÿæˆä¸€ä¸ªæ–°çš„ä½œç”¨åŸŸï¼Œä½¿å¾—å»¶è¿Ÿå‡½æ•°çš„å›è°ƒå¯ä»¥å°†æ–°çš„ä½œç”¨åŸŸå°é—­åœ¨æ¯ä¸ªè¿­ä»£å†…éƒ¨ï¼Œæ¯ä¸ªè¿­ä»£ä¸­éƒ½ä¼šå«æœ‰ä¸€ä¸ªå…·æœ‰æ­£ç¡®å€¼çš„å˜é‡ä¾›æˆ‘ä»¬è®¿é—®ã€‚</p><p>æœ¬è´¨ä¸Šè¿™æ˜¯å°†ä¸€ä¸ªå—è½¬æ¢æˆä¸€ä¸ªå¯ä»¥è¢«å…³é—­çš„ä½œç”¨åŸŸ</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i=<span class="number">1</span>; i&lt;=<span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span> <span class="title function_">timer</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(i);</span><br><span class="line">    &#125;, i*<span class="number">1000</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ¨¡å—"><a href="#æ¨¡å—" class="headerlink" title="æ¨¡å—"></a>æ¨¡å—</h3><blockquote><p>æ¨¡å—æ¨¡å¼éœ€è¦å…·å¤‡ä¸¤ä¸ªå¿…è¦æ¡ä»¶ã€‚</p><p>1ï¼å¿…é¡»æœ‰å¤–éƒ¨çš„å°é—­å‡½æ•°ï¼Œè¯¥å‡½æ•°å¿…é¡»è‡³å°‘è¢«è°ƒç”¨ä¸€æ¬¡ï¼ˆæ¯æ¬¡è°ƒç”¨éƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æ¨¡å—å®ä¾‹ï¼‰ã€‚</p><p>2ï¼å°é—­å‡½æ•°å¿…é¡»è¿”å›è‡³å°‘ä¸€ä¸ªå†…éƒ¨å‡½æ•°ï¼Œè¿™æ ·å†…éƒ¨å‡½æ•°æ‰èƒ½åœ¨ç§æœ‰ä½œç”¨åŸŸä¸­å½¢æˆé—­åŒ…ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®æˆ–è€…ä¿®æ”¹ç§æœ‰çš„çŠ¶æ€ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">CoolModule</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> something = <span class="string">&quot;cool&quot;</span>;    </span><br><span class="line">    <span class="keyword">var</span> another = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(something);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">doAnother</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(another.<span class="title function_">join</span>(<span class="string">&quot; ! &quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">doSomething</span>: doSomething,</span><br><span class="line">        <span class="attr">doAnother</span>: doAnother</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> foo = <span class="title class_">CoolModule</span>();</span><br><span class="line"></span><br><span class="line">foo.<span class="title function_">doSomething</span>(); <span class="comment">// cool</span></span><br><span class="line">foo.<span class="title function_">doAnother</span>(); <span class="comment">// 1 ! 2 ! 3</span></span><br></pre></td></tr></table></figure><h3 id="ç°ä»£çš„æ¨¡å—æœºåˆ¶"><a href="#ç°ä»£çš„æ¨¡å—æœºåˆ¶" class="headerlink" title="ç°ä»£çš„æ¨¡å—æœºåˆ¶"></a>ç°ä»£çš„æ¨¡å—æœºåˆ¶</h3><blockquote><p>å¤§å¤šæ•°æ¨¡å—ä¾èµ–åŠ è½½å™¨/ç®¡ç†å™¨æœ¬è´¨ä¸Šéƒ½æ˜¯å°†è¿™ç§æ¨¡å—å®šä¹‰å°è£…è¿›ä¸€ä¸ªå‹å¥½çš„APIã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">MyModules</span> = (<span class="keyword">function</span> <span class="title function_">Manager</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> modules = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">define</span>(<span class="params">name, deps, impl</span>) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;deps.<span class="property">length</span>; i++) &#123;</span><br><span class="line">          deps[i] = modules[deps[i]];</span><br><span class="line">      &#125;</span><br><span class="line">      modules[name] = impl.<span class="title function_">apply</span>(impl, deps);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">get</span>(<span class="params">name</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> modules[name];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">define</span>: define,</span><br><span class="line">        <span class="attr">get</span>: get</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><p><strong>å®šä¹‰æ¨¡å—</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">MyModules</span>.<span class="title function_">define</span>(<span class="string">&quot;bar&quot;</span>, [], <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">hello</span>(<span class="params">who</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;Let me introduce: &quot;</span> + who;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">hello</span>: hello</span><br><span class="line">    &#125;;</span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line"><span class="title class_">MyModules</span>.<span class="title function_">define</span>(<span class="string">&quot;foo&quot;</span>, [<span class="string">&quot;bar&quot;</span>], <span class="keyword">function</span>(<span class="params">bar</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> hungry = <span class="string">&quot;hippo&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">awesome</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(bar.<span class="title function_">hello</span>(hungry).<span class="title function_">toUpperCase</span>());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">awesome</span>: awesome</span><br><span class="line">    &#125;;</span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = <span class="title class_">MyModules</span>.<span class="title function_">get</span>(<span class="string">&quot;bar&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> foo = <span class="title class_">MyModules</span>.<span class="title function_">get</span>(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">    bar.<span class="title function_">hello</span>(<span class="string">&quot;hippo&quot;</span>)</span><br><span class="line">); <span class="comment">// Let me introduce: hippo</span></span><br><span class="line">foo.<span class="title function_">awesome</span>(); <span class="comment">// LET ME INTRODUCE: HIPPO</span></span><br></pre></td></tr></table></figure><h3 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><blockquote><p>å½“å‡½æ•°å¯ä»¥è®°ä½å¹¶è®¿é—®æ‰€åœ¨çš„è¯æ³•ä½œç”¨åŸŸï¼Œå³ä½¿å‡½æ•°æ˜¯åœ¨å½“å‰è¯æ³•ä½œç”¨åŸŸä¹‹å¤–æ‰§è¡Œï¼Œè¿™æ—¶å°±äº§ç”Ÿäº†é—­åŒ…ã€‚</p><p>æ¨¡å—æœ‰ä¸¤ä¸ªä¸»è¦ç‰¹å¾ï¼š</p><p>ï¼ˆ1ï¼‰ä¸ºåˆ›å»ºå†…éƒ¨ä½œç”¨åŸŸè€Œè°ƒç”¨äº†ä¸€ä¸ªåŒ…è£…å‡½æ•°ï¼›</p><p>ï¼ˆ2ï¼‰åŒ…è£…å‡½æ•°çš„è¿”å›å€¼å¿…é¡»è‡³å°‘åŒ…æ‹¬ä¸€ä¸ªå¯¹å†…éƒ¨å‡½æ•°çš„å¼•ç”¨ï¼Œè¿™æ ·å°±ä¼šåˆ›å»ºæ¶µç›–æ•´ä¸ªåŒ…è£…å‡½æ•°å†…éƒ¨ä½œç”¨åŸŸçš„é—­åŒ…ã€‚</p></blockquote><h2 id="å…³äºthis"><a href="#å…³äºthis" class="headerlink" title="å…³äºthis"></a>å…³äºthis</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">identify</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>.<span class="title function_">toUpperCase</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">speak</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> greeting = <span class="string">&quot;Hello, I&#x27;m &quot;</span> + identify.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(greeting);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> me = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;Kyle&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> you = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;Reader&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">identify.<span class="title function_">call</span>(me); <span class="comment">// KYLE</span></span><br><span class="line">identify.<span class="title function_">call</span>(you); <span class="comment">// READER</span></span><br><span class="line"></span><br><span class="line">speak.<span class="title function_">call</span>(me); <span class="comment">// Hello, æˆ‘æ˜¯KYLE</span></span><br><span class="line">speak.<span class="title function_">call</span>(you); <span class="comment">// Hello, æˆ‘æ˜¯READER</span></span><br></pre></td></tr></table></figure><p><strong>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨this?</strong></p><blockquote><p>è¿™æ®µä»£ç å¯ä»¥åœ¨ä¸åŒçš„ä¸Šä¸‹æ–‡å¯¹è±¡ï¼ˆmeå’Œyouï¼‰ä¸­é‡å¤ä½¿ç”¨å‡½æ•°identify()å’Œspeak()ï¼Œä¸ç”¨é’ˆå¯¹æ¯ä¸ªå¯¹è±¡ç¼–å†™ä¸åŒç‰ˆæœ¬çš„å‡½æ•°ã€‚</p><p>å¦‚æœä¸ä½¿ç”¨thisï¼Œé‚£å°±éœ€è¦ç»™identify()å’Œspeak()æ˜¾å¼ä¼ å…¥ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</p><p>thisæä¾›äº†ä¸€ç§æ›´ä¼˜é›…çš„æ–¹å¼æ¥éšå¼â€œä¼ é€’â€ä¸€ä¸ªå¯¹è±¡å¼•ç”¨ï¼Œå› æ­¤å¯ä»¥å°†APIè®¾è®¡å¾—æ›´åŠ ç®€æ´å¹¶ä¸”æ˜“äºå¤ç”¨ã€‚</p></blockquote><h3 id="å¯¹thisçš„è¯¯è§£"><a href="#å¯¹thisçš„è¯¯è§£" class="headerlink" title="å¯¹thisçš„è¯¯è§£"></a>å¯¹thisçš„è¯¯è§£</h3><h4 id="æŒ‡å‘è‡ªèº«"><a href="#æŒ‡å‘è‡ªèº«" class="headerlink" title="æŒ‡å‘è‡ªèº«"></a>æŒ‡å‘è‡ªèº«</h4><blockquote><p>äººä»¬å¾ˆå®¹æ˜“æŠŠthisç†è§£æˆæŒ‡å‘å‡½æ•°è‡ªèº«ï¼Œè¿™ä¸ªæ¨æ–­ä»è‹±è¯­çš„è¯­æ³•è§’åº¦æ¥è¯´æ˜¯è¯´å¾—é€šçš„ã€‚</p></blockquote><p>è®°å½•ä¸€ä¸‹å‡½æ•°fooè¢«è°ƒç”¨çš„æ¬¡æ•°ï¼Œæ€è€ƒä¸€ä¸‹ä¸‹é¢çš„ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">num</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;foo: &quot;</span> + num);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®°å½•fooè¢«è°ƒç”¨çš„æ¬¡æ•°</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">count</span>++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">foo.<span class="property">count</span> = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> i;</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i &gt; <span class="number">5</span>) &#123;</span><br><span class="line">      <span class="title function_">foo</span>(i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// foo: 6</span></span><br><span class="line"><span class="comment">// foo: 7</span></span><br><span class="line"><span class="comment">// foo: 8</span></span><br><span class="line"><span class="comment">// foo: 9</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// fooè¢«è°ƒç”¨äº†å¤šå°‘æ¬¡ï¼Ÿ</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(foo.<span class="property">count</span>); <span class="comment">// 0 -- ä»€ä¹ˆï¼Ÿï¼</span></span><br></pre></td></tr></table></figure><blockquote><p>this.count å’Œ foo.count ä¸æ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯è¯´this ä¸æ˜¯æŒ‡å‘å‡½æ•°è‡ªèº«</p></blockquote><blockquote><p>å¦‚æœè¦ä»å‡½æ•°å¯¹è±¡å†…éƒ¨å¼•ç”¨å®ƒè‡ªèº«ï¼Œé‚£åªä½¿ç”¨thisæ˜¯ä¸å¤Ÿçš„ã€‚ä¸€èˆ¬æ¥è¯´ä½ éœ€è¦é€šè¿‡ä¸€ä¸ªæŒ‡å‘å‡½æ•°å¯¹è±¡çš„è¯æ³•æ ‡è¯†ç¬¦ï¼ˆå˜é‡ï¼‰æ¥å¼•ç”¨å®ƒã€‚</p><p>è¿˜æœ‰ä¸€ç§ä¼ ç»Ÿçš„ä½†æ˜¯ç°åœ¨å·²ç»è¢«å¼ƒç”¨å’Œæ‰¹åˆ¤çš„ç”¨æ³•ï¼Œæ˜¯ä½¿ç”¨arguments. calleeæ¥å¼•ç”¨å½“å‰æ­£åœ¨è¿è¡Œçš„å‡½æ•°å¯¹è±¡ã€‚è¿™æ˜¯å”¯ä¸€ä¸€ç§å¯ä»¥ä»åŒ¿åå‡½æ•°å¯¹è±¡å†…éƒ¨å¼•ç”¨è‡ªèº«çš„æ–¹æ³•ã€‚</p></blockquote><h4 id="thisæŒ‡å‘å‡½æ•°çš„ä½œç”¨åŸŸ"><a href="#thisæŒ‡å‘å‡½æ•°çš„ä½œç”¨åŸŸ" class="headerlink" title="thisæŒ‡å‘å‡½æ•°çš„ä½œç”¨åŸŸ"></a>thisæŒ‡å‘å‡½æ•°çš„ä½œç”¨åŸŸ</h4><blockquote><p>è¿™ä¸ªé—®é¢˜æœ‰ç‚¹å¤æ‚ï¼Œå› ä¸ºåœ¨æŸç§æƒ…å†µä¸‹å®ƒæ˜¯æ­£ç¡®çš„ï¼Œä½†æ˜¯åœ¨å…¶ä»–æƒ…å†µä¸‹å®ƒå´æ˜¯é”™è¯¯çš„ã€‚</p></blockquote><p>æ€è€ƒä¸€ä¸‹ä¸‹é¢çš„ä»£ç ï¼Œå®ƒè¯•å›¾ï¼ˆä½†æ˜¯æ²¡æœ‰æˆåŠŸï¼‰è·¨è¶Šè¾¹ç•Œï¼Œä½¿ç”¨thisæ¥éšå¼å¼•ç”¨å‡½æ•°çš„è¯æ³•ä½œç”¨åŸŸï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">bar</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// ReferenceError: a is not defined</span></span><br></pre></td></tr></table></figure><blockquote><p>é¦–å…ˆï¼Œè¿™æ®µä»£ç è¯•å›¾é€šè¿‡this.bar()æ¥å¼•ç”¨bar()å‡½æ•°ã€‚è¿™æ ·è°ƒç”¨èƒ½æˆåŠŸçº¯å±æ„å¤–</p><p>è°ƒç”¨bar()æœ€è‡ªç„¶çš„æ–¹æ³•æ˜¯çœç•¥å‰é¢çš„thisï¼Œç›´æ¥ä½¿ç”¨è¯æ³•å¼•ç”¨æ ‡è¯†ç¬¦ã€‚</p><p>ç¼–å†™è¿™æ®µä»£ç çš„å¼€å‘è€…è¿˜è¯•å›¾ä½¿ç”¨thisè”é€šfoo()å’Œbar()çš„è¯æ³•ä½œç”¨åŸŸï¼Œä»è€Œè®©bar()å¯ä»¥è®¿é—®foo()ä½œç”¨åŸŸé‡Œçš„å˜é‡aã€‚è¿™æ˜¯ä¸å¯èƒ½å®ç°çš„ï¼Œä½¿ç”¨thisä¸å¯èƒ½åœ¨è¯æ³•ä½œç”¨åŸŸä¸­æŸ¥åˆ°ä»€ä¹ˆã€‚</p></blockquote><h3 id="thisåˆ°åº•æ˜¯ä»€ä¹ˆ"><a href="#thisåˆ°åº•æ˜¯ä»€ä¹ˆ" class="headerlink" title="thisåˆ°åº•æ˜¯ä»€ä¹ˆ"></a>thisåˆ°åº•æ˜¯ä»€ä¹ˆ</h3><blockquote><p>thisæ˜¯åœ¨è¿è¡Œæ—¶è¿›è¡Œç»‘å®šçš„ï¼Œå¹¶ä¸æ˜¯åœ¨ç¼–å†™æ—¶ç»‘å®šï¼Œå®ƒçš„ä¸Šä¸‹æ–‡å–å†³äºå‡½æ•°è°ƒç”¨æ—¶çš„å„ç§æ¡ä»¶ã€‚<strong>thisçš„ç»‘å®šå’Œå‡½æ•°å£°æ˜çš„ä½ç½®æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œåªå–å†³äºå‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚</strong></p></blockquote><h3 id="è°ƒç”¨ä½ç½®"><a href="#è°ƒç”¨ä½ç½®" class="headerlink" title="è°ƒç”¨ä½ç½®"></a>è°ƒç”¨ä½ç½®</h3><blockquote><p>åœ¨ç†è§£thisçš„ç»‘å®šè¿‡ç¨‹ä¹‹å‰ï¼Œé¦–å…ˆè¦ç†è§£è°ƒç”¨ä½ç½®ï¼šè°ƒç”¨ä½ç½®å°±æ˜¯å‡½æ•°åœ¨ä»£ç ä¸­è¢«è°ƒç”¨çš„ä½ç½®ï¼ˆè€Œä¸æ˜¯å£°æ˜çš„ä½ç½®ï¼‰ã€‚åªæœ‰ä»”ç»†åˆ†æè°ƒç”¨ä½ç½®æ‰èƒ½å›ç­”è¿™ä¸ªé—®é¢˜ï¼šè¿™ä¸ªthisåˆ°åº•å¼•ç”¨çš„æ˜¯ä»€ä¹ˆï¼Ÿ</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">baz</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// å½“å‰è°ƒç”¨æ ˆæ˜¯ï¼šbaz</span></span><br><span class="line">    <span class="comment">// å› æ­¤ï¼Œå½“å‰è°ƒç”¨ä½ç½®æ˜¯å…¨å±€ä½œç”¨åŸŸ</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;baz&quot;</span>);</span><br><span class="line">    <span class="title function_">bar</span>(); <span class="comment">// &lt;-- barçš„è°ƒç”¨ä½ç½®</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">                <span class="comment">// å½“å‰è°ƒç”¨æ ˆæ˜¯baz -&gt; bar</span></span><br><span class="line">    <span class="comment">// å› æ­¤ï¼Œå½“å‰è°ƒç”¨ä½ç½®åœ¨bazä¸­</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;bar&quot;</span>);</span><br><span class="line">    <span class="title function_">foo</span>(); <span class="comment">// &lt;-- fooçš„è°ƒç”¨ä½ç½®</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// å½“å‰è°ƒç”¨æ ˆæ˜¯baz -&gt; bar -&gt; foo</span></span><br><span class="line">    <span class="comment">// å› æ­¤ï¼Œå½“å‰è°ƒç”¨ä½ç½®åœ¨barä¸­</span></span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;foo&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">baz</span>(); <span class="comment">// &lt;-- bazçš„è°ƒç”¨ä½ç½®</span></span><br></pre></td></tr></table></figure><h3 id="é»˜è®¤ç»‘å®š"><a href="#é»˜è®¤ç»‘å®š" class="headerlink" title="é»˜è®¤ç»‘å®š"></a>é»˜è®¤ç»‘å®š</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>(); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å½“è°ƒç”¨foo()æ—¶ï¼Œthis.aè¢«è§£ææˆäº†å…¨å±€å˜é‡aã€‚ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºåœ¨æœ¬ä¾‹ä¸­ï¼Œ<strong>å‡½æ•°è°ƒç”¨æ—¶åº”ç”¨äº†thisçš„é»˜è®¤ç»‘å®šï¼Œå› æ­¤thisæŒ‡å‘å…¨å±€å¯¹è±¡ã€‚</strong></p><p>ã€æ³¨æ„ã€‘<strong>å‰ææ˜¯åœ¨ éstrict modeä¸‹</strong></p></blockquote><h3 id="éšå¼ç»‘å®š"><a href="#éšå¼ç»‘å®š" class="headerlink" title="éšå¼ç»‘å®š"></a>éšå¼ç»‘å®š</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">foo</span>: foo</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.<span class="title function_">foo</span>(); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><blockquote><p>æ— è®ºä½ å¦‚ä½•ç§°å‘¼è¿™ä¸ªæ¨¡å¼ï¼Œå½“foo()è¢«è°ƒç”¨æ—¶ï¼Œå®ƒçš„å‰é¢ç¡®å®åŠ ä¸Šäº†å¯¹objçš„å¼•ç”¨ã€‚å½“å‡½æ•°å¼•ç”¨æœ‰ä¸Šä¸‹æ–‡å¯¹è±¡æ—¶ï¼Œéšå¼ç»‘å®šè§„åˆ™ä¼šæŠŠå‡½æ•°è°ƒç”¨ä¸­çš„thisç»‘å®šåˆ°è¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚å› ä¸ºè°ƒç”¨foo()æ—¶thisè¢«ç»‘å®šåˆ°objï¼Œå› æ­¤this.aå’Œobj.aæ˜¯ä¸€æ ·çš„ã€‚</p></blockquote><p><strong>å¯¹è±¡å±æ€§å¼•ç”¨é“¾ä¸­åªæœ‰ä¸Šä¸€å±‚æˆ–è€…è¯´æœ€åä¸€å±‚åœ¨è°ƒç”¨ä½ç½®ä¸­èµ·ä½œç”¨ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">42</span>,</span><br><span class="line">    <span class="attr">foo</span>: foo</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">obj2</span>: obj2</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj1.<span class="property">obj2</span>.<span class="title function_">foo</span>(); <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><h3 id="éšå¼ä¸¢å¤±"><a href="#éšå¼ä¸¢å¤±" class="headerlink" title="éšå¼ä¸¢å¤±"></a>éšå¼ä¸¢å¤±</h3><blockquote><p>ä¸€ä¸ªæœ€å¸¸è§çš„thisç»‘å®šé—®é¢˜å°±æ˜¯è¢«éšå¼ç»‘å®šçš„å‡½æ•°ä¼šä¸¢å¤±ç»‘å®šå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä¼šåº”ç”¨é»˜è®¤ç»‘å®šï¼Œä»è€ŒæŠŠthisç»‘å®šåˆ°å…¨å±€å¯¹è±¡æˆ–è€…undefinedä¸Šï¼Œå–å†³äºæ˜¯å¦æ˜¯ä¸¥æ ¼æ¨¡å¼ã€‚</p></blockquote><p>ç¤ºä¾‹1</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">foo</span>: foo</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = obj.<span class="property">foo</span>; <span class="comment">// å‡½æ•°åˆ«åï¼</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;oops, global&quot;</span>; <span class="comment">// aæ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">bar</span>(); <span class="comment">// &quot;oops, global&quot;</span></span><br></pre></td></tr></table></figure><p>ç¤ºä¾‹2</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">doFoo</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">    <span class="comment">// fnå…¶å®å¼•ç”¨çš„æ˜¯foo</span></span><br><span class="line"></span><br><span class="line">    <span class="title function_">fn</span>(); <span class="comment">// &lt;-- è°ƒç”¨ä½ç½®ï¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">foo</span>: foo</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;oops, global&quot;</span>; <span class="comment">// aæ˜¯å…¨å±€å¯¹è±¡çš„å±æ€§</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">doFoo</span>(obj.<span class="property">foo</span>); <span class="comment">// &quot;oops, global&quot;</span></span><br></pre></td></tr></table></figure><h3 id="æ˜¾å¼ç»‘å®š"><a href="#æ˜¾å¼ç»‘å®š" class="headerlink" title="æ˜¾å¼ç»‘å®š"></a>æ˜¾å¼ç»‘å®š</h3><blockquote><p>åœ¨åˆ†æéšå¼ç»‘å®šæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ä¸€ä¸ªå¯¹è±¡å†…éƒ¨åŒ…å«ä¸€ä¸ªæŒ‡å‘å‡½æ•°çš„å±æ€§ï¼Œå¹¶é€šè¿‡è¿™ä¸ªå±æ€§é—´æ¥å¼•ç”¨å‡½æ•°ï¼Œä»è€ŒæŠŠthisé—´æ¥ï¼ˆéšå¼ï¼‰ç»‘å®šåˆ°è¿™ä¸ªå¯¹è±¡ä¸Šã€‚</p><p>å¯ä»¥ä½¿ç”¨å‡½æ•°çš„<strong>call</strong>(..)å’Œ<strong>apply</strong>(..)æ–¹æ³•</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">foo.<span class="title function_">call</span>(obj); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><blockquote><p>é€šè¿‡foo.call(..)ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨fooæ—¶å¼ºåˆ¶æŠŠå®ƒçš„thisç»‘å®šåˆ°objä¸Šã€‚</p><p>å¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªåŸå§‹å€¼ï¼ˆå­—ç¬¦ä¸²ç±»å‹ã€å¸ƒå°”ç±»å‹æˆ–è€…æ•°å­—ç±»å‹ï¼‰æ¥å½“ä½œthisçš„ç»‘å®šå¯¹è±¡ï¼Œè¿™ä¸ªåŸå§‹å€¼ä¼šè¢«è½¬æ¢æˆå®ƒçš„å¯¹è±¡å½¢å¼ï¼ˆä¹Ÿå°±æ˜¯new String(..)ã€new Boolean(..)æˆ–è€…new Number(..)ï¼‰ã€‚è¿™é€šå¸¸è¢«ç§°ä¸ºâ€œè£…ç®±â€ã€‚</p></blockquote><p><strong>ç¡¬ç»‘å®š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">something</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>, something);</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">a</span> + something;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç®€å•çš„è¾…åŠ©ç»‘å®šå‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bind</span>(<span class="params">fn, obj</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> fn.<span class="title function_">apply</span>(obj, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = <span class="title function_">bind</span>(foo, obj);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="title function_">bar</span>(<span class="number">3</span>); <span class="comment">// 2 3</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(b); <span class="comment">// 5</span></span><br></pre></td></tr></table></figure><p>ç”±äºç¡¬ç»‘å®šæ˜¯ä¸€ç§éå¸¸å¸¸ç”¨çš„æ¨¡å¼ï¼Œæ‰€ä»¥ES5æä¾›äº†å†…ç½®çš„æ–¹æ³•Function.prototype.bindï¼Œå®ƒçš„ç”¨æ³•å¦‚ä¸‹ï¼š</p><h3 id="new-ç»‘å®š"><a href="#new-ç»‘å®š" class="headerlink" title="new ç»‘å®š"></a>new ç»‘å®š</h3><blockquote><p>ä½¿ç”¨newæ¥è°ƒç”¨å‡½æ•°ï¼Œæˆ–è€…è¯´å‘ç”Ÿæ„é€ å‡½æ•°è°ƒç”¨æ—¶ï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œä¸‹é¢çš„æ“ä½œã€‚</p><p>1ï¼åˆ›å»ºï¼ˆæˆ–è€…è¯´æ„é€ ï¼‰ä¸€ä¸ªå…¨æ–°çš„å¯¹è±¡ã€‚</p><p>2ï¼è¿™ä¸ªæ–°å¯¹è±¡ä¼šè¢«æ‰§è¡Œ[[Prototype]]è¿æ¥ã€‚</p><p>3ï¼è¿™ä¸ªæ–°å¯¹è±¡ä¼šç»‘å®šåˆ°å‡½æ•°è°ƒç”¨çš„thisã€‚</p><p>4ï¼å¦‚æœå‡½æ•°æ²¡æœ‰è¿”å›å…¶ä»–å¯¹è±¡ï¼Œé‚£ä¹ˆnewè¡¨è¾¾å¼ä¸­çš„å‡½æ•°è°ƒç”¨ä¼šè‡ªåŠ¨è¿”å›è¿™ä¸ªæ–°å¯¹è±¡ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">a</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">a</span> = a;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = <span class="keyword">new</span> <span class="title function_">foo</span>(<span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bar.<span class="property">a</span>); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><h3 id="APIè°ƒç”¨çš„â€œä¸Šä¸‹æ–‡â€"><a href="#APIè°ƒç”¨çš„â€œä¸Šä¸‹æ–‡â€" class="headerlink" title="APIè°ƒç”¨çš„â€œä¸Šä¸‹æ–‡â€"></a>APIè°ƒç”¨çš„â€œä¸Šä¸‹æ–‡â€</h3><blockquote><p>ç¬¬ä¸‰æ–¹åº“çš„è®¸å¤šå‡½æ•°ï¼Œä»¥åŠJavaScriptè¯­è¨€å’Œå®¿ä¸»ç¯å¢ƒä¸­è®¸å¤šæ–°çš„å†…ç½®å‡½æ•°ï¼Œéƒ½æä¾›äº†ä¸€ä¸ªå¯é€‰çš„å‚æ•°ï¼Œé€šå¸¸è¢«ç§°ä¸ºâ€œä¸Šä¸‹æ–‡â€ï¼ˆcontextï¼‰ï¼Œå…¶ä½œç”¨å’Œbind(..)ä¸€æ ·ï¼Œç¡®ä¿ä½ çš„å›è°ƒå‡½æ•°ä½¿ç”¨æŒ‡å®šçš„thisã€‚ä¸¾ä¾‹æ¥è¯´ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">el</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(el, <span class="variable language_">this</span>.<span class="property">id</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">id</span>: <span class="string">&quot;awesome&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è°ƒç”¨foo(..)æ—¶æŠŠthisç»‘å®šåˆ°obj</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].<span class="title function_">forEach</span>(foo, obj);</span><br><span class="line"><span class="comment">// 1 awesome 2 awesome 3 awesome</span></span><br></pre></td></tr></table></figure><blockquote><p>è¿™äº›å‡½æ•°å®é™…ä¸Šå°±æ˜¯é€šè¿‡call(..)æˆ–è€…apply(..)å®ç°äº†æ˜¾å¼ç»‘å®šï¼Œè¿™æ ·ä½ å¯ä»¥å°‘å†™ä¸€äº›ä»£ç ã€‚</p></blockquote><h3 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h3><p><strong>éšå¼ç»‘å®šå’Œæ˜¾å¼ç»‘å®šå“ªä¸ªä¼˜å…ˆçº§æ›´é«˜ï¼Ÿ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">foo</span>: foo</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">3</span>,</span><br><span class="line">    <span class="attr">foo</span>: foo</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj1.<span class="title function_">foo</span>(); <span class="comment">// 2</span></span><br><span class="line">obj2.<span class="title function_">foo</span>(); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">obj1.<span class="property">foo</span>.<span class="title function_">call</span>(obj2); <span class="comment">// 3</span></span><br><span class="line">obj2.<span class="property">foo</span>.<span class="title function_">call</span>(obj1); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥çœ‹åˆ°ï¼Œæ˜¾å¼ç»‘å®šä¼˜å…ˆçº§æ›´é«˜ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨åˆ¤æ–­æ—¶åº”å½“å…ˆè€ƒè™‘æ˜¯å¦å¯ä»¥å­˜åœ¨æ˜¾å¼ç»‘å®š</p></blockquote><p><strong>newç»‘å®šå’Œéšå¼ç»‘å®šçš„ä¼˜å…ˆçº§è°é«˜è°ä½?</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">something</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">a</span> = something;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">foo</span>: foo</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;&#125;;</span><br><span class="line"></span><br><span class="line">obj1.<span class="title function_">foo</span>(<span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">a</span>); <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line">obj1.<span class="property">foo</span>.<span class="title function_">call</span>(obj2, <span class="number">3</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj2.<span class="property">a</span>); <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = <span class="keyword">new</span> obj1.<span class="title function_">foo</span>(<span class="number">4</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">a</span>); <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(bar.<span class="property">a</span>); <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥çœ‹åˆ°newç»‘å®šæ¯”éšå¼ç»‘å®šä¼˜å…ˆçº§é«˜</p></blockquote><p><strong>newç»‘å®šå’Œæ˜¾å¼ç»‘å®šè°çš„ä¼˜å…ˆçº§æ›´é«˜å‘¢ï¼Ÿ</strong></p><blockquote><p>newå’Œcall/applyæ— æ³•ä¸€èµ·ä½¿ç”¨ï¼Œå› æ­¤æ— æ³•é€šè¿‡new foo.call(obj1)æ¥ç›´æ¥è¿›è¡Œæµ‹è¯•ã€‚ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç¡¬ç»‘å®šï¼ˆæ˜¾ç¤ºç»‘å®šçš„ä¸€ç§ï¼‰æ¥æµ‹è¯•å®ƒä¿©çš„ä¼˜å…ˆçº§ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">something</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">a</span> = something;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = foo.<span class="property">bind</span> (obj1);</span><br><span class="line"><span class="title function_">bar</span>(<span class="number">2</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">a</span>); <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> baz = <span class="keyword">new</span> <span class="title function_">bar</span>(<span class="number">3</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(obj1.<span class="property">a</span>); <span class="comment">// 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(baz.<span class="property">a</span>); <span class="comment">// 3</span></span><br></pre></td></tr></table></figure><h3 id="åˆ¤æ–­this"><a href="#åˆ¤æ–­this" class="headerlink" title="åˆ¤æ–­this"></a>åˆ¤æ–­this</h3><blockquote><p>ç°åœ¨æˆ‘ä»¬å¯ä»¥æ ¹æ®ä¼˜å…ˆçº§æ¥åˆ¤æ–­å‡½æ•°åœ¨æŸä¸ªè°ƒç”¨ä½ç½®åº”ç”¨çš„æ˜¯å“ªæ¡è§„åˆ™ã€‚å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„é¡ºåºæ¥è¿›è¡Œåˆ¤æ–­ï¼š</p></blockquote><ol><li><p>å‡½æ•°æ˜¯å¦åœ¨newä¸­è°ƒç”¨ï¼ˆnewç»‘å®šï¼‰ï¼Ÿå¦‚æœæ˜¯çš„è¯thisç»‘å®šçš„æ˜¯æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bar = <span class="keyword">new</span> <span class="title function_">foo</span>()</span><br></pre></td></tr></table></figure></li><li><p>å‡½æ•°æ˜¯å¦é€šè¿‡callã€applyï¼ˆæ˜¾å¼ç»‘å®šï¼‰æˆ–è€…ç¡¬ç»‘å®šè°ƒç”¨ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œthisç»‘å®šçš„æ˜¯æŒ‡å®šçš„å¯¹è±¡ã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bar = foo.<span class="title function_">call</span>(obj2)</span><br></pre></td></tr></table></figure></li><li><p>å‡½æ•°æ˜¯å¦åœ¨æŸä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ä¸­è°ƒç”¨ï¼ˆéšå¼ç»‘å®šï¼‰ï¼Ÿå¦‚æœæ˜¯çš„è¯ï¼Œthisç»‘å®šçš„æ˜¯é‚£ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bar = obj1.<span class="title function_">foo</span>()</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœéƒ½ä¸æ˜¯çš„è¯ï¼Œä½¿ç”¨é»˜è®¤ç»‘å®šã€‚å¦‚æœåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå°±ç»‘å®šåˆ°undefinedï¼Œå¦åˆ™ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ã€‚</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> bar = <span class="title function_">foo</span>()</span><br></pre></td></tr></table></figure></li></ol><h3 id="ç»‘å®šä¾‹å¤–"><a href="#ç»‘å®šä¾‹å¤–" class="headerlink" title="ç»‘å®šä¾‹å¤–"></a>ç»‘å®šä¾‹å¤–</h3><blockquote><p>è§„åˆ™æ€»æœ‰ä¾‹å¤–ï¼Œè¿™é‡Œä¹Ÿä¸€æ ·ã€‚</p><p>åœ¨æŸäº›åœºæ™¯ä¸‹thisçš„ç»‘å®šè¡Œä¸ºä¼šå‡ºä¹æ„æ–™ï¼Œä½ è®¤ä¸ºåº”å½“åº”ç”¨å…¶ä»–ç»‘å®šè§„åˆ™æ—¶ï¼Œå®é™…ä¸Šåº”ç”¨çš„å¯èƒ½æ˜¯é»˜è®¤ç»‘å®šè§„åˆ™</p></blockquote><h4 id="è¢«å¿½ç•¥çš„this"><a href="#è¢«å¿½ç•¥çš„this" class="headerlink" title="è¢«å¿½ç•¥çš„this"></a>è¢«å¿½ç•¥çš„this</h4><blockquote><p>å¦‚æœä½ æŠŠnullæˆ–è€…undefinedä½œä¸ºthisçš„ç»‘å®šå¯¹è±¡ä¼ å…¥callã€applyæˆ–è€…bindï¼Œè¿™äº›å€¼åœ¨è°ƒç”¨æ—¶ä¼šè¢«å¿½ç•¥ï¼Œå®é™…åº”ç”¨çš„æ˜¯é»˜è®¤ç»‘å®šè§„åˆ™ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">foo.<span class="title function_">call</span>(<span class="literal">null</span>); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><blockquote><p>å½“æˆ‘ä»¬çš„å‡½æ•°ä¸éœ€è¦å…³å¿ƒthisæŒ‡å‘åªå…³å¿ƒå‚æ•°æ—¶ï¼Œä½†ç¬¬ä¸€ä¸ªå‚æ•°éœ€è¦å ä½ç¬¦ï¼Œnullæ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©</p><p>ç„¶è€Œï¼Œæ€»æ˜¯ä½¿ç”¨nullæ¥å¿½ç•¥thisç»‘å®šå¯èƒ½äº§ç”Ÿä¸€äº›å‰¯ä½œç”¨ã€‚å¦‚æœæŸä¸ªå‡½æ•°ç¡®å®ä½¿ç”¨äº†thisï¼ˆæ¯”å¦‚ç¬¬ä¸‰æ–¹åº“ä¸­çš„ä¸€ä¸ªå‡½æ•°ï¼‰ï¼Œé‚£é»˜è®¤ç»‘å®šè§„åˆ™ä¼šæŠŠthisç»‘å®šåˆ°å…¨å±€å¯¹è±¡ï¼ˆåœ¨æµè§ˆå™¨ä¸­è¿™ä¸ªå¯¹è±¡æ˜¯windowï¼‰ï¼Œè¿™å°†å¯¼è‡´ä¸å¯é¢„è®¡çš„åæœï¼ˆæ¯”å¦‚ä¿®æ”¹å…¨å±€å¯¹è±¡ï¼‰ã€‚</p></blockquote><h4 id="æ›´å®‰å…¨çš„this"><a href="#æ›´å®‰å…¨çš„this" class="headerlink" title="æ›´å®‰å…¨çš„this"></a>æ›´å®‰å…¨çš„this</h4><blockquote><p>ä¸€ç§â€œæ›´å®‰å…¨â€çš„åšæ³•æ˜¯ä¼ å…¥ä¸€ä¸ªç‰¹æ®Šçš„å¯¹è±¡ï¼ŒæŠŠthisç»‘å®šåˆ°è¿™ä¸ªå¯¹è±¡ä¸ä¼šå¯¹ä½ çš„ç¨‹åºäº§ç”Ÿä»»ä½•å‰¯ä½œç”¨.</p><p>æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªâ€œDMZâ€ï¼ˆdemilitarized zoneï¼Œéå†›äº‹åŒºï¼‰å¯¹è±¡â€”â€”å®ƒå°±æ˜¯ä¸€ä¸ªç©ºçš„éå§”æ‰˜çš„å¯¹è±¡</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">a, b</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;a:&quot;</span> + a + <span class="string">&quot;, b:&quot;</span> + b);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ‘ä»¬çš„DMZç©ºå¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> Ã¸ = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŠŠæ•°ç»„å±•å¼€æˆå‚æ•°</span></span><br><span class="line">foo.<span class="title function_">apply</span>(Ã¸, [<span class="number">2</span>, <span class="number">3</span>]); <span class="comment">// a:2, b:3</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨bind(..)è¿›è¡ŒæŸ¯é‡ŒåŒ–</span></span><br><span class="line"><span class="keyword">var</span> bar = foo.<span class="title function_">bind</span>(Ã¸, <span class="number">2</span>);</span><br><span class="line"><span class="title function_">bar</span>(<span class="number">3</span>); <span class="comment">// a:2, b:3</span></span><br></pre></td></tr></table></figure><h4 id="é—´æ¥å¼•ç”¨"><a href="#é—´æ¥å¼•ç”¨" class="headerlink" title="é—´æ¥å¼•ç”¨"></a>é—´æ¥å¼•ç”¨</h4><blockquote><p>å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œä½ æœ‰å¯èƒ½ï¼ˆæœ‰æ„æˆ–è€…æ— æ„åœ°ï¼‰åˆ›å»ºä¸€ä¸ªå‡½æ•°çš„â€œé—´æ¥å¼•ç”¨â€ï¼Œåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè°ƒç”¨è¿™ä¸ªå‡½æ•°ä¼šåº”ç”¨é»˜è®¤ç»‘å®šè§„åˆ™ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> o = &#123; <span class="attr">a</span>: <span class="number">3</span>, <span class="attr">foo</span>: foo &#125;;</span><br><span class="line"><span class="keyword">var</span> p = &#123; <span class="attr">a</span>: <span class="number">4</span> &#125;;</span><br><span class="line"></span><br><span class="line">o.<span class="title function_">foo</span>(); <span class="comment">// 3</span></span><br><span class="line">(p.<span class="property">foo</span> = o.<span class="property">foo</span>)(); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><blockquote><p>èµ‹å€¼è¡¨è¾¾å¼p.foo = o.fooçš„è¿”å›å€¼æ˜¯ç›®æ ‡å‡½æ•°çš„å¼•ç”¨ï¼Œå› æ­¤è°ƒç”¨ä½ç½®æ˜¯foo()è€Œä¸æ˜¯p.foo()æˆ–è€…o.foo()ã€‚æ ¹æ®æˆ‘ä»¬ä¹‹å‰è¯´è¿‡çš„ï¼Œè¿™é‡Œä¼šåº”ç”¨é»˜è®¤ç»‘å®šã€‚</p><p>æ³¨æ„ï¼šå¯¹äºé»˜è®¤ç»‘å®šæ¥è¯´ï¼Œå†³å®šthisç»‘å®šå¯¹è±¡çš„å¹¶ä¸æ˜¯è°ƒç”¨ä½ç½®æ˜¯å¦å¤„äºä¸¥æ ¼æ¨¡å¼ï¼Œè€Œæ˜¯å‡½æ•°ä½“æ˜¯å¦å¤„äºä¸¥æ ¼æ¨¡å¼ã€‚å¦‚æœå‡½æ•°ä½“å¤„äºä¸¥æ ¼æ¨¡å¼ï¼Œthisä¼šè¢«ç»‘å®šåˆ°undefinedï¼Œå¦åˆ™thisä¼šè¢«ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ã€‚</p></blockquote><h4 id="è½¯ç»‘å®š"><a href="#è½¯ç»‘å®š" class="headerlink" title="è½¯ç»‘å®š"></a>è½¯ç»‘å®š</h4><blockquote><p>ä¹‹å‰æˆ‘ä»¬å·²ç»çœ‹åˆ°è¿‡ï¼Œç¡¬ç»‘å®šè¿™ç§æ–¹å¼å¯ä»¥æŠŠthiså¼ºåˆ¶ç»‘å®šåˆ°æŒ‡å®šçš„å¯¹è±¡ï¼ˆé™¤äº†ä½¿ç”¨newæ—¶ï¼‰ï¼Œé˜²æ­¢å‡½æ•°è°ƒç”¨åº”ç”¨é»˜è®¤ç»‘å®šè§„åˆ™ã€‚é—®é¢˜åœ¨äºï¼Œç¡¬ç»‘å®šä¼šå¤§å¤§é™ä½å‡½æ•°çš„çµæ´»æ€§ï¼Œä½¿ç”¨ç¡¬ç»‘å®šä¹‹åå°±æ— æ³•ä½¿ç”¨éšå¼ç»‘å®šæˆ–è€…æ˜¾å¼ç»‘å®šæ¥ä¿®æ”¹thisã€‚</p><p>å¦‚æœå¯ä»¥ç»™é»˜è®¤ç»‘å®šæŒ‡å®šä¸€ä¸ªå…¨å±€å¯¹è±¡å’Œundefinedä»¥å¤–çš„å€¼ï¼Œé‚£å°±å¯ä»¥å®ç°å’Œç¡¬ç»‘å®šç›¸åŒçš„æ•ˆæœï¼ŒåŒæ—¶ä¿ç•™éšå¼ç»‘å®šæˆ–è€…æ˜¾å¼ç»‘å®šä¿®æ”¹thisçš„èƒ½åŠ›</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (! <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">softBind</span>) &#123;</span><br><span class="line">    <span class="title class_">Function</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">softBind</span> = <span class="keyword">function</span>(<span class="params">obj</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> fn = <span class="variable language_">this</span>;</span><br><span class="line">      <span class="comment">// æ•è·æ‰€æœ‰ curried å‚æ•°</span></span><br><span class="line">      <span class="keyword">var</span> curried = [].<span class="property">slice</span>.<span class="property">call</span> (<span class="variable language_">arguments</span>, <span class="number">1</span>);</span><br><span class="line">      <span class="keyword">var</span> bound = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> fn.<span class="title function_">apply</span>(</span><br><span class="line">              (! <span class="variable language_">this</span> || <span class="variable language_">this</span> === (<span class="variable language_">window</span> || <span class="variable language_">global</span>)) ?</span><br><span class="line">                  obj : <span class="variable language_">this</span>,</span><br><span class="line">              curried.<span class="property">concat</span>.<span class="title function_">apply</span>(curried, <span class="variable language_">arguments</span>)</span><br><span class="line">          );</span><br><span class="line">      &#125;;</span><br><span class="line">      bound.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(fn.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line">      <span class="keyword">return</span> bound;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å®ƒä¼šå¯¹æŒ‡å®šçš„å‡½æ•°è¿›è¡Œå°è£…ï¼Œé¦–å…ˆæ£€æŸ¥è°ƒç”¨æ—¶çš„thisï¼Œå¦‚æœthisç»‘å®šåˆ°å…¨å±€å¯¹è±¡æˆ–è€…undefinedï¼Œé‚£å°±æŠŠæŒ‡å®šçš„é»˜è®¤å¯¹è±¡objç»‘å®šåˆ°thisï¼Œå¦åˆ™ä¸ä¼šä¿®æ”¹this</p></blockquote><h3 id="this-è¯æ³•"><a href="#this-è¯æ³•" class="headerlink" title="this è¯æ³•"></a>this è¯æ³•</h3><blockquote><p>ä¹‹å‰ä»‹ç»çš„å››æ¡è§„åˆ™å·²ç»å¯ä»¥åŒ…å«æ‰€æœ‰æ­£å¸¸çš„å‡½æ•°ã€‚ä½†æ˜¯ES6ä¸­ä»‹ç»äº†ä¸€ç§æ— æ³•ä½¿ç”¨è¿™äº›è§„åˆ™çš„ç‰¹æ®Šå‡½æ•°ç±»å‹ï¼šç®­å¤´å‡½æ•°ã€‚</p><p>ç®­å¤´å‡½æ•°å¹¶ä¸æ˜¯ä½¿ç”¨functionå…³é”®å­—å®šä¹‰çš„ï¼Œè€Œæ˜¯ä½¿ç”¨è¢«ç§°ä¸ºâ€œèƒ–ç®­å¤´â€çš„æ“ä½œç¬¦=&gt;å®šä¹‰çš„ã€‚ç®­å¤´å‡½æ•°ä¸ä½¿ç”¨thisçš„å››ç§æ ‡å‡†è§„åˆ™ï¼Œè€Œæ˜¯æ ¹æ®å¤–å±‚ï¼ˆå‡½æ•°æˆ–è€…å…¨å±€ï¼‰ä½œç”¨åŸŸæ¥å†³å®šthisã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è¿”å›ä¸€ä¸ªç®­å¤´å‡½æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function">(<span class="params">a</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//thisç»§æ‰¿è‡ªfoo()</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">a</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj1 = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> obj2 = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">3</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bar = foo.<span class="title function_">call</span>(obj1);</span><br><span class="line">bar.<span class="title function_">call</span>(obj2); <span class="comment">// 2, ä¸æ˜¯3ï¼</span></span><br></pre></td></tr></table></figure><h3 id="å°ç»“-2"><a href="#å°ç»“-2" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><blockquote><p>å¦‚æœè¦åˆ¤æ–­ä¸€ä¸ªè¿è¡Œä¸­å‡½æ•°çš„thisç»‘å®šï¼Œå°±éœ€è¦æ‰¾åˆ°è¿™ä¸ªå‡½æ•°çš„ç›´æ¥è°ƒç”¨ä½ç½®ã€‚æ‰¾åˆ°ä¹‹åå°±å¯ä»¥é¡ºåºåº”ç”¨ä¸‹é¢è¿™å››æ¡è§„åˆ™æ¥åˆ¤æ–­thisçš„ç»‘å®šå¯¹è±¡ã€‚</p><p>1ï¼ç”±newè°ƒç”¨ï¼Ÿç»‘å®šåˆ°æ–°åˆ›å»ºçš„å¯¹è±¡ã€‚</p><p>2ï¼ç”±callæˆ–è€…applyï¼ˆæˆ–è€…bindï¼‰è°ƒç”¨ï¼Ÿç»‘å®šåˆ°æŒ‡å®šçš„å¯¹è±¡ã€‚</p><p>3ï¼ç”±ä¸Šä¸‹æ–‡å¯¹è±¡è°ƒç”¨ï¼Ÿç»‘å®šåˆ°é‚£ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ã€‚</p><p>4ï¼é»˜è®¤ï¼šåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ç»‘å®šåˆ°undefinedï¼Œå¦åˆ™ç»‘å®šåˆ°å…¨å±€å¯¹è±¡ã€‚</p><p>ä¸€å®šè¦æ³¨æ„ï¼Œæœ‰äº›è°ƒç”¨å¯èƒ½åœ¨æ— æ„ä¸­ä½¿ç”¨é»˜è®¤ç»‘å®šè§„åˆ™ã€‚å¦‚æœæƒ³â€œæ›´å®‰å…¨â€åœ°å¿½ç•¥thisç»‘å®šï¼Œä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ªDMZå¯¹è±¡ï¼Œæ¯”å¦‚Ã¸ =Object.create(null)ï¼Œä»¥ä¿æŠ¤å…¨å±€å¯¹è±¡ã€‚</p><p>ES6ä¸­çš„<strong>ç®­å¤´å‡½æ•°</strong>å¹¶ä¸ä¼šä½¿ç”¨å››æ¡æ ‡å‡†çš„ç»‘å®šè§„åˆ™ï¼Œè€Œæ˜¯<strong>æ ¹æ®å½“å‰çš„è¯æ³•ä½œç”¨åŸŸæ¥å†³å®šthis</strong>ï¼Œå…·ä½“æ¥è¯´ï¼Œç®­å¤´å‡½æ•°ä¼šç»§æ‰¿å¤–å±‚å‡½æ•°è°ƒç”¨çš„thisç»‘å®šï¼ˆæ— è®ºthisç»‘å®šåˆ°ä»€ä¹ˆï¼‰ã€‚è¿™å…¶å®å’ŒES6ä¹‹å‰ä»£ç ä¸­çš„self = thisæœºåˆ¶ä¸€æ ·ã€‚</p></blockquote><h2 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h2><blockquote><p>ç®€å•åŸºæœ¬ç±»å‹ï¼ˆstringã€booleanã€numberã€nullå’Œundefinedï¼‰æœ¬èº«å¹¶ä¸æ˜¯å¯¹è±¡ã€‚nullæœ‰æ—¶ä¼šè¢«å½“ä½œä¸€ç§å¯¹è±¡ç±»å‹ï¼Œä½†æ˜¯è¿™å…¶å®åªæ˜¯è¯­è¨€æœ¬èº«çš„ä¸€ä¸ªbugï¼Œå³å¯¹nullæ‰§è¡Œtypeof nullæ—¶ä¼šè¿”å›å­—ç¬¦ä¸²â€objectâ€ã€‚[æ’å›¾]å®é™…ä¸Šï¼Œnullæœ¬èº«æ˜¯åŸºæœ¬ç±»å‹ã€‚</p></blockquote><h3 id="å†…å®¹"><a href="#å†…å®¹" class="headerlink" title="å†…å®¹"></a>å†…å®¹</h3><blockquote><p>å¯¹è±¡çš„å†…å®¹æ˜¯ç”±ä¸€äº›å­˜å‚¨åœ¨ç‰¹å®šå‘½åä½ç½®çš„ï¼ˆä»»æ„ç±»å‹çš„ï¼‰å€¼ç»„æˆçš„ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå±æ€§ã€‚</p><p>åœ¨å¼•æ“å†…éƒ¨ï¼Œè¿™äº›å€¼çš„å­˜å‚¨æ–¹å¼æ˜¯å¤šç§å¤šæ ·çš„ï¼Œä¸€èˆ¬å¹¶ä¸ä¼šå­˜åœ¨å¯¹è±¡å®¹å™¨å†…éƒ¨ã€‚å­˜å‚¨åœ¨å¯¹è±¡å®¹å™¨å†…éƒ¨çš„æ˜¯è¿™äº›å±æ€§çš„åç§°ï¼Œå®ƒä»¬å°±åƒæŒ‡é’ˆï¼ˆä»æŠ€æœ¯è§’åº¦æ¥è¯´å°±æ˜¯å¼•ç”¨ï¼‰ä¸€æ ·ï¼ŒæŒ‡å‘è¿™äº›å€¼çœŸæ­£çš„å­˜å‚¨ä½ç½®ã€‚</p></blockquote><p><strong>å¯è®¡ç®—å±æ€§å</strong></p><blockquote><p>ES6å¢åŠ äº†å¯è®¡ç®—å±æ€§åï¼Œå¯ä»¥åœ¨æ–‡å­—å½¢å¼ä¸­ä½¿ç”¨[]åŒ…è£¹ä¸€ä¸ªè¡¨è¾¾å¼æ¥å½“ä½œå±æ€§åï¼š</p><p>å¯è®¡ç®—å±æ€§åæœ€å¸¸ç”¨çš„åœºæ™¯å¯èƒ½æ˜¯ES6çš„ç¬¦å·ï¼ˆSymbolï¼‰</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> prefix = <span class="string">&quot;foo&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    [prefix + <span class="string">&quot;bar&quot;</span>]:<span class="string">&quot;hello&quot;</span>,</span><br><span class="line">    [prefix + <span class="string">&quot;baz&quot;</span>]: <span class="string">&quot;world&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">myObject[<span class="string">&quot;foobar&quot;</span>]; <span class="comment">// hello</span></span><br><span class="line">myObject[<span class="string">&quot;foobaz&quot;</span>]; <span class="comment">// world</span></span><br></pre></td></tr></table></figure><p><strong>æ•°ç»„</strong></p><blockquote><p>ä½ å®Œå…¨å¯ä»¥æŠŠæ•°ç»„å½“ä½œä¸€ä¸ªæ™®é€šçš„é”®/å€¼å¯¹è±¡æ¥ä½¿ç”¨ï¼Œå¹¶ä¸”ä¸æ·»åŠ ä»»ä½•æ•°å€¼ç´¢å¼•ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ã€‚æ•°ç»„å’Œæ™®é€šçš„å¯¹è±¡éƒ½æ ¹æ®å…¶å¯¹åº”çš„è¡Œä¸ºå’Œç”¨é€”è¿›è¡Œäº†ä¼˜åŒ–ï¼Œæ‰€ä»¥æœ€å¥½åªç”¨å¯¹è±¡æ¥å­˜å‚¨é”®/å€¼å¯¹ï¼Œåªç”¨æ•°ç»„æ¥å­˜å‚¨æ•°å€¼ä¸‹æ ‡/å€¼å¯¹ã€‚</p></blockquote><p>æ³¨æ„ï¼šå¦‚æœä½ è¯•å›¾å‘æ•°ç»„æ·»åŠ ä¸€ä¸ªå±æ€§ï¼Œä½†æ˜¯å±æ€§åâ€œçœ‹èµ·æ¥â€åƒä¸€ä¸ªæ•°å­—ï¼Œé‚£å®ƒä¼šå˜æˆä¸€ä¸ªæ•°å€¼ä¸‹æ ‡ï¼ˆå› æ­¤ä¼šä¿®æ”¹æ•°ç»„çš„å†…å®¹è€Œä¸æ˜¯æ·»åŠ ä¸€ä¸ªå±æ€§ï¼‰ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myArray = [ <span class="string">&quot;foo&quot;</span>, <span class="number">42</span>, <span class="string">&quot;bar&quot;</span> ];</span><br><span class="line"></span><br><span class="line">myArray[<span class="string">&quot;3&quot;</span>] = <span class="string">&quot;baz&quot;</span>;</span><br><span class="line"></span><br><span class="line">myArray.<span class="property">length</span>; <span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line">myArray[<span class="number">3</span>]; <span class="comment">// &quot;baz&quot;</span></span><br></pre></td></tr></table></figure><h4 id="å¤åˆ¶å¯¹è±¡"><a href="#å¤åˆ¶å¯¹è±¡" class="headerlink" title="å¤åˆ¶å¯¹è±¡"></a>å¤åˆ¶å¯¹è±¡</h4><blockquote><p>æµ…å¤åˆ¶åªå¤åˆ¶å¯¹è±¡å¼•ç”¨ï¼Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„ä¸€æ¨¡ä¸€æ ·çš„å¯¹è±¡ã€‚æ·±å¤åˆ¶æ¯”è¾ƒå¤æ‚ï¼Œå¦‚æœå¯¹è±¡å­˜åœ¨ç›¸äº’å¼•ç”¨åˆ™ä¼šå‡ºç°æ­»å¾ªç¯</p></blockquote><p>æ·±å¤åˆ¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> newObj = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(someObj));</span><br></pre></td></tr></table></figure><p>æµ…å¤åˆ¶ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">assign</span>(..)</span><br></pre></td></tr></table></figure><h4 id="å±æ€§æè¿°ç¬¦"><a href="#å±æ€§æè¿°ç¬¦" class="headerlink" title="å±æ€§æè¿°ç¬¦"></a>å±æ€§æè¿°ç¬¦</h4><blockquote><p>åœ¨ES5ä¹‹å‰ï¼ŒJavaScriptè¯­è¨€æœ¬èº«å¹¶æ²¡æœ‰æä¾›å¯ä»¥ç›´æ¥æ£€æµ‹å±æ€§ç‰¹æ€§çš„æ–¹æ³•ï¼Œæ¯”å¦‚åˆ¤æ–­å±æ€§æ˜¯å¦æ˜¯åªè¯»ã€‚ä½†æ˜¯ä»ES5å¼€å§‹ï¼Œæ‰€æœ‰çš„å±æ€§éƒ½å…·å¤‡äº†å±æ€§æè¿°ç¬¦ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">getOwnPropertyDescriptor</span>(myObject, <span class="string">&quot;a&quot;</span>);</span><br><span class="line"><span class="comment">// &#123;</span></span><br><span class="line"><span class="comment">//    value: 2,</span></span><br><span class="line"><span class="comment">//    writable: true,</span></span><br><span class="line"><span class="comment">//    enumerable: true,</span></span><br><span class="line"><span class="comment">//    configurable: true</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure><p>é™¤äº†valueå±æ€§è¿˜æœ‰ä¸‰ä¸ªç‰¹æ€§ï¼šwritableï¼ˆå¯å†™ï¼‰ã€enumerableï¼ˆå¯æšä¸¾ï¼‰å’Œconfigurableï¼ˆå¯é…ç½®</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(myObject, <span class="string">&quot;a&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span></span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line">myObject.<span class="property">a</span>; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬ä½¿ç”¨defineProperty(..)ç»™myObjectæ·»åŠ äº†ä¸€ä¸ªæ™®é€šçš„å±æ€§å¹¶æ˜¾å¼æŒ‡å®šäº†ä¸€äº›ç‰¹æ€§ã€‚ç„¶è€Œï¼Œä¸€èˆ¬æ¥è¯´ä½ ä¸ä¼šä½¿ç”¨è¿™ç§æ–¹å¼ï¼Œé™¤éä½ æƒ³ä¿®æ”¹å±æ€§æè¿°ç¬¦ã€‚</p></blockquote><ol><li><p><strong>Writable</strong></p><blockquote><p>writableå†³å®šæ˜¯å¦å¯ä»¥ä¿®æ”¹å±æ€§çš„å€¼ã€‚</p></blockquote></li><li><p><strong>Configurable</strong></p><blockquote><p>åªè¦å±æ€§æ˜¯å¯é…ç½®çš„ï¼Œå°±å¯ä»¥ä½¿ç”¨defineProperty(..)æ–¹æ³•æ¥ä¿®æ”¹å±æ€§æè¿°ç¬¦</p><p>æ³¨æ„ï¼šæŠŠconfigurableä¿®æ”¹æˆfalseæ˜¯å•å‘æ“ä½œï¼Œæ— æ³•æ’¤é”€ï¼</p><p>è¦æ³¨æ„æœ‰ä¸€ä¸ªå°å°çš„ä¾‹å¤–ï¼šå³ä¾¿å±æ€§æ˜¯configurable:falseï¼Œæˆ‘ä»¬è¿˜æ˜¯å¯ä»¥æŠŠwritableçš„çŠ¶æ€ç”±trueæ”¹ä¸ºfalseï¼Œä½†æ˜¯æ— æ³•ç”±falseæ”¹ä¸ºtrueã€‚é™¤äº†æ— æ³•ä¿®æ”¹ï¼Œconfigurable:falseè¿˜ä¼šç¦æ­¢åˆ é™¤è¿™ä¸ªå±æ€§ï¼š</p></blockquote> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">myObject.<span class="property">a</span>; <span class="comment">// 2</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">delete</span> myObject.<span class="property">a</span>;</span><br><span class="line">myObject.<span class="property">a</span>; <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(myObject, <span class="string">&quot;a&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">2</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">enumerable</span>: <span class="literal">true</span></span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line">myObject.<span class="property">a</span>; <span class="comment">// 2</span></span><br><span class="line"><span class="keyword">delete</span> myObject.<span class="property">a</span>;</span><br><span class="line">myObject.<span class="property">a</span>; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure></li><li><p><strong>Enumerable</strong></p><blockquote><p>è¿™ä¸ªæè¿°ç¬¦æ§åˆ¶çš„æ˜¯å±æ€§æ˜¯å¦ä¼šå‡ºç°åœ¨å¯¹è±¡çš„å±æ€§æšä¸¾ä¸­ï¼Œæ¯”å¦‚è¯´for..inå¾ªç¯ã€‚å¦‚æœæŠŠenumerableè®¾ç½®æˆfalseï¼Œè¿™ä¸ªå±æ€§å°±ä¸ä¼šå‡ºç°åœ¨æšä¸¾ä¸­ï¼Œè™½ç„¶ä»ç„¶å¯ä»¥æ­£å¸¸è®¿é—®å®ƒã€‚ç›¸å¯¹åœ°ï¼Œè®¾ç½®æˆtrueå°±ä¼šè®©å®ƒå‡ºç°åœ¨æšä¸¾ä¸­</p></blockquote></li></ol><h4 id="ä¸å˜æ€§"><a href="#ä¸å˜æ€§" class="headerlink" title="ä¸å˜æ€§"></a>ä¸å˜æ€§</h4><blockquote><p>æè¿°ç¬¦çš„å¯å˜æ€§æ˜¯æµ…å±‚çš„ï¼Œå½“æœ‰åµŒå¥—å±æ€§æ˜¯å¯¹è±¡æ—¶å°±æ§åˆ¶ä¸äº†</p></blockquote><ol><li><p>å¯¹è±¡å¸¸é‡</p><blockquote><p>ç»“åˆwritable:falseå’Œconfigurable:falseå°±å¯ä»¥åˆ›å»ºä¸€ä¸ªçœŸæ­£çš„å¸¸é‡å±æ€§ï¼ˆä¸å¯ä¿®æ”¹ã€é‡å®šä¹‰æˆ–è€…åˆ é™¤ï¼‰ï¼š</p></blockquote> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(myObject, <span class="string">&quot;FAVORITE NUMBER&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">value</span>: <span class="number">42</span>,</span><br><span class="line">    <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">configurable</span>: <span class="literal">false</span></span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure></li><li><p>ç¦æ­¢æ‰©å±•</p><blockquote><p>å¦‚æœä½ æƒ³ç¦æ­¢ä¸€ä¸ªå¯¹è±¡æ·»åŠ æ–°å±æ€§å¹¶ä¸”ä¿ç•™å·²æœ‰å±æ€§ï¼Œå¯ä»¥ä½¿ç”¨Object.prevent Extensions(..)ï¼š</p></blockquote> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">preventExtensions</span>(myObject);</span><br><span class="line"></span><br><span class="line">myObject.<span class="property">b</span> = <span class="number">3</span>;</span><br><span class="line">myObject.<span class="property">b</span>; <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><blockquote><p>åœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œåˆ›å»ºå±æ€§bä¼šé™é»˜å¤±è´¥ã€‚åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œå°†ä¼šæŠ›å‡ºTypeErroré”™è¯¯ã€‚</p></blockquote></li><li><p>å¯†å°</p><blockquote><p>Object.seal(..)ä¼šåˆ›å»ºä¸€ä¸ªâ€œå¯†å°â€çš„å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•å®é™…ä¸Šä¼šåœ¨ä¸€ä¸ªç°æœ‰å¯¹è±¡ä¸Šè°ƒç”¨Object.preventExtensions(..)å¹¶æŠŠæ‰€æœ‰ç°æœ‰å±æ€§æ ‡è®°ä¸º<strong>configurable:false</strong>ã€‚</p></blockquote></li><li><p>å†»ç»“</p><blockquote><p>Object.freeze(..)ä¼šåˆ›å»ºä¸€ä¸ªå†»ç»“å¯¹è±¡ï¼Œè¿™ä¸ªæ–¹æ³•å®é™…ä¸Šä¼šåœ¨ä¸€ä¸ªç°æœ‰å¯¹è±¡ä¸Šè°ƒç”¨Object.seal(..)å¹¶æŠŠæ‰€æœ‰â€œæ•°æ®è®¿é—®â€å±æ€§æ ‡è®°ä¸º<strong>writable:false</strong>ï¼Œè¿™æ ·å°±æ— æ³•ä¿®æ”¹å®ƒä»¬çš„å€¼ã€‚</p></blockquote></li><li><p>[get]</p><blockquote><p>å¯¹è±¡é»˜è®¤çš„å†…ç½®[[Get]]æ“ä½œé¦–å…ˆåœ¨å¯¹è±¡ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰åç§°ç›¸åŒçš„å±æ€§ï¼Œ</p><p>å¦‚æœæ‰¾åˆ°å°±ä¼šè¿”å›è¿™ä¸ªå±æ€§çš„å€¼ã€‚ç„¶è€Œï¼Œå¦‚æœæ²¡æœ‰æ‰¾åˆ°åç§°ç›¸åŒçš„å±æ€§ï¼ŒæŒ‰ç…§[[Get]]ç®—æ³•çš„å®šä¹‰ä¼šæ‰§è¡Œå¦å¤–ä¸€ç§éå¸¸é‡è¦çš„è¡Œä¸ºã€‚</p><p>(å…¶å®å°±æ˜¯éå†å¯èƒ½å­˜åœ¨çš„[[Prototype]]é“¾ï¼Œä¹Ÿå°±æ˜¯åŸå‹é“¾ï¼‰ã€‚</p><p>å¦‚æœæ— è®ºå¦‚ä½•éƒ½æ²¡æœ‰æ‰¾åˆ°åç§°ç›¸åŒçš„å±æ€§ï¼Œé‚£[[Get]]æ“ä½œä¼šè¿”å›å€¼undefinedï¼š</p></blockquote></li><li><p>[put]</p><blockquote><p>1ï¼å±æ€§æ˜¯å¦æ˜¯è®¿é—®æè¿°ç¬¦ï¼Ÿå¦‚æœæ˜¯å¹¶ä¸”å­˜åœ¨setterå°±è°ƒç”¨setterã€‚</p><p>2ï¼å±æ€§çš„æ•°æ®æè¿°ç¬¦ä¸­writableæ˜¯å¦æ˜¯falseï¼Ÿå¦‚æœæ˜¯ï¼Œåœ¨éä¸¥æ ¼æ¨¡å¼ä¸‹é™é»˜å¤±è´¥ï¼Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æŠ›å‡ºTypeErrorå¼‚å¸¸ã€‚</p><p>3ï¼å¦‚æœéƒ½ä¸æ˜¯ï¼Œå°†è¯¥å€¼è®¾ç½®ä¸ºå±æ€§çš„å€¼ã€‚</p></blockquote></li><li><p>Getterå’ŒSetter</p><blockquote><p>å¯¹è±¡é»˜è®¤çš„ [get],[put] è¡Œä¸ºå¯ä»¥é‡å†™</p></blockquote> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    <span class="comment">// ç»™aå®šä¹‰ä¸€ä¸ªgetter</span></span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">a</span>() &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">myObject.<span class="property">a</span> = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">myObject.<span class="property">a</span>; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure></li></ol><h4 id="å­˜åœ¨æ€§"><a href="#å­˜åœ¨æ€§" class="headerlink" title="å­˜åœ¨æ€§"></a><strong>å­˜åœ¨æ€§</strong></h4><blockquote><p>å‰é¢æˆ‘ä»¬ä»‹ç»è¿‡ï¼Œå¦‚myObject.açš„å±æ€§è®¿é—®è¿”å›å€¼å¯èƒ½æ˜¯undefinedï¼Œä½†æ˜¯è¿™ä¸ªå€¼æœ‰å¯èƒ½æ˜¯å±æ€§ä¸­å­˜å‚¨çš„undefinedï¼Œä¹Ÿå¯èƒ½æ˜¯å› ä¸ºå±æ€§ä¸å­˜åœ¨æ‰€ä»¥è¿”å›undefinedã€‚é‚£ä¹ˆå¦‚ä½•åŒºåˆ†è¿™ä¸¤ç§æƒ…å†µå‘¢ï¼Ÿ</p></blockquote><p>æˆ‘ä»¬å¯ä»¥åœ¨ä¸è®¿é—®å±æ€§å€¼çš„æƒ…å†µä¸‹åˆ¤æ–­å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨è¿™ä¸ªå±æ€§ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">(<span class="string">&quot;a&quot;</span> <span class="keyword">in</span> myObject); <span class="comment">// true</span></span><br><span class="line">(<span class="string">&quot;b&quot;</span> <span class="keyword">in</span> myObject); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">myObject.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;a&quot;</span>); <span class="comment">// true</span></span><br><span class="line">myObject.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;b&quot;</span>); <span class="comment">// false</span></span><br></pre></td></tr></table></figure><blockquote><p>inæ“ä½œç¬¦ä¼šæ£€æŸ¥å±æ€§æ˜¯å¦åœ¨å¯¹è±¡åŠå…¶[[Prototype]]åŸå‹é“¾ä¸­.ã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼ŒhasOwnProperty(..)åªä¼šæ£€æŸ¥å±æ€§æ˜¯å¦åœ¨myObjectå¯¹è±¡ä¸­ï¼Œä¸ä¼šæ£€æŸ¥[[Prototype]]é“¾</p><p>Object.prototype.hasOwnProperty. call(myObject, â€œaâ€)ï¼Œå®ƒå€Ÿç”¨åŸºç¡€çš„hasOwnProperty(..)æ–¹æ³•å¹¶æŠŠå®ƒæ˜¾å¼ç»‘å®šåˆ°myObjectä¸Šã€‚</p></blockquote><blockquote><p>çœ‹èµ·æ¥<strong>inæ“ä½œç¬¦å¯ä»¥æ£€æŸ¥å®¹å™¨å†…æ˜¯å¦æœ‰æŸä¸ªå€¼</strong>ï¼Œä½†æ˜¯<strong>å®ƒå®é™…ä¸Šæ£€æŸ¥çš„æ˜¯æŸä¸ªå±æ€§åæ˜¯å¦å­˜åœ¨</strong>ã€‚</p><p>å¯¹äºæ•°ç»„æ¥è¯´è¿™ä¸ªåŒºåˆ«éå¸¸é‡è¦ï¼Œ4 in [2, 4, 6]çš„ç»“æœå¹¶ä¸æ˜¯ä½ æœŸå¾…çš„Trueï¼Œå› ä¸º[2, 4,6]è¿™ä¸ªæ•°ç»„ä¸­åŒ…å«çš„å±æ€§åæ˜¯0ã€1ã€2ï¼Œæ²¡æœ‰4ã€‚</p></blockquote><h4 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(</span><br><span class="line">    myObject,</span><br><span class="line">    <span class="string">&quot;a&quot;</span>,</span><br><span class="line">    <span class="comment">// è®©aåƒæ™®é€šå±æ€§ä¸€æ ·å¯ä»¥æšä¸¾</span></span><br><span class="line">    &#123; <span class="attr">enumerable</span>: <span class="literal">true</span>, <span class="attr">value</span>: <span class="number">2</span> &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(</span><br><span class="line">    myObject,</span><br><span class="line">    <span class="string">&quot;b&quot;</span>,</span><br><span class="line">    <span class="comment">// è®©bä¸å¯æšä¸¾</span></span><br><span class="line">    &#123; <span class="attr">enumerable</span>: <span class="literal">false</span>, <span class="attr">value</span>: <span class="number">3</span> &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">myObject.<span class="property">b</span>; <span class="comment">// 3</span></span><br><span class="line">(<span class="string">&quot;b&quot;</span> <span class="keyword">in</span> myObject); <span class="comment">// true</span></span><br><span class="line">myObject.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;b&quot;</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// .......</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> myObject) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(k, myObject[k]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// &quot;a&quot; 2</span></span><br></pre></td></tr></table></figure><blockquote><p>myObject.bç¡®å®å­˜åœ¨å¹¶ä¸”æœ‰è®¿é—®å€¼ï¼Œä½†æ˜¯å´ä¸ä¼šå‡ºç°åœ¨for..inå¾ªç¯ä¸­ï¼ˆå°½ç®¡å¯ä»¥é€šè¿‡inæ“ä½œç¬¦æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨ï¼‰ã€‚åŸå› æ˜¯â€œå¯æšä¸¾â€å°±ç›¸å½“äºâ€œå¯ä»¥å‡ºç°åœ¨å¯¹è±¡å±æ€§çš„éå†ä¸­â€ã€‚</p><p>åœ¨æ•°ç»„ä¸Šåº”ç”¨for..inå¾ªç¯æœ‰æ—¶ä¼šäº§ç”Ÿå‡ºäººæ„æ–™çš„ç»“æœï¼Œå› ä¸ºè¿™ç§æšä¸¾ä¸ä»…ä¼šåŒ…å«æ‰€æœ‰æ•°å€¼ç´¢å¼•ï¼Œè¿˜ä¼šåŒ…å«æ‰€æœ‰å¯æšä¸¾å±æ€§ã€‚æœ€å¥½åªåœ¨å¯¹è±¡ä¸Šåº”ç”¨for..inå¾ªç¯ï¼Œå¦‚æœè¦éå†æ•°ç»„å°±ä½¿ç”¨ä¼ ç»Ÿçš„forå¾ªç¯æ¥éå†æ•°å€¼ç´¢å¼•ã€‚</p></blockquote><p><strong>åˆ¤æ–­æ˜¯å¦å¯æšä¸¾</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> myObject = &#123; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(</span><br><span class="line">    myObject,</span><br><span class="line">    <span class="string">&quot;a&quot;</span>,</span><br><span class="line">    <span class="comment">// è®©aåƒæ™®é€šå±æ€§ä¸€æ ·å¯ä»¥æšä¸¾</span></span><br><span class="line">    &#123; <span class="attr">enumerable</span>: <span class="literal">true</span>, <span class="attr">value</span>: <span class="number">2</span> &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(</span><br><span class="line">                  myObject,</span><br><span class="line">      <span class="string">&quot;b&quot;</span>,</span><br><span class="line">      <span class="comment">// è®©bä¸å¯æšä¸¾</span></span><br><span class="line">      &#123; <span class="attr">enumerable</span>: <span class="literal">false</span>, <span class="attr">value</span>: <span class="number">3</span> &#125;</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  myObject.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&quot;a&quot;</span>); <span class="comment">// true</span></span><br><span class="line">  myObject.<span class="title function_">propertyIsEnumerable</span>(<span class="string">&quot;b&quot;</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">keys</span>(myObject); <span class="comment">// [&quot;a&quot;]</span></span><br><span class="line">  <span class="title class_">Object</span>.<span class="title function_">getOwnPropertyNames</span>(myObject); <span class="comment">// [&quot;a&quot;, &quot;b&quot;]</span></span><br></pre></td></tr></table></figure><blockquote><p>propertyIsEnumerable(..)ä¼šæ£€æŸ¥ç»™å®šçš„å±æ€§åæ˜¯å¦ç›´æ¥å­˜åœ¨äºå¯¹è±¡ä¸­ï¼ˆè€Œä¸æ˜¯åœ¨åŸå‹é“¾ä¸Šï¼‰å¹¶ä¸”æ»¡è¶³enumerable:trueã€‚</p><p>Object.keys(..)ä¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«æ‰€æœ‰å¯æšä¸¾å±æ€§ï¼ŒObject.getOwnPropertyNames(..)ä¼šè¿”å›ä¸€ä¸ªæ•°ç»„ï¼ŒåŒ…å«æ‰€æœ‰å±æ€§ï¼Œæ— è®ºå®ƒä»¬æ˜¯å¦å¯æšä¸¾ã€‚</p><p>inå’ŒhasOwnProperty(..)çš„åŒºåˆ«åœ¨äºå‰è€…ä¼šæŸ¥æ‰¾[[Prototype]]é“¾ï¼Œç„¶è€Œï¼ŒObject.keys(..)å’ŒObject.getOwnPropertyNames(..)éƒ½åªä¼šæŸ¥æ‰¾å¯¹è±¡ç›´æ¥åŒ…å«çš„å±æ€§ã€‚</p></blockquote><h3 id="éå†"><a href="#éå†" class="headerlink" title="éå†"></a>éå†</h3><blockquote><p>for..inå¾ªç¯å¯ä»¥ç”¨æ¥éå†å¯¹è±¡çš„å¯æšä¸¾å±æ€§åˆ—è¡¨ï¼ˆåŒ…æ‹¬[[Prototype]]é“¾ï¼‰ã€‚ä½†æ˜¯å¦‚ä½•éå†å±æ€§çš„å€¼å‘¢ï¼Ÿ</p></blockquote><blockquote><p>ES5ä¸­å¢åŠ äº†ä¸€äº›æ•°ç»„çš„è¾…åŠ©è¿­ä»£å™¨ï¼ŒåŒ…æ‹¬forEach(..)ã€every(..)å’Œsome(..)ã€‚</p><p><strong>éå†æ•°ç»„ä¸‹æ ‡æ—¶é‡‡ç”¨çš„æ˜¯æ•°å­—é¡ºåº</strong>ï¼ˆforå¾ªç¯æˆ–è€…å…¶ä»–è¿­ä»£å™¨ï¼‰ï¼Œ<strong>ä½†æ˜¯éå†å¯¹è±¡å±æ€§æ—¶çš„é¡ºåºæ˜¯ä¸ç¡®å®šçš„</strong>ï¼Œåœ¨ä¸åŒçš„JavaScriptå¼•æ“ä¸­å¯èƒ½ä¸ä¸€æ ·ã€‚å› æ­¤ï¼Œåœ¨ä¸åŒçš„ç¯å¢ƒä¸­éœ€è¦ä¿è¯ä¸€è‡´æ€§æ—¶ï¼Œä¸€å®šä¸è¦ç›¸ä¿¡ä»»ä½•è§‚å¯Ÿåˆ°çš„é¡ºåºï¼Œå®ƒä»¬æ˜¯ä¸å¯é çš„ã€‚</p></blockquote><h2 id="ç±»"><a href="#ç±»" class="headerlink" title="ç±»"></a>ç±»</h2><blockquote><p>åœ¨ç ”ç©¶ç±»çš„å…·ä½“æœºåˆ¶ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆä¼šä»‹ç»é¢å‘ç±»çš„è®¾è®¡æ¨¡å¼ï¼šå®ä¾‹åŒ–ï¼ˆinstantiationï¼‰ã€ç»§æ‰¿ï¼ˆinheritanceï¼‰å’Œï¼ˆç›¸å¯¹ï¼‰å¤šæ€ï¼ˆpolymorphismï¼‰ã€‚</p></blockquote><h3 id="æ··å…¥"><a href="#æ··å…¥" class="headerlink" title="æ··å…¥"></a>æ··å…¥</h3><blockquote><p>åœ¨ç»§æ‰¿æˆ–è€…å®ä¾‹åŒ–æ—¶ï¼ŒJavaScriptçš„å¯¹è±¡æœºåˆ¶å¹¶ä¸ä¼šè‡ªåŠ¨æ‰§è¡Œå¤åˆ¶è¡Œä¸ºã€‚ç®€å•æ¥è¯´ï¼ŒJavaScriptä¸­åªæœ‰å¯¹è±¡ï¼Œå¹¶ä¸å­˜åœ¨å¯ä»¥è¢«å®ä¾‹åŒ–çš„â€œç±»â€ã€‚ä¸€ä¸ªå¯¹è±¡å¹¶ä¸ä¼šè¢«å¤åˆ¶åˆ°å…¶ä»–å¯¹è±¡ï¼Œå®ƒä»¬ä¼šè¢«å…³è”èµ·æ¥</p><p>å› æ­¤JavaScriptå¼€å‘è€…ä¹Ÿæƒ³å‡ºäº†ä¸€ä¸ªæ–¹æ³•æ¥æ¨¡æ‹Ÿç±»çš„å¤åˆ¶è¡Œä¸ºï¼Œè¿™ä¸ªæ–¹æ³•å°±æ˜¯æ··å…¥</p></blockquote><h4 id="æ˜¾å¼æ··å…¥"><a href="#æ˜¾å¼æ··å…¥" class="headerlink" title="æ˜¾å¼æ··å…¥"></a>æ˜¾å¼æ··å…¥</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// éå¸¸ç®€å•çš„mixin(..)ä¾‹å­ï¼š</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">mixin</span>(<span class="params">sourceObj, targetObj</span>) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> key <span class="keyword">in</span> sourceObj) &#123;</span><br><span class="line">      <span class="comment">// åªä¼šåœ¨ä¸å­˜åœ¨çš„æƒ…å†µä¸‹å¤åˆ¶</span></span><br><span class="line">      <span class="keyword">if</span> (! (key <span class="keyword">in</span> targetObj)) &#123;</span><br><span class="line">          targetObj[key] = sourceObj[key];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> targetObj;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Vehicle</span> = &#123;</span><br><span class="line">    <span class="attr">engines</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">ignition</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Turning on my engine.&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">drive</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">ignition</span>();</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Steering and moving forward! &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Car</span> = <span class="title function_">mixin</span>(<span class="title class_">Vehicle</span>, &#123;</span><br><span class="line">    <span class="attr">wheels</span>: <span class="number">4</span>,</span><br><span class="line">    <span class="attr">drive</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="title class_">Vehicle</span>.<span class="property">drive</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">          <span class="string">&quot;Rolling on all &quot;</span> + <span class="variable language_">this</span>.<span class="property">wheels</span> + <span class="string">&quot; wheels! &quot;</span></span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><blockquote><p>Vehicle.drive()ï¼Œå‡½æ•°è°ƒç”¨ä¸­çš„thisä¼šè¢«ç»‘å®šåˆ°Vehicleå¯¹è±¡è€Œä¸æ˜¯Carå¯¹è±¡ï¼Œè¿™å¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ã€‚å› æ­¤ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ï¼call(this)æ¥ç¡®ä¿drive()åœ¨Carå¯¹è±¡çš„ä¸Šä¸‹æ–‡ä¸­æ‰§è¡Œã€‚</p></blockquote><h3 id="åŸå‹"><a href="#åŸå‹" class="headerlink" title="åŸå‹"></a>åŸå‹</h3><blockquote><p>JavaScriptä¸­çš„å¯¹è±¡æœ‰ä¸€ä¸ªç‰¹æ®Šçš„[[Prototype]]å†…ç½®å±æ€§ï¼Œå…¶å®å°±æ˜¯å¯¹äºå…¶ä»–å¯¹è±¡çš„å¼•ç”¨ã€‚å‡ ä¹æ‰€æœ‰çš„å¯¹è±¡åœ¨åˆ›å»ºæ—¶[[Prototype]]å±æ€§éƒ½ä¼šè¢«èµ‹äºˆä¸€ä¸ªéç©ºçš„å€¼ã€‚</p></blockquote><p>å¯¹äºé»˜è®¤çš„[[Get]]æ“ä½œæ¥è¯´ï¼Œå¦‚æœæ— æ³•åœ¨å¯¹è±¡æœ¬èº«æ‰¾åˆ°éœ€è¦çš„å±æ€§ï¼Œå°±ä¼šç»§ç»­è®¿é—®å¯¹è±¡çš„[[Prototype]]é“¾ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherObject = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå…³è”åˆ°anotherObjectçš„å¯¹è±¡</span></span><br><span class="line"><span class="keyword">var</span> myObject = <span class="title class_">Object</span>.<span class="title function_">create</span>(anotherObject);</span><br><span class="line"></span><br><span class="line">myObject.<span class="property">a</span>; <span class="comment">// 2</span></span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨for..inéå†å¯¹è±¡æ—¶åŸç†å’ŒæŸ¥æ‰¾[[Prototype]]é“¾ç±»ä¼¼ï¼Œä»»ä½•å¯ä»¥é€šè¿‡åŸå‹é“¾è®¿é—®åˆ°ï¼ˆå¹¶ä¸”æ˜¯enumerableï¼‰çš„å±æ€§éƒ½ä¼šè¢«æšä¸¾ã€‚</p><p>ä½¿ç”¨inæ“ä½œç¬¦æ¥æ£€æŸ¥å±æ€§åœ¨å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨æ—¶ï¼ŒåŒæ ·ä¼šæŸ¥æ‰¾å¯¹è±¡çš„æ•´æ¡åŸå‹é“¾ï¼ˆæ— è®ºå±æ€§æ˜¯å¦å¯æšä¸¾ï¼‰</p></blockquote><h4 id="ä½†æ˜¯åˆ°å“ªé‡Œæ˜¯-Prototype-çš„â€œå°½å¤´â€å‘¢ï¼Ÿ"><a href="#ä½†æ˜¯åˆ°å“ªé‡Œæ˜¯-Prototype-çš„â€œå°½å¤´â€å‘¢ï¼Ÿ" class="headerlink" title="ä½†æ˜¯åˆ°å“ªé‡Œæ˜¯[[Prototype]]çš„â€œå°½å¤´â€å‘¢ï¼Ÿ"></a><strong>ä½†æ˜¯åˆ°å“ªé‡Œæ˜¯[[Prototype]]çš„â€œå°½å¤´â€å‘¢ï¼Ÿ</strong></h4><blockquote><p><strong>æ‰€æœ‰æ™®é€šçš„[[Prototype]]é“¾æœ€ç»ˆéƒ½ä¼šæŒ‡å‘å†…ç½®çš„Object.prototype</strong></p></blockquote><h4 id="å±æ€§è®¾ç½®å’Œå±è”½"><a href="#å±æ€§è®¾ç½®å’Œå±è”½" class="headerlink" title="å±æ€§è®¾ç½®å’Œå±è”½"></a>å±æ€§è®¾ç½®å’Œå±è”½</h4><blockquote><p>ç»™ä¸€ä¸ªå¯¹è±¡è®¾ç½®å±æ€§å¹¶ä¸ä»…ä»…æ˜¯æ·»åŠ ä¸€ä¸ªæ–°å±æ€§æˆ–è€…ä¿®æ”¹å·²æœ‰çš„å±æ€§å€¼ã€‚ç°åœ¨æˆ‘ä»¬å®Œæ•´åœ°è®²è§£ä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">myObject.<span class="property">foo</span> = <span class="string">&quot;bar&quot;</span>;</span><br></pre></td></tr></table></figure><p><strong>å¦‚æœmyObjectå¯¹è±¡ä¸­åŒ…å«åä¸ºfooçš„æ™®é€šæ•°æ®è®¿é—®å±æ€§</strong>ï¼Œè¿™æ¡èµ‹å€¼è¯­å¥åªä¼šä¿®æ”¹å·²æœ‰çš„å±æ€§å€¼ã€‚</p><p><strong>å¦‚æœfooä¸æ˜¯ç›´æ¥å­˜åœ¨äºmyObjectä¸­</strong>ï¼Œ[[Prototype]]é“¾å°±ä¼šè¢«éå†ï¼Œç±»ä¼¼[[Get]]æ“ä½œã€‚å¦‚æœåŸå‹é“¾ä¸Šæ‰¾ä¸åˆ°foo, fooå°±ä¼šè¢«ç›´æ¥æ·»åŠ åˆ°myObjectä¸Šã€‚</p><blockquote><p>å¦‚æœå±æ€§åfooæ—¢å‡ºç°åœ¨myObjectä¸­ä¹Ÿå‡ºç°åœ¨myObjectçš„[[Prototype]]é“¾ä¸Šå±‚ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç”Ÿå±è”½ã€‚<strong>myObjectä¸­åŒ…å«çš„fooå±æ€§ä¼šå±è”½åŸå‹é“¾ä¸Šå±‚çš„æ‰€æœ‰fooå±æ€§ï¼Œå› ä¸ºmyObject.fooæ€»æ˜¯ä¼šé€‰æ‹©åŸå‹é“¾ä¸­æœ€åº•å±‚çš„fooå±æ€§ã€‚</strong></p></blockquote><p><strong>å¦‚æœfooä¸ç›´æ¥å­˜åœ¨äºmyObjectä¸­ è€Œæ˜¯å­˜åœ¨äºåŸå‹é“¾ä¸Šå±‚æ—¶myObject.foo = â€œbarâ€ä¼šå‡ºç°çš„ä¸‰ç§æƒ…å†µã€‚</strong></p><p>1ï¼å¦‚æœåœ¨[[Prototype]]é“¾ä¸Šå±‚å­˜åœ¨åä¸ºfooçš„æ™®é€šæ•°æ®è®¿é—®å±æ€§å¹¶ä¸”æ²¡æœ‰è¢«æ ‡è®°ä¸ºåªè¯»ï¼ˆwritable:falseï¼‰ï¼Œé‚£å°±ä¼šç›´æ¥åœ¨myObjectä¸­æ·»åŠ ä¸€ä¸ªåä¸ºfooçš„æ–°å±æ€§ï¼Œå®ƒæ˜¯å±è”½å±æ€§ã€‚</p><p>2ï¼å¦‚æœåœ¨[[Prototype]]é“¾ä¸Šå±‚å­˜åœ¨fooï¼Œä½†æ˜¯å®ƒè¢«æ ‡è®°ä¸ºåªè¯»ï¼ˆwritable:falseï¼‰ï¼Œé‚£ä¹ˆæ— æ³•ä¿®æ”¹å·²æœ‰å±æ€§æˆ–è€…åœ¨myObjectä¸Šåˆ›å»ºå±è”½å±æ€§ã€‚å¦‚æœè¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä»£ç ä¼šæŠ›å‡ºä¸€ä¸ªé”™è¯¯ã€‚å¦åˆ™ï¼Œè¿™æ¡èµ‹å€¼è¯­å¥ä¼šè¢«å¿½ç•¥ã€‚æ€»ä¹‹ï¼Œä¸ä¼šå‘ç”Ÿå±è”½ã€‚</p><p>3ï¼å¦‚æœåœ¨[[Prototype]]é“¾ä¸Šå±‚å­˜åœ¨fooå¹¶ä¸”å®ƒæ˜¯ä¸€ä¸ªsetterï¼Œé‚£å°±ä¸€å®šä¼šè°ƒç”¨è¿™ä¸ªsetterã€‚fooä¸ä¼šè¢«æ·»åŠ åˆ°ï¼ˆæˆ–è€…è¯´å±è”½äºï¼‰myObjectï¼Œä¹Ÿä¸ä¼šé‡æ–°å®šä¹‰fooè¿™ä¸ªsetterã€‚</p><blockquote><p>ç¬¬äºŒç§æƒ…å†µå¯èƒ½æ˜¯æœ€ä»¤äººæ„å¤–çš„ï¼Œåªè¯»å±æ€§ä¼šé˜»æ­¢[[Prototype]]é“¾ä¸‹å±‚éšå¼åˆ›å»ºï¼ˆå±è”½ï¼‰åŒåå±æ€§ã€‚è¿™æ ·åšä¸»è¦æ˜¯ä¸ºäº†æ¨¡æ‹Ÿç±»å±æ€§çš„ç»§æ‰¿ã€‚ä½ å¯ä»¥æŠŠåŸå‹é“¾ä¸Šå±‚çš„fooçœ‹ä½œæ˜¯çˆ¶ç±»ä¸­çš„å±æ€§ï¼Œå®ƒä¼šè¢«myObjectç»§æ‰¿ï¼ˆå¤åˆ¶ï¼‰ï¼Œè¿™æ ·ä¸€æ¥myObjectä¸­çš„fooå±æ€§ä¹Ÿæ˜¯åªè¯»ï¼Œæ‰€ä»¥æ— æ³•åˆ›å»ºã€‚ä½†æ˜¯ä¸€å®šè¦æ³¨æ„ï¼Œå®é™…ä¸Šå¹¶ä¸ä¼šå‘ç”Ÿç±»ä¼¼çš„ç»§æ‰¿å¤åˆ¶ï¼ˆå‚è§ç¬¬4ç« å’Œç¬¬5ç« ï¼‰ã€‚è¿™çœ‹èµ·æ¥æœ‰ç‚¹å¥‡æ€ªï¼ŒmyObjectå¯¹è±¡ç«Ÿç„¶ä¼šå› ä¸ºå…¶ä»–å¯¹è±¡ä¸­æœ‰ä¸€ä¸ªåªè¯»fooå°±ä¸èƒ½åŒ…å«fooå±æ€§ã€‚æ›´å¥‡æ€ªçš„æ˜¯ï¼Œè¿™ä¸ªé™åˆ¶åªå­˜åœ¨äº=èµ‹å€¼ä¸­ï¼Œä½¿ç”¨Object.defineProperty(..)å¹¶ä¸ä¼šå—åˆ°å½±å“ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherObject = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myObject = <span class="title class_">Object</span>.<span class="title function_">create</span>(anotherObject);</span><br><span class="line"></span><br><span class="line">anotherObject.<span class="property">a</span>; <span class="comment">// 2</span></span><br><span class="line">myObject.<span class="property">a</span>; <span class="comment">// 2</span></span><br><span class="line">anotherObject.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;a&quot;</span>); <span class="comment">// true</span></span><br><span class="line">myObject.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;a&quot;</span>); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">myObject.<span class="property">a</span>++; <span class="comment">// éšå¼å±è”½ï¼</span></span><br><span class="line"></span><br><span class="line">anotherObject.<span class="property">a</span>; <span class="comment">// 2</span></span><br><span class="line">myObject.<span class="property">a</span>; <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line">myObject.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;a&quot;</span>); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>++æ“ä½œç›¸å½“äºmyObject.a = myObject.a + 1ã€‚å› æ­¤++æ“ä½œé¦–å…ˆä¼šé€šè¿‡[[Prototype]]æŸ¥æ‰¾å±æ€§aå¹¶ä»anotherObject.aè·å–å½“å‰å±æ€§å€¼2ï¼Œç„¶åç»™è¿™ä¸ªå€¼åŠ 1ï¼Œæ¥ç€ç”¨[[Put]]å°†å€¼3èµ‹ç»™myObjectä¸­æ–°å»ºçš„å±è”½å±æ€§a</p></blockquote><h3 id="ç±»-1"><a href="#ç±»-1" class="headerlink" title="ç±»"></a>ç±»</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Foo</span>();</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(a) === <span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>è°ƒç”¨new Foo()æ—¶ä¼šåˆ›å»ºa,å…¶ä¸­ä¸€æ­¥å°±æ˜¯å°†aå†…éƒ¨çš„[[Prototype]]é“¾æ¥åˆ°Foo.prototypeæ‰€æŒ‡å‘çš„å¯¹è±¡ã€‚</p><p>å®é™…ä¸Šï¼Œç»å¤§å¤šæ•°JavaScriptå¼€å‘è€…ä¸çŸ¥é“çš„ç§˜å¯†æ˜¯ï¼Œnew Foo()è¿™ä¸ªå‡½æ•°è°ƒç”¨å®é™…ä¸Šå¹¶æ²¡æœ‰ç›´æ¥åˆ›å»ºå…³è”ï¼Œè¿™ä¸ªå…³è”åªæ˜¯ä¸€ä¸ªæ„å¤–çš„å‰¯ä½œç”¨ã€‚new Foo()åªæ˜¯é—´æ¥å®Œæˆäº†æˆ‘ä»¬çš„ç›®æ ‡ï¼šä¸€ä¸ªå…³è”åˆ°å…¶ä»–å¯¹è±¡çš„æ–°å¯¹è±¡</p><p>ç»§æ‰¿æ„å‘³ç€å¤åˆ¶æ“ä½œï¼ŒJavaScriptï¼ˆé»˜è®¤ï¼‰å¹¶ä¸ä¼šå¤åˆ¶å¯¹è±¡å±æ€§ã€‚ç›¸åï¼ŒJavaScriptä¼šåœ¨ä¸¤ä¸ªå¯¹è±¡ä¹‹é—´åˆ›å»ºä¸€ä¸ªå…³è”ï¼Œè¿™æ ·ä¸€ä¸ªå¯¹è±¡å°±å¯ä»¥é€šè¿‡å§”æ‰˜è®¿é—®å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§å’Œå‡½æ•°ã€‚</p></blockquote><p><strong>åˆ°åº•æ˜¯ä»€ä¹ˆè®©æˆ‘ä»¬è®¤ä¸ºFooæ˜¯ä¸€ä¸ªâ€œç±»â€å‘¢ï¼Ÿ</strong></p><blockquote><p>å…¶ä¸­ä¸€ä¸ªåŸå› æ˜¯æˆ‘ä»¬çœ‹åˆ°äº†å…³é”®å­—newï¼Œåœ¨é¢å‘ç±»çš„è¯­è¨€ä¸­æ„é€ ç±»å®ä¾‹æ—¶ä¹Ÿä¼šç”¨åˆ°å®ƒã€‚å¦ä¸€ä¸ªåŸå› æ˜¯ï¼Œçœ‹èµ·æ¥æˆ‘ä»¬æ‰§è¡Œäº†ç±»çš„æ„é€ å‡½æ•°æ–¹æ³•ï¼ŒFoo()çš„è°ƒç”¨æ–¹å¼å¾ˆåƒåˆå§‹åŒ–ç±»æ—¶ç±»æ„é€ å‡½æ•°çš„è°ƒç”¨æ–¹å¼ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">constructor</span> === <span class="title class_">Foo</span>; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Foo</span>();</span><br><span class="line">a.<span class="property">constructor</span> === <span class="title class_">Foo</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>Foo.prototypeé»˜è®¤æœ‰ä¸€ä¸ªå…¬æœ‰å¹¶ä¸”ä¸å¯æšä¸¾çš„å±æ€§ï¼constructorï¼Œè¿™ä¸ªå±æ€§å¼•ç”¨çš„æ˜¯å¯¹è±¡å…³è”çš„å‡½æ•°ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°é€šè¿‡â€œæ„é€ å‡½æ•°â€è°ƒç”¨new Foo()åˆ›å»ºçš„å¯¹è±¡ä¹Ÿæœ‰ä¸€ä¸ªï¼constructorå±æ€§ï¼ŒæŒ‡å‘â€œåˆ›å»ºè¿™ä¸ªå¯¹è±¡çš„å‡½æ•°â€ã€‚</p></blockquote><h4 id="æ„é€ å‡½æ•°è¿˜æ˜¯è°ƒç”¨"><a href="#æ„é€ å‡½æ•°è¿˜æ˜¯è°ƒç”¨" class="headerlink" title="æ„é€ å‡½æ•°è¿˜æ˜¯è°ƒç”¨"></a>æ„é€ å‡½æ•°è¿˜æ˜¯è°ƒç”¨</h4><blockquote><p>ä¸Šä¸€æ®µä»£ç å¾ˆå®¹æ˜“è®©äººè®¤ä¸ºFooæ˜¯ä¸€ä¸ªæ„é€ å‡½æ•°ï¼Œå› ä¸ºæˆ‘ä»¬ä½¿ç”¨newæ¥è°ƒç”¨å®ƒå¹¶ä¸”çœ‹åˆ°å®ƒâ€œæ„é€ â€äº†ä¸€ä¸ªå¯¹è±¡ã€‚</p><p>å®é™…ä¸Šï¼ŒFooå’Œä½ ç¨‹åºä¸­çš„å…¶ä»–å‡½æ•°æ²¡æœ‰ä»»ä½•åŒºåˆ«ã€‚å‡½æ•°æœ¬èº«å¹¶ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œç„¶è€Œï¼Œå½“ä½ åœ¨æ™®é€šçš„å‡½æ•°è°ƒç”¨å‰é¢åŠ ä¸Šnewå…³é”®å­—ä¹‹åï¼Œå°±ä¼šæŠŠè¿™ä¸ªå‡½æ•°è°ƒç”¨å˜æˆä¸€ä¸ªâ€œæ„é€ å‡½æ•°è°ƒç”¨â€ã€‚å®é™…ä¸Šï¼Œnewä¼šåŠ«æŒæ‰€æœ‰æ™®é€šå‡½æ•°å¹¶ç”¨æ„é€ å¯¹è±¡çš„å½¢å¼æ¥è°ƒç”¨å®ƒã€‚</p></blockquote><p>ä¸¾ä¾‹æ¥è¯´ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">NothingSpecial</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Don&#x27;t mind me! &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">NothingSpecial</span>();</span><br><span class="line"><span class="comment">// &quot;Don&#x27;t mind me! &quot;</span></span><br><span class="line"></span><br><span class="line">a; <span class="comment">// &#123;&#125;</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>å‡½æ•°ä¸æ˜¯æ„é€ å‡½æ•°ï¼Œä½†æ˜¯å½“ä¸”ä»…å½“ä½¿ç”¨newæ—¶ï¼Œå‡½æ•°è°ƒç”¨ä¼šå˜æˆâ€œæ„é€ å‡½æ•°è°ƒç”¨â€</strong></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myName</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Foo</span>(<span class="string">&quot;a&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="title class_">Foo</span>(<span class="string">&quot;b&quot;</span>);</span><br><span class="line"></span><br><span class="line">a.<span class="title function_">myName</span>(); <span class="comment">// &quot;a&quot;</span></span><br><span class="line">b.<span class="title function_">myName</span>(); <span class="comment">// &quot;b&quot;</span></span><br></pre></td></tr></table></figure><p><strong>è¿™æ®µä»£ç å±•ç¤ºäº†å¦å¤–ä¸¤ç§</strong>â€œé¢å‘ç±»â€çš„æŠ€å·§ï¼š</p><p>1ï¼this.name = nameç»™æ¯ä¸ªå¯¹è±¡ï¼ˆä¹Ÿå°±æ˜¯aå’Œbï¼‰éƒ½æ·»åŠ äº†ï¼nameå±æ€§ï¼Œæœ‰ç‚¹åƒç±»å®ä¾‹å°è£…çš„æ•°æ®å€¼ã€‚</p><p>2ï¼Foo.prototype.myName = ..ï¼å¯èƒ½ä¸ªæ›´æœ‰è¶£çš„æŠ€å·§ï¼Œå®ƒä¼šç»™Foo.prototypeå¯¹è±¡æ·»åŠ ä¸€ä¸ªå±æ€§ï¼ˆå‡½æ•°ï¼‰ã€‚</p><p>ç°åœ¨ï¼Œa.myName()å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†æ˜¯ä½ å¯èƒ½ä¼šè§‰å¾—å¾ˆæƒŠè®¶ï¼Œè¿™æ˜¯ä»€ä¹ˆåŸç†å‘¢ï¼Ÿ</p><blockquote><p>åœ¨è¿™æ®µä»£ç ä¸­ï¼Œçœ‹èµ·æ¥ä¼¼ä¹åˆ›å»ºaå’Œbæ—¶ä¼šæŠŠFoo.prototypeå¯¹è±¡å¤åˆ¶åˆ°è¿™ä¸¤ä¸ªå¯¹è±¡ä¸­ï¼Œç„¶è€Œäº‹å®å¹¶ä¸æ˜¯è¿™æ ·</p><p>åœ¨åˆ›å»ºçš„è¿‡ç¨‹ä¸­ï¼Œaå’Œbçš„å†…éƒ¨[[Prototype]]éƒ½ä¼šå…³è”åˆ°Foo.prototypeä¸Šã€‚å½“aå’Œbä¸­æ— æ³•æ‰¾åˆ°myNameæ—¶ï¼Œå®ƒä¼šï¼ˆé€šè¿‡å§”æ‰˜ï¼‰åœ¨Foo.prototypeä¸Šæ‰¾åˆ°ã€‚</p></blockquote><p><strong>ä¹‹å‰è®¨è®ºï¼constructorå±æ€§æ—¶æˆ‘ä»¬è¯´è¿‡ï¼Œçœ‹èµ·æ¥a.constructor === Fooä¸ºçœŸæ„å‘³ç€aç¡®å®æœ‰ä¸€ä¸ªæŒ‡å‘Fooçš„ï¼constructorå±æ€§ï¼Œ</strong></p><blockquote><p>ä½†æ˜¯äº‹å®ä¸æ˜¯è¿™æ ·ã€‚å®é™…ä¸Šï¼Œ.constructorå¼•ç”¨åŒæ ·è¢«å§”æ‰˜ç»™äº†Foo.prototypeï¼Œè€ŒFoo.prototype.constructoré»˜è®¤æŒ‡å‘Fooã€‚</p><p>Foo.prototypeçš„ï¼constructorå±æ€§åªæ˜¯Fooå‡½æ•°åœ¨å£°æ˜æ—¶çš„é»˜è®¤å±æ€§ã€‚<strong>å¦‚æœä½ åˆ›å»ºäº†ä¸€ä¸ªæ–°å¯¹è±¡å¹¶æ›¿æ¢äº†å‡½æ•°é»˜è®¤çš„ï¼prototypeå¯¹è±¡å¼•ç”¨ï¼Œé‚£ä¹ˆæ–°å¯¹è±¡å¹¶ä¸ä¼šè‡ªåŠ¨è·å¾—ï¼constructorå±æ€§ã€‚</strong></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span>(<span class="params"></span>) &#123; <span class="regexp">/ï¼Š .. ï¼Š/</span> &#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span> = &#123; <span class="regexp">/ï¼Š .. ï¼Š/</span> &#125;; <span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°åŸå‹å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a1 = <span class="keyword">new</span> <span class="title class_">Foo</span>();</span><br><span class="line">a1.<span class="property">constructor</span> === <span class="title class_">Foo</span>; <span class="comment">// false!</span></span><br><span class="line">a1.<span class="property">constructor</span> === <span class="title class_">Object</span>; <span class="comment">// true!</span></span><br></pre></td></tr></table></figure><blockquote><p>.constructorå¹¶ä¸æ˜¯ä¸€ä¸ªä¸å¯å˜å±æ€§ã€‚å®ƒæ˜¯ä¸å¯æšä¸¾ï¼ˆå‚è§ä¸Šé¢çš„ä»£ç ï¼‰çš„ï¼Œä½†æ˜¯å®ƒçš„å€¼æ˜¯å¯å†™çš„ï¼ˆå¯ä»¥è¢«ä¿®æ”¹ï¼‰ã€‚æ­¤å¤–ï¼Œä½ å¯ä»¥ç»™ä»»æ„[[Prototype]]é“¾ä¸­çš„ä»»æ„å¯¹è±¡æ·»åŠ ä¸€ä¸ªåä¸ºconstructorçš„å±æ€§æˆ–è€…å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œä½ å¯ä»¥ä»»æ„å¯¹å…¶èµ‹å€¼ã€‚</p></blockquote><h3 id="ï¼ˆåŸå‹ï¼‰ç»§æ‰¿"><a href="#ï¼ˆåŸå‹ï¼‰ç»§æ‰¿" class="headerlink" title="ï¼ˆåŸå‹ï¼‰ç»§æ‰¿"></a>ï¼ˆåŸå‹ï¼‰ç»§æ‰¿</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span>(<span class="params">name</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">name</span> = name;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myName</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">name</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Bar</span>(<span class="params">name, label</span>) &#123;</span><br><span class="line">    <span class="title class_">Foo</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, name);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">label</span> = label;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„Bar.prototypeå¯¹è±¡å¹¶å…³è”åˆ°Foo.prototype</span></span><br><span class="line"><span class="title class_">Bar</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨æ„ï¼ç°åœ¨æ²¡æœ‰Bar.prototype.constructoräº†</span></span><br><span class="line"><span class="comment">// å¦‚æœä½ éœ€è¦è¿™ä¸ªå±æ€§çš„è¯å¯èƒ½éœ€è¦æ‰‹åŠ¨ä¿®å¤ä¸€ä¸‹å®ƒ</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Bar</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">myLabel</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">label</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Bar</span>(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;obj a&quot;</span>);</span><br><span class="line"></span><br><span class="line">a.<span class="title function_">myName</span>(); <span class="comment">// &quot;a&quot;</span></span><br><span class="line">a.<span class="title function_">myLabel</span>(); <span class="comment">// &quot;obj a&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>è¿™æ®µä»£ç çš„æ ¸å¿ƒéƒ¨åˆ†å°±æ˜¯è¯­å¥Bar.prototype =Object.create(Foo.prototype)ã€‚è°ƒç”¨Object.create(..)ä¼šå‡­ç©ºåˆ›å»ºä¸€ä¸ªâ€œæ–°â€å¯¹è±¡å¹¶æŠŠæ–°å¯¹è±¡å†…éƒ¨çš„[[Prototype]]å…³è”åˆ°ä½ æŒ‡å®šçš„å¯¹è±¡</p></blockquote><p><strong>æ³¨æ„ï¼Œä¸‹é¢è¿™ä¸¤ç§æ–¹å¼æ˜¯å¸¸è§çš„é”™è¯¯åšæ³•ï¼Œå®é™…ä¸Šå®ƒä»¬éƒ½å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å’Œä½ æƒ³è¦çš„æœºåˆ¶ä¸ä¸€æ ·ï¼</span></span><br><span class="line"><span class="title class_">Bar</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åŸºæœ¬ä¸Šæ»¡è¶³ä½ çš„éœ€æ±‚ï¼Œä½†æ˜¯å¯èƒ½ä¼šäº§ç”Ÿä¸€äº›å‰¯ä½œç”¨:(</span></span><br><span class="line"><span class="title class_">Bar</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="keyword">new</span> <span class="title class_">Foo</span>();</span><br></pre></td></tr></table></figure><blockquote><p>Bar.prototype = Foo.prototypeå¹¶ä¸ä¼šåˆ›å»ºä¸€ä¸ªå…³è”åˆ°Bar.prototypeçš„æ–°å¯¹è±¡ï¼Œå®ƒåªæ˜¯è®©Bar.prototypeç›´æ¥å¼•ç”¨Foo.prototypeå¯¹è±¡ã€‚å› æ­¤å½“ä½ æ‰§è¡Œç±»ä¼¼Bar.prototype.myLabel = ..ï¼çš„èµ‹å€¼è¯­å¥æ—¶ä¼šç›´æ¥ä¿®æ”¹Foo.prototypeå¯¹è±¡æœ¬èº«ã€‚æ˜¾ç„¶è¿™ä¸æ˜¯ä½ æƒ³è¦çš„ç»“æœï¼Œå¦åˆ™ä½ æ ¹æœ¬ä¸éœ€è¦Barå¯¹è±¡ï¼Œç›´æ¥ä½¿ç”¨Fooå°±å¯ä»¥äº†ï¼Œè¿™æ ·ä»£ç ä¹Ÿä¼šæ›´ç®€å•ä¸€äº›ã€‚</p><p>Bar.prototype = new Foo()çš„ç¡®ä¼šåˆ›å»ºä¸€ä¸ªå…³è”åˆ°Bar.prototypeçš„æ–°å¯¹è±¡ã€‚ä½†æ˜¯å®ƒä½¿ç”¨äº†Foo(..)çš„â€œæ„é€ å‡½æ•°è°ƒç”¨â€ï¼Œå¦‚æœå‡½æ•°Fooæœ‰ä¸€äº›å‰¯ä½œç”¨ï¼ˆæ¯”å¦‚å†™æ—¥å¿—ã€ä¿®æ”¹çŠ¶æ€ã€æ³¨å†Œåˆ°å…¶ä»–å¯¹è±¡ã€ç»™thisæ·»åŠ æ•°æ®å±æ€§ï¼Œç­‰ç­‰ï¼‰çš„è¯ï¼Œå°±ä¼šå½±å“åˆ°Bar()çš„â€œåä»£â€ï¼Œåæœä¸å ªè®¾æƒ³ã€‚</p></blockquote><p><strong>ES6æ·»åŠ äº†è¾…åŠ©å‡½æ•°å¯ä»¥ç”¨æ ‡å‡†å¹¶ä¸”å¯é çš„æ–¹æ³•æ¥ä¿®æ”¹å…³è”ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ES6ä¹‹å‰éœ€è¦æŠ›å¼ƒé»˜è®¤çš„Bar.prototype</span></span><br><span class="line"><span class="title class_">Bar</span>.<span class="property">ptototype</span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES6å¼€å§‹å¯ä»¥ç›´æ¥ä¿®æ”¹ç°æœ‰çš„Bar.prototype</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">setPrototypeOf</span>(<span class="title class_">Bar</span>.<span class="property"><span class="keyword">prototype</span></span>, <span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br></pre></td></tr></table></figure><h4 id="æ£€æŸ¥ç±»çš„å…³ç³»"><a href="#æ£€æŸ¥ç±»çš„å…³ç³»" class="headerlink" title="æ£€æŸ¥ç±»çš„å…³ç³»"></a>æ£€æŸ¥ç±»çš„å…³ç³»</h4><blockquote><p>å‡è®¾æœ‰å¯¹è±¡aï¼Œå¦‚ä½•å¯»æ‰¾å¯¹è±¡aå§”æ‰˜çš„å¯¹è±¡ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼‰å‘¢ï¼Ÿ</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">blah</span> = ...;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Foo</span>();</span><br><span class="line"></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="title class_">Foo</span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>instanceofå›ç­”çš„é—®é¢˜æ˜¯ï¼šåœ¨açš„æ•´æ¡[[Prototype]]é“¾ä¸­æ˜¯å¦æœ‰æŒ‡å‘Foo.prototypeçš„å¯¹è±¡ï¼Ÿ</p><p>è¿™ä¸ªæ–¹æ³•åªèƒ½å¤„ç†å¯¹è±¡ï¼ˆaï¼‰å’Œå‡½æ•°ï¼ˆå¸¦ï¼prototypeå¼•ç”¨çš„Fooï¼‰ä¹‹é—´çš„å…³ç³»ã€‚å¦‚æœä½ æƒ³åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡ï¼ˆæ¯”å¦‚aå’Œbï¼‰ä¹‹é—´æ˜¯å¦é€šè¿‡[[Prototype]]é“¾å…³è”ï¼Œåªç”¨instanceofæ— æ³•å®ç°ã€‚</p><p>å¦‚æœä½¿ç”¨å†…ç½®çš„ï¼bind(..)å‡½æ•°æ¥ç”Ÿæˆä¸€ä¸ªç¡¬ç»‘å®šå‡½æ•°çš„è¯ï¼Œè¯¥å‡½æ•°æ˜¯æ²¡æœ‰ï¼prototypeå±æ€§çš„ã€‚åœ¨è¿™æ ·çš„å‡½æ•°ä¸Šä½¿ç”¨instanceofçš„è¯ï¼Œç›®æ ‡å‡½æ•°çš„ï¼prototypeä¼šä»£æ›¿ç¡¬ç»‘å®šå‡½æ•°çš„ï¼prototypeã€‚</p></blockquote><p><strong>åˆ¤æ–­[[Prototype]]åå°„çš„æ–¹æ³•</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="title function_">isPrototypeOf</span>(a); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>isPrototypeOf(..)å›ç­”çš„é—®é¢˜æ˜¯ï¼šåœ¨açš„æ•´æ¡[[Prototype]]é“¾ä¸­æ˜¯å¦å‡ºç°è¿‡Foo.prototypeï¼Ÿ</p></blockquote><p><strong>æˆ‘ä»¬ä¹Ÿå¯ä»¥ç›´æ¥è·å–ä¸€ä¸ªå¯¹è±¡çš„[[Prototype]]é“¾ã€‚åœ¨ES5ä¸­ï¼Œæ ‡å‡†çš„æ–¹æ³•æ˜¯ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(a);</span><br><span class="line"><span class="comment">// éªŒè¯</span></span><br><span class="line">          </span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(a) === <span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><strong>ç»å¤§å¤šæ•°ï¼ˆä¸æ˜¯æ‰€æœ‰ï¼ï¼‰æµè§ˆå™¨ä¹Ÿæ”¯æŒä¸€ç§éæ ‡å‡†çš„æ–¹æ³•æ¥è®¿é—®å†…éƒ¨[[Prototype]]å±æ€§ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a.<span class="property">__proto__</span> === <span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>.__proto__çš„å®ç°å¤§è‡´ä¸Šæ˜¯è¿™æ ·çš„</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Object</span>.<span class="title function_">defineProperty</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>, <span class="string">&quot; __proto__&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">get</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Object</span>.<span class="title function_">getPrototypeOf</span>(<span class="variable language_">this</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">set</span>: <span class="keyword">function</span>(<span class="params">o</span>) &#123;</span><br><span class="line">      <span class="comment">// ES6ä¸­çš„setPrototypeOf(..)</span></span><br><span class="line">      <span class="title class_">Object</span>.<span class="title function_">setPrototypeOf</span>(<span class="variable language_">this</span>, o);</span><br><span class="line">      <span class="keyword">return</span> o;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><h3 id="å¯¹è±¡å…³è”"><a href="#å¯¹è±¡å…³è”" class="headerlink" title="å¯¹è±¡å…³è”"></a>å¯¹è±¡å…³è”</h3><blockquote><p>ç°åœ¨æˆ‘ä»¬çŸ¥é“äº†ï¼Œ[[Prototype]]æœºåˆ¶å°±æ˜¯å­˜åœ¨äºå¯¹è±¡ä¸­çš„ä¸€ä¸ªå†…éƒ¨é“¾æ¥ï¼Œå®ƒä¼šå¼•ç”¨å…¶ä»–å¯¹è±¡ã€‚</p><p>é€šå¸¸æ¥è¯´ï¼Œè¿™ä¸ªé“¾æ¥çš„ä½œç”¨æ˜¯ï¼šå¦‚æœåœ¨å¯¹è±¡ä¸Šæ²¡æœ‰æ‰¾åˆ°éœ€è¦çš„å±æ€§æˆ–è€…æ–¹æ³•å¼•ç”¨ï¼Œå¼•æ“å°±ä¼šç»§ç»­åœ¨[[Prototype]]å…³è”çš„å¯¹è±¡ä¸Šè¿›è¡ŒæŸ¥æ‰¾ã€‚åŒç†ï¼Œå¦‚æœåœ¨åè€…ä¸­ä¹Ÿæ²¡æœ‰æ‰¾åˆ°éœ€è¦çš„å¼•ç”¨å°±ä¼šç»§ç»­æŸ¥æ‰¾å®ƒçš„[[Prototype]]ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¿™ä¸€ç³»åˆ—å¯¹è±¡çš„é“¾æ¥è¢«ç§°ä¸ºâ€œåŸå‹é“¾â€ã€‚</p></blockquote><h4 id="åˆ›å»ºå¯¹è±¡"><a href="#åˆ›å»ºå¯¹è±¡" class="headerlink" title="åˆ›å»ºå¯¹è±¡"></a>åˆ›å»ºå¯¹è±¡</h4><blockquote><p> Object.create(null)ä¼šåˆ›å»ºä¸€ä¸ªæ‹¥æœ‰ç©ºï¼ˆæˆ–è€…è¯´nullï¼‰[[Prototype]]é“¾æ¥çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡æ— æ³•è¿›è¡Œå§”æ‰˜ã€‚ç”±äºè¿™ä¸ªå¯¹è±¡æ²¡æœ‰åŸå‹é“¾ï¼Œæ‰€ä»¥instanceofæ“ä½œç¬¦ï¼ˆä¹‹å‰è§£é‡Šè¿‡ï¼‰æ— æ³•è¿›è¡Œåˆ¤æ–­ï¼Œå› æ­¤æ€»æ˜¯ä¼šè¿”å›falseã€‚è¿™äº›ç‰¹æ®Šçš„ç©º[[Prototype]]å¯¹è±¡é€šå¸¸è¢«ç§°ä½œâ€œå­—å…¸â€ï¼Œå®ƒä»¬å®Œå…¨ä¸ä¼šå—åˆ°åŸå‹é“¾çš„å¹²æ‰°ï¼Œå› æ­¤éå¸¸é€‚åˆç”¨æ¥å­˜å‚¨æ•°æ®ã€‚</p></blockquote><p>Object.create()çš„polyfill ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (! <span class="title class_">Object</span>.<span class="property">create</span>) &#123;</span><br><span class="line">    <span class="title class_">Object</span>.<span class="property">create</span> = <span class="keyword">function</span>(<span class="params">o</span>) &#123;</span><br><span class="line">      <span class="keyword">function</span> <span class="title function_">F</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">      F.<span class="property"><span class="keyword">prototype</span></span> = o;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title function_">F</span>();</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>Object.create(..)çš„ç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šäº†éœ€è¦æ·»åŠ åˆ°æ–°å¯¹è±¡ä¸­çš„å±æ€§åä»¥åŠè¿™äº›å±æ€§çš„å±æ€§æè¿°ç¬¦ã€‚å› ä¸ºES5ä¹‹å‰çš„ç‰ˆæœ¬æ— æ³•æ¨¡æ‹Ÿå±æ€§æ“ä½œç¬¦ï¼Œæ‰€ä»¥polyfillä»£ç æ— æ³•å®ç°è¿™ä¸ªé™„åŠ åŠŸèƒ½ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherObject = &#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">2</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myObject = <span class="title class_">Object</span>.<span class="title function_">create</span>(anotherObject, &#123;</span><br><span class="line">    <span class="attr">b</span>: &#123;</span><br><span class="line">      <span class="attr">enumerable</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">writable</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">value</span>: <span class="number">3</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">c</span>: &#123;</span><br><span class="line">      <span class="attr">enumerable</span>: <span class="literal">true</span>,</span><br><span class="line">      <span class="attr">writable</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">configurable</span>: <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">value</span>: <span class="number">4</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">myObject.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;a&quot;</span>); <span class="comment">// false</span></span><br><span class="line">myObject.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;b&quot;</span>); <span class="comment">// true</span></span><br><span class="line">myObject.<span class="title function_">hasOwnProperty</span>(<span class="string">&quot;c&quot;</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">myObject.<span class="property">a</span>; <span class="comment">// 2</span></span><br><span class="line">myObject.<span class="property">b</span>; <span class="comment">// 3</span></span><br><span class="line">myObject.<span class="property">c</span>; <span class="comment">// 4</span></span><br></pre></td></tr></table></figure><h4 id="å…³è”å…³ç³»æ˜¯å¤‡ç”¨"><a href="#å…³è”å…³ç³»æ˜¯å¤‡ç”¨" class="headerlink" title="å…³è”å…³ç³»æ˜¯å¤‡ç”¨"></a>å…³è”å…³ç³»æ˜¯å¤‡ç”¨</h4><blockquote><p>çœ‹èµ·æ¥å¯¹è±¡ä¹‹é—´çš„å…³è”å…³ç³»æ˜¯å¤„ç†â€œç¼ºå¤±â€å±æ€§æˆ–è€…æ–¹æ³•æ—¶çš„ä¸€ç§å¤‡ç”¨é€‰é¡¹ã€‚è¿™ä¸ªè¯´æ³•æœ‰ç‚¹é“ç†ï¼Œä½†æ˜¯æˆ‘è®¤ä¸ºè¿™å¹¶ä¸æ˜¯[[Prototype]]çš„æœ¬è´¨ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> anotherObject = &#123;</span><br><span class="line">    <span class="attr">cool</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;cool! &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> myObject = <span class="title class_">Object</span>.<span class="title function_">create</span>(anotherObject);</span><br><span class="line"></span><br><span class="line">myObject.<span class="title function_">cool</span>(); <span class="comment">// &quot;cool! &quot;</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>å°ç»“ï¼š</strong></p><p>å¦‚æœè¦è®¿é—®å¯¹è±¡ä¸­å¹¶ä¸å­˜åœ¨çš„ä¸€ä¸ªå±æ€§ï¼Œ[[Get]]æ“ä½œï¼ˆå‚è§ç¬¬3ç« ï¼‰å°±ä¼šæŸ¥æ‰¾å¯¹è±¡å†…éƒ¨[[Prototype]]å…³è”çš„å¯¹è±¡ã€‚è¿™ä¸ªå…³è”å…³ç³»å®é™…ä¸Šå®šä¹‰äº†ä¸€æ¡â€œåŸå‹é“¾â€ï¼ˆæœ‰ç‚¹åƒåµŒå¥—çš„ä½œç”¨åŸŸé“¾ï¼‰ï¼Œåœ¨æŸ¥æ‰¾å±æ€§æ—¶ä¼šå¯¹å®ƒè¿›è¡Œéå†ã€‚</p><p>å‡ºäºå„ç§åŸå› ï¼Œä»¥â€œç»§æ‰¿â€ç»“å°¾çš„æœ¯è¯­ï¼ˆåŒ…æ‹¬â€œåŸå‹ç»§æ‰¿â€ï¼‰å’Œå…¶ä»–é¢å‘å¯¹è±¡çš„æœ¯è¯­éƒ½æ— æ³•å¸®åŠ©ä½ ç†è§£JavaScriptçš„çœŸå®æœºåˆ¶ï¼ˆä¸ä»…ä»…æ˜¯é™åˆ¶æˆ‘ä»¬çš„æ€ç»´æ¨¡å¼ï¼‰ã€‚</p><p>ç›¸æ¯”ä¹‹ä¸‹ï¼Œâ€œå§”æ‰˜â€æ˜¯ä¸€ä¸ªæ›´åˆé€‚çš„æœ¯è¯­ï¼Œå› ä¸ºå¯¹è±¡ä¹‹é—´çš„å…³ç³»ä¸æ˜¯å¤åˆ¶è€Œæ˜¯å§”æ‰˜ã€‚</p></blockquote><h2 id="è¡Œä¸ºå§”æ‰˜"><a href="#è¡Œä¸ºå§”æ‰˜" class="headerlink" title="è¡Œä¸ºå§”æ‰˜"></a>è¡Œä¸ºå§”æ‰˜</h2><blockquote><p> [[Prototype]]æœºåˆ¶å°±æ˜¯æŒ‡å¯¹è±¡ä¸­çš„ä¸€ä¸ªå†…éƒ¨é“¾æ¥å¼•ç”¨å¦ä¸€ä¸ªå¯¹è±¡ã€‚ä¸æ–­å‘ä¸Šå±‚æŸ¥æ‰¾è¿™ä¸€ç³»åˆ—å¯¹è±¡çš„é“¾æ¥è¢«ç§°ä¸ºâ€œåŸå‹é“¾â€ã€‚</p><p>æ¢å¥è¯è¯´ï¼ŒJavaScriptä¸­è¿™ä¸ªæœºåˆ¶çš„æœ¬è´¨å°±æ˜¯å¯¹è±¡ä¹‹é—´çš„å…³è”å…³ç³»ã€‚</p><p>è¿™ä¸ªè§‚ç‚¹å¯¹äºç†è§£è¡Œä¸ºå§”æ‰˜å¾ˆé‡è¦</p></blockquote><h3 id="é¢å‘å§”æ‰˜çš„è®¾è®¡"><a href="#é¢å‘å§”æ‰˜çš„è®¾è®¡" class="headerlink" title="é¢å‘å§”æ‰˜çš„è®¾è®¡"></a>é¢å‘å§”æ‰˜çš„è®¾è®¡</h3><blockquote><p>é¢å‘ç±»çš„è®¾è®¡ä¸­æœ‰äº›åŸåˆ™ä¾ç„¶æœ‰æ•ˆï¼Œå› æ­¤ä¸è¦æŠŠæ‰€æœ‰çŸ¥è¯†éƒ½æŠ›æ‰ã€‚ï¼ˆåªéœ€è¦æŠ›æ‰å¤§éƒ¨åˆ†å°±å¤Ÿäº†ï¼ï¼‰ä¸¾ä¾‹æ¥è¯´ï¼Œå°è£…æ˜¯éå¸¸æœ‰ç”¨çš„ï¼Œå®ƒåŒæ ·å¯ä»¥åº”ç”¨åœ¨å§”æ‰˜ä¸­ï¼ˆè™½ç„¶ä¸å¤ªå¸¸è§ï¼‰ã€‚</p></blockquote><h4 id="ç±»ç†è®º"><a href="#ç±»ç†è®º" class="headerlink" title="ç±»ç†è®º"></a>ç±»ç†è®º</h4><blockquote><p>å¦‚æœä½¿ç”¨ç±»ï¼Œé‚£è®¾è®¡æ–¹æ³•å¯èƒ½æ˜¯è¿™æ ·çš„ï¼šå®šä¹‰ä¸€ä¸ªé€šç”¨çˆ¶ï¼ˆåŸºï¼‰ç±»ï¼Œå¯ä»¥å°†å…¶å‘½åä¸ºTaskï¼Œåœ¨Taskç±»ä¸­å®šä¹‰æ‰€æœ‰ä»»åŠ¡éƒ½æœ‰çš„è¡Œä¸ºã€‚æ¥ç€å®šä¹‰å­ç±»XYZå’ŒABCï¼Œå®ƒä»¬éƒ½ç»§æ‰¿è‡ªTaskå¹¶ä¸”ä¼šæ·»åŠ ä¸€äº›ç‰¹æ®Šçš„è¡Œä¸ºæ¥å¤„ç†å¯¹åº”çš„ä»»åŠ¡ã€‚</p><p>éå¸¸é‡è¦çš„æ˜¯ï¼Œç±»è®¾è®¡æ¨¡å¼é¼“åŠ±ä½ åœ¨ç»§æ‰¿æ—¶ä½¿ç”¨æ–¹æ³•é‡å†™ï¼ˆå’Œå¤šæ€ï¼‰ï¼Œæ¯”å¦‚è¯´åœ¨XYZä»»åŠ¡ä¸­é‡å†™Taskä¸­å®šä¹‰çš„ä¸€äº›é€šç”¨æ–¹æ³•ï¼Œç”šè‡³åœ¨æ·»åŠ æ–°è¡Œä¸ºæ—¶é€šè¿‡superè°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„åŸå§‹ç‰ˆæœ¬ã€‚ä½ ä¼šå‘ç°è®¸å¤šè¡Œä¸ºå¯ä»¥å…ˆâ€œæŠ½è±¡â€åˆ°çˆ¶ç±»ç„¶åå†ç”¨å­ç±»è¿›è¡Œç‰¹æ®ŠåŒ–ï¼ˆé‡å†™ï¼‰ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Task</span> &#123;</span><br><span class="line">    id;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°Task()</span></span><br><span class="line">    <span class="title class_">Task</span>(<span class="variable constant_">ID</span>) &#123; id = <span class="variable constant_">ID</span>; &#125;</span><br><span class="line">    <span class="title function_">outputTask</span>(<span class="params"></span>) &#123; <span class="title function_">output</span>(id); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">XYZ</span> inherits <span class="title class_">Task</span> &#123;</span><br><span class="line">    label;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ„é€ å‡½æ•°XYZ()</span></span><br><span class="line">    <span class="title function_">XYZ</span>(<span class="params">ID, Label</span>) &#123; <span class="variable language_">super</span>(<span class="variable constant_">ID</span>); label = <span class="title class_">Label</span>; &#125;</span><br><span class="line">    <span class="title function_">outputTask</span>(<span class="params"></span>) &#123; <span class="variable language_">super</span>(); <span class="title function_">output</span>(label); &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ABC</span> inherits <span class="title class_">Task</span> &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸºæœ¬ä¸Šä½ å¯ä»¥æƒ³è±¡æˆï¼Œæ‰§è¡Œä»»åŠ¡â€œXYZâ€éœ€è¦ä¸¤ä¸ªå…„å¼Ÿå¯¹è±¡ï¼ˆXYZå’ŒTaskï¼‰åä½œå®Œæˆã€‚ä½†æ˜¯æˆ‘ä»¬å¹¶ä¸éœ€è¦æŠŠè¿™äº›è¡Œä¸ºæ”¾åœ¨ä¸€èµ·ï¼Œé€šè¿‡ç±»çš„å¤åˆ¶ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒä»¬åˆ†åˆ«æ”¾åœ¨å„è‡ªç‹¬ç«‹çš„å¯¹è±¡ä¸­ï¼Œéœ€è¦æ—¶å¯ä»¥å…è®¸XYZå¯¹è±¡å§”æ‰˜ç»™Taskã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Task</span> = &#123;</span><br><span class="line">    <span class="attr">setID</span>: <span class="keyword">function</span>(<span class="params">ID</span>) &#123; <span class="variable language_">this</span>.<span class="property">id</span> = <span class="variable constant_">ID</span>; &#125;,</span><br><span class="line">    <span class="attr">outputID</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">id</span>); &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®©XYZå§”æ‰˜Task</span></span><br><span class="line"><span class="variable constant_">XYZ</span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Task</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable constant_">XYZ</span>.<span class="property">prepareTask</span> = <span class="keyword">function</span>(<span class="params">ID, Label</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setID</span>(<span class="variable constant_">ID</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">label</span> = <span class="title class_">Label</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="variable constant_">XYZ</span>.<span class="property">outputTaskDetails</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">outputID</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">label</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ABC = Object.create(Task);</span></span><br><span class="line"><span class="comment">// ABC ... = ...</span></span><br></pre></td></tr></table></figure><blockquote><p>ç›¸æ¯”äºé¢å‘ç±»ï¼ˆæˆ–è€…è¯´é¢å‘å¯¹è±¡ï¼‰ï¼Œæˆ‘ä¼šæŠŠè¿™ç§ç¼–ç é£æ ¼ç§°ä¸ºâ€œå¯¹è±¡å…³è”â€</p><p>æˆ‘ä»¬çœŸæ­£å…³å¿ƒçš„åªæ˜¯XYZå¯¹è±¡ï¼ˆå’ŒABCå¯¹è±¡ï¼‰å§”æ‰˜äº†Taskå¯¹è±¡ã€‚</p></blockquote><p>1ï¼åœ¨ä¸Šé¢çš„ä»£ç ä¸­ï¼Œidå’Œlabelæ•°æ®æˆå‘˜éƒ½æ˜¯ç›´æ¥å­˜å‚¨åœ¨XYZä¸Šï¼ˆè€Œä¸æ˜¯Taskï¼‰ã€‚é€šå¸¸æ¥è¯´ï¼Œåœ¨[[Prototype]]å§”æ‰˜ä¸­æœ€å¥½æŠŠçŠ¶æ€ä¿å­˜åœ¨å§”æ‰˜è€…ï¼ˆXYZã€ABCï¼‰è€Œä¸æ˜¯å§”æ‰˜ç›®æ ‡ï¼ˆTaskï¼‰ä¸Šã€‚</p><p>2ï¼åœ¨ç±»è®¾è®¡æ¨¡å¼ä¸­ï¼Œæˆ‘ä»¬æ•…æ„è®©çˆ¶ç±»ï¼ˆTaskï¼‰å’Œå­ç±»ï¼ˆXYZï¼‰ä¸­éƒ½æœ‰outputTaskæ–¹æ³•ï¼Œè¿™æ ·å°±å¯ä»¥åˆ©ç”¨é‡å†™ï¼ˆå¤šæ€ï¼‰çš„ä¼˜åŠ¿ã€‚åœ¨å§”æ‰˜è¡Œä¸ºä¸­åˆ™æ°å¥½ç›¸åï¼šæˆ‘ä»¬ä¼šå°½é‡é¿å…åœ¨[[Prototype]]é“¾çš„ä¸åŒçº§åˆ«ä¸­ä½¿ç”¨ç›¸åŒçš„å‘½åï¼Œå¦åˆ™å°±éœ€è¦ä½¿ç”¨ç¬¨æ‹™å¹¶ä¸”è„†å¼±çš„è¯­æ³•æ¥æ¶ˆé™¤å¼•ç”¨æ­§ä¹‰</p><p>3ï¼this.setID(ID); XYZä¸­çš„æ–¹æ³•é¦–å…ˆä¼šå¯»æ‰¾XYZè‡ªèº«æ˜¯å¦æœ‰setID(..)ï¼Œä½†æ˜¯XYZä¸­å¹¶æ²¡æœ‰è¿™ä¸ªæ–¹æ³•åï¼Œå› æ­¤ä¼šé€šè¿‡[[Prototype]]å§”æ‰˜å…³è”åˆ°Taskç»§ç»­å¯»æ‰¾ï¼Œè¿™æ—¶å°±å¯ä»¥æ‰¾åˆ°setID(..)æ–¹æ³•ã€‚æ­¤å¤–ï¼Œç”±äºè°ƒç”¨ä½ç½®è§¦å‘äº†thisçš„éšå¼ç»‘å®šè§„åˆ™ï¼Œå› æ­¤è™½ç„¶setID(..)æ–¹æ³•åœ¨Taskä¸­ï¼Œè¿è¡Œæ—¶thisä»ç„¶ä¼šç»‘å®šåˆ°XYZï¼Œè¿™æ­£æ˜¯æˆ‘ä»¬æƒ³è¦çš„</p><h4 id="äº’ç›¸å§”æ‰˜ï¼ˆç¦æ­¢ï¼‰"><a href="#äº’ç›¸å§”æ‰˜ï¼ˆç¦æ­¢ï¼‰" class="headerlink" title="äº’ç›¸å§”æ‰˜ï¼ˆç¦æ­¢ï¼‰"></a>äº’ç›¸å§”æ‰˜ï¼ˆç¦æ­¢ï¼‰</h4><blockquote><p>ä½ æ— æ³•åœ¨ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šäº’ç›¸ï¼ˆåŒå‘ï¼‰å§”æ‰˜çš„å¯¹è±¡ä¹‹é—´åˆ›å»ºå¾ªç¯å§”æ‰˜ã€‚å¦‚æœä½ æŠŠBå…³è”åˆ°Aç„¶åè¯•ç€æŠŠAå…³è”åˆ°Bï¼Œå°±ä¼šå‡ºé”™ã€‚(ä½†å…¶å®æ‰€æœ‰å¼•ç”¨ä¸¥æ ¼é™åˆ¶ï¼Œç†è®ºä¸Šç›¸äº’å§”æ‰˜æ˜¯å¯ä»¥æ­£å¸¸è¿è¡Œå·¥ä½œçš„)</p><p>ä¹‹æ‰€ä»¥è¦ç¦æ­¢äº’ç›¸å§”æ‰˜ï¼Œæ˜¯å› ä¸ºå¼•æ“çš„å¼€å‘è€…ä»¬å‘ç°åœ¨è®¾ç½®æ—¶æ£€æŸ¥ï¼ˆå¹¶ç¦æ­¢ï¼ï¼‰ä¸€æ¬¡æ— é™å¾ªç¯å¼•ç”¨è¦æ›´åŠ é«˜æ•ˆï¼Œå¦åˆ™æ¯æ¬¡ä»å¯¹è±¡ä¸­æŸ¥æ‰¾å±æ€§æ—¶éƒ½éœ€è¦è¿›è¡Œæ£€æŸ¥ã€‚</p></blockquote><h4 id="è°ƒè¯•"><a href="#è°ƒè¯•" class="headerlink" title="è°ƒè¯•"></a>è°ƒè¯•</h4><blockquote><p>JavaScriptè§„èŒƒå¹¶ä¸ä¼šæ§åˆ¶æµè§ˆå™¨ä¸­å¼€å‘è€…å·¥å…·å¯¹äºç‰¹å®šå€¼æˆ–è€…ç»“æ„çš„è¡¨ç¤ºæ–¹å¼ï¼Œæµè§ˆå™¨å’Œå¼•æ“å¯ä»¥è‡ªå·±é€‰æ‹©åˆé€‚çš„æ–¹å¼æ¥è¿›è¡Œè§£æ,</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span>(<span class="params"></span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a1 = <span class="keyword">new</span> <span class="title class_">Foo</span>();</span><br><span class="line"></span><br><span class="line">a1; <span class="comment">// &#123;&#125;   Chromeä¸­ï¼Œ ç«ç‹ä¸­ Object &#123;&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>æœ¬ä¾‹ä¸­Chromeçš„æ§åˆ¶å°ç¡®å®ä½¿ç”¨äº†ï¼constructor.name</p></blockquote><h4 id="æ¯”è¾ƒæ€ç»´æ¨¡å‹"><a href="#æ¯”è¾ƒæ€ç»´æ¨¡å‹" class="headerlink" title="æ¯”è¾ƒæ€ç»´æ¨¡å‹"></a>æ¯”è¾ƒæ€ç»´æ¨¡å‹</h4><blockquote><p>â€œç±»â€å’Œâ€œå§”æ‰˜â€è¿™ä¸¤ç§è®¾è®¡æ¨¡å¼çš„ç†è®ºï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬çœ‹çœ‹å®ƒä»¬åœ¨æ€ç»´æ¨¡å‹æ–¹é¢çš„åŒºåˆ«ã€‚</p></blockquote><p>å…¸å‹çš„ï¼ˆâ€œåŸå‹â€ï¼‰é¢å‘å¯¹è±¡é£æ ¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">Foo</span>(<span class="params">who</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">me</span> = who;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">identify</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;I am &quot;</span> + <span class="variable language_">this</span>.<span class="property">me</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Bar</span>(<span class="params">who</span>) &#123;</span><br><span class="line">    <span class="title class_">Foo</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, who);</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Bar</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Foo</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Bar</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">speak</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;Hello, &quot;</span> + <span class="variable language_">this</span>.<span class="title function_">identify</span>() + <span class="string">&quot;.&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b1 = <span class="keyword">new</span> <span class="title class_">Bar</span>(<span class="string">&quot;b1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> b2 = <span class="keyword">new</span> <span class="title class_">Bar</span>(<span class="string">&quot;b2&quot;</span>);</span><br><span class="line"></span><br><span class="line">b1.<span class="title function_">speak</span>();</span><br><span class="line">b2.<span class="title function_">speak</span>();</span><br></pre></td></tr></table></figure><p>ç”¨å¯¹è±¡å…³è”é£æ ¼æ¥ç¼–å†™åŠŸèƒ½å®Œå…¨ç›¸åŒçš„ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Foo</span> = &#123;</span><br><span class="line">    <span class="attr">init</span>: <span class="keyword">function</span>(<span class="params">who</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">me</span> = who;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">identify</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;I am &quot;</span> + <span class="variable language_">this</span>.<span class="property">me</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">Bar</span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Foo</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Bar</span>.<span class="property">speak</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;Hello, &quot;</span> + <span class="variable language_">this</span>.<span class="title function_">identify</span>() + <span class="string">&quot;.&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b1 = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Bar</span>);</span><br><span class="line">b1.<span class="title function_">init</span>(<span class="string">&quot;b1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> b2 = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Bar</span>);</span><br></pre></td></tr></table></figure><h4 id="ç±»ä¸å¯¹è±¡"><a href="#ç±»ä¸å¯¹è±¡" class="headerlink" title="ç±»ä¸å¯¹è±¡"></a>ç±»ä¸å¯¹è±¡</h4><p>ç»„ä»¶å®ä¾‹</p><p><strong>ç±»é£æ ¼ï¼š</strong></p><p>es5 å†™æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// çˆ¶ç±»</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">Widget</span>(<span class="params">width, height</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">width</span> = width || <span class="number">50</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">height</span> = height || <span class="number">50</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$elem</span> = <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Widget</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">render</span> = <span class="keyword">function</span>(<span class="params">$where</span>)&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">$elem</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">$elem</span>.<span class="title function_">css</span>(&#123;</span><br><span class="line">            <span class="attr">width</span>: <span class="variable language_">this</span>.<span class="property">width</span> + <span class="string">&quot;px&quot;</span>,</span><br><span class="line">            <span class="attr">height</span>: <span class="variable language_">this</span>.<span class="property">height</span> + <span class="string">&quot;px&quot;</span></span><br><span class="line">        &#125;).<span class="title function_">appendTo</span>($where);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// å­ç±»</span></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">Button</span>(<span class="params">width, height, label</span>) &#123;</span><br><span class="line">      <span class="comment">// è°ƒç”¨â€œsuperâ€æ„é€ å‡½æ•°</span></span><br><span class="line">      <span class="title class_">Widget</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, width, height);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">label</span> = label || <span class="string">&quot;Default&quot;</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$elem</span> = $(<span class="string">&quot;&lt;button&gt;&quot;</span>).<span class="title function_">text</span>(<span class="variable language_">this</span>.<span class="property">label</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®©Buttonâ€œç»§æ‰¿â€Widget</span></span><br><span class="line">  <span class="title class_">Button</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Widget</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"></span><br><span class="line">  <span class="comment">// é‡å†™render(..)</span></span><br><span class="line">  <span class="title class_">Button</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">render</span> = <span class="keyword">function</span>(<span class="params">$where</span>) &#123;</span><br><span class="line">      <span class="comment">// â€œsuperâ€è°ƒç”¨</span></span><br><span class="line">      <span class="title class_">Widget</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">render</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, $where);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$elem</span>.<span class="title function_">click</span>(<span class="variable language_">this</span>.<span class="property">onClick</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>));</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="title class_">Button</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">onClick</span> = <span class="keyword">function</span>(<span class="params">evt</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Button &#x27;&quot;</span> + <span class="variable language_">this</span>.<span class="property">label</span> + <span class="string">&quot;&#x27; clicked! &quot;</span>);</span><br><span class="line">  &#125;;</span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> $body = $(<span class="variable language_">document</span>.<span class="property">body</span>);</span><br><span class="line">    <span class="keyword">var</span> btn1 = <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="number">125</span>, <span class="number">30</span>, <span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> btn2 = <span class="keyword">new</span> <span class="title class_">Button</span>(<span class="number">150</span>, <span class="number">40</span>, <span class="string">&quot;World&quot;</span>);</span><br><span class="line"></span><br><span class="line">    btn1.<span class="title function_">render</span>($body);</span><br><span class="line">    btn2.<span class="title function_">render</span>($body);</span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><p>es6 classè¯­æ³•ç³–å†™æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Widget</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">width, height</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">width</span> = width || <span class="number">50</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">height</span> = height || <span class="number">50</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$elem</span> = <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params">$where</span>)&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">$elem</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">$elem</span>.<span class="title function_">css</span>(&#123;</span><br><span class="line">              <span class="attr">width</span>: <span class="variable language_">this</span>.<span class="property">width</span> + <span class="string">&quot;px&quot;</span>,</span><br><span class="line">              <span class="attr">height</span>: <span class="variable language_">this</span>.<span class="property">height</span> + <span class="string">&quot;px&quot;</span></span><br><span class="line">          &#125;).<span class="title function_">appendTo</span>($where);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Button</span> <span class="keyword">extends</span> <span class="title class_ inherited__">Widget</span> &#123;</span><br><span class="line">    <span class="title function_">constructor</span>(<span class="params">width, height, label</span>) &#123;</span><br><span class="line">      <span class="variable language_">super</span>(width, height);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">label</span> = label || <span class="string">&quot;Default&quot;</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$elem</span> = $(<span class="string">&quot;&lt;button&gt;&quot;</span>).<span class="title function_">text</span>(<span class="variable language_">this</span>.<span class="property">label</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">render</span>(<span class="params">$where</span>) &#123;</span><br><span class="line">      <span class="variable language_">super</span>.<span class="title function_">render</span>($where);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$elem</span>.<span class="title function_">click</span>(<span class="variable language_">this</span>.<span class="property">onClick</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="title function_">onClick</span>(<span class="params">evt</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Button &#x27;&quot;</span> + <span class="variable language_">this</span>.<span class="property">label</span> + <span class="string">&quot;&#x27; clicked! &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å§”æ‰˜æ§ä»¶å¯¹è±¡</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">Widget</span> = &#123;</span><br><span class="line">    <span class="attr">init</span>: <span class="keyword">function</span>(<span class="params">width, height</span>)&#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">width</span> = width || <span class="number">50</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">height</span> = height || <span class="number">50</span>;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">$elem</span> = <span class="literal">null</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">insert</span>: <span class="keyword">function</span>(<span class="params">$where</span>)&#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">$elem</span>) &#123;</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">$elem</span>.<span class="title function_">css</span>(&#123;</span><br><span class="line">              <span class="attr">width</span>: <span class="variable language_">this</span>.<span class="property">width</span> + <span class="string">&quot;px&quot;</span>,</span><br><span class="line">              <span class="attr">height</span>: <span class="variable language_">this</span>.<span class="property">height</span> + <span class="string">&quot;px&quot;</span></span><br><span class="line">          &#125;).<span class="title function_">appendTo</span>($where);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">Button</span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Widget</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Button</span>.<span class="property">setup</span> = <span class="keyword">function</span>(<span class="params">width, height, label</span>)&#123;</span><br><span class="line">    <span class="comment">// å§”æ‰˜è°ƒç”¨</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">init</span>(width, height);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">label</span> = label || <span class="string">&quot;Default&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">$elem</span> = $(<span class="string">&quot;&lt;button&gt;&quot;</span>).<span class="title function_">text</span>(<span class="variable language_">this</span>.<span class="property">label</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">Button</span>.<span class="property">build</span> = <span class="keyword">function</span>(<span class="params">$where</span>) &#123;</span><br><span class="line">  <span class="comment">// å§”æ‰˜è°ƒç”¨</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="title function_">insert</span>($where);</span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">$elem</span>.<span class="title function_">click</span>(<span class="variable language_">this</span>.<span class="property">onClick</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>));</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">Button</span>.<span class="property">onClick</span> = <span class="keyword">function</span>(<span class="params">evt</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;Button &#x27;&quot;</span> + <span class="variable language_">this</span>.<span class="property">label</span> + <span class="string">&quot;&#x27; clicked! &quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="keyword">var</span> $body = $(<span class="variable language_">document</span>.<span class="property">body</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> btn1 = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Button</span>);</span><br><span class="line">  btn1.<span class="title function_">setup</span>(<span class="number">125</span>, <span class="number">30</span>, <span class="string">&quot;Hello&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> btn2 = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Button</span>);</span><br><span class="line">  btn2.<span class="title function_">setup</span>(<span class="number">150</span>, <span class="number">40</span>, <span class="string">&quot;World&quot;</span>);</span><br><span class="line"></span><br><span class="line">  btn1.<span class="title function_">build</span>($body);</span><br><span class="line">  btn2.<span class="title function_">build</span>($body);</span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><blockquote><p>å¯¹è±¡å…³è”å¯ä»¥æ›´å¥½åœ°æ”¯æŒå…³æ³¨åˆ†ç¦»ï¼ˆseparation of concernsï¼‰åŸåˆ™ï¼Œåˆ›å»ºå’Œåˆå§‹åŒ–å¹¶ä¸éœ€è¦åˆå¹¶ä¸ºä¸€ä¸ªæ­¥éª¤ã€‚</p></blockquote><h4 id="æ›´ç®€æ´çš„è®¾è®¡"><a href="#æ›´ç®€æ´çš„è®¾è®¡" class="headerlink" title="æ›´ç®€æ´çš„è®¾è®¡"></a>æ›´ç®€æ´çš„è®¾è®¡</h4><blockquote><p>å¯¹è±¡å…³è”é™¤äº†èƒ½è®©ä»£ç çœ‹èµ·æ¥æ›´ç®€æ´ï¼ˆå¹¶ä¸”æ›´å…·æ‰©å±•æ€§ï¼‰å¤–è¿˜å¯ä»¥é€šè¿‡è¡Œä¸ºå§”æ‰˜æ¨¡å¼ç®€åŒ–ä»£ç ç»“æ„ã€‚</p><p>æˆ‘ä»¬æ¥çœ‹æœ€åä¸€ä¸ªä¾‹å­ï¼Œå®ƒå±•ç¤ºäº†å¯¹è±¡å…³è”å¦‚ä½•ç®€åŒ–æ•´ä½“è®¾è®¡ã€‚åœ¨è¿™ä¸ªåœºæ™¯ä¸­æˆ‘ä»¬æœ‰ä¸¤ä¸ªæ§åˆ¶å™¨å¯¹è±¡ï¼Œä¸€ä¸ªç”¨æ¥æ“ä½œç½‘é¡µä¸­çš„ç™»å½•è¡¨å•ï¼Œå¦ä¸€ä¸ªç”¨æ¥ä¸æœåŠ¡å™¨è¿›è¡ŒéªŒè¯ï¼ˆé€šä¿¡ï¼‰ã€‚</p></blockquote><p><strong>ä¼ ç»Ÿç±»è®¾è®¡</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çˆ¶ç±»</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">Controller</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">errors</span> = [];</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Controller</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">showDialog</span> = <span class="keyword">function</span>(<span class="params">title, msg</span>) &#123;</span><br><span class="line">    <span class="comment">// ç»™ç”¨æˆ·æ˜¾ç¤ºæ ‡é¢˜å’Œæ¶ˆæ¯</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">Controller</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">success</span> = <span class="keyword">function</span>(<span class="params">msg</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">showDialog</span>(<span class="string">&quot;Success&quot;</span>, msg);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">Controller</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">failure</span> = <span class="keyword">function</span>(<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">errors</span>.<span class="title function_">push</span>(err);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">showDialog</span>(<span class="string">&quot;Error&quot;</span>, err);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­ç±»</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">LoginController</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Controller</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æŠŠå­ç±»å…³è”åˆ°çˆ¶ç±»</span></span><br><span class="line"><span class="title class_">LoginController</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Controller</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"><span class="title class_">LoginController</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getUser</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;login username&quot;</span>).<span class="property">value</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">LoginController</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">getPassword</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;login password&quot;</span>).<span class="property">value</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">LoginController</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">validateEntry</span> = <span class="keyword">function</span>(<span class="params">user, pw</span>) &#123;</span><br><span class="line">    user = user || <span class="variable language_">this</span>.<span class="title function_">getUser</span>();</span><br><span class="line">    pw = pw || <span class="variable language_">this</span>.<span class="title function_">getPassword</span>();</span><br><span class="line">    <span class="keyword">if</span> (! (user &amp;&amp; pw)) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">failure</span>(</span><br><span class="line">          <span class="string">&quot;Please enter a username &amp; password! &quot;</span></span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (pw.<span class="property">length</span> &lt; <span class="number">5</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">failure</span>(</span><br><span class="line">          <span class="string">&quot;Password must be 5+ characters! &quot;</span></span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¦‚æœæ‰§è¡Œåˆ°è¿™é‡Œè¯´æ˜é€šè¿‡éªŒè¯</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// é‡å†™åŸºç¡€çš„failure()</span></span><br><span class="line"><span class="title class_">LoginController</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">failure</span> = <span class="keyword">function</span>(<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="comment">// â€œsuperâ€è°ƒç”¨</span></span><br><span class="line">    <span class="title class_">Controller</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">failure</span>.<span class="title function_">call</span>(</span><br><span class="line">      <span class="variable language_">this</span>,</span><br><span class="line">      <span class="string">&quot;Login invalid: &quot;</span> + err</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å­ç±»</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">AuthController</span>(<span class="params">login</span>) &#123;</span><br><span class="line">    <span class="title class_">Controller</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>);</span><br><span class="line">    <span class="comment">// åˆæˆ</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">login</span> = login;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æŠŠå­ç±»å…³è”åˆ°çˆ¶ç±»</span></span><br><span class="line"><span class="title class_">AuthController</span>.<span class="property"><span class="keyword">prototype</span></span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">Controller</span>.<span class="property"><span class="keyword">prototype</span></span>);</span><br><span class="line"><span class="title class_">AuthController</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">server</span> = <span class="keyword">function</span>(<span class="params">url, data</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: url,</span><br><span class="line">      <span class="attr">data</span>: data</span><br><span class="line">    &#125; );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">AuthController</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">checkAuth</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> user = <span class="variable language_">this</span>.<span class="property">login</span>.<span class="title function_">getUser</span>();</span><br><span class="line">    <span class="keyword">var</span> pw = <span class="variable language_">this</span>.<span class="property">login</span>.<span class="title function_">getPassword</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">login</span>.<span class="title function_">validateEntry</span>(user, pw)) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">server</span>(<span class="string">&quot;/check-auth&quot;</span>, &#123;</span><br><span class="line">            <span class="attr">user</span>: user,</span><br><span class="line">            <span class="attr">pw</span>: pw</span><br><span class="line">        &#125; )</span><br><span class="line">        .<span class="title function_">then</span>(<span class="variable language_">this</span>.<span class="property">success</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>))</span><br><span class="line">        .<span class="title function_">fail</span>(<span class="variable language_">this</span>.<span class="property">failure</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// é‡å†™åŸºç¡€çš„success()</span></span><br><span class="line">    <span class="title class_">AuthController</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">success</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// â€œsuperâ€è°ƒç”¨</span></span><br><span class="line">    <span class="title class_">Controller</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">success</span>.<span class="title function_">call</span>(<span class="variable language_">this</span>, <span class="string">&quot;Authenticated! &quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">// é‡å†™åŸºç¡€çš„failure()</span></span><br><span class="line">    <span class="title class_">AuthController</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">failure</span> = <span class="keyword">function</span>(<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="comment">// â€œsuperâ€è°ƒç”¨</span></span><br><span class="line">    <span class="title class_">Controller</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">failure</span>.<span class="title function_">call</span>(</span><br><span class="line">        <span class="variable language_">this</span>,</span><br><span class="line">        <span class="string">&quot;Auth Failed: &quot;</span> + err</span><br><span class="line">    );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> auth = <span class="keyword">new</span> <span class="title class_">AuthController</span>(</span><br><span class="line">    <span class="comment">// é™¤äº†ç»§æ‰¿ï¼Œæˆ‘ä»¬è¿˜éœ€è¦åˆæˆ</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">LoginController</span>()</span><br><span class="line">);</span><br><span class="line">auth.<span class="title function_">checkAuth</span>();</span><br></pre></td></tr></table></figure><p><strong>ä½¿ç”¨å¯¹è±¡å…³è”é£æ ¼çš„è¡Œä¸ºå§”æ‰˜æ¥å®ç°æ›´ç®€å•çš„è®¾è®¡</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="title class_">LoginController</span> = &#123;</span><br><span class="line">    <span class="attr">errors</span>: [],</span><br><span class="line">    <span class="attr">getUser</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(</span><br><span class="line">          <span class="string">&quot;login username&quot;</span></span><br><span class="line">      ).<span class="property">value</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">getPassword</span>: <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(</span><br><span class="line">          <span class="string">&quot;login password&quot;</span></span><br><span class="line">      ).<span class="property">value</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">validateEntry</span>: <span class="keyword">function</span>(<span class="params">user, pw</span>) &#123;</span><br><span class="line">      user = user || <span class="variable language_">this</span>.<span class="title function_">getUser</span>();</span><br><span class="line">      pw = pw || <span class="variable language_">this</span>.<span class="title function_">getPassword</span>();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (! (user &amp;&amp; pw)) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">failure</span>(</span><br><span class="line">            <span class="string">&quot;Please enter a username &amp; password! &quot;</span></span><br><span class="line">          );</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> <span class="keyword">if</span> (pw.<span class="property">length</span> &lt; <span class="number">5</span>) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">failure</span>(</span><br><span class="line">            <span class="string">&quot;Password must be 5+ characters! &quot;</span></span><br><span class="line">          );</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// å¦‚æœæ‰§è¡Œåˆ°è¿™é‡Œè¯´æ˜é€šè¿‡éªŒè¯</span></span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">showDialog</span>: <span class="keyword">function</span>(<span class="params">title, msg</span>) &#123;</span><br><span class="line">      <span class="comment">// ç»™ç”¨æˆ·æ˜¾ç¤ºæ ‡é¢˜å’Œæ¶ˆæ¯</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">failure</span>: <span class="keyword">function</span>(<span class="params">err</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">errors</span>.<span class="title function_">push</span>(err);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">showDialog</span>(<span class="string">&quot;Error&quot;</span>, <span class="string">&quot;Login invalid: &quot;</span> + err);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// è®©AuthControllerå§”æ‰˜LoginController</span></span><br><span class="line"><span class="keyword">var</span> <span class="title class_">AuthController</span> = <span class="title class_">Object</span>.<span class="title function_">create</span>(<span class="title class_">LoginController</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">AuthController</span>.<span class="property">errors</span> = [];</span><br><span class="line"><span class="title class_">AuthController</span>.<span class="property">checkAuth</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> user = <span class="variable language_">this</span>.<span class="title function_">getUser</span>();</span><br><span class="line">    <span class="keyword">var</span> pw = <span class="variable language_">this</span>.<span class="title function_">getPassword</span>();</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">validateEntry</span>(user, pw)) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">server</span>(<span class="string">&quot;/check-auth&quot;</span>, &#123;</span><br><span class="line">          <span class="attr">user</span>: user,</span><br><span class="line">            <span class="attr">pw</span>: pw</span><br><span class="line">      &#125; )</span><br><span class="line">      .<span class="title function_">then</span>(<span class="variable language_">this</span>.<span class="property">accepted</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>))</span><br><span class="line">      .<span class="title function_">fail</span>(<span class="variable language_">this</span>.<span class="property">rejected</span>.<span class="title function_">bind</span>(<span class="variable language_">this</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">AuthController</span>.<span class="property">server</span> = <span class="keyword">function</span>(<span class="params">url, data</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: url,</span><br><span class="line">      <span class="attr">data</span>: data</span><br><span class="line">    &#125; );</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">AuthController</span>.<span class="property">accepted</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">showDialog</span>(<span class="string">&quot;Success&quot;</span>, <span class="string">&quot;Authenticated! &quot;</span>)</span><br><span class="line">&#125;;</span><br><span class="line"><span class="title class_">AuthController</span>.<span class="property">rejected</span> = <span class="keyword">function</span>(<span class="params">err</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">failure</span>(<span class="string">&quot;Auth Failed: &quot;</span> + err);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬ç”¨ä¸€ç§ï¼ˆæå…¶ï¼‰ç®€å•çš„è®¾è®¡å®ç°äº†åŒæ ·çš„åŠŸèƒ½ï¼Œè¿™å°±æ˜¯å¯¹è±¡å…³è”é£æ ¼ä»£ç å’Œè¡Œä¸ºå§”æ‰˜è®¾è®¡æ¨¡å¼çš„åŠ›é‡ã€‚</p></blockquote><h4 id="å†…çœ"><a href="#å†…çœ" class="headerlink" title="å†…çœ"></a>å†…çœ</h4><blockquote><p>å†…çœå°±æ˜¯æ£€æŸ¥å®ä¾‹çš„ç±»å‹ã€‚ç±»å®ä¾‹çš„å†…çœä¸»è¦ç›®çš„æ˜¯é€šè¿‡åˆ›å»ºæ–¹å¼æ¥åˆ¤æ–­å¯¹è±¡çš„ç»“æ„å’ŒåŠŸèƒ½ã€‚</p></blockquote><blockquote><p><strong>å°ç»“ï¼š</strong></p><p>è¡Œä¸ºå§”æ‰˜è®¤ä¸ºå¯¹è±¡ä¹‹é—´æ˜¯å…„å¼Ÿå…³ç³»ï¼Œäº’ç›¸å§”æ‰˜ï¼Œè€Œä¸æ˜¯çˆ¶ç±»å’Œå­ç±»çš„å…³ç³»ã€‚JavaScriptçš„[[Prototype]]æœºåˆ¶æœ¬è´¨ä¸Šå°±æ˜¯è¡Œä¸ºå§”æ‰˜æœºåˆ¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæˆ‘ä»¬å¯ä»¥é€‰æ‹©åœ¨JavaScriptä¸­åŠªåŠ›å®ç°ç±»æœºåˆ¶ï¼Œä¹Ÿå¯ä»¥æ‹¥æŠ±æ›´è‡ªç„¶çš„[[Prototype]]å§”æ‰˜æœºåˆ¶ã€‚</p><p>å½“ä½ åªç”¨å¯¹è±¡æ¥è®¾è®¡ä»£ç æ—¶ï¼Œä¸ä»…å¯ä»¥è®©è¯­æ³•æ›´åŠ ç®€æ´ï¼Œè€Œä¸”å¯ä»¥è®©ä»£ç ç»“æ„æ›´åŠ æ¸…æ™°ã€‚å¯¹è±¡å…³è”ï¼ˆå¯¹è±¡ä¹‹å‰äº’ç›¸å…³è”ï¼‰æ˜¯ä¸€ç§ç¼–ç é£æ ¼ï¼Œå®ƒå€¡å¯¼çš„æ˜¯ç›´æ¥åˆ›å»ºå’Œå…³è”å¯¹è±¡ï¼Œä¸æŠŠå®ƒä»¬æŠ½è±¡æˆç±»ã€‚å¯¹è±¡å…³è”å¯ä»¥ç”¨åŸºäº[[Prototype]]çš„è¡Œä¸ºå§”æ‰˜éå¸¸è‡ªç„¶åœ°å®ç°ã€‚</p></blockquote><h2 id="ç±»å‹å’Œè¯­æ³•"><a href="#ç±»å‹å’Œè¯­æ³•" class="headerlink" title="ç±»å‹å’Œè¯­æ³•"></a>ç±»å‹å’Œè¯­æ³•</h2><h3 id="typeof-å¤„ç†undeclared-æœªå£°æ˜-å˜é‡çš„æ–¹å¼"><a href="#typeof-å¤„ç†undeclared-æœªå£°æ˜-å˜é‡çš„æ–¹å¼" class="headerlink" title="typeof å¤„ç†undeclared (æœªå£°æ˜)å˜é‡çš„æ–¹å¼"></a>typeof å¤„ç†undeclared (æœªå£°æ˜)å˜é‡çš„æ–¹å¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> a; <span class="comment">// &quot;undefined&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> b; <span class="comment">// &quot;undefined&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>å¯¹äºundeclaredï¼ˆæˆ–è€…not definedï¼‰å˜é‡ï¼Œtypeofç…§æ ·è¿”å›â€undefinedâ€ã€‚è¯·æ³¨æ„è™½ç„¶bæ˜¯ä¸€ä¸ªundeclaredå˜é‡ï¼Œä½†typeof bå¹¶æ²¡æœ‰æŠ¥é”™ã€‚è¿™æ˜¯å› ä¸ºtypeofæœ‰ä¸€ä¸ªç‰¹æ®Šçš„å®‰å…¨é˜²èŒƒæœºåˆ¶ã€‚</p></blockquote><p><strong>åˆ©ç”¨è¿™ä¸ªå®‰å…¨æœºåˆ¶æ£€æµ‹å˜é‡æ˜¯å¦å­˜åœ¨</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿™æ ·ä¼šæŠ›å‡ºé”™è¯¯</span></span><br><span class="line"><span class="keyword">if</span> (<span class="variable constant_">DEBUG</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Debugging is starting&quot;</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™æ ·æ˜¯å®‰å…¨çš„</span></span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="variable constant_">DEBUG</span> ! == <span class="string">&quot;undefined&quot;</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Debugging is starting&quot;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å­—ç¬¦ä¸²å€Ÿç”¨æ•°ç»„çš„ä¸å˜æ›´æˆå‘˜å‡½æ•°"><a href="#å­—ç¬¦ä¸²å€Ÿç”¨æ•°ç»„çš„ä¸å˜æ›´æˆå‘˜å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²å€Ÿç”¨æ•°ç»„çš„ä¸å˜æ›´æˆå‘˜å‡½æ•°"></a>å­—ç¬¦ä¸²å€Ÿç”¨æ•°ç»„çš„ä¸å˜æ›´æˆå‘˜å‡½æ•°</h3><blockquote><p>å¯æƒœæˆ‘ä»¬æ— æ³•â€œå€Ÿç”¨â€æ•°ç»„çš„å¯å˜æ›´æˆå‘˜å‡½æ•°ï¼Œå› ä¸ºå­—ç¬¦ä¸²æ˜¯ä¸å¯å˜çš„</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a.<span class="property">join</span>;         <span class="comment">// undefined</span></span><br><span class="line">a.<span class="property">map</span>;          <span class="comment">// undefined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">join</span>.<span class="title function_">call</span>( a, <span class="string">&quot;-&quot;</span> );</span><br><span class="line"><span class="keyword">var</span> d = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">map</span>.<span class="title function_">call</span>( a, <span class="keyword">function</span>(<span class="params">v</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> v.<span class="title function_">toUpperCase</span>() + <span class="string">&quot;.&quot;</span>;</span><br><span class="line">&#125; ).<span class="title function_">join</span>( <span class="string">&quot;&quot;</span> );</span><br><span class="line"></span><br><span class="line">c;              <span class="comment">// &quot;f-o-o&quot;</span></span><br><span class="line">d;              <span class="comment">// &quot;F.O.O.&quot;</span></span><br></pre></td></tr></table></figure><h3 id="æ•°å­—"><a href="#æ•°å­—" class="headerlink" title="æ•°å­—"></a>æ•°å­—</h3><blockquote><p>æ•°å­—å­—é¢é‡è¿˜å¯ä»¥ç”¨å…¶ä»–æ ¼å¼æ¥è¡¨ç¤ºï¼Œå¦‚äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶å’Œåå…­è¿›åˆ¶ã€‚</p><p>ä»ES6å¼€å§‹ï¼Œä¸¥æ ¼æ¨¡å¼ï¼ˆstrict modeï¼‰ä¸å†æ”¯æŒ0363å…«è¿›åˆ¶æ ¼å¼</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ— æ•ˆè¯­æ³•ï¼š</span></span><br><span class="line"><span class="number">42.</span><span class="title function_">toFixed</span>( <span class="number">3</span> );    <span class="comment">// SyntaxError</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸‹é¢çš„è¯­æ³•éƒ½æœ‰æ•ˆï¼š</span></span><br><span class="line">(<span class="number">42</span>).<span class="title function_">toFixed</span>( <span class="number">3</span> );  <span class="comment">// &quot;42.000&quot;</span></span><br><span class="line"><span class="number">0.42</span>.<span class="title function_">toFixed</span>( <span class="number">3</span> );  <span class="comment">// &quot;0.420&quot;</span></span><br><span class="line"><span class="number">42.</span>.<span class="title function_">toFixed</span>( <span class="number">3</span> );   <span class="comment">// &quot;42.000&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>42.toFixed(3)æ˜¯æ— æ•ˆè¯­æ³•ï¼Œå› ä¸ºï¼è¢«è§†ä¸ºå¸¸é‡42ï¼çš„ä¸€éƒ¨åˆ†ï¼ˆå¦‚å‰æ‰€è¿°ï¼‰ï¼Œæ‰€ä»¥æ²¡æœ‰ï¼å±æ€§è®¿é—®è¿ç®—ç¬¦æ¥è°ƒç”¨toFixedæ–¹æ³•ã€‚</p></blockquote><p>ES6æ”¯æŒä»¥ä¸‹æ–°æ ¼å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0o363</span>;      <span class="comment">// 243çš„å…«è¿›åˆ¶</span></span><br><span class="line"><span class="number">0O363</span>;      <span class="comment">// åŒä¸Š</span></span><br><span class="line"></span><br><span class="line"><span class="number">0b11110011</span>; <span class="comment">// 243çš„äºŒè¿›åˆ¶</span></span><br><span class="line"><span class="number">0B11110011</span>; <span class="comment">// åŒä¸Š</span></span><br></pre></td></tr></table></figure><h4 id="äºŒè¿›åˆ¶æµ®ç‚¹æ•°æœ€å¤§çš„é—®é¢˜"><a href="#äºŒè¿›åˆ¶æµ®ç‚¹æ•°æœ€å¤§çš„é—®é¢˜" class="headerlink" title="äºŒè¿›åˆ¶æµ®ç‚¹æ•°æœ€å¤§çš„é—®é¢˜"></a><strong>äºŒè¿›åˆ¶æµ®ç‚¹æ•°æœ€å¤§çš„é—®é¢˜</strong></h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0.1</span> + <span class="number">0.2</span> === <span class="number">0.3</span>; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><blockquote><p>ç®€å•æ¥è¯´ï¼ŒäºŒè¿›åˆ¶æµ®ç‚¹æ•°ä¸­çš„0.1å’Œ0.2å¹¶ä¸æ˜¯ååˆ†ç²¾ç¡®ï¼Œå®ƒä»¬ç›¸åŠ çš„ç»“æœå¹¶éåˆšå¥½ç­‰äº0.3ï¼Œè€Œæ˜¯ä¸€ä¸ªæ¯”è¾ƒæ¥è¿‘çš„æ•°å­—0.30000000000000004ï¼Œæ‰€ä»¥æ¡ä»¶åˆ¤æ–­ç»“æœä¸ºfalseã€‚</p></blockquote><h4 id="æ•´æ•°çš„å®‰å…¨èŒƒå›´"><a href="#æ•´æ•°çš„å®‰å…¨èŒƒå›´" class="headerlink" title="æ•´æ•°çš„å®‰å…¨èŒƒå›´"></a><strong>æ•´æ•°çš„å®‰å…¨èŒƒå›´</strong></h4><blockquote><p>es6 æ–°å¢äº† Number.MAX_SAFE_INTEGERï¼ŒNumber.MIN_SAFE_INTEGER å‚¨å­˜äº†æœ€å¤§æœ€å°å®‰å…¨æ•´æ•°</p></blockquote><h4 id="æ•´æ•°æ£€æµ‹"><a href="#æ•´æ•°æ£€æµ‹" class="headerlink" title="æ•´æ•°æ£€æµ‹"></a><strong>æ•´æ•°æ£€æµ‹</strong></h4><blockquote><p>å¯ä»¥ä½¿ç”¨ES6ä¸­çš„Number.isInteger(..)æ–¹æ³•ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Number</span>.<span class="title function_">isInteger</span>( <span class="number">42</span> );     <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Number</span>.<span class="title function_">isInteger</span>( <span class="number">42.000</span> ); <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Number</span>.<span class="title function_">isInteger</span>( <span class="number">42.3</span> );   <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>es6ä¹‹å‰çš„æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (! <span class="title class_">Number</span>.<span class="property">isInteger</span>) &#123;</span><br><span class="line">    <span class="title class_">Number</span>.<span class="property">isInteger</span> = <span class="keyword">function</span>(<span class="params">num</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">typeof</span> num == <span class="string">&quot;number&quot;</span> &amp;&amp; num % <span class="number">1</span> == <span class="number">0</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¦æ£€æµ‹ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯å®‰å…¨çš„æ•´æ•°"><a href="#è¦æ£€æµ‹ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯å®‰å…¨çš„æ•´æ•°" class="headerlink" title="è¦æ£€æµ‹ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯å®‰å…¨çš„æ•´æ•°"></a>è¦æ£€æµ‹ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯å®‰å…¨çš„æ•´æ•°</h4><blockquote><p>å¯ä»¥ä½¿ç”¨ES6ä¸­çš„Number.isSafeInteger(..)æ–¹æ³•ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Number</span>.<span class="title function_">isSafeInteger</span>( <span class="title class_">Number</span>.<span class="property">MAX</span> <span class="variable constant_">SAFE</span> <span class="variable constant_">INTEGER</span> );    <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Number</span>.<span class="title function_">isSafeInteger</span>( <span class="title class_">Math</span>.<span class="title function_">pow</span>( <span class="number">2</span>, <span class="number">53</span> ) );          <span class="comment">// false</span></span><br><span class="line"><span class="title class_">Number</span>.<span class="title function_">isSafeInteger</span>( <span class="title class_">Math</span>.<span class="title function_">pow</span>( <span class="number">2</span>, <span class="number">53</span> ) -<span class="number">1</span> );      <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>es6ä¹‹å‰æ–¹æ³•</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (! <span class="title class_">Number</span>.<span class="property">isSafeInteger</span>) &#123;</span><br><span class="line">    <span class="title class_">Number</span>.<span class="property">isSafeInteger</span> = <span class="keyword">function</span>(<span class="params">num</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Number</span>.<span class="title function_">isInteger</span>( num ) &amp;&amp;</span><br><span class="line">          <span class="title class_">Math</span>.<span class="title function_">abs</span>( num ) &lt;= <span class="title class_">Number</span>.<span class="property">MAX</span> <span class="variable constant_">SAFE</span> <span class="variable constant_">INTEGER</span>;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="void"><a href="#void" class="headerlink" title="void"></a>void</h4><blockquote><p>undefinedæ˜¯ä¸€ä¸ªå†…ç½®æ ‡è¯†ç¬¦,å®ƒçš„å€¼ä¸ºundefinedï¼Œé€šè¿‡voidè¿ç®—ç¬¦å³å¯å¾—åˆ°è¯¥å€¼ã€‚</p><p>è¡¨è¾¾å¼void______æ²¡æœ‰è¿”å›å€¼ï¼Œå› æ­¤è¿”å›ç»“æœæ˜¯undefinedã€‚voidå¹¶ä¸æ”¹å˜è¡¨è¾¾å¼çš„ç»“æœï¼Œåªæ˜¯è®©è¡¨è¾¾å¼ä¸è¿”å›å€¼ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">doSomething</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// æ³¨ï¼šAPP.readyç”±ç¨‹åºè‡ªå·±å®šä¹‰</span></span><br><span class="line">    <span class="keyword">if</span> (! <span class="variable constant_">APP</span>.<span class="property">ready</span>) &#123;</span><br><span class="line">      <span class="comment">// ç¨åå†è¯•</span></span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">void</span> <span class="built_in">setTimeout</span>( doSomething,<span class="number">100</span> );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> result;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…¶ä»–</span></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç°åœ¨å¯ä»¥äº†å—ï¼Ÿ</span></span><br><span class="line"><span class="keyword">if</span> (<span class="title function_">doSomething</span>()) &#123;</span><br><span class="line">    <span class="comment">// ç«‹å³æ‰§è¡Œä¸‹ä¸€ä¸ªä»»åŠ¡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç‰¹æ®Šçš„æ•°å­—"><a href="#ç‰¹æ®Šçš„æ•°å­—" class="headerlink" title="ç‰¹æ®Šçš„æ•°å­—"></a>ç‰¹æ®Šçš„æ•°å­—</h4><blockquote><p>å¦‚æœæ•°å­¦è¿ç®—çš„æ“ä½œæ•°ä¸æ˜¯æ•°å­—ç±»å‹ï¼ˆæˆ–è€…æ— æ³•è§£æä¸ºå¸¸è§„çš„åè¿›åˆ¶æˆ–åå…­è¿›åˆ¶æ•°å­—ï¼‰ï¼Œå°±æ— æ³•è¿”å›ä¸€ä¸ªæœ‰æ•ˆçš„æ•°å­—ï¼Œè¿™ç§æƒ…å†µä¸‹è¿”å›å€¼ä¸º<strong>NaN</strong>ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span> / <span class="string">&quot;foo&quot;</span>;</span><br><span class="line"></span><br><span class="line">a == <span class="title class_">NaN</span>;   <span class="comment">// false</span></span><br><span class="line">a === <span class="title class_">NaN</span>;  <span class="comment">// false</span></span><br></pre></td></tr></table></figure><blockquote><p>aNæ˜¯ä¸€ä¸ªç‰¹æ®Šå€¼ï¼Œå®ƒå’Œè‡ªèº«ä¸ç›¸ç­‰ï¼Œæ˜¯å”¯ä¸€ä¸€ä¸ªéè‡ªåï¼ˆè‡ªåï¼Œreflexiveï¼Œå³x === xä¸æˆç«‹ï¼‰çš„å€¼ã€‚è€ŒNaN ! =NaNä¸ºtrueï¼Œå¾ˆå¥‡æ€ªå§ï¼Ÿ</p></blockquote><p><strong>é‚£å¦‚ä½•æ¥åˆ¤æ–­å®ƒä»¬å‘¢ï¼Ÿ</strong></p><blockquote><p>å¯ä»¥ä½¿ç”¨å†…å»ºçš„å…¨å±€å·¥å…·å‡½æ•°isNaN(..)æ¥åˆ¤æ–­ä¸€ä¸ªå€¼æ˜¯å¦æ˜¯NaNã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span> / <span class="string">&quot;foo&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;foo&quot;</span>;</span><br><span class="line"></span><br><span class="line">a; <span class="comment">// NaN</span></span><br><span class="line">b; <span class="string">&quot;foo&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="built_in">isNaN</span>( a ); <span class="comment">// true</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="built_in">isNaN</span>( b ); <span class="comment">// trueâ€”â€”æ™•ï¼</span></span><br></pre></td></tr></table></figure><blockquote><p>å®ƒçš„æ£€æŸ¥æ–¹å¼è¿‡äºæ­»æ¿ï¼Œå°±æ˜¯â€œ<strong>æ£€æŸ¥å‚æ•°æ˜¯å¦ä¸æ˜¯NaNï¼Œä¹Ÿä¸æ˜¯æ•°å­—</strong>â€</p><p>å¾ˆæ˜æ˜¾â€fooâ€ä¸æ˜¯ä¸€ä¸ªæ•°å­—ï¼Œä½†æ˜¯å®ƒä¹Ÿä¸æ˜¯NaNã€‚è¿™ä¸ªbugè‡ªJavaScripté—®ä¸–ä»¥æ¥å°±ä¸€ç›´å­˜åœ¨ï¼Œè‡³ä»Šå·²è¶…è¿‡19å¹´ã€‚</p></blockquote><blockquote><p>ä»ES6å¼€å§‹æˆ‘ä»¬å¯ä»¥ä½¿ç”¨å·¥å…·å‡½æ•°Number.isNaN(..)ã€‚ES6ä¹‹å‰çš„æµè§ˆå™¨çš„polyfillå¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="title class_">Number</span>.<span class="property">isNaN</span>) &#123;</span><br><span class="line">    <span class="title class_">Number</span>.<span class="property">isNaN</span> = <span class="keyword">function</span>(<span class="params">n</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> (</span><br><span class="line">          <span class="keyword">typeof</span> n === <span class="string">&quot;number&quot;</span> &amp;&amp;</span><br><span class="line">          <span class="variable language_">window</span>.<span class="built_in">isNaN</span>( n )</span><br><span class="line">      );</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span> / <span class="string">&quot;foo&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;foo&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Number</span>.<span class="built_in">isNaN</span>( a ); <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Number</span>.<span class="built_in">isNaN</span>( b ); <span class="comment">// falseâ€”â€”å¥½ï¼</span></span><br></pre></td></tr></table></figure><h4 id="æ— ç©·æ•°"><a href="#æ— ç©·æ•°" class="headerlink" title="æ— ç©·æ•°"></a>æ— ç©·æ•°</h4><blockquote><p>JavaScriptçš„è¿ç®—ç»“æœæœ‰å¯èƒ½æº¢å‡ºï¼Œæ­¤æ—¶ç»“æœä¸ºInfinityæˆ–è€…-Infinityã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span> / <span class="number">0</span>;  <span class="comment">// Infinity</span></span><br><span class="line"><span class="keyword">var</span> b = -<span class="number">1</span> / <span class="number">0</span>; <span class="comment">// -Infinity</span></span><br></pre></td></tr></table></figure><blockquote><p>Infinity/Infinityæ˜¯ä¸€ä¸ªæœªå®šä¹‰æ“ä½œï¼Œç»“æœä¸ºNaNã€‚</p><p>æœ‰ç©·æ­£æ•°é™¤ä»¥Infinityï¼Œç»“æœä¸º0ã€‚</p><p>æœ‰ç©·è´Ÿæ•°é™¤ä»¥Infinityï¼Œç»“æœä¸º-0ã€‚</p></blockquote><h4 id="é›¶å€¼"><a href="#é›¶å€¼" class="headerlink" title="é›¶å€¼"></a>é›¶å€¼</h4><blockquote><p>JavaScriptæœ‰ä¸€ä¸ªå¸¸è§„çš„0ï¼ˆä¹Ÿå«ä½œ+0ï¼‰å’Œä¸€ä¸ª-0ã€‚</p></blockquote><p>æ ¹æ®è§„èŒƒï¼Œå¯¹è´Ÿé›¶è¿›è¡Œå­—ç¬¦ä¸²åŒ–ä¼šè¿”å›â€0â€ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span> / -<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡³å°‘åœ¨æŸäº›æµè§ˆå™¨çš„æ§åˆ¶å°ä¸­æ˜¾ç¤ºæ˜¯æ­£ç¡®çš„</span></span><br><span class="line">a;                           <span class="comment">// -0</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½†æ˜¯è§„èŒƒå®šä¹‰çš„è¿”å›ç»“æœæ˜¯è¿™æ ·ï¼</span></span><br><span class="line">a.<span class="title function_">toString</span>();               <span class="comment">// &quot;0&quot;</span></span><br><span class="line">a + <span class="string">&quot;&quot;</span>;                     <span class="comment">// &quot;0&quot;</span></span><br><span class="line"><span class="title class_">String</span>( a );                <span class="comment">// &quot;0&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// JSONä¹Ÿå¦‚æ­¤ï¼Œå¾ˆå¥‡æ€ª</span></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>( a );   <span class="comment">// &quot;0&quot;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœåè¿‡æ¥å°†å…¶ä»å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—ï¼Œå¾—åˆ°çš„ç»“æœæ˜¯å‡†ç¡®çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">+<span class="string">&quot;-0&quot;</span>;              <span class="comment">// -0</span></span><br><span class="line"><span class="title class_">Number</span>( <span class="string">&quot;-0&quot;</span> );     <span class="comment">// -0</span></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">parse</span>( <span class="string">&quot;-0&quot;</span> ); <span class="comment">// -0</span></span><br></pre></td></tr></table></figure><p>è´Ÿé›¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„ç»“æœä»¤äººè´¹è§£ï¼Œå®ƒçš„æ¯”è¾ƒæ“ä½œä¹Ÿæ˜¯å¦‚æ­¤ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="number">0</span> / -<span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">a == b;     <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">-<span class="number">0</span> == <span class="number">0</span>;    <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">a === b;    <span class="comment">// true</span></span><br><span class="line">-<span class="number">0</span> === <span class="number">0</span>;   <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span> &gt; -<span class="number">0</span>;     <span class="comment">// false</span></span><br><span class="line">a &gt; b;      <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><strong>åˆ¤æ–­æ˜¯å¦æ˜¯ -0</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">isNegZero</span>(<span class="params">n</span>) &#123;</span><br><span class="line">    n = <span class="title class_">Number</span>( n );</span><br><span class="line">    <span class="keyword">return</span> (n === <span class="number">0</span>) &amp;&amp; (<span class="number">1</span> / n === -<span class="title class_">Infinity</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">isNegZero</span>( -<span class="number">0</span> );        <span class="comment">// true</span></span><br><span class="line"><span class="title function_">isNegZero</span>( <span class="number">0</span> / -<span class="number">3</span> );    <span class="comment">// true</span></span><br><span class="line"><span class="title function_">isNegZero</span>( <span class="number">0</span> );         <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><strong>ä¸ºå•¥éœ€è¦å­˜åœ¨ -0?</strong></p><blockquote><p>æœ‰äº›åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®éœ€è¦ä»¥çº§æ•°å½¢å¼æ¥è¡¨ç¤ºï¼ˆæ¯”å¦‚åŠ¨ç”»å¸§çš„ç§»åŠ¨é€Ÿåº¦ï¼‰ï¼Œæ•°å­—çš„ç¬¦å·ä½ï¼ˆsignï¼‰ç”¨æ¥ä»£è¡¨å…¶ä»–ä¿¡æ¯ï¼ˆæ¯”å¦‚ç§»åŠ¨çš„æ–¹å‘ï¼‰ã€‚æ­¤æ—¶å¦‚æœä¸€ä¸ªå€¼ä¸º0çš„å˜é‡å¤±å»äº†å®ƒçš„ç¬¦å·ä½ï¼Œå®ƒçš„æ–¹å‘ä¿¡æ¯å°±ä¼šä¸¢å¤±ã€‚æ‰€ä»¥ä¿ç•™0å€¼çš„ç¬¦å·ä½å¯ä»¥é˜²æ­¢è¿™ç±»æƒ…å†µå‘ç”Ÿã€‚</p></blockquote><h4 id="ç‰¹æ®Šç­‰å¼"><a href="#ç‰¹æ®Šç­‰å¼" class="headerlink" title="ç‰¹æ®Šç­‰å¼"></a>ç‰¹æ®Šç­‰å¼</h4><blockquote><p>NaNå’Œ-0åœ¨ç›¸ç­‰æ¯”è¾ƒæ—¶çš„è¡¨ç°æœ‰äº›ç‰¹åˆ«ã€‚ç”±äºNaNå’Œè‡ªèº«ä¸ç›¸ç­‰ï¼Œæ‰€ä»¥å¿…é¡»ä½¿ç”¨ES6ä¸­çš„Number.isNaN(..)ã€‚è€Œ-0ç­‰äº0ï¼ˆå¯¹äº===ä¹Ÿæ˜¯å¦‚æ­¤ï¼‰ï¼Œ</p><p>ES6ä¸­æ–°åŠ å…¥äº†ä¸€ä¸ªå·¥å…·æ–¹æ³•Object.is(..)æ¥åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç»å¯¹ç›¸ç­‰ï¼Œå¯ä»¥ç”¨æ¥å¤„ç†ä¸Šè¿°æ‰€æœ‰çš„ç‰¹æ®Šæƒ…å†µï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span> / <span class="string">&quot;foo&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = -<span class="number">3</span> * <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>( a, <span class="title class_">NaN</span> );    <span class="comment">// true</span></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>( b, -<span class="number">0</span> );     <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="title function_">is</span>( b, <span class="number">0</span> );      <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h3 id="å€¼å’Œå¼•ç”¨"><a href="#å€¼å’Œå¼•ç”¨" class="headerlink" title="å€¼å’Œå¼•ç”¨"></a>å€¼å’Œå¼•ç”¨</h3><blockquote><p>ç®€å•å€¼ï¼ˆå³æ ‡é‡åŸºæœ¬ç±»å‹å€¼ï¼Œscalar primitiveï¼‰æ€»æ˜¯é€šè¿‡å€¼å¤åˆ¶çš„æ–¹å¼æ¥èµ‹å€¼/ä¼ é€’ï¼ŒåŒ…æ‹¬nullã€undefinedã€å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å’ŒES6ä¸­çš„symbolã€‚</p><p>å¤åˆå€¼ï¼ˆcompound valueï¼‰â€”â€”å¯¹è±¡ï¼ˆåŒ…æ‹¬æ•°ç»„å’Œå°è£…å¯¹è±¡ï¼‰å’Œå‡½æ•°ï¼Œåˆ™æ€»æ˜¯é€šè¿‡å¼•ç”¨å¤åˆ¶çš„æ–¹å¼æ¥èµ‹å€¼/ä¼ é€’ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"><span class="keyword">var</span> b = a; <span class="comment">// bæ˜¯açš„å€¼çš„ä¸€ä¸ªå¤æœ¬</span></span><br><span class="line">b++;</span><br><span class="line">a; <span class="comment">// 2</span></span><br><span class="line">b; <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"><span class="keyword">var</span> d = c; <span class="comment">// dæ˜¯[1,2,3]çš„ä¸€ä¸ªå¼•ç”¨</span></span><br><span class="line">d.<span class="title function_">push</span>( <span class="number">4</span> );</span><br><span class="line">c; <span class="comment">// [1,2,3,4]</span></span><br><span class="line">d; <span class="comment">// [1,2,3,4]</span></span><br></pre></td></tr></table></figure><p>äº§ç”Ÿçš„å›°æƒ‘</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    x.<span class="title function_">push</span>( <span class="number">4</span> );</span><br><span class="line">    x; <span class="comment">// [1,2,3,4]</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç„¶å</span></span><br><span class="line">    x = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>];</span><br><span class="line">    x.<span class="title function_">push</span>( <span class="number">7</span> );</span><br><span class="line">    x; <span class="comment">// [4,5,6,7]</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>( a );</span><br><span class="line"></span><br><span class="line">a; <span class="comment">// æ˜¯[1,2,3,4]ï¼Œä¸æ˜¯[4,5,6,7]</span></span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬ä¸èƒ½é€šè¿‡å¼•ç”¨xæ¥æ›´æ”¹å¼•ç”¨açš„æŒ‡å‘ï¼Œåªèƒ½æ›´æ”¹aå’Œxå…±åŒæŒ‡å‘çš„å€¼ã€‚</p></blockquote><p>æˆ‘ä»¬æ— æ³•è‡ªè¡Œå†³å®šä½¿ç”¨å€¼å¤åˆ¶è¿˜æ˜¯å¼•ç”¨å¤åˆ¶ï¼Œä¸€åˆ‡ç”±å€¼çš„ç±»å‹æ¥å†³å®šã€‚</p><h3 id="åŸç”Ÿå‡½æ•°"><a href="#åŸç”Ÿå‡½æ•°" class="headerlink" title="åŸç”Ÿå‡½æ•°"></a>åŸç”Ÿå‡½æ•°</h3><ul><li>String()</li><li> Number()</li><li> Boolean()</li><li> Array()</li><li> Object()</li><li> Function()</li><li> RegExp()</li><li> Date()</li><li> Error()</li><li> Symbol()â€”â€”ES6ä¸­æ–°åŠ å…¥çš„ï¼</li></ul><p>å¯ä»¥è¿™æ ·æ¥ç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> <span class="title class_">String</span>( <span class="string">&quot;Hello World! &quot;</span> );</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( s.<span class="title function_">toString</span>() ); <span class="comment">// &quot;Hello World! &quot;</span></span><br></pre></td></tr></table></figure><p>ä½†å…¶æ„é€ å‡ºæ¥çš„å¯¹è±¡å¯èƒ½ä¼šå’Œæˆ‘ä»¬è®¾æƒ³çš„æœ‰æ‰€å‡ºå…¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">String</span>( <span class="string">&quot;abc&quot;</span> );</span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> a;<span class="comment">// æ˜¯&quot;object&quot;ï¼Œä¸æ˜¯&quot;String&quot;</span></span><br><span class="line"></span><br><span class="line">a <span class="keyword">instanceof</span> <span class="title class_">String</span>; <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>( a ); <span class="comment">// &quot;[object String]&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>new String(â€œabcâ€)åˆ›å»ºçš„æ˜¯å­—ç¬¦ä¸²â€abcâ€çš„å°è£…å¯¹è±¡ï¼Œè€ŒéåŸºæœ¬ç±»å‹å€¼â€abcâ€ã€‚</p></blockquote><h4 id="åŸç”Ÿå‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°"><a href="#åŸç”Ÿå‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°" class="headerlink" title="åŸç”Ÿå‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°"></a>åŸç”Ÿå‡½æ•°ä½œä¸ºæ„é€ å‡½æ•°</h4><blockquote><p>å…³äºæ•°ç»„ï¼ˆarrayï¼‰ã€å¯¹è±¡ï¼ˆobjectï¼‰ã€å‡½æ•°ï¼ˆfunctionï¼‰å’Œæ­£åˆ™è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬é€šå¸¸å–œæ¬¢ä»¥å¸¸é‡çš„å½¢å¼æ¥åˆ›å»ºå®ƒä»¬ã€‚å®é™…ä¸Šï¼Œä½¿ç”¨å¸¸é‡å’Œä½¿ç”¨æ„é€ å‡½æ•°çš„æ•ˆæœæ˜¯ä¸€æ ·çš„</p><p><strong>åº”è¯¥å°½é‡é¿å…ä½¿ç”¨æ„é€ å‡½æ•°ï¼Œé™¤éååˆ†å¿…è¦ï¼Œå› ä¸ºå®ƒä»¬ç»å¸¸ä¼šäº§ç”Ÿæ„æƒ³ä¸åˆ°çš„ç»“æœ</strong></p></blockquote><p><strong>Array(..)</strong></p><blockquote><p>æˆ‘ä»¬å°†åŒ…å«è‡³å°‘ä¸€ä¸ªâ€œç©ºå•å…ƒâ€çš„æ•°ç»„ç§°ä¸ºâ€œç¨€ç–æ•°ç»„â€ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Array</span>( <span class="number">3</span> );</span><br><span class="line"></span><br><span class="line">a.<span class="property">length</span>; <span class="comment">// 3</span></span><br><span class="line">a;</span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹è¿°æ–¹å¼æ¥åˆ›å»ºåŒ…å«undefinedå•å…ƒï¼ˆè€Œéâ€œç©ºå•å…ƒâ€ï¼‰çš„æ•°ç»„ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="title class_">Array</span>.<span class="title function_">apply</span>( <span class="literal">null</span>, &#123; <span class="attr">length</span>: <span class="number">3</span> &#125; );</span><br><span class="line">a; <span class="comment">// [ undefined, undefined, undefined ]</span></span><br></pre></td></tr></table></figure><blockquote><p>æ€»ä¹‹ï¼Œæ°¸è¿œä¸è¦åˆ›å»ºå’Œä½¿ç”¨ç©ºå•å…ƒæ•°ç»„ã€‚</p></blockquote><h4 id="Object-ã€Function-å’ŒRegExp"><a href="#Object-ã€Function-å’ŒRegExp" class="headerlink" title="Object(..)ã€Function(..)å’ŒRegExp(..)"></a>Object(..)ã€Function(..)å’ŒRegExp(..)</h4><blockquote><p>åŒæ ·ï¼Œé™¤éä¸‡ä¸å¾—å·²ï¼Œå¦åˆ™å°½é‡ä¸è¦ä½¿ç”¨Object(..)/Function(..)/RegExp(..)ï¼š</p></blockquote><p>æ¯”å¦‚åŠ¨æ€å®šä¹‰æ­£åˆ™è¡¨è¾¾å¼æ—¶å¯ä»¥ä½¿ç”¨ RegExp()</p><h4 id="Date-å’ŒError"><a href="#Date-å’ŒError" class="headerlink" title="Date(..)å’ŒError(..)"></a>Date(..)å’ŒError(..)</h4><blockquote><p>è¿™ä¸¤ä¸ªæ„é€ å‡½æ•°ç”¨çš„æ¯”è¾ƒå¤š</p></blockquote><h4 id="Symbol"><a href="#Symbol" class="headerlink" title="Symbol(..)"></a>Symbol(..)</h4><blockquote><p>ES6ä¸­æ–°åŠ å…¥äº†ä¸€ä¸ªåŸºæœ¬æ•°æ®ç±»å‹ â€”â€”ç¬¦å·ï¼ˆSymbolï¼‰ã€‚ç¬¦å·æ˜¯å…·æœ‰å”¯ä¸€æ€§çš„ç‰¹æ®Šå€¼ï¼ˆå¹¶éç»å¯¹ï¼‰ï¼Œç”¨å®ƒæ¥å‘½åå¯¹è±¡å±æ€§ä¸å®¹æ˜“å¯¼è‡´é‡åã€‚è¯¥ç±»å‹çš„å¼•å…¥ä¸»è¦æºäºES6çš„ä¸€äº›ç‰¹æ®Šæ„é€ ï¼Œæ­¤å¤–ç¬¦å·ä¹Ÿå¯ä»¥è‡ªè¡Œå®šä¹‰ã€‚</p></blockquote><blockquote><p>ES6ä¸­æœ‰ä¸€äº›é¢„å®šä¹‰ç¬¦å·ï¼Œä»¥Symbolçš„é™æ€å±æ€§å½¢å¼å‡ºç°ï¼Œå¦‚Symbol.createã€Symbol. iteratorç­‰ï¼Œå¯ä»¥è¿™æ ·æ¥ä½¿ç”¨ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="title class_">Symbol</span>.<span class="property">iterator</span>] = <span class="keyword">function</span>(<span class="params"></span>)&#123; <span class="comment">/*..*/</span> &#125;;</span><br></pre></td></tr></table></figure><blockquote><p>ç¬¦å·å¹¶éå¯¹è±¡ï¼Œè€Œæ˜¯ä¸€ç§ç®€å•æ ‡é‡åŸºæœ¬ç±»å‹</p></blockquote><h4 id="å°ç»“-3"><a href="#å°ç»“-3" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><blockquote><p>JavaScriptä¸ºåŸºæœ¬æ•°æ®ç±»å‹å€¼æä¾›äº†å°è£…å¯¹è±¡ï¼Œç§°ä¸ºåŸç”Ÿå‡½æ•°ï¼ˆå¦‚Stringã€Numberã€Booleanç­‰ï¼‰ã€‚å®ƒä»¬ä¸ºåŸºæœ¬æ•°æ®ç±»å‹å€¼æä¾›äº†è¯¥å­ç±»å‹æ‰€ç‰¹æœ‰çš„æ–¹æ³•å’Œå±æ€§ï¼ˆå¦‚ï¼šString#trim()å’ŒArray#concat(..)ï¼‰ã€‚å¯¹äºç®€å•æ ‡é‡åŸºæœ¬ç±»å‹å€¼ï¼Œæ¯”å¦‚â€abcâ€ï¼Œå¦‚æœè¦è®¿é—®å®ƒçš„lengthå±æ€§æˆ–String.prototypeæ–¹æ³•ï¼ŒJavaScriptå¼•æ“ä¼šè‡ªåŠ¨å¯¹è¯¥å€¼è¿›è¡Œå°è£…ï¼ˆå³ç”¨ç›¸åº”ç±»å‹çš„å°è£…å¯¹è±¡æ¥åŒ…è£…å®ƒï¼‰æ¥å®ç°å¯¹è¿™äº›å±æ€§å’Œæ–¹æ³•çš„è®¿é—®ã€‚</p></blockquote><h3 id="å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>å¼ºåˆ¶ç±»å‹è½¬æ¢</h3><h4 id="å€¼ç±»å‹è½¬æ¢"><a href="#å€¼ç±»å‹è½¬æ¢" class="headerlink" title="å€¼ç±»å‹è½¬æ¢"></a>å€¼ç±»å‹è½¬æ¢</h4><blockquote><p>å°†å€¼ä»ä¸€ç§ç±»å‹è½¬æ¢ä¸ºå¦ä¸€ç§ç±»å‹é€šå¸¸ç§°ä¸ºç±»å‹è½¬æ¢ï¼ˆtype castingï¼‰ï¼Œè¿™æ˜¯æ˜¾å¼çš„æƒ…å†µï¼›éšå¼çš„æƒ…å†µç§°ä¸ºå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆcoercionï¼‰ã€‚</p><p>JavaScriptä¸­çš„å¼ºåˆ¶ç±»å‹è½¬æ¢æ€»æ˜¯è¿”å›æ ‡é‡åŸºæœ¬ç±»å‹å€¼ã€‚å¦‚å­—ç¬¦ä¸²ã€æ•°å­—å’Œå¸ƒå°”å€¼ï¼Œä¸ä¼šè¿”å›å¯¹è±¡å’Œå‡½æ•°</p></blockquote><p>ç„¶è€Œåœ¨JavaScriptä¸­é€šå¸¸å°†å®ƒä»¬ç»Ÿç§°ä¸ºå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œæˆ‘ä¸ªäººåˆ™å€¾å‘äºç”¨â€œ<strong>éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>â€ï¼ˆimplicit coercionï¼‰å’Œâ€œ<strong>æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>â€ï¼ˆexplicit coercionï¼‰æ¥åŒºåˆ†ã€‚</p><p>äºŒè€…çš„åŒºåˆ«æ˜¾è€Œæ˜“è§ï¼š<strong>æˆ‘ä»¬èƒ½å¤Ÿä»ä»£ç ä¸­çœ‹å‡ºå“ªäº›åœ°æ–¹æ˜¯æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè€Œéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢åˆ™ä¸é‚£ä¹ˆæ˜æ˜¾ï¼Œé€šå¸¸æ˜¯æŸäº›æ“ä½œäº§ç”Ÿçš„å‰¯ä½œç”¨ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = a + <span class="string">&quot;&quot;</span>;         <span class="comment">// éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="title class_">String</span>( a );    <span class="comment">// æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br></pre></td></tr></table></figure><blockquote><p>è¦æ˜¯ä½ æ˜ç™½a + â€œâ€æ˜¯æ€ä¹ˆå›äº‹ï¼Œå®ƒå¯¹ä½ æ¥è¯´å°±æ˜¯â€œæ˜¾å¼â€çš„ã€‚ç›¸åï¼Œå¦‚æœä½ ä¸çŸ¥é“String(..)å¯ä»¥ç”¨æ¥åšå­—ç¬¦ä¸²å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå®ƒå¯¹ä½ æ¥è¯´å¯èƒ½å°±æ˜¯â€œéšå¼â€çš„ã€‚</p></blockquote><h5 id="ToString"><a href="#ToString" class="headerlink" title="ToString"></a>ToString</h5><blockquote><p>å®ƒè´Ÿè´£å¤„ç†éå­—ç¬¦ä¸²åˆ°å­—ç¬¦ä¸²çš„å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p><p>åŸºæœ¬ç±»å‹å€¼çš„å­—ç¬¦ä¸²åŒ–è§„åˆ™ä¸ºï¼šnullè½¬æ¢ä¸ºâ€nullâ€, undefinedè½¬æ¢ä¸ºâ€undefinedâ€, trueè½¬æ¢ä¸ºâ€trueâ€ã€‚æ•°å­—çš„å­—ç¬¦ä¸²åŒ–åˆ™éµå¾ªé€šç”¨è§„åˆ™ï¼Œä¸è¿‡å‰é¢è®²è¿‡çš„é‚£äº›æå°å’Œæå¤§çš„æ•°å­—ä½¿ç”¨æŒ‡æ•°å½¢å¼</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1.07 è¿ç»­ä¹˜ä»¥ä¸ƒä¸ª 1000</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1.07</span> * <span class="number">1000</span> * <span class="number">1000</span> * <span class="number">1000</span> * <span class="number">1000</span> * <span class="number">1000</span> * <span class="number">1000</span> * <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸ƒä¸ª1000ä¸€å…±21ä½æ•°å­—</span></span><br><span class="line">a.<span class="title function_">toString</span>(); <span class="comment">// &quot;1.07e21&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>å¯¹æ™®é€šå¯¹è±¡æ¥è¯´ï¼Œé™¤éè‡ªè¡Œå®šä¹‰ï¼Œå¦åˆ™toString()ï¼ˆObject.prototype.toString()ï¼‰è¿”å›å†…éƒ¨å±æ€§[[Class]]çš„å€¼ï¼Œå¦‚â€[object Object]â€ã€‚</p></blockquote><h5 id="JSONå­—ç¬¦ä¸²åŒ–"><a href="#JSONå­—ç¬¦ä¸²åŒ–" class="headerlink" title="JSONå­—ç¬¦ä¸²åŒ–"></a>JSONå­—ç¬¦ä¸²åŒ–</h5><blockquote><p>å·¥å…·å‡½æ•°JSON.stringify(..)åœ¨å°†JSONå¯¹è±¡åºåˆ—åŒ–ä¸ºå­—ç¬¦ä¸²æ—¶ä¹Ÿç”¨åˆ°äº†ToStringã€‚</p></blockquote><p>å¯¹å¤§å¤šæ•°ç®€å•å€¼æ¥è¯´ï¼ŒJSONå­—ç¬¦ä¸²åŒ–å’ŒtoString()çš„æ•ˆæœåŸºæœ¬ç›¸åŒï¼Œåªä¸è¿‡åºåˆ—åŒ–çš„ç»“æœæ€»æ˜¯å­—ç¬¦ä¸²ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>( <span class="number">42</span> );   <span class="comment">// &quot;42&quot;</span></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>( <span class="string">&quot;42&quot;</span> ); <span class="comment">// &quot;&quot;42&quot;&quot;ï¼ˆå«æœ‰åŒå¼•å·çš„å­—ç¬¦ä¸²ï¼‰</span></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>( <span class="literal">null</span> ); <span class="comment">// &quot;null&quot;</span></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>( <span class="literal">true</span> ); <span class="comment">// &quot;true&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>æ‰€æœ‰å®‰å…¨çš„JSONå€¼ï¼ˆJSON-safeï¼‰éƒ½å¯ä»¥ä½¿ç”¨JSON.stringify(..)å­—ç¬¦ä¸²åŒ–ã€‚å®‰å…¨çš„JSONå€¼æ˜¯æŒ‡èƒ½å¤Ÿå‘ˆç°ä¸ºæœ‰æ•ˆJSONæ ¼å¼çš„å€¼ã€‚</p><p>ä¸å®‰å…¨çš„JSONå€¼ï¼š</p><p>undefinedã€functionã€symbolï¼ˆES6+ï¼‰å’ŒåŒ…å«å¾ªç¯å¼•ç”¨ï¼ˆå¯¹è±¡ä¹‹é—´ç›¸äº’å¼•ç”¨ï¼Œå½¢æˆä¸€ä¸ªæ— é™å¾ªç¯ï¼‰çš„å¯¹è±¡éƒ½ä¸ç¬¦åˆJSONç»“æ„æ ‡å‡†ï¼Œå…¶ä»–æ”¯æŒJSONçš„è¯­è¨€æ— æ³•å¤„ç†å®ƒä»¬</p></blockquote><p>å¦‚æœå¯¹è±¡ä¸­å®šä¹‰äº†toJSON()æ–¹æ³•ï¼ŒJSONå­—ç¬¦ä¸²åŒ–æ—¶ä¼šé¦–å…ˆè°ƒç”¨è¯¥æ–¹æ³•ï¼Œç„¶åç”¨å®ƒçš„è¿”å›å€¼æ¥è¿›è¡Œåºåˆ—åŒ–ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123; &#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">  <span class="attr">b</span>: <span class="number">42</span>,</span><br><span class="line">  <span class="attr">c</span>: o,</span><br><span class="line">  <span class="attr">d</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// åœ¨aä¸­åˆ›å»ºä¸€ä¸ªå¾ªç¯å¼•ç”¨</span></span><br><span class="line">o.<span class="property">e</span> = a;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¾ªç¯å¼•ç”¨åœ¨è¿™é‡Œä¼šäº§ç”Ÿé”™è¯¯</span></span><br><span class="line"><span class="comment">// JSON.stringify( a );</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰çš„JSONåºåˆ—åŒ–</span></span><br><span class="line">a.<span class="property">toJSON</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// åºåˆ—åŒ–ä»…åŒ…å«b</span></span><br><span class="line">    <span class="keyword">return</span> &#123; <span class="attr">b</span>: <span class="variable language_">this</span>.<span class="property">b</span> &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>( a ); <span class="comment">// &quot;&#123;&quot;b&quot;:42&#125;&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>ä¹Ÿå°±æ˜¯è¯´ï¼ŒtoJSON()åº”è¯¥â€œè¿”å›ä¸€ä¸ªèƒ½å¤Ÿè¢«å­—ç¬¦ä¸²åŒ–çš„å®‰å…¨çš„JSONå€¼â€ï¼Œè€Œä¸æ˜¯â€œè¿”å›ä¸€ä¸ªJSONå­—ç¬¦ä¸²â€ã€‚</strong></p></blockquote><p>ä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    <span class="attr">val</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯èƒ½æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼</span></span><br><span class="line">    <span class="attr">toJSON</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">val</span>.<span class="title function_">slice</span>( <span class="number">1</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = &#123;</span><br><span class="line">    <span class="attr">val</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯èƒ½ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æœï¼</span></span><br><span class="line">    <span class="attr">toJSON</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;[&quot;</span> +</span><br><span class="line">          <span class="variable language_">this</span>.<span class="property">val</span>.<span class="title function_">slice</span>( <span class="number">1</span> ).<span class="title function_">join</span>() +</span><br><span class="line">      <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>( a ); <span class="comment">// &quot;[2,3]&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>( b ); <span class="comment">// &quot;&quot;[2,3]&quot;&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œç¬¬äºŒä¸ªå‡½æ•°æ˜¯å¯¹toJSONè¿”å›çš„å­—ç¬¦ä¸²åšå­—ç¬¦ä¸²åŒ–ï¼Œè€Œéæ•°ç»„æœ¬èº«ã€‚</p></blockquote><p><strong>JSON.stringify(..)<strong>ä¹Ÿå¯ä»¥ä¼ é€’ä¸€ä¸ªå¯é€‰å‚æ•°replacerï¼Œå®ƒå¯ä»¥æ˜¯</strong>æ•°ç»„æˆ–è€…å‡½æ•°</strong>ï¼Œ<strong>ç”¨æ¥æŒ‡å®šå¯¹è±¡åºåˆ—åŒ–è¿‡ç¨‹ä¸­å“ªäº›å±æ€§åº”è¯¥è¢«å¤„ç†ï¼Œå“ªäº›åº”è¯¥è¢«æ’é™¤</strong>ï¼Œå’ŒtoJSON()å¾ˆåƒã€‚</p><p>å¦‚æœreplaceræ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒä¼šå¯¹å¯¹è±¡æœ¬èº«è°ƒç”¨ä¸€æ¬¡ï¼Œç„¶åå¯¹å¯¹è±¡ä¸­çš„æ¯ä¸ªå±æ€§å„è°ƒç”¨ä¸€æ¬¡ï¼Œæ¯æ¬¡ä¼ é€’ä¸¤ä¸ªå‚æ•°ï¼Œé”®å’Œå€¼ã€‚<strong>å¦‚æœè¦å¿½ç•¥æŸä¸ªé”®å°±è¿”å›undefinedï¼Œå¦åˆ™è¿”å›æŒ‡å®šçš„å€¼ã€‚</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    <span class="attr">b</span>: <span class="number">42</span>,</span><br><span class="line">    <span class="attr">c</span>: <span class="string">&quot;42&quot;</span>,</span><br><span class="line">    <span class="attr">d</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>( a, [<span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>] ); <span class="comment">// &quot;&#123;&quot;b&quot;:42, &quot;c&quot;:&quot;42&quot;&#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>( a, <span class="keyword">function</span>(<span class="params">k, v</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (k ! == <span class="string">&quot;c&quot;</span>) <span class="keyword">return</span> v;</span><br><span class="line">&#125; );</span><br><span class="line"><span class="comment">// &quot;&#123;&quot;b&quot;:42, &quot;d&quot;:[1,2,3]&#125;&quot;</span></span><br></pre></td></tr></table></figure><p>JSON.stringifyè¿˜æœ‰ä¸€ä¸ªå¯é€‰å‚æ•°spaceï¼Œç”¨æ¥æŒ‡å®šè¾“å‡ºçš„ç¼©è¿›æ ¼å¼ã€‚spaceä¸ºæ­£æ•´æ•°æ—¶æ˜¯æŒ‡å®šæ¯ä¸€çº§ç¼©è¿›çš„å­—ç¬¦æ•°ï¼Œå®ƒè¿˜å¯ä»¥æ˜¯å­—ç¬¦ä¸²ï¼Œæ­¤æ—¶æœ€å‰é¢çš„åä¸ªå­—ç¬¦è¢«ç”¨äºæ¯ä¸€çº§çš„ç¼©è¿›ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    <span class="attr">b</span>: <span class="number">42</span>,</span><br><span class="line">    <span class="attr">c</span>: <span class="string">&quot;42&quot;</span>,</span><br><span class="line">    <span class="attr">d</span>: [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>( a, <span class="literal">null</span>, <span class="number">3</span> );</span><br><span class="line"><span class="comment">// &quot;&#123;</span></span><br><span class="line"><span class="comment">//    &quot;b&quot;: 42,</span></span><br><span class="line"><span class="comment">//    &quot;c&quot;: &quot;42&quot;,</span></span><br><span class="line"><span class="comment">//    &quot;d&quot;: [</span></span><br><span class="line"><span class="comment">//       1,</span></span><br><span class="line"><span class="comment">//       2,</span></span><br><span class="line"><span class="comment">//       3</span></span><br><span class="line"><span class="comment">//    ]</span></span><br><span class="line"><span class="comment">// &#125;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title class_">JSON</span>.<span class="title function_">stringify</span>( a, <span class="literal">null</span>, <span class="string">&quot;-----&quot;</span> );</span><br><span class="line"><span class="comment">// &quot;&#123;</span></span><br><span class="line"><span class="comment">// -----&quot;b&quot;: 42,</span></span><br><span class="line"><span class="comment">// -----&quot;c&quot;: &quot;42&quot;,</span></span><br><span class="line"><span class="comment">// -----&quot;d&quot;: [</span></span><br><span class="line"><span class="comment">// ----------1,</span></span><br><span class="line"><span class="comment">// ----------2,</span></span><br><span class="line"><span class="comment">// ----------3</span></span><br><span class="line"><span class="comment">// -----]</span></span><br><span class="line"><span class="comment">// &#125;&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>JSON.stringify(..)å¹¶ä¸æ˜¯å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚åœ¨è¿™é‡Œä»‹ç»æ˜¯å› ä¸ºå®ƒæ¶‰åŠToStringå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå…·ä½“è¡¨ç°åœ¨ä»¥ä¸‹ä¸¤ç‚¹ã€‚</p><p>(1) å­—ç¬¦ä¸²ã€æ•°å­—ã€å¸ƒå°”å€¼å’Œnullçš„JSON.stringify(..)è§„åˆ™ä¸ToStringåŸºæœ¬ç›¸åŒã€‚</p><p>(2) å¦‚æœä¼ é€’ç»™JSON.stringify(..)çš„å¯¹è±¡ä¸­å®šä¹‰äº†toJSON()æ–¹æ³•ï¼Œé‚£ä¹ˆè¯¥æ–¹æ³•ä¼šåœ¨å­—ç¬¦ä¸²åŒ–å‰è°ƒç”¨ï¼Œä»¥ä¾¿å°†å¯¹è±¡è½¬æ¢ä¸ºå®‰å…¨çš„JSONå€¼ã€‚</p></blockquote><h5 id="ToNumber"><a href="#ToNumber" class="headerlink" title="ToNumber"></a>ToNumber</h5><blockquote><p>æœ‰æ—¶æˆ‘ä»¬éœ€è¦å°†éæ•°å­—å€¼å½“ä½œæ•°å­—æ¥ä½¿ç”¨ï¼Œæ¯”å¦‚æ•°å­¦è¿ç®—ã€‚</p><p>ä¸ºæ­¤ES5è§„èŒƒåœ¨9.3èŠ‚å®šä¹‰äº†æŠ½è±¡æ“ä½œToNumberã€‚å…¶ä¸­<strong>trueè½¬æ¢ä¸º1, falseè½¬æ¢ä¸º0ã€‚undefinedè½¬æ¢ä¸ºNaN, nullè½¬æ¢ä¸º0</strong>ã€‚</p><p>ToNumberå¯¹å­—ç¬¦ä¸²çš„å¤„ç†åŸºæœ¬éµå¾ªæ•°å­—å¸¸é‡çš„ç›¸å…³è§„åˆ™/è¯­æ³•.å¤„ç†å¤±è´¥æ—¶è¿”å›NaNã€‚ä¸åŒä¹‹å¤„æ˜¯ToNumberå¯¹ä»¥0å¼€å¤´çš„åå…­è¿›åˆ¶æ•°å¹¶ä¸æŒ‰åå…­è¿›åˆ¶å¤„ç†ï¼ˆè€Œæ˜¯æŒ‰åè¿›åˆ¶</p><p>å¯¹è±¡ï¼ˆåŒ…æ‹¬æ•°ç»„ï¼‰ä¼šé¦–å…ˆè¢«è½¬æ¢ä¸ºç›¸åº”çš„åŸºæœ¬ç±»å‹å€¼ï¼Œå¦‚æœè¿”å›çš„æ˜¯éæ•°å­—çš„åŸºæœ¬ç±»å‹å€¼ï¼Œåˆ™å†éµå¾ªä»¥ä¸Šè§„åˆ™å°†å…¶å¼ºåˆ¶è½¬æ¢ä¸ºæ•°å­—ã€‚</p></blockquote><p>ä¸ºäº†<strong>å°†å€¼è½¬æ¢ä¸ºç›¸åº”çš„åŸºæœ¬ç±»å‹å€¼</strong>ï¼ŒæŠ½è±¡æ“ä½œToPrimitiveï¼ˆå‚è§ES5è§„èŒƒ9.1èŠ‚ï¼‰ä¼šé¦–å…ˆï¼ˆé€šè¿‡å†…éƒ¨æ“ä½œDefaultValueï¼Œå‚è§ES5è§„èŒƒ8.12.8èŠ‚ï¼‰<strong>æ£€æŸ¥è¯¥å€¼æ˜¯å¦æœ‰valueOf()æ–¹æ³•</strong>ã€‚å¦‚æœæœ‰å¹¶ä¸”è¿”å›åŸºæœ¬ç±»å‹å€¼ï¼Œå°±ä½¿ç”¨è¯¥å€¼è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚<strong>å¦‚æœæ²¡æœ‰å°±ä½¿ç”¨toString()çš„è¿”å›å€¼</strong>ï¼ˆå¦‚æœå­˜åœ¨ï¼‰æ¥è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚å¦‚æœvalueOf()å’ŒtoString()å‡ä¸è¿”å›åŸºæœ¬ç±»å‹å€¼ï¼Œä¼šäº§ç”ŸTypeErroré”™è¯¯ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    <span class="attr">valueOf</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;42&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = &#123;</span><br><span class="line">    <span class="attr">toString</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">&quot;42&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = [<span class="number">4</span>,<span class="number">2</span>];</span><br><span class="line">c.<span class="property">toString</span> = <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">join</span>( <span class="string">&quot;&quot;</span> ); <span class="comment">// &quot;42&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Number</span>( a );                <span class="comment">// 42</span></span><br><span class="line"><span class="title class_">Number</span>( b );                <span class="comment">// 42</span></span><br><span class="line"><span class="title class_">Number</span>( c );                <span class="comment">// 42</span></span><br><span class="line"><span class="title class_">Number</span>( <span class="string">&quot;&quot;</span> );               <span class="comment">// 0</span></span><br><span class="line"><span class="title class_">Number</span>( [] );               <span class="comment">// 0</span></span><br><span class="line"><span class="title class_">Number</span>( [ <span class="string">&quot;abc&quot;</span> ] );        <span class="comment">// NaN</span></span><br></pre></td></tr></table></figure><h5 id="ToBoolean"><a href="#ToBoolean" class="headerlink" title="ToBoolean"></a>ToBoolean</h5><blockquote><p>åœ¨JavaScriptä¸­å¸ƒå°”å€¼å’Œæ•°å­—æ˜¯ä¸ä¸€æ ·çš„ã€‚è™½ç„¶æˆ‘ä»¬å¯ä»¥å°†1å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºtrueï¼Œå°†0å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºfalseï¼Œåä¹‹äº¦ç„¶ï¼Œä½†å®ƒä»¬å¹¶ä¸æ˜¯ä¸€å›äº‹ã€‚</p></blockquote><p><strong>å‡å€¼</strong></p><blockquote><p>â€¢ undefined</p><p>â€¢ null</p><p>â€¢ false</p><p>â€¢ +0ã€-0å’ŒNaN</p><p>â€¢ â€œâ€</p><p>å‡å€¼çš„å¸ƒå°”å¼ºåˆ¶ç±»å‹è½¬æ¢ç»“æœä¸ºfalseã€‚ä»é€»è¾‘ä¸Šè¯´ï¼Œå‡å€¼åˆ—è¡¨ä»¥å¤–çš„éƒ½åº”è¯¥æ˜¯çœŸå€¼ï¼ˆtruthyï¼‰ã€‚</p></blockquote><p><strong>å‡å€¼å¯¹è±¡ï¼ˆfalsy objectï¼‰</strong></p><blockquote><p>å‰é¢è®²è¿‡è§„èŒƒè§„å®šæ‰€æœ‰çš„å¯¹è±¡éƒ½æ˜¯çœŸå€¼ï¼Œæ€ä¹ˆè¿˜ä¼šæœ‰å‡å€¼å¯¹è±¡å‘¢ï¼Ÿ</p></blockquote><p>æœ‰äººå¯èƒ½ä¼šä»¥ä¸ºå‡å€¼å¯¹è±¡å°±æ˜¯åŒ…è£…äº†å‡å€¼çš„å°è£…å¯¹è±¡ï¼ˆå¦‚â€â€ã€0å’Œfalseï¼Œå‚è§ç¬¬3ç« ï¼‰ï¼Œå®é™…ä¸ç„¶ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Boolean</span>( <span class="literal">false</span> );</span><br><span class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> <span class="title class_">Number</span>( <span class="number">0</span> );</span><br><span class="line"><span class="keyword">var</span> c = <span class="keyword">new</span> <span class="title class_">String</span>( <span class="string">&quot;&quot;</span> );</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d = <span class="title class_">Boolean</span>( a &amp;&amp; b &amp;&amp; c );</span><br><span class="line"></span><br><span class="line">d; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>å¦‚æœå‡å€¼å¯¹è±¡å¹¶éå°è£…äº†å‡å€¼çš„å¯¹è±¡ï¼Œé‚£å®ƒç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿ</p><blockquote><p>æœ€å¸¸è§çš„ä¾‹å­æ˜¯document.allï¼Œå®ƒæ˜¯ä¸€ä¸ªç±»æ•°ç»„å¯¹è±¡ï¼ŒåŒ…å«äº†é¡µé¢ä¸Šçš„æ‰€æœ‰å…ƒç´ ï¼Œç”±DOMï¼ˆè€Œä¸æ˜¯JavaScriptå¼•æ“ï¼‰æä¾›ç»™JavaScriptç¨‹åºä½¿ç”¨ã€‚å®ƒä»¥å‰æ›¾æ˜¯ä¸€ä¸ªçœŸæ­£æ„ä¹‰ä¸Šçš„å¯¹è±¡ï¼Œå¸ƒå°”å¼ºåˆ¶ç±»å‹è½¬æ¢ç»“æœä¸ºtrueï¼Œä¸è¿‡ç°åœ¨å®ƒæ˜¯ä¸€ä¸ªå‡å€¼å¯¹è±¡ã€‚</p></blockquote><h5 id="çœŸå€¼"><a href="#çœŸå€¼" class="headerlink" title="çœŸå€¼"></a>çœŸå€¼</h5><blockquote><p>çœŸå€¼å°±æ˜¯å‡å€¼åˆ—è¡¨ä¹‹å¤–çš„å€¼ã€‚</p></blockquote><h5 id="æ˜¾ç¤ºå¼ºåˆ¶è½¬æ¢"><a href="#æ˜¾ç¤ºå¼ºåˆ¶è½¬æ¢" class="headerlink" title="æ˜¾ç¤ºå¼ºåˆ¶è½¬æ¢"></a><strong>æ˜¾ç¤ºå¼ºåˆ¶è½¬æ¢</strong></h5><blockquote><p>åœ¨JavaScriptå¼€æºç¤¾åŒºä¸­ï¼Œä¸€å…ƒè¿ç®—+è¢«æ™®éè®¤ä¸ºæ˜¯æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p><p>ä¸€å…ƒè¿ç®—ç¬¦+ç´§æŒ¨ç€++å’Œâ€“ä¹Ÿå¾ˆå®¹æ˜“å¼•èµ·æ··æ·†ã€‚ä¾‹å¦‚a +++bã€a + ++bå’Œa+ + +b</p></blockquote><p>åŠ æ³•è¿ç®—ç¬¦ï¼ˆ<code>+</code>ï¼‰ä¸ºä¸¤ç§ä¸åŒçš„è¿ç®—é‡è½½ï¼šæ•°å­—åŠ æ³•å’Œå­—ç¬¦ä¸²è¿æ¥ã€‚åœ¨æ±‚å€¼æ—¶ï¼Œå®ƒé¦–å…ˆ<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Data_structures#%E5%BC%BA%E5%88%B6%E5%8E%9F%E5%A7%8B%E5%80%BC%E8%BD%AC%E6%8D%A2">å°†ä¸¤ä¸ªæ“ä½œæ•°å¼ºåˆ¶è½¬æ¢ä¸ºåŸºæœ¬ç±»å‹</a>ã€‚ç„¶åï¼Œæ£€æŸ¥ä¸¤ä¸ªæ“ä½œæ•°çš„ç±»å‹ï¼š</p><ul><li>å¦‚æœæœ‰ä¸€æ–¹æ˜¯å­—ç¬¦ä¸²ï¼Œå¦å¤–ä¸€æ–¹åˆ™ä¼šè¢«<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/String#%E8%BD%AC%E6%8D%A2%E6%95%B0%E5%AD%97%E4%B8%BA%E5%AD%97%E7%AC%A6%E4%B8%B2">è½¬æ¢ä¸ºå­—ç¬¦ä¸²</a>ï¼Œå¹¶ä¸”ä¸å®ƒä»¬è¿æ¥èµ·æ¥ã€‚</li><li>å¦‚æœåŒæ–¹éƒ½æ˜¯<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/BigInt">BigInt</a>ï¼Œåˆ™æ‰§è¡Œ BigInt åŠ æ³•ã€‚å¦‚æœä¸€æ–¹æ˜¯ BigInt è€Œå¦ä¸€æ–¹ä¸æ˜¯ï¼Œåˆ™ä¼šæŠ›å‡º<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/TypeError"><code>TypeError</code></a>ã€‚</li><li>å¦åˆ™ï¼ŒåŒæ–¹éƒ½ä¼šè¢«<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Number#%E8%BD%AC%E6%8D%A2%E6%95%B0%E5%AD%97%E5%AD%97%E7%AC%A6%E4%B8%B2%E4%B8%BA%E6%95%B0%E5%AD%97">è½¬æ¢ä¸ºæ•°å­—</a>ï¼Œæ‰§è¡Œæ•°å­—åŠ æ³•ã€‚</li></ul><p><strong>æ—¥æœŸæ˜¾å¼è½¬æ¢ä¸ºæ•°å­—</strong></p><blockquote><p>ä¸€å…ƒè¿ç®—ç¬¦+çš„å¦ä¸€ä¸ªå¸¸è§ç”¨é€”æ˜¯å°†æ—¥æœŸï¼ˆDateï¼‰å¯¹è±¡å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºæ•°å­—ï¼Œè¿”å›ç»“æœä¸ºUnixæ—¶é—´æˆ³</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="title class_">Date</span>( <span class="string">&quot;Mon, 18 Aug 2014 08:53:06 CDT&quot;</span> );</span><br><span class="line"></span><br><span class="line">+d; <span class="comment">// 1408369986000</span></span><br></pre></td></tr></table></figure><h5 id="å¥‡ç‰¹çš„-è¿ç®—ç¬¦"><a href="#å¥‡ç‰¹çš„-è¿ç®—ç¬¦" class="headerlink" title="å¥‡ç‰¹çš„~è¿ç®—ç¬¦"></a>å¥‡ç‰¹çš„~è¿ç®—ç¬¦</h5><blockquote><p>~å’ŒindexOf()ä¸€èµ·å¯ä»¥å°†ç»“æœå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆå®é™…ä¸Šä»…ä»…æ˜¯è½¬æ¢ï¼‰ä¸ºçœŸ/å‡å€¼ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line"></span><br><span class="line">~a.<span class="title function_">indexOf</span>( <span class="string">&quot;lo&quot;</span> );         <span class="comment">// -4   &lt;-- çœŸå€¼ï¼</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (~a.<span class="title function_">indexOf</span>( <span class="string">&quot;lo&quot;</span> )) &#123;   <span class="comment">// true</span></span><br><span class="line">    <span class="comment">// æ‰¾åˆ°åŒ¹é…ï¼</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">~a.<span class="title function_">indexOf</span>( <span class="string">&quot;ol&quot;</span> );         <span class="comment">// 0    &lt;-- å‡å€¼ï¼</span></span><br><span class="line">!~a.<span class="title function_">indexOf</span>( <span class="string">&quot;ol&quot;</span> );        <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (! ~a.<span class="title function_">indexOf</span>( <span class="string">&quot;ol&quot;</span> )) &#123;  <span class="comment">// true</span></span><br><span class="line">    <span class="comment">// æ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="å­—ä½æˆªé™¤"><a href="#å­—ä½æˆªé™¤" class="headerlink" title="å­—ä½æˆªé™¤"></a>å­—ä½æˆªé™¤</h5><blockquote><p>~~æ¥æˆªé™¤æ•°å­—å€¼çš„å°æ•°éƒ¨åˆ†ï¼Œä»¥ä¸ºè¿™å’ŒMath.floor(..)çš„æ•ˆæœä¸€æ ·ï¼Œå®é™…ä¸Šå¹¶éå¦‚æ­¤ã€‚</p><p>é¦–å…ˆå®ƒåªé€‚ç”¨äº32ä½æ•°å­—ï¼Œæ›´é‡è¦çš„æ˜¯å®ƒå¯¹è´Ÿæ•°çš„å¤„ç†ä¸Math. floor(..)ä¸åŒã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="title function_">floor</span>( -<span class="number">49.6</span> );    <span class="comment">// -50</span></span><br><span class="line">~~-<span class="number">49.6</span>;                <span class="comment">// -49</span></span><br></pre></td></tr></table></figure><h4 id="å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢</h4><blockquote><p>+è¿ç®—ç¬¦å³èƒ½ç”¨äºæ•°å­—åŠ æ³•ï¼Œä¹Ÿèƒ½ç”¨äºå­—ç¬¦ä¸²æ‹¼æ¥ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;42&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;0&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> d = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">a + b; <span class="comment">// &quot;420&quot;</span></span><br><span class="line">c + d; <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><blockquote><p>æŸä¸ªæ“ä½œæ•°æ˜¯å­—ç¬¦ä¸²æˆ–è€…èƒ½å¤Ÿé€šè¿‡ä»¥ä¸‹æ­¥éª¤è½¬æ¢ä¸ºå­—ç¬¦ä¸²çš„è¯ï¼Œ+å°†è¿›è¡Œæ‹¼æ¥æ“ä½œã€‚å¦‚æœå…¶ä¸­ä¸€ä¸ªæ“ä½œæ•°æ˜¯å¯¹è±¡ï¼ˆåŒ…æ‹¬æ•°ç»„ï¼‰ï¼Œåˆ™é¦–å…ˆå¯¹å…¶è°ƒç”¨ToPrimitiveæŠ½è±¡æ“ä½œï¼ˆè§„èŒƒ9.1èŠ‚ï¼‰ï¼Œè¯¥æŠ½è±¡æ“ä½œå†è°ƒç”¨[[DefaultValue]]ï¼ˆè§„èŒƒ8.12.8èŠ‚ï¼‰ï¼Œä»¥æ•°å­—ä½œä¸ºä¸Šä¸‹æ–‡ã€‚</p></blockquote><h4 id="å¸ƒå°”å€¼åˆ°æ•°å­—çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#å¸ƒå°”å€¼åˆ°æ•°å­—çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="å¸ƒå°”å€¼åˆ°æ•°å­—çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>å¸ƒå°”å€¼åˆ°æ•°å­—çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢</h4><blockquote><p>åœ¨å°†æŸäº›å¤æ‚çš„å¸ƒå°”é€»è¾‘è½¬æ¢ä¸ºæ•°å­—åŠ æ³•çš„æ—¶å€™ï¼Œéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢èƒ½æ´¾ä¸Šå¤§ç”¨åœºã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åªæœ‰ä¸€ä¸ªä¸ºçœŸçš„æ¡ä»¶è¿”å›true</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">onlyOne</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i &lt; <span class="variable language_">arguments</span>.<span class="property">length</span>; i++) &#123;</span><br><span class="line">      <span class="comment">// è·³è¿‡å‡å€¼ï¼Œå’Œå¤„ç†0ä¸€æ ·ï¼Œä½†æ˜¯é¿å…äº†NaN</span></span><br><span class="line">      <span class="keyword">if</span> (<span class="variable language_">arguments</span>[i]) &#123;</span><br><span class="line">          sum += <span class="variable language_">arguments</span>[i];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum == <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="title function_">onlyOne</span>( b, a );                <span class="comment">// true</span></span><br><span class="line"><span class="title function_">onlyOne</span>( b, a, b, b, b );       <span class="comment">// true</span></span><br></pre></td></tr></table></figure><h4 id="éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼"><a href="#éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼" class="headerlink" title="éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼"></a>éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼</h4><blockquote><p>ç›¸å¯¹å¸ƒå°”å€¼ï¼Œæ•°å­—å’Œå­—ç¬¦ä¸²æ“ä½œä¸­çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢è¿˜ç®—æ¯”è¾ƒæ˜æ˜¾ã€‚ä¸‹é¢çš„æƒ…å†µä¼šå‘ç”Ÿå¸ƒå°”å€¼éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p></blockquote><p>(1) if (..)è¯­å¥ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ã€‚</p><p>(2) for ( .. ; .. ; .. )è¯­å¥ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ï¼ˆç¬¬äºŒä¸ªï¼‰ã€‚</p><p>(3) while (..)å’Œdo..while(..)å¾ªç¯ä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ã€‚</p><p>(4) ? ï¼šä¸­çš„æ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ã€‚</p><p>(5) é€»è¾‘è¿ç®—ç¬¦ ||ï¼ˆé€»è¾‘æˆ–ï¼‰å’Œ &amp;&amp;ï¼ˆé€»è¾‘ä¸ï¼‰å·¦è¾¹çš„æ“ä½œæ•°ï¼ˆä½œä¸ºæ¡ä»¶åˆ¤æ–­è¡¨è¾¾å¼ï¼‰ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> c;</span><br><span class="line"><span class="keyword">var</span> d = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;yep&quot;</span> );       <span class="comment">// yep</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (c) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;nope, never runs&quot;</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">c = d ? a : b;</span><br><span class="line">c;                               <span class="comment">// &quot;abc&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> ((a &amp;&amp; d) || c) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;yep&quot;</span> );       <span class="comment">// yep</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å’Œ-amp-amp"><a href="#å’Œ-amp-amp" class="headerlink" title="|| å’Œ &amp;&amp;"></a>|| å’Œ &amp;&amp;</h4><blockquote><p>é€»è¾‘è¿ç®—ç¬¦||ï¼ˆæˆ–ï¼‰å’Œ&amp;&amp;ï¼ˆä¸ï¼‰åº”è¯¥å¹¶ä¸é™Œç”Ÿ. å®ƒä»¬çš„è¿”å›å€¼æ˜¯ä¸¤ä¸ªæ“ä½œæ•°ä¸­çš„ä¸€ä¸ªï¼ˆä¸”ä»…ä¸€ä¸ªï¼‰ã€‚å³é€‰æ‹©ä¸¤ä¸ªæ“ä½œæ•°ä¸­çš„ä¸€ä¸ªï¼Œç„¶åè¿”å›å®ƒçš„å€¼ã€‚ å› æ­¤ å¯èƒ½ ç§°ä¹‹ä¸º <strong>æ“ä½œæ•°é€‰æ‹©å™¨è¿ç®—ç¬¦</strong> æ›´æ°å½“</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">a || b;     <span class="comment">// 42</span></span><br><span class="line">a &amp;&amp; b;     <span class="comment">// &quot;abc&quot;</span></span><br><span class="line"></span><br><span class="line">c || b;     <span class="comment">// &quot;abc&quot;</span></span><br><span class="line">c &amp;&amp; b;     <span class="comment">// null</span></span><br></pre></td></tr></table></figure><p>||å’Œ&amp;&amp;é¦–å…ˆä¼šå¯¹ç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼ˆaå’Œcï¼‰æ‰§è¡Œæ¡ä»¶åˆ¤æ–­ï¼Œå¦‚æœå…¶ä¸æ˜¯å¸ƒå°”å€¼ï¼ˆå¦‚ä¸Šä¾‹ï¼‰å°±å…ˆè¿›è¡ŒToBooleanå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œç„¶åå†æ‰§è¡Œæ¡ä»¶åˆ¤æ–­ã€‚</p><blockquote><p>å¯¹äº||æ¥è¯´ï¼Œå¦‚æœæ¡ä»¶åˆ¤æ–­ç»“æœä¸ºtrueå°±è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼ˆaå’Œcï¼‰çš„å€¼ï¼Œå¦‚æœä¸ºfalseå°±è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°ï¼ˆbï¼‰çš„å€¼ã€‚</p><p>&amp;&amp;åˆ™ç›¸åï¼Œå¦‚æœæ¡ä»¶åˆ¤æ–­ç»“æœä¸ºtrueå°±è¿”å›ç¬¬äºŒä¸ªæ“ä½œæ•°ï¼ˆbï¼‰çš„å€¼ï¼Œå¦‚æœä¸ºfalseå°±è¿”å›ç¬¬ä¸€ä¸ªæ“ä½œæ•°ï¼ˆaå’Œcï¼‰çš„å€¼ã€‚</p></blockquote><p>æ¢ä¸ªè§’åº¦ç†è§£ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a || b;</span><br><span class="line"><span class="comment">// å¤§è‡´ç›¸å½“äº(roughly equivalent to):</span></span><br><span class="line">a ? a : b;</span><br><span class="line"></span><br><span class="line">a &amp;&amp; b;</span><br><span class="line"><span class="comment">// å¤§è‡´ç›¸å½“äº(roughly equivalent to):</span></span><br><span class="line">a ? b : a;</span><br></pre></td></tr></table></figure><blockquote><p>a = b || â€œsomethingâ€å’Œa &amp;&amp; b()ç”¨åˆ°äº†â€œçŸ­è·¯â€æœºåˆ¶</p></blockquote><h4 id="ç¬¦å·çš„å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#ç¬¦å·çš„å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="ç¬¦å·çš„å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>ç¬¦å·çš„å¼ºåˆ¶ç±»å‹è½¬æ¢</h4><blockquote><p>ES6ä¸­å¼•å…¥äº†ç¬¦å·ç±»å‹ï¼Œå®ƒçš„å¼ºåˆ¶ç±»å‹è½¬æ¢æœ‰ä¸€ä¸ªå‘ï¼Œåœ¨è¿™é‡Œæœ‰å¿…è¦æä¸€ä¸‹ã€‚ES6å…è®¸ä»ç¬¦å·åˆ°å­—ç¬¦ä¸²çš„æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œç„¶è€Œéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¼šäº§ç”Ÿé”™è¯¯</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> s1 = <span class="title class_">Symbol</span>( <span class="string">&quot;cool&quot;</span> );</span><br><span class="line"><span class="title class_">String</span>( s1 );     <span class="comment">// &quot;Symbol(cool)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> s2 = <span class="title class_">Symbol</span>( <span class="string">&quot;not cool&quot;</span> );</span><br><span class="line">s2 + <span class="string">&quot;&quot;</span>;      <span class="comment">// TypeError</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>ç¬¦å·ä¸èƒ½å¤Ÿè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºæ•°å­—</strong>ï¼ˆæ˜¾å¼å’Œéšå¼éƒ½ä¼šäº§ç”Ÿé”™è¯¯ï¼‰ï¼Œä½†å¯ä»¥<strong>è¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºå¸ƒå°”å€¼</strong>ï¼ˆæ˜¾å¼å’Œéšå¼ç»“æœéƒ½æ˜¯trueï¼‰ã€‚</p></blockquote><h4 id="å®½æ¾ç›¸ç­‰å’Œä¸¥æ ¼ç›¸ç­‰"><a href="#å®½æ¾ç›¸ç­‰å’Œä¸¥æ ¼ç›¸ç­‰" class="headerlink" title="å®½æ¾ç›¸ç­‰å’Œä¸¥æ ¼ç›¸ç­‰"></a>å®½æ¾ç›¸ç­‰å’Œä¸¥æ ¼ç›¸ç­‰</h4><blockquote><p>å®½æ¾ç›¸ç­‰ï¼ˆloose equalsï¼‰==å’Œä¸¥æ ¼ç›¸ç­‰ï¼ˆstrict equalsï¼‰===éƒ½ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦â€œç›¸ç­‰â€ï¼Œä½†æ˜¯å®ƒä»¬ä¹‹é—´æœ‰ä¸€ä¸ªå¾ˆé‡è¦çš„åŒºåˆ«ï¼Œç‰¹åˆ«æ˜¯åœ¨åˆ¤æ–­æ¡ä»¶ä¸Šã€‚</p><p><strong>å¸¸è§çš„è¯¯åŒºæ˜¯â€œ==æ£€æŸ¥å€¼æ˜¯å¦ç›¸ç­‰ï¼Œ===æ£€æŸ¥å€¼å’Œç±»å‹æ˜¯å¦ç›¸ç­‰â€ã€‚</strong></p><p><strong>æ­£ç¡®çš„è§£é‡Šæ˜¯ï¼šâ€œ==å…è®¸åœ¨ç›¸ç­‰æ¯”è¾ƒä¸­è¿›è¡Œå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œè€Œ===ä¸å…è®¸ã€‚â€</strong></p></blockquote><h4 id="ç›¸ç­‰æ¯”è¾ƒæ“ä½œçš„æ€§èƒ½"><a href="#ç›¸ç­‰æ¯”è¾ƒæ“ä½œçš„æ€§èƒ½" class="headerlink" title="ç›¸ç­‰æ¯”è¾ƒæ“ä½œçš„æ€§èƒ½"></a>ç›¸ç­‰æ¯”è¾ƒæ“ä½œçš„æ€§èƒ½</h4><blockquote><p>æœ‰äººè§‰å¾—==ä¼šæ¯”===æ…¢ï¼Œå®é™…ä¸Šè™½ç„¶å¼ºåˆ¶ç±»å‹è½¬æ¢ç¡®å®è¦å¤šèŠ±ç‚¹æ—¶é—´ï¼Œä½†ä»…ä»…æ˜¯å¾®ç§’çº§ï¼ˆç™¾ä¸‡åˆ†ä¹‹ä¸€ç§’ï¼‰çš„å·®åˆ«è€Œå·²ã€‚</p><p>ä¸ç”¨åœ¨ä¹æ€§èƒ½</p><p>==å’Œ===éƒ½ä¼šæ£€æŸ¥æ“ä½œæ•°çš„ç±»å‹ã€‚åŒºåˆ«åœ¨äºæ“ä½œæ•°ç±»å‹ä¸åŒæ—¶å®ƒä»¬çš„å¤„ç†æ–¹å¼ä¸åŒã€‚</p></blockquote><h4 id="æŠ½è±¡ç›¸ç­‰"><a href="#æŠ½è±¡ç›¸ç­‰" class="headerlink" title="æŠ½è±¡ç›¸ç­‰"></a>æŠ½è±¡ç›¸ç­‰</h4><blockquote><p>â€œæŠ½è±¡ç›¸ç­‰â€ï¼ˆabstract equalityï¼‰çš„è¿™äº›è§„åˆ™æ­£æ˜¯éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢è¢«è¯Ÿç—…çš„åŸå› ã€‚</p></blockquote><blockquote><p>es5è§„å®š å¦‚æœä¸¤ä¸ªå€¼çš„ç±»å‹ç›¸åŒï¼Œå°±ä»…æ¯”è¾ƒå®ƒä»¬æ˜¯å¦ç›¸ç­‰**ã€‚ä¾‹å¦‚ï¼Œ42ç­‰äº42, â€œabcâ€ç­‰äºâ€abcâ€ã€‚</p><p>æœ‰å‡ ä¸ªéå¸¸è§„çš„æƒ…å†µéœ€è¦æ³¨æ„</p><p>â€¢ NaNä¸ç­‰äºNaN</p><p>â€¢ +0ç­‰äº-0</p></blockquote><blockquote><p><strong>==åœ¨æ¯”è¾ƒä¸¤ä¸ªä¸åŒç±»å‹çš„å€¼æ—¶ä¼šå‘ç”Ÿéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢</strong>ï¼Œä¼šå°†å…¶ä¸­ä¹‹ä¸€æˆ–ä¸¤è€…éƒ½è½¬æ¢ä¸ºç›¸åŒçš„ç±»å‹åå†è¿›è¡Œæ¯”è¾ƒã€‚</p></blockquote><blockquote><p>å®½æ¾ä¸ç›¸ç­‰ï¼ˆloose not-equalityï¼‰! =å°±æ˜¯==çš„ç›¸åå€¼ï¼Œ! ==åŒç†ã€‚</p></blockquote><h5 id="å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ"><a href="#å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ" class="headerlink" title="å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ"></a>å­—ç¬¦ä¸²å’Œæ•°å­—ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ</h5><blockquote></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;42&quot;</span>;</span><br><span class="line"></span><br><span class="line">a === b;    <span class="comment">// false</span></span><br><span class="line">a == b;     <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><strong>ç±»å‹ä¸ç›¸ç­‰æ—¶ä¼šå‘ç”Ÿå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå…·ä½“æ€ä¹ˆè½¬æ¢ï¼Ÿ</strong></p><p>ES5è§„èŒƒ11.9.3.4-5è¿™æ ·å®šä¹‰ï¼š</p><p>(1) å¦‚æœType(x)æ˜¯æ•°å­—ï¼ŒType(y)æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›x ==ToNumber(y)çš„ç»“æœã€‚</p><p>(2) å¦‚æœType(x)æ˜¯å­—ç¬¦ä¸²ï¼ŒType(y)æ˜¯æ•°å­—ï¼Œåˆ™è¿”å›ToNumber(x)== yçš„ç»“æœã€‚</p><blockquote><p>å­—ç¬¦ä¸²ï¼Œæ•°å­—ä¹‹é—´æ¯”è¾ƒæ—¶ï¼Œå°†å­—ç¬¦ä¸²å¼ºåˆ¶è½¬ä¸ºæ•°å­—</p></blockquote><h5 id="å…¶ä»–ç±»å‹å’Œå¸ƒå°”ç±»å‹ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ"><a href="#å…¶ä»–ç±»å‹å’Œå¸ƒå°”ç±»å‹ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ" class="headerlink" title="å…¶ä»–ç±»å‹å’Œå¸ƒå°”ç±»å‹ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ"></a>å…¶ä»–ç±»å‹å’Œå¸ƒå°”ç±»å‹ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ</h5><blockquote><p>==æœ€å®¹æ˜“å‡ºé”™çš„ä¸€ä¸ªåœ°æ–¹æ˜¯trueå’Œfalseä¸å…¶ä»–ç±»å‹ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;42&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line">a == b; <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>è§„èŒƒ11.9.3.6-7æ˜¯è¿™æ ·è¯´çš„ï¼š</p><p>(1) å¦‚æœType(x)æ˜¯å¸ƒå°”ç±»å‹ï¼Œåˆ™è¿”å›ToNumber(x) == yçš„ç»“æœï¼›</p><p>(2) å¦‚æœType(y)æ˜¯å¸ƒå°”ç±»å‹ï¼Œåˆ™è¿”å›x == ToNumber(y)çš„ç»“æœã€‚</p><blockquote><p>å…ˆå°†å¸ƒå°”å€¼è½¬æ¢æˆæ•°å­—ï¼Œåœ¨åº”ç”¨æ•°å­—ä¸å…¶ä»–ç±»å‹çš„æ¯”è¾ƒè§„åˆ™</p></blockquote><h5 id="nullå’Œundefinedä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ"><a href="#nullå’Œundefinedä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ" class="headerlink" title="nullå’Œundefinedä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ"></a>nullå’Œundefinedä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ</h5><blockquote><p>nullå’Œundefinedä¹‹é—´çš„==ä¹Ÿæ¶‰åŠéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ã€‚</p></blockquote><p>ES5è§„èŒƒ11.9.3.2-3è§„å®šï¼š</p><p>(1) å¦‚æœxä¸ºnull, yä¸ºundefinedï¼Œåˆ™ç»“æœä¸ºtrueã€‚</p><p>(2) å¦‚æœxä¸ºundefined, yä¸ºnullï¼Œåˆ™ç»“æœä¸ºtrueã€‚</p><p>é™¤æ­¤ä¹‹å¤–ï¼Œå…¶ä»–æ¯”è¾ƒç»“æœéƒ½æ˜¯ false</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="title function_">doSomething</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ¡ä»¶åˆ¤æ–­a == nullä»…åœ¨doSomething()è¿”å›nullå’Œundefinedæ—¶æ‰æˆç«‹ï¼Œé™¤æ­¤ä¹‹å¤–å…¶ä»–å€¼éƒ½ä¸æˆç«‹ï¼ŒåŒ…æ‹¬0ã€falseå’Œâ€â€è¿™æ ·çš„å‡å€¼ã€‚</p></blockquote><blockquote><p>è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨==ä¸­nullå’Œundefinedæ˜¯ä¸€å›äº‹ï¼Œå¯ä»¥ç›¸äº’è¿›è¡Œéšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">var</span> b;</span><br><span class="line"></span><br><span class="line">a == b;     <span class="comment">// true</span></span><br><span class="line">a == <span class="literal">null</span>;  <span class="comment">// true</span></span><br><span class="line">b == <span class="literal">null</span>;  <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">a == <span class="literal">false</span>; <span class="comment">// false</span></span><br><span class="line">b == <span class="literal">false</span>; <span class="comment">// false</span></span><br><span class="line">a == <span class="string">&quot;&quot;</span>;    <span class="comment">// false</span></span><br><span class="line">b == <span class="string">&quot;&quot;</span>;    <span class="comment">// false</span></span><br><span class="line">a == <span class="number">0</span>;     <span class="comment">// false</span></span><br><span class="line">b == <span class="number">0</span>;     <span class="comment">// false</span></span><br></pre></td></tr></table></figure><h5 id="å¯¹è±¡å’Œéå¯¹è±¡ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ"><a href="#å¯¹è±¡å’Œéå¯¹è±¡ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ" class="headerlink" title="å¯¹è±¡å’Œéå¯¹è±¡ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ"></a>å¯¹è±¡å’Œéå¯¹è±¡ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ</h5><blockquote><p>å…³äºå¯¹è±¡ï¼ˆå¯¹è±¡/å‡½æ•°/æ•°ç»„ï¼‰å’Œæ ‡é‡åŸºæœ¬ç±»å‹ï¼ˆå­—ç¬¦ä¸²/æ•°å­—/å¸ƒå°”å€¼ï¼‰ä¹‹é—´çš„ç›¸ç­‰æ¯”è¾ƒ</p></blockquote><p>ES5è§„èŒƒ11.9.3.8-9åšå¦‚ä¸‹è§„å®šï¼š</p><p>(1) å¦‚æœType(x)æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼ŒType(y)æ˜¯å¯¹è±¡ï¼Œåˆ™è¿”å›x ==ToPrimitive(y)çš„ç»“æœï¼›</p><p>(2) å¦‚æœType(x)æ˜¯å¯¹è±¡ï¼ŒType(y)æ˜¯å­—ç¬¦ä¸²æˆ–æ•°å­—ï¼Œåˆ™è¿”å›ToPrimitive(x) == yçš„ç»“æœã€‚</p><blockquote><p><strong>toPrimitive</strong>(input,preferedType?):</p><ol><li><p>å¦‚æœinputæ˜¯åŸå§‹å€¼ï¼Œç›´æ¥è¿”å›è¿™ä¸ªå€¼ï¼›</p><ol start="2"><li><p>å¦åˆ™ï¼Œå¦‚æœinputæ˜¯å¯¹è±¡ï¼Œè°ƒç”¨input.valueOf()ï¼Œå¦‚æœç»“æœæ˜¯åŸå§‹å€¼ï¼Œè¿”å›ç»“æœï¼›</p></li><li><p>å¦åˆ™ï¼Œè°ƒç”¨input.toString()ã€‚å¦‚æœç»“æœæ˜¯åŸå§‹å€¼ï¼Œè¿”å›ç»“æœï¼›</p></li><li><p>å¦åˆ™ï¼ŒæŠ›å‡ºé”™è¯¯ã€‚</p></li></ol></li></ol></blockquote><blockquote><p>è¿™é‡Œæ²¡æåˆ°å¸ƒå°”å€¼ï¼Œå› ä¸ºå¸ƒå°”å€¼ä¼šå…ˆè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºæ•°å­—</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&quot;abc&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="title class_">Object</span>( a );    <span class="comment">// å’Œnew String( a )ä¸€æ ·</span></span><br><span class="line"></span><br><span class="line">a === b;                <span class="comment">// false</span></span><br><span class="line">a == b;                 <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>ä½†æœ‰ä¸€äº›å€¼ä¸è¿™æ ·ï¼ŒåŸå› æ˜¯==ç®—æ³•ä¸­å…¶ä»–ä¼˜å…ˆçº§æ›´é«˜çš„è§„åˆ™</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="title class_">Object</span>( a );    <span class="comment">// å’ŒObject()ä¸€æ ·</span></span><br><span class="line">a == b;                 <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="literal">undefined</span>;</span><br><span class="line"><span class="keyword">var</span> d = <span class="title class_">Object</span>( c );    <span class="comment">// å’ŒObject()ä¸€æ ·</span></span><br><span class="line">c == d;                 <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> e = <span class="title class_">NaN</span>;</span><br><span class="line"><span class="keyword">var</span> f = <span class="title class_">Object</span>( e );    <span class="comment">// å’Œnew Number( e )ä¸€æ ·</span></span><br><span class="line">e == f;                 <span class="comment">// false</span></span><br></pre></td></tr></table></figure><blockquote><p>å› ä¸ºæ²¡æœ‰å¯¹åº”çš„å°è£…å¯¹è±¡ï¼Œæ‰€ä»¥nullå’Œundefinedä¸èƒ½å¤Ÿè¢«å°è£…ï¼ˆboxedï¼‰, Object(null)å’ŒObject()å‡è¿”å›ä¸€ä¸ªå¸¸è§„å¯¹è±¡ã€‚</p><p>NaNèƒ½å¤Ÿè¢«å°è£…ä¸ºæ•°å­—å°è£…å¯¹è±¡ï¼Œä½†æ‹†å°ä¹‹åNaN == NaNè¿”å›falseï¼Œå› ä¸ºNaNä¸ç­‰äºNaN</p></blockquote><h5 id="æ¯”è¾ƒå°‘è§çš„æƒ…å†µ"><a href="#æ¯”è¾ƒå°‘è§çš„æƒ…å†µ" class="headerlink" title="æ¯”è¾ƒå°‘è§çš„æƒ…å†µ"></a>æ¯”è¾ƒå°‘è§çš„æƒ…å†µ</h5><blockquote><p>æ›´æ”¹å†…ç½®åŸç”ŸåŸå‹ä¼šå¯¼è‡´å“ªäº›å¥‡æ€ªçš„ç»“æœã€‚</p></blockquote><p><strong>è¿”å›å…¶ä»–æ•°å­—</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Number</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">valueOf</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">3</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Number</span>( <span class="number">2</span> ) == <span class="number">3</span>;   <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>2 == 3ä¸ä¼šæœ‰è¿™ç§é—®é¢˜ï¼Œå› ä¸º2å’Œ3éƒ½æ˜¯æ•°å­—åŸºæœ¬ç±»å‹å€¼ï¼Œä¸ä¼šè°ƒç”¨Number.prototype.valueOf()æ–¹æ³•ã€‚è€ŒNumber(2)æ¶‰åŠToPrimitiveå¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œå› æ­¤ä¼šè°ƒç”¨valueOf()</p></blockquote><p>è¿˜æœ‰æ›´å¥‡æ€ªçš„æƒ…å†µï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœè®©a.valueOf()æ¯æ¬¡è°ƒç”¨éƒ½äº§ç”Ÿå‰¯ä½œç”¨ï¼Œæ¯”å¦‚ç¬¬ä¸€æ¬¡è¿”å›2ï¼Œç¬¬äºŒæ¬¡è¿”å›3ï¼Œå°±ä¼šå‡ºç°è¿™æ ·çš„æƒ…å†µã€‚è¿™å®ç°èµ·æ¥å¾ˆç®€å•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> i = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="title class_">Number</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">valueOf</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> i++;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Number</span>( <span class="number">42</span> );</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a == <span class="number">2</span> &amp;&amp; a == <span class="number">3</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Yep, this happened.&quot;</span> );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯åƒä¸‡ä¸è¦æ»¥ç”¨ï¼Œæˆ‘ä»¬åº”è¯¥æ­£ç¡®åˆç†åœ°è¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼Œé¿å…è¿™äº›æç«¯çš„æƒ…å†µã€‚</p><p><strong>å‡å€¼çš„ç›¸ç­‰æ¯”è¾ƒ</strong></p><blockquote><p>==ä¸­çš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢æœ€ä¸ºäººè¯Ÿç—…çš„åœ°æ–¹æ˜¯å‡å€¼çš„ç›¸ç­‰æ¯”è¾ƒ</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;0&quot;</span> == <span class="literal">null</span>;           <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="literal">undefined</span>;      <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="literal">false</span>;          <span class="comment">// true -- æ™•ï¼</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="title class_">NaN</span>;            <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="number">0</span>;              <span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;0&quot;</span> == <span class="string">&quot;&quot;</span>;             <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="literal">false</span> == <span class="literal">null</span>;         <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == <span class="literal">undefined</span>;    <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == <span class="title class_">NaN</span>;          <span class="comment">// false</span></span><br><span class="line"><span class="literal">false</span> == <span class="number">0</span>;            <span class="comment">// true -- æ™•ï¼</span></span><br><span class="line"><span class="literal">false</span> == <span class="string">&quot;&quot;</span>;           <span class="comment">// true -- æ™•ï¼</span></span><br><span class="line"><span class="literal">false</span> == [];           <span class="comment">// true -- æ™•ï¼</span></span><br><span class="line"><span class="literal">false</span> == &#123;&#125;;           <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="literal">null</span>;            <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="literal">undefined</span>;       <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="title class_">NaN</span>;             <span class="comment">// false</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == <span class="number">0</span>;               <span class="comment">// true -- æ™•ï¼</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == [];              <span class="comment">// true -- æ™•ï¼</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == &#123;&#125;;              <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="number">0</span> == <span class="literal">null</span>;             <span class="comment">// false</span></span><br><span class="line"><span class="number">0</span> == <span class="literal">undefined</span>;        <span class="comment">// false</span></span><br><span class="line"><span class="number">0</span> == <span class="title class_">NaN</span>;              <span class="comment">// false</span></span><br><span class="line"><span class="number">0</span> == [];               <span class="comment">// true -- æ™•ï¼</span></span><br><span class="line"><span class="number">0</span> == &#123;&#125;;               <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p><strong>æç«¯æƒ…å†µ</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[] ==  ![]   <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>æ ¹æ®ToBooleanè§„åˆ™ï¼Œå®ƒä¼šè¿›è¡Œå¸ƒå°”å€¼çš„æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼ˆåŒæ—¶åè½¬å¥‡å¶æ ¡éªŒä½ï¼‰ã€‚æ‰€ä»¥[] == ! []å˜æˆäº†[] == falseã€‚å¸ƒå°”å€¼å¼ºåˆ¶è½¬æ¢æ•°å­— 0ï¼Œ[] == 0, æ•°å­—è·Ÿå¯¹è±¡æ¯”è¾ƒ </p></blockquote><p>å…¶ä»–æƒ…å†µ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span> == [<span class="number">2</span>];       <span class="comment">// true</span></span><br><span class="line"><span class="string">&quot;&quot;</span> == [<span class="literal">null</span>];   <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>è¿˜æœ‰ä¸€ä¸ªå‘å¸¸å¸¸è¢«æåˆ°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span> == <span class="string">&quot;\n&quot;</span>;  <span class="comment">// true</span></span><br></pre></td></tr></table></figure><blockquote><p>â€œâ€ã€â€\nâ€ï¼ˆæˆ–è€…â€ â€œç­‰å…¶ä»–ç©ºæ ¼ç»„åˆï¼‰ç­‰ç©ºå­—ç¬¦ä¸²è¢«ToNumberå¼ºåˆ¶ç±»å‹è½¬æ¢ä¸º0</p></blockquote><h4 id="å®‰å…¨è¿ç”¨éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#å®‰å…¨è¿ç”¨éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="å®‰å…¨è¿ç”¨éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>å®‰å…¨è¿ç”¨éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢</h4><blockquote><p>æˆ‘ä»¬è¦å¯¹==ä¸¤è¾¹çš„å€¼è®¤çœŸæ¨æ•²ï¼Œä»¥ä¸‹ä¸¤ä¸ªåŸåˆ™å¯ä»¥è®©æˆ‘ä»¬æœ‰æ•ˆåœ°é¿å…å‡ºé”™ã€‚</p></blockquote><p>â€¢ å¦‚æœä¸¤è¾¹çš„å€¼ä¸­æœ‰trueæˆ–è€…falseï¼Œåƒä¸‡ä¸è¦ä½¿ç”¨==ã€‚</p><p>â€¢ å¦‚æœä¸¤è¾¹çš„å€¼ä¸­æœ‰[]ã€â€â€æˆ–è€…0ï¼Œå°½é‡ä¸è¦ä½¿ç”¨==ã€‚</p><h4 id="æŠ½è±¡å…³ç³»æ¯”è¾ƒ"><a href="#æŠ½è±¡å…³ç³»æ¯”è¾ƒ" class="headerlink" title="æŠ½è±¡å…³ç³»æ¯”è¾ƒ"></a>æŠ½è±¡å…³ç³»æ¯”è¾ƒ</h4><blockquote><p>a &lt; bä¸­æ¶‰åŠçš„éšå¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸å¤ªå¼•äººæ³¨æ„ï¼Œä¸è¿‡è¿˜æ˜¯å¾ˆæœ‰å¿…è¦æ·±å…¥äº†è§£ä¸€ä¸‹ã€‚</p><p>ES5è§„èŒƒ11.8.5èŠ‚å®šä¹‰äº†â€œæŠ½è±¡å…³ç³»æ¯”è¾ƒâ€ï¼ˆabstract relational comparisonï¼‰ï¼Œåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼šæ¯”è¾ƒåŒæ–¹éƒ½æ˜¯å­—ç¬¦ä¸²ï¼ˆååŠéƒ¨åˆ†ï¼‰å’Œå…¶ä»–æƒ…å†µï¼ˆå‰åŠéƒ¨åˆ†ï¼‰ã€‚</p></blockquote><p>æ¯”è¾ƒåŒæ–¹é¦–å…ˆè°ƒç”¨ToPrimitiveï¼Œå¦‚æœç»“æœå‡ºç°éå­—ç¬¦ä¸²ï¼Œå°±æ ¹æ®ToNumberè§„åˆ™å°†åŒæ–¹å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºæ•°å­—æ¥è¿›è¡Œæ¯”è¾ƒã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [ <span class="number">42</span> ];</span><br><span class="line"><span class="keyword">var</span> b = [ <span class="string">&quot;43&quot;</span> ];</span><br><span class="line">a &lt; b;  <span class="comment">// true</span></span><br><span class="line">b &lt; a;  <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæ¯”è¾ƒåŒæ–¹éƒ½æ˜¯å­—ç¬¦ä¸²ï¼Œåˆ™æŒ‰å­—æ¯é¡ºåºæ¥è¿›è¡Œæ¯”è¾ƒï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [ <span class="string">&quot;42&quot;</span> ];</span><br><span class="line"><span class="keyword">var</span> b = [ <span class="string">&quot;043&quot;</span> ];</span><br><span class="line"></span><br><span class="line">a &lt; b;  <span class="comment">// false</span></span><br></pre></td></tr></table></figure><p>å†æ¯”å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123; <span class="attr">b</span>: <span class="number">42</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> b = &#123; <span class="attr">b</span>: <span class="number">43</span> &#125;;</span><br><span class="line"></span><br><span class="line">a &lt; b;  <span class="comment">// ? ?</span></span><br></pre></td></tr></table></figure><p>ç»“æœå±…ç„¶æ˜¯ false !!!, ğŸ™„è¿™æ˜¯å› ä¸º a,béƒ½è¢«è½¬æ¢æˆäº† â€œ[object Object]â€</p><p>ä¸‹é¢çš„ä¾‹å­å°±æœ‰äº›å¥‡æ€ªäº†ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123; <span class="attr">b</span>: <span class="number">42</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> b = &#123; <span class="attr">b</span>: <span class="number">43</span> &#125;;</span><br><span class="line"></span><br><span class="line">a &lt; b;  <span class="comment">// false</span></span><br><span class="line">a == b; <span class="comment">// false</span></span><br><span class="line">a &gt; b;  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">a &lt;= b; <span class="comment">// true</span></span><br><span class="line">a &gt;= b; <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p>å¯¹è±¡ç›¸ç­‰çš„æƒ…å†µå°±æ˜¯å¼•ç”¨ç›¸åŒï¼Œæ‰€ä»¥ a!=b,ä½†æ˜¯å¦‚æœa &lt; bå’Œa == bç»“æœä¸ºfalseï¼Œ<strong>ä¸ºä»€ä¹ˆa &lt;= bå’Œa &gt;= bçš„ç»“æœä¼šæ˜¯trueå‘¢ï¼Ÿ</strong></p><blockquote><p>å› ä¸ºæ ¹æ®è§„èŒƒa &lt;= bè¢«å¤„ç†ä¸ºb &lt; aï¼Œç„¶åå°†ç»“æœåè½¬ã€‚å› ä¸ºb &lt;açš„ç»“æœæ˜¯falseï¼Œæ‰€ä»¥a &lt;= bçš„ç»“æœæ˜¯trueã€‚</p><p>è¿™å¯èƒ½ä¸æˆ‘ä»¬è®¾æƒ³çš„å¤§ç›¸å¾„åº­ï¼Œå³&lt;=åº”è¯¥æ˜¯â€œå°äºæˆ–è€…ç­‰äºâ€ã€‚å®é™…ä¸ŠJavaScriptä¸­&lt;=æ˜¯â€œä¸å¤§äºâ€çš„æ„æ€ï¼ˆå³ï¼(a &gt; b)ï¼Œå¤„ç†ä¸ºï¼(b &lt; a)ï¼‰ã€‚åŒç†ï¼Œa &gt;= bå¤„ç†ä¸ºb &lt;= aã€‚</p></blockquote><p><strong>ä¸ºé¿å…å‡ºå•¥å¹ºè›¾å­ï¼Œæœ€å¥½ä¿è¯æ¯”è¾ƒåŒæ–¹ç±»å‹ç›¸åŒ</strong></p><h3 id="è¯­å¥å’Œè¡¨è¾¾å¼"><a href="#è¯­å¥å’Œè¡¨è¾¾å¼" class="headerlink" title="è¯­å¥å’Œè¡¨è¾¾å¼"></a>è¯­å¥å’Œè¡¨è¾¾å¼</h3><blockquote><p>è¯­å¥ç›¸å½“äºå¥å­ï¼Œè¡¨è¾¾å¼ç›¸å½“äºçŸ­è¯­ï¼Œè¿ç®—ç¬¦åˆ™ç›¸å½“äºæ ‡ç‚¹ç¬¦å·å’Œè¿æ¥è¯ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">3</span> * <span class="number">6</span>;</span><br><span class="line"><span class="keyword">var</span> b = a;</span><br><span class="line">b;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œ3 ï¼Š 6æ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼ˆç»“æœä¸º18ï¼‰ã€‚ç¬¬äºŒè¡Œçš„aä¹Ÿæ˜¯ä¸€ä¸ªè¡¨è¾¾å¼ï¼Œç¬¬ä¸‰è¡Œçš„bä¹Ÿæ˜¯ã€‚è¡¨è¾¾å¼aå’Œbçš„ç»“æœå€¼éƒ½æ˜¯18ã€‚</p><p><strong>var a = 3 ï¼Š 6å’Œvar b = aç§°ä¸ºâ€œå£°æ˜è¯­å¥â€</strong>ï¼ˆdeclaration statementï¼‰ï¼Œå› ä¸ºå®ƒä»¬å£°æ˜äº†å˜é‡ï¼ˆè¿˜å¯ä»¥ä¸ºå…¶èµ‹å€¼ï¼‰ã€‚a = 3 ï¼Š 6å’Œb = a<strong>ï¼ˆä¸å¸¦varï¼‰å«ä½œâ€œèµ‹å€¼è¡¨è¾¾å¼â€</strong>ã€‚</p><h4 id="è¯­å¥çš„ç»“æœå€¼"><a href="#è¯­å¥çš„ç»“æœå€¼" class="headerlink" title="è¯­å¥çš„ç»“æœå€¼"></a>è¯­å¥çš„ç»“æœå€¼</h4><blockquote><p>å¦‚æœä½ ç”¨å¼€å‘æ§åˆ¶å°ï¼ˆæˆ–è€…JavaScript REPLâ€”â€”read/evaluate/print/loopå·¥å…·ï¼‰è°ƒè¯•è¿‡ä»£ç ï¼Œåº”è¯¥ä¼šçœ‹åˆ°å¾ˆå¤šè¯­å¥çš„è¿”å›å€¼æ˜¾ç¤ºä¸ºundefinedï¼Œåªæ˜¯ä½ å¯èƒ½ä»æœªæ¢ç©¶è¿‡å…¶ä¸­çš„åŸå› ã€‚å…¶å®æ§åˆ¶å°ä¸­æ˜¾ç¤ºçš„å°±æ˜¯è¯­å¥çš„ç»“æœå€¼ã€‚ä½†æ˜¯åœ¨ä»£ç ä¸­æ²¡æœ‰åŠæ³•è·å–è¿™ä¸ªç»“æœå€¼</p></blockquote><p>ä¾‹å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    b = <span class="number">4</span> + <span class="number">38</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨æ§åˆ¶å°/REPLä¸­è¾“å…¥ä»¥ä¸Šä»£ç åº”è¯¥ä¼šæ˜¾ç¤º42ï¼Œå³æœ€åä¸€ä¸ªè¯­å¥/è¡¨è¾¾å¼b = 4 + 38çš„ç»“æœå€¼ã€‚</p><p>ä½†ä¸‹é¢è¿™æ ·çš„ä»£ç æ— æ³•è¿è¡Œï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a, b;</span><br><span class="line"></span><br><span class="line">a = <span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    b = <span class="number">4</span> + <span class="number">38</span>;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>å› ä¸ºè¯­æ³•ä¸å…è®¸æˆ‘ä»¬è·å¾—è¯­å¥çš„ç»“æœå€¼å¹¶å°†å…¶èµ‹å€¼ç»™å¦ä¸€ä¸ªå˜é‡ï¼ˆè‡³å°‘ç›®å‰ä¸è¡Œï¼‰ã€‚</p></blockquote><p><strong>é‚£åº”è¯¥æ€æ ·è·å¾—è¯­å¥çš„ç»“æœå€¼å‘¢ï¼Ÿ</strong></p><p>å¯ä»¥ä½¿ç”¨ä¸‡æ¶çš„eval(..)ï¼ˆåˆè¯»ä½œâ€œevilâ€ï¼‰æ¥è·å¾—ç»“æœå€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a, b;</span><br><span class="line"></span><br><span class="line">a = <span class="built_in">eval</span>( <span class="string">&quot;if (true) &#123; b = 4 + 38; &#125;&quot;</span> );</span><br><span class="line"></span><br><span class="line">a;  <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><h4 id="è¡¨è¾¾å¼çš„å‰¯ä½œç”¨"><a href="#è¡¨è¾¾å¼çš„å‰¯ä½œç”¨" class="headerlink" title="è¡¨è¾¾å¼çš„å‰¯ä½œç”¨"></a>è¡¨è¾¾å¼çš„å‰¯ä½œç”¨</h4><blockquote><p>å¤§éƒ¨åˆ†è¡¨è¾¾å¼æ²¡æœ‰å‰¯ä½œç”¨ã€‚</p><p>æœ€å¸¸è§çš„æœ‰å‰¯ä½œç”¨ï¼ˆä¹Ÿå¯èƒ½æ²¡æœ‰ï¼‰çš„è¡¨è¾¾å¼æ˜¯å‡½æ•°è°ƒç”¨ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    a = a + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>;</span><br><span class="line"><span class="title function_">foo</span>();      <span class="comment">// ç»“æœå€¼ï¼šundefinedã€‚å‰¯ä½œç”¨ï¼šaçš„å€¼è¢«æ”¹å˜</span></span><br></pre></td></tr></table></figure><p>å…¶ä»–ä¸€äº›è¡¨è¾¾å¼ä¹Ÿæœ‰å‰¯ä½œç”¨ï¼Œæ¯”å¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = a++;</span><br><span class="line"></span><br><span class="line">a;  <span class="comment">// 43</span></span><br><span class="line">b;  <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><p>è¯­å¥ç³»åˆ—é€—å·è¿ç®—ç¬¦ï¼ˆstatement-series comma operatorï¼‰å°†å¤šä¸ªç‹¬ç«‹çš„è¡¨è¾¾å¼è¯­å¥ä¸²è”æˆä¸€ä¸ªè¯­å¥ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>, b;</span><br><span class="line">b = ( a++, a );</span><br><span class="line"></span><br><span class="line">a;  <span class="comment">// 43</span></span><br><span class="line">b;  <span class="comment">// 43</span></span><br></pre></td></tr></table></figure><p>a++, aä¸­ç¬¬äºŒä¸ªè¡¨è¾¾å¼aåœ¨a++ä¹‹åæ‰§è¡Œï¼Œç»“æœä¸º43ï¼Œå¹¶è¢«èµ‹å€¼ç»™bã€‚</p><p>å†å¦‚deleteè¿ç®—ç¬¦ã€‚deleteç”¨æ¥åˆ é™¤å¯¹è±¡ä¸­çš„å±æ€§å’Œæ•°ç»„ä¸­çš„å•å…ƒã€‚å®ƒé€šå¸¸ä»¥å•ç‹¬ä¸€ä¸ªè¯­å¥çš„å½¢å¼å‡ºç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">42</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">obj.<span class="property">a</span>;          <span class="comment">// 42</span></span><br><span class="line"><span class="keyword">delete</span> obj.<span class="property">a</span>;   <span class="comment">// true</span></span><br><span class="line">obj.<span class="property">a</span>;          <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure><p>å¦‚æœæ“ä½œæˆåŠŸï¼Œdeleteè¿”å›trueï¼Œå¦åˆ™è¿”å›falseã€‚å…¶å‰¯ä½œç”¨æ˜¯å±æ€§è¢«ä»å¯¹è±¡ä¸­åˆ é™¤ï¼ˆæˆ–è€…å•å…ƒä»arrayä¸­åˆ é™¤ï¼‰ã€‚</p><p>å¦ä¸€ä¸ªæœ‰è¶£çš„ä¾‹å­æ˜¯=èµ‹å€¼è¿ç®—ç¬¦ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"></span><br><span class="line">a = <span class="number">42</span>;     <span class="comment">// 42</span></span><br><span class="line">a;          <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><blockquote><p>ç»„åˆèµ‹å€¼è¿ç®—ç¬¦ï¼Œå¦‚+=å’Œ-=ç­‰ä¹Ÿæ˜¯å¦‚æ­¤ã€‚ä¾‹å¦‚ï¼Œa = b += 2é¦–å…ˆæ‰§è¡Œb +=2ï¼ˆå³b = b + 2ï¼‰ï¼Œç„¶åç»“æœå†è¢«èµ‹å€¼ç»™aã€‚</p></blockquote><h4 id="ä¸Šä¸‹æ–‡è§„åˆ™"><a href="#ä¸Šä¸‹æ–‡è§„åˆ™" class="headerlink" title="ä¸Šä¸‹æ–‡è§„åˆ™"></a>ä¸Šä¸‹æ–‡è§„åˆ™</h4><blockquote><p>åœ¨JavaScriptè¯­æ³•è§„åˆ™ä¸­ï¼Œæœ‰æ—¶å€™åŒæ ·çš„è¯­æ³•åœ¨ä¸åŒçš„æƒ…å†µä¸‹ä¼šæœ‰ä¸åŒçš„è§£é‡Šã€‚è¿™äº›è¯­æ³•è§„åˆ™å­¤ç«‹èµ·æ¥ä¼šå¾ˆéš¾ç†è§£ã€‚</p></blockquote><h5 id="å¤§æ‹¬å·"><a href="#å¤§æ‹¬å·" class="headerlink" title="å¤§æ‹¬å·"></a>å¤§æ‹¬å·</h5><blockquote><p>ä¸‹é¢ä¸¤ç§æƒ…å†µä¼šç”¨åˆ°å¤§æ‹¬å·{ .. }ï¼ˆéšç€JavaScriptçš„æ¼”è¿›ä¼šå‡ºç°æ›´å¤šç±»ä¼¼çš„æƒ…å†µï¼‰ã€‚</p></blockquote><ol><li><p>å¯¹è±¡å¸¸é‡</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡å®šå‡½æ•°bar()å·²ç»å®šä¹‰</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    <span class="attr">foo</span>: <span class="title function_">bar</span>()</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li><li><p>æ ‡ç­¾</p><p> å¦‚æœå°†ä¸Šä¾‹ä¸­çš„var a =å»æ‰ä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µå‘¢ï¼Ÿ</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡è®¾ barå·²å®šä¹‰</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="attr">foo</span>: <span class="title function_">bar</span>()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> å¾ˆå¤šå¼€å‘äººå‘˜ä»¥ä¸ºè¿™é‡Œçš„{ .. }åªæ˜¯ä¸€ä¸ªå­¤ç«‹çš„å¯¹è±¡å¸¸é‡ï¼Œæ²¡æœ‰èµ‹å€¼ã€‚äº‹å®ä¸Šä¸æ˜¯è¿™æ ·ã€‚</p><p> è¿™é‡Œæ¶‰åŠJavaScriptä¸­ä¸€ä¸ªä¸å¤ªä¸ºäººçŸ¥ï¼ˆä¹Ÿä¸å»ºè®®ä½¿ç”¨ï¼‰çš„ç‰¹æ€§ï¼Œå«ä½œâ€œ<strong>æ ‡ç­¾è¯­å¥</strong>â€ï¼ˆlabeled statementï¼‰ã€‚<strong>fooæ˜¯è¯­å¥bar()çš„æ ‡ç­¾</strong>ï¼ˆåé¢æ²¡æœ‰ï¼›ï¼‰ã€‚æ ‡ç­¾è¯­å¥å…·ä½“æ˜¯åšä»€ä¹ˆç”¨çš„å‘¢ï¼Ÿ</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ‡ç­¾ä¸ºfooçš„å¾ªç¯</span></span><br><span class="line"><span class="attr">foo</span>: <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">4</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">0</span>; j&lt;<span class="number">4</span>; j++) &#123;</span><br><span class="line">      <span class="comment">// å¦‚æœjå’Œiç›¸ç­‰ï¼Œç»§ç»­å¤–å±‚å¾ªç¯</span></span><br><span class="line">      <span class="keyword">if</span> (j == i) &#123;</span><br><span class="line">          <span class="comment">// è·³è½¬åˆ°fooçš„ä¸‹ä¸€ä¸ªå¾ªç¯</span></span><br><span class="line">          <span class="keyword">continue</span> foo;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// è·³è¿‡å¥‡æ•°ç»“æœ</span></span><br><span class="line">      <span class="keyword">if</span> ((j ï¼Š i) % <span class="number">2</span> == <span class="number">1</span>) &#123;</span><br><span class="line">          <span class="comment">// ç»§ç»­å†…å±‚å¾ªç¯ï¼ˆæ²¡æœ‰æ ‡ç­¾çš„ï¼‰</span></span><br><span class="line">          <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( i, j );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1 0</span></span><br><span class="line"><span class="comment">// 2 0</span></span><br><span class="line"><span class="comment">// 2 1</span></span><br><span class="line"><span class="comment">// 3 0</span></span><br><span class="line"><span class="comment">// 3 2</span></span><br></pre></td></tr></table></figure><p> break fooä¸æ˜¯æŒ‡â€œè·³è½¬åˆ°æ ‡ç­¾fooæ‰€åœ¨ä½ç½®ç»§ç»­æ‰§è¡Œâ€ï¼Œè€Œæ˜¯â€œè·³å‡ºæ ‡ç­¾fooæ‰€åœ¨çš„å¾ªç¯/ä»£ç å—ï¼Œç»§ç»­æ‰§è¡Œåé¢çš„ä»£ç â€</p><blockquote><p>æ ‡ç­¾ä¹Ÿèƒ½ç”¨äºéå¾ªç¯ä»£ç å—ï¼Œä½†åªæœ‰breakæ‰å¯ä»¥ã€‚æˆ‘ä»¬å¯ä»¥å¯¹å¸¦æ ‡ç­¾çš„ä»£ç å—ä½¿ç”¨break______ï¼Œä½†æ˜¯ä¸èƒ½å¯¹å¸¦æ ‡ç­¾çš„éå¾ªç¯ä»£ç å—ä½¿ç”¨continueï¼Œä¹Ÿä¸èƒ½å¯¹ä¸å¸¦æ ‡ç­¾çš„ä»£ç å—ä½¿ç”¨breakï¼š</p></blockquote> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ‡ç­¾ä¸ºbarçš„ä»£ç å—</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="attr">bar</span>: &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Hello&quot;</span> );</span><br><span class="line">              <span class="keyword">break</span> bar;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;never runs&quot;</span> );</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;World&quot;</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>();</span><br><span class="line"><span class="comment">// Hello</span></span><br><span class="line"><span class="comment">// World</span></span><br></pre></td></tr></table></figure><blockquote><p>å¸¦æ ‡ç­¾çš„å¾ªç¯/ä»£ç å—ååˆ†å°‘è§ï¼Œä¹Ÿä¸å»ºè®®ä½¿ç”¨ã€‚</p></blockquote></li></ol><h5 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[] + &#123;&#125;; <span class="comment">// &quot;[object Object]&quot;</span></span><br><span class="line">&#123;&#125; + []; <span class="comment">// 0</span></span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€è¡Œä»£ç ä¸­ï¼Œ{}å‡ºç°åœ¨+è¿ç®—ç¬¦è¡¨è¾¾å¼ä¸­ï¼Œå› æ­¤å®ƒè¢«å½“ä½œä¸€ä¸ªå€¼ï¼ˆç©ºå¯¹è±¡ï¼‰æ¥å¤„ç†ã€‚[]ä¼šè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºâ€â€ï¼Œè€Œ{}ä¼šè¢«å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸ºâ€[object Object]â€ã€‚</p><p>ä½†åœ¨ç¬¬äºŒè¡Œä»£ç ä¸­ï¼Œ{}è¢«å½“ä½œä¸€ä¸ªç‹¬ç«‹çš„ç©ºä»£ç å—ï¼ˆä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼‰ã€‚ä»£ç å—ç»“å°¾ä¸éœ€è¦åˆ†å·ï¼Œæ‰€ä»¥è¿™é‡Œä¸å­˜åœ¨è¯­æ³•ä¸Šçš„é—®é¢˜ã€‚æœ€å+ []å°†[]æ˜¾å¼å¼ºåˆ¶ç±»å‹è½¬æ¢ä¸º0ã€‚</p><h5 id="å¯¹è±¡è§£æ„"><a href="#å¯¹è±¡è§£æ„" class="headerlink" title="å¯¹è±¡è§£æ„"></a>å¯¹è±¡è§£æ„</h5><blockquote><p>ä»ES6å¼€å§‹ï¼Œ{ .. }ä¹Ÿå¯ç”¨äºâ€œè§£æ„èµ‹å€¼â€</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  <span class="keyword">function</span> <span class="title function_">getData</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="comment">// ..</span></span><br><span class="line">      <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">a</span>: <span class="number">42</span>,</span><br><span class="line">        <span class="attr">b</span>: <span class="string">&quot;foo&quot;</span></span><br><span class="line">      &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> &#123; a, b &#125; = <span class="title function_">getData</span>();</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>( a, b ); <span class="comment">// 42 &quot;foo&quot;</span></span><br><span class="line"></span><br><span class="line">&#123; a , b &#125; = .ï¼å°±æ˜¯<span class="title class_">ES6</span>ä¸­çš„è§£æ„èµ‹å€¼ï¼Œç›¸å½“äºä¸‹é¢çš„ä»£ç ï¼š</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> res = <span class="title function_">getData</span>();</span><br><span class="line">  <span class="keyword">var</span> a = res.<span class="property">a</span>;</span><br><span class="line">  <span class="keyword">var</span> b = res.<span class="property">b</span>;</span><br></pre></td></tr></table></figure><p>{ a, b }å®é™…ä¸Šæ˜¯{ a: a, b: b }çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œä¸¤è€…å‡å¯ï¼Œåªä¸è¿‡{ a,b }æ›´ç®€æ´ã€‚</p><h5 id="else-ifå’Œå¯é€‰ä»£ç å—"><a href="#else-ifå’Œå¯é€‰ä»£ç å—" class="headerlink" title="else ifå’Œå¯é€‰ä»£ç å—"></a>else ifå’Œå¯é€‰ä»£ç å—</h5><blockquote><p>å¾ˆå¤šäººè¯¯ä»¥ä¸ºJavaScriptä¸­æœ‰else ifï¼Œå› ä¸ºæˆ‘ä»¬å¯ä»¥è¿™æ ·æ¥å†™ä»£ç ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a) &#123;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span> (b) &#123;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>äº‹å®ä¸ŠJavaScriptæ²¡æœ‰else ifï¼Œä½†ifå’ŒelseåªåŒ…å«å•æ¡è¯­å¥çš„æ—¶å€™å¯ä»¥çœç•¥ä»£ç å—çš„{ }ã€‚ä¸‹é¢çš„ä»£ç ä½ ä¸€å®šä¸ä¼šé™Œç”Ÿï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a) <span class="title function_">doSomething</span>( a );</span><br></pre></td></tr></table></figure><p>å¾ˆå¤šJavaScriptä»£ç æ£€æŸ¥å·¥å…·å»ºè®®å¯¹å•æ¡è¯­å¥ä¹Ÿåº”è¯¥åŠ ä¸Š{ }ï¼Œå¦‚ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a) &#123; <span class="title function_">doSomething</span>( a ); &#125;</span><br></pre></td></tr></table></figure><p>elseä¹Ÿæ˜¯å¦‚æ­¤ï¼Œæ‰€ä»¥æˆ‘ä»¬ç»å¸¸ç”¨åˆ°çš„else ifå®é™…ä¸Šæ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a) &#123;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (b) &#123;</span><br><span class="line">      <span class="comment">// ..</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// ..</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>else ifæä¸ºå¸¸è§ï¼Œèƒ½çœæ‰ä¸€å±‚ä»£ç ç¼©è¿›ï¼Œæ‰€ä»¥å¾ˆå—é’çã€‚ä½†è¿™åªæ˜¯æˆ‘ä»¬è‡ªå·±å‘æ˜çš„ç”¨æ³•ï¼Œåˆ‡å‹¿æƒ³å½“ç„¶åœ°è®¤ä¸ºè¿™äº›éƒ½å±äºJavaScriptè¯­æ³•çš„èŒƒç•´ã€‚</p></blockquote><h3 id="è¿ç®—ç¬¦ä¼˜å…ˆçº§"><a href="#è¿ç®—ç¬¦ä¼˜å…ˆçº§" class="headerlink" title="è¿ç®—ç¬¦ä¼˜å…ˆçº§"></a>è¿ç®—ç¬¦ä¼˜å…ˆçº§</h3><blockquote><p>è¶…è¿‡ä¸€ä¸ªè¿ç®—ç¬¦æ—¶è¡¨è¾¾å¼çš„æ‰§è¡Œé¡ºåºã€‚ å¯¹æ­¤jsæ²¡æœ‰å…·ä½“ä»‹ç»<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Operators/Operator_Precedence">å‚è€ƒ</a></p></blockquote><p>&amp;&amp;è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äº=</p><p>&amp;&amp;è¿ç®—ç¬¦å…ˆäº||æ‰§è¡Œ</p><p>||çš„ä¼˜å…ˆçº§åˆé«˜äºï¼Ÿ:</p><h5 id="çŸ­è·¯"><a href="#çŸ­è·¯" class="headerlink" title="çŸ­è·¯"></a>çŸ­è·¯</h5><blockquote><p>å¯¹&amp;&amp;å’Œ||æ¥è¯´ï¼Œå¦‚æœä»å·¦è¾¹çš„æ“ä½œæ•°èƒ½å¤Ÿå¾—å‡ºç»“æœï¼Œå°±å¯ä»¥å¿½ç•¥å³è¾¹çš„æ“ä½œæ•°ã€‚æˆ‘ä»¬å°†è¿™ç§ç°è±¡ç§°ä¸ºâ€œçŸ­è·¯â€ï¼ˆå³æ‰§è¡Œæœ€çŸ­è·¯å¾„ï¼‰ã€‚</p></blockquote><p>ä»¥a &amp;&amp; bä¸ºä¾‹ï¼Œå¦‚æœaæ˜¯ä¸€ä¸ªå‡å€¼ï¼Œè¶³ä»¥å†³å®š&amp;&amp;çš„ç»“æœï¼Œå°±æ²¡æœ‰å¿…è¦å†åˆ¤æ–­bçš„å€¼ã€‚åŒæ ·å¯¹äºa || bï¼Œå¦‚æœaæ˜¯ä¸€ä¸ªçœŸå€¼ï¼Œä¹Ÿè¶³ä»¥å†³å®š||çš„ç»“æœï¼Œä¹Ÿå°±æ²¡æœ‰å¿…è¦å†åˆ¤æ–­bçš„å€¼ã€‚</p><h5 id="æ›´å¼ºçš„ç»‘å®š"><a href="#æ›´å¼ºçš„ç»‘å®š" class="headerlink" title="æ›´å¼ºçš„ç»‘å®š"></a>æ›´å¼ºçš„ç»‘å®š</h5><p>å¤šä¸ªè¿ç®—ç¬¦ä¸²è”åœ¨ä¸€èµ·çš„ä¾‹å­</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a &amp;&amp; b || c ? c || b ? a : c &amp;&amp; b : a</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Ÿï¼šè¿ç®—ç¬¦çš„ä¼˜å…ˆçº§æ¯”&amp;&amp;å’Œ||é«˜è¿˜æ˜¯ä½å‘¢ï¼Ÿæ‰§è¡Œé¡ºåºæ˜¯æ€æ ·ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(a &amp;&amp; b || c) ? (c || b) ? a : (c &amp;&amp; b) : a</span><br></pre></td></tr></table></figure><blockquote><p>å› ä¸º&amp;&amp;è¿ç®—ç¬¦çš„ä¼˜å…ˆçº§é«˜äº||ï¼Œè€Œ||çš„ä¼˜å…ˆçº§åˆé«˜äºï¼Ÿ :ã€‚</p></blockquote><h5 id="å…³è”"><a href="#å…³è”" class="headerlink" title="å…³è”"></a>å…³è”</h5><blockquote><p>&amp;&amp;å’Œ||è¿ç®—ç¬¦å…ˆäºï¼Ÿï¼šæ‰§è¡Œï¼Œé‚£ä¹ˆå¦‚æœå¤šä¸ªç›¸åŒä¼˜å…ˆçº§çš„è¿ç®—ç¬¦åŒæ—¶å‡ºç°ï¼Œåˆè¯¥å¦‚ä½•å¤„ç†å‘¢ï¼Ÿå®ƒä»¬çš„æ‰§è¡Œé¡ºåºæ˜¯ä»å·¦åˆ°å³è¿˜æ˜¯ä»å³åˆ°å·¦ï¼Ÿ</p></blockquote><p>ä¸€èˆ¬è¯´æ¥ï¼Œè¿ç®—ç¬¦çš„å…³è”ï¼ˆassociativityï¼‰ä¸æ˜¯ä»å·¦åˆ°å³å°±æ˜¯ä»å³åˆ°å·¦ï¼Œè¿™å–å†³äºç»„åˆï¼ˆgroupingï¼‰æ˜¯ä»å·¦å¼€å§‹è¿˜æ˜¯ä»å³å¼€å§‹ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="title function_">foo</span>() &amp;&amp; <span class="title function_">bar</span>();</span><br></pre></td></tr></table></figure><p>è¿™é‡Œéµå¾ªä»å·¦åˆ°å³çš„é¡ºåºï¼ˆJavaScriptçš„é»˜è®¤æ‰§è¡Œé¡ºåºï¼‰ã€‚è¿™é‡Œfoo()é¦–å…ˆæ‰§è¡Œï¼Œå®ƒçš„è¿”å›ç»“æœå†³å®šäº†bar()æ˜¯å¦æ‰§è¡Œã€‚æ‰€ä»¥å¦‚æœbar()åœ¨foo()ä¹‹å‰æ‰§è¡Œï¼Œæ•´ä¸ªç»“æœä¼šå®Œå…¨ä¸åŒã€‚</p><p>è€Œa &amp;&amp; b &amp;&amp; cè¿™æ ·çš„è¡¨è¾¾å¼å°±æ¶‰åŠç»„åˆï¼ˆéšå¼ï¼‰ï¼Œè¿™æ„å‘³ç€a &amp;&amp; bæˆ–b &amp;&amp; cä¼šå…ˆæ‰§è¡Œã€‚</p><blockquote><p>å¦‚æœ&amp;&amp;æ˜¯å³å…³è”çš„è¯ä¼šè¢«å¤„ç†ä¸ºa &amp;&amp; (b &amp;&amp; c)ã€‚ä½†è¿™å¹¶ä¸æ„å‘³ç€cä¼šåœ¨bä¹‹å‰æ‰§è¡Œã€‚å³å…³è”ä¸æ˜¯æŒ‡ä»å³å¾€å·¦æ‰§è¡Œï¼Œè€Œæ˜¯æŒ‡ä»å³å¾€å·¦ç»„åˆã€‚ä»»ä½•æ—¶å€™ï¼Œä¸è®ºæ˜¯ç»„åˆè¿˜æ˜¯å…³è”ï¼Œä¸¥æ ¼çš„æ‰§è¡Œé¡ºåºéƒ½åº”è¯¥æ˜¯ä»å·¦åˆ°å³ï¼Œa, bï¼Œç„¶åcã€‚</p></blockquote><p>æ¯”å¦‚ï¼Ÿï¼šï¼ˆä¸‰ç›®è¿ç®—ç¬¦ï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a ? b : c ? d : e;</span><br></pre></td></tr></table></figure><p>?ï¼šæ˜¯å³å…³è”ï¼Œå®ƒçš„ç»„åˆé¡ºåºæ˜¯ä»¥ä¸‹å“ªä¸€ç§å‘¢ï¼Ÿ</p><p>â€¢ a ? b : (c ? d : e)</p><p>â€¢ (a ? b : c) ? d : e</p><p>ç­”æ¡ˆæ˜¯a ? b : (c ? d : e)ã€‚</p><p><strong>æ›´ä¸ºå¤æ‚çš„èµ‹å€¼è¡¨è¾¾å¼çš„ä¾‹å­ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&quot;foo&quot;</span>;</span><br><span class="line"><span class="keyword">var</span> c = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> d = a &amp;&amp; b || c ? c || b ? a : c &amp;&amp; b : a;</span><br><span class="line"></span><br><span class="line">d;      <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><p>æŒæ¡äº†ä¼˜å…ˆçº§å’Œå…³è”ç­‰ç›¸å…³çŸ¥è¯†ä¹‹åï¼Œå°±èƒ½å¤Ÿæ ¹æ®ç»„åˆè§„åˆ™å°†ä¸Šé¢çš„ä»£ç åˆ†è§£å¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">((a &amp;&amp; b) || c) ? ((c || b) ? a : (c &amp;&amp; b)) : a</span><br></pre></td></tr></table></figure><h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><h4 id="è‡ªåŠ¨åˆ†å·"><a href="#è‡ªåŠ¨åˆ†å·" class="headerlink" title="è‡ªåŠ¨åˆ†å·"></a>è‡ªåŠ¨åˆ†å·</h4><blockquote><p>æœ‰æ—¶JavaScriptä¼šè‡ªåŠ¨ä¸ºä»£ç è¡Œè¡¥ä¸Šç¼ºå¤±çš„åˆ†å·ï¼Œå³è‡ªåŠ¨åˆ†å·æ’å…¥ï¼ˆAutomatic Semicolon Insertion, ASIï¼‰ã€‚</p><p>è¯·æ³¨æ„ï¼ŒASIåªåœ¨æ¢è¡Œç¬¦å¤„èµ·ä½œç”¨ï¼Œè€Œä¸ä¼šåœ¨ä»£ç è¡Œçš„ä¸­é—´æ’å…¥åˆ†å·ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">42</span>, b</span><br><span class="line">c;</span><br></pre></td></tr></table></figure><p>JavaScriptåˆ¤æ–­bä¹‹ååº”è¯¥æœ‰ï¼›ï¼Œæ‰€ä»¥cï¼›è¢«å¤„ç†ä¸ºä¸€ä¸ªç‹¬ç«‹çš„è¡¨è¾¾å¼è¯­å¥ã€‚</p><p>è¯­æ³•è§„å®šdo..whileå¾ªç¯åé¢å¿…é¡»å¸¦ï¼›,ä½†æ˜¯å¤§å¤šæ•°å¼€å‘äººå‘˜ä¼šä¸è®°å¾—ï¼Œæ‰€ä»¥ASIä¼šè‡ªåŠ¨è¡¥ä¸Šï¼Œå…¶ä»–æ¶‰åŠASIçš„æƒ…å†µæ˜¯breakã€continueã€returnå’Œyieldï¼ˆES6ï¼‰ç­‰å…³é”®å­—</p><p><strong>çº é”™æœºåˆ¶</strong></p><p>å¯¹äºASIè‡ªåŠ¨æ·»åŠ  ; , jsç¤¾åŒºäº‰è®®</p><ul><li><p>æ­£æ–¹è®¤ä¸ºASIæœºåˆ¶å¤§æœ‰è£¨ç›Šï¼Œèƒ½çœç•¥æ‰é‚£äº›ä¸å¿…è¦çš„ï¼›ï¼Œè®©ä»£ç æ›´ç®€æ´ã€‚</p></li><li><p>åæ–¹åˆ™è®¤ä¸ºASIæœºåˆ¶é—®é¢˜å¤ªå¤šï¼Œå¯¹äºç¼ºä¹ç»éªŒçš„åˆå­¦è€…å°¤å…¶å¦‚æ­¤ï¼Œè‡ªåŠ¨æ’å…¥ä¼šæ”¹å˜ä»£ç é€»è¾‘ã€‚åº”è¯¥é€šè¿‡linterè¿™æ ·çš„å·¥å…·æ¥æ‰¾å‡ºè¿™äº›é”™è¯¯ï¼Œè€Œä¸æ˜¯ä¾èµ–JavaScriptå¼•æ“æ¥æ”¹æ­£é”™è¯¯ã€‚</p></li></ul><blockquote><p>å»ºè®®åœ¨æ‰€æœ‰éœ€è¦çš„åœ°æ–¹åŠ ä¸Šåˆ†å·ï¼Œå°†å¯¹ASIçš„ä¾èµ–é™åˆ°æœ€ä½ã€‚</p></blockquote><h4 id="é”™è¯¯"><a href="#é”™è¯¯" class="headerlink" title="é”™è¯¯"></a>é”™è¯¯</h4><blockquote><p>JavaScriptä¸ä»…æœ‰å„ç§ç±»å‹çš„è¿è¡Œæ—¶é”™è¯¯ï¼ˆTypeErrorã€ReferenceErrorã€SyntaxErrorç­‰ï¼‰ï¼Œå®ƒçš„è¯­æ³•ä¸­ä¹Ÿå®šä¹‰äº†ä¸€äº›ç¼–è¯‘æ—¶é”™è¯¯ã€‚</p><p>å¦‚éæ³•æ­£åˆ™ï¼Œé‡åå‡½æ•°ï¼Œé‡åå±æ€§â€¦</p><p>ä»è¯­ä¹‰è§’åº¦æ¥è¯´ï¼Œè¿™äº›é”™è¯¯å¹¶éè¯æ³•é”™è¯¯ï¼Œè€Œæ˜¯è¯­æ³•é”™è¯¯ï¼Œå› ä¸ºå®ƒä»¬åœ¨è¯æ³•ä¸Šæ˜¯æ­£ç¡®çš„ã€‚åªä¸è¿‡ç”±äºæ²¡æœ‰GrammarErrorç±»å‹ï¼Œä¸€äº›æµè§ˆå™¨é€‰æ‹©ç”¨SyntaxErroræ¥ä»£æ›¿ã€‚</p></blockquote><h5 id="æå‰ä½¿ç”¨å˜é‡"><a href="#æå‰ä½¿ç”¨å˜é‡" class="headerlink" title="æå‰ä½¿ç”¨å˜é‡"></a>æå‰ä½¿ç”¨å˜é‡</h5><blockquote><p>ES6è§„èŒƒå®šä¹‰äº†ä¸€ä¸ªæ–°æ¦‚å¿µï¼Œå«ä½œTDZï¼ˆTemporal Dead Zoneï¼Œæš‚æ—¶æ€§æ­»åŒºï¼‰ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    a = <span class="number">2</span>;      <span class="comment">// ReferenceError!</span></span><br><span class="line">    <span class="keyword">let</span> a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>a = 2è¯•å›¾åœ¨let aåˆå§‹åŒ–aä¹‹å‰ä½¿ç”¨è¯¥å˜é‡ï¼ˆå…¶ä½œç”¨åŸŸåœ¨{ .. }å†…ï¼‰ï¼Œè¿™é‡Œå°±æ˜¯açš„TDZï¼Œä¼šäº§ç”Ÿé”™è¯¯ã€‚</p><p>æœ‰æ„æ€çš„æ˜¯ï¼Œå¯¹æœªå£°æ˜å˜é‡ä½¿ç”¨typeofä¸ä¼šäº§ç”Ÿé”™è¯¯ï¼Œä½†åœ¨TDZä¸­å´ä¼šæŠ¥é”™ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="keyword">typeof</span> a;   <span class="comment">// undefined</span></span><br><span class="line">    <span class="keyword">typeof</span> b;   <span class="comment">// ReferenceError! (TDZ)</span></span><br><span class="line">    <span class="keyword">let</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å‡½æ•°å‚æ•°"><a href="#å‡½æ•°å‚æ•°" class="headerlink" title="å‡½æ•°å‚æ•°"></a>å‡½æ•°å‚æ•°</h4><blockquote><p>å¦ä¸€ä¸ªTDZè¿è§„çš„ä¾‹å­æ˜¯ES6ä¸­çš„å‚æ•°é»˜è®¤å€¼</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"> a = <span class="number">42</span>, b = a + b + <span class="number">5</span> </span>) &#123;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>b = a + b + 5åœ¨å‚æ•°bï¼ˆ=å³è¾¹çš„bï¼Œè€Œä¸æ˜¯å‡½æ•°å¤–çš„é‚£ä¸ªï¼‰çš„TDZä¸­è®¿é—®bï¼Œæ‰€ä»¥ä¼šå‡ºé”™ã€‚è€Œè®¿é—®aå´æ²¡æœ‰é—®é¢˜ï¼Œå› ä¸ºæ­¤æ—¶åˆšå¥½è·¨å‡ºäº†å‚æ•°açš„TDZã€‚</p></blockquote><h4 id="try-finally"><a href="#try-finally" class="headerlink" title="try..finally"></a>try..finally</h4><blockquote><p>try..catchå¯¹æˆ‘ä»¬æ¥è¯´å¯èƒ½å·²ç»éå¸¸ç†Ÿæ‚‰äº†ã€‚ä½†ä½ æ˜¯å¦çŸ¥é“tryå¯ä»¥å’Œcatchæˆ–è€…finallyé…å¯¹ä½¿ç”¨ï¼Œå¹¶ä¸”å¿…è¦æ—¶ä¸¤è€…å¯åŒæ—¶å‡ºç°ï¼Ÿ</p></blockquote><p>åœ¨ä¸€ç§æƒ…å†µä¸‹éœ€è¦finally:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">              <span class="comment">// throw 42;</span></span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">finally</span> &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Hello&quot;</span> );</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;never runs&quot;</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title function_">foo</span>() );</span><br><span class="line"><span class="comment">// Hello</span></span><br><span class="line"><span class="comment">// 42</span></span><br></pre></td></tr></table></figure><p>å½“try è¯­å¥ç”¨æœ‰return æ—¶ï¼Œfinally ä¼šåœ¨return å‰æ‰§è¡Œã€‚ å½“tryä¸­ ä½¿ç”¨ throw æ—¶ä¹Ÿæ˜¯å¦‚æ­¤</p><p>å¦‚æœfinallyä¸­æŠ›å‡ºå¼‚å¸¸ï¼ˆæ— è®ºæ˜¯æœ‰æ„è¿˜æ˜¯æ— æ„ï¼‰ï¼Œå‡½æ•°å°±ä¼šåœ¨æ­¤å¤„ç»ˆæ­¢ã€‚å¦‚æœæ­¤å‰tryä¸­å·²ç»æœ‰returnè®¾ç½®äº†è¿”å›å€¼ï¼Œåˆ™è¯¥å€¼ä¼šè¢«ä¸¢å¼ƒï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">finally</span> &#123;</span><br><span class="line">              <span class="keyword">throw</span> <span class="string">&quot;Oops! &quot;</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;never runs&quot;</span> );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="title function_">foo</span>() );</span><br><span class="line"><span class="comment">// Uncaught Exception: Oops!</span></span><br></pre></td></tr></table></figure><p>continueå’Œbreakç­‰æ§åˆ¶è¯­å¥ä¹Ÿæ˜¯å¦‚æ­¤ï¼šfinally ä¸­è¯­å¥ä¼šåœ¨ å…³é”®å­—ä¹‹å‰æ‰§è¡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">finally</span> &#123;</span><br><span class="line">              <span class="variable language_">console</span>.<span class="title function_">log</span>( i );</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 0 1 2 3 4 5 6 7 8 9</span></span><br></pre></td></tr></table></figure><p>finallyä¸­çš„returnä¼šè¦†ç›–tryå’Œcatchä¸­returnçš„è¿”å›å€¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">finally</span> &#123;</span><br><span class="line">              <span class="comment">// æ²¡æœ‰è¿”å›è¯­å¥ï¼Œæ‰€ä»¥æ²¡æœ‰è¦†ç›–</span></span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">finally</span> &#123;</span><br><span class="line">              <span class="comment">// è¦†ç›–å‰é¢çš„return 42</span></span><br><span class="line">              <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">baz</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">finally</span> &#123;</span><br><span class="line">              <span class="comment">// è¦†ç›–å‰é¢çš„return 42</span></span><br><span class="line">              <span class="keyword">return</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">foo</span>();  <span class="comment">// 42</span></span><br><span class="line"><span class="title function_">bar</span>();  <span class="comment">// undefined</span></span><br><span class="line"><span class="title function_">baz</span>();  <span class="comment">// Hello</span></span><br></pre></td></tr></table></figure><blockquote><p>é€šå¸¸æ¥è¯´ï¼Œåœ¨å‡½æ•°ä¸­çœç•¥returnçš„ç»“æœå’Œreturnï¼›åŠreturn undefinedï¼›æ˜¯ä¸€æ ·çš„ï¼Œä½†æ˜¯åœ¨finallyä¸­çœç•¥returnåˆ™ä¼šè¿”å›å‰é¢çš„returnè®¾å®šçš„è¿”å›å€¼ã€‚</p></blockquote><h4 id="switch"><a href="#switch" class="headerlink" title="switch"></a>switch</h4><blockquote><p>å¯ä»¥æŠŠå®ƒçœ‹ä½œif..else if..else.ï¼çš„ç®€åŒ–ç‰ˆæœ¬ï¼šaä¸caseçš„å€¼æ‰§è¡Œä¸¥æ ¼ç›¸ç­‰ï¼ˆ===ï¼‰</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (a) &#123;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">              <span class="comment">// æ‰§è¡Œä¸€äº›ä»£ç </span></span><br><span class="line">              <span class="keyword">break</span>;</span><br><span class="line">      <span class="keyword">case</span> <span class="number">42</span>:</span><br><span class="line">              <span class="comment">// æ‰§è¡Œå¦å¤–ä¸€äº›ä»£ç </span></span><br><span class="line">              <span class="keyword">break</span>;</span><br><span class="line">      <span class="attr">default</span>:</span><br><span class="line">              <span class="comment">// æ‰§è¡Œç¼ºçœä»£ç </span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œaä¸caseè¡¨è¾¾å¼é€ä¸€è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœåŒ¹é…å°±æ‰§è¡Œè¯¥caseä¸­çš„ä»£ç ï¼Œç›´åˆ°breakæˆ–è€…switchä»£ç å—ç»“æŸã€‚</p></blockquote><h2 id="å¼‚æ­¥ç°åœ¨å’Œå°†æ¥"><a href="#å¼‚æ­¥ç°åœ¨å’Œå°†æ¥" class="headerlink" title="å¼‚æ­¥ç°åœ¨å’Œå°†æ¥"></a>å¼‚æ­¥ç°åœ¨å’Œå°†æ¥</h2><h3 id="å¼‚æ­¥å’Œæ€§èƒ½"><a href="#å¼‚æ­¥å’Œæ€§èƒ½" class="headerlink" title="å¼‚æ­¥å’Œæ€§èƒ½"></a>å¼‚æ­¥å’Œæ€§èƒ½</h3><h4 id="å¼‚æ­¥æ§åˆ¶å°"><a href="#å¼‚æ­¥æ§åˆ¶å°" class="headerlink" title="å¼‚æ­¥æ§åˆ¶å°"></a>å¼‚æ­¥æ§åˆ¶å°</h4><blockquote><p>å¹¶æ²¡æœ‰ä»€ä¹ˆè§„èŒƒæˆ–ä¸€ç»„éœ€æ±‚æŒ‡å®šconsole.ï¼Šæ–¹æ³•æ—å¦‚ä½•å·¥ä½œâ€”â€”å®ƒä»¬å¹¶ä¸æ˜¯JavaScriptæ­£å¼çš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯ç”±å®¿ä¸»ç¯å¢ƒæ·»åŠ åˆ°JavaScriptä¸­çš„ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = &#123;</span><br><span class="line">    <span class="attr">index</span>: <span class="number">1</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç„¶å</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( a ); <span class="comment">// ? ?</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å†ç„¶å</span></span><br><span class="line">a.<span class="property">index</span>++;</span><br></pre></td></tr></table></figure><p>æ­£å¸¸æƒ…å†µä¸‹ä¼šè¾“å‡º { index: 1}ï¼Œ ä½†å¦‚æœé‡åˆ°æ§åˆ¶å°I/Oå»¶è¿Ÿæƒ…å†µï¼Œå¯èƒ½ä¼šè¾“å‡º { index: 2}</p><h4 id="äº‹ä»¶å¾ªç¯"><a href="#äº‹ä»¶å¾ªç¯" class="headerlink" title="äº‹ä»¶å¾ªç¯"></a>äº‹ä»¶å¾ªç¯</h4><blockquote><p>ç°åœ¨æˆ‘ä»¬æ¥æ¾„æ¸…ä¸€ä»¶äº‹æƒ…ï¼ˆå¯èƒ½ä»¤äººéœ‡æƒŠï¼‰ï¼šå°½ç®¡ä½ æ˜¾ç„¶èƒ½å¤Ÿç¼–å†™å¼‚æ­¥JavaScriptä»£ç ï¼ˆå°±åƒå‰é¢æˆ‘ä»¬çœ‹åˆ°çš„å®šæ—¶ä»£ç ï¼‰ï¼Œä½†ç›´åˆ°æœ€è¿‘ï¼ˆES6ï¼‰, JavaScriptæ‰çœŸæ­£å†…å»ºæœ‰ç›´æ¥çš„å¼‚æ­¥æ¦‚å¿µã€‚</p><p>å®¿ä¸»ç¯å¢ƒï¼ˆæµè§ˆå™¨-jsï¼ŒæœåŠ¡å™¨-nodejsï¼‰æä¾›äº†ä¸€ç§æœºåˆ¶æ¥å¤„ç†ç¨‹åºä¸­å¤šä¸ªå—çš„æ‰§è¡Œï¼Œä¸”æ‰§è¡Œæ¯å—æ—¶è°ƒç”¨JavaScriptå¼•æ“ï¼Œè¿™ç§æœºåˆ¶è¢«ç§°ä¸ºäº‹ä»¶å¾ªç¯ã€‚</p><p>æ¢å¥è¯è¯´ï¼ŒJavaScriptå¼•æ“æœ¬èº«å¹¶æ²¡æœ‰æ—¶é—´çš„æ¦‚å¿µï¼Œåªæ˜¯ä¸€ä¸ªæŒ‰éœ€æ‰§è¡ŒJavaScriptä»»æ„ä»£ç ç‰‡æ®µçš„ç¯å¢ƒã€‚â€œäº‹ä»¶â€ï¼ˆJavaScriptä»£ç æ‰§è¡Œï¼‰è°ƒåº¦æ€»æ˜¯ç”±åŒ…å«å®ƒçš„ç¯å¢ƒè¿›è¡Œã€‚</p></blockquote><p>é€šè¿‡ä¼ªä»£ç äº†è§£è¿™ä¸ªæ¦‚å¿µï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// eventLoopæ˜¯ä¸€ä¸ªç”¨ä½œé˜Ÿåˆ—çš„æ•°ç»„</span></span><br><span class="line"><span class="comment">//ï¼ˆå…ˆè¿›ï¼Œå…ˆå‡ºï¼‰</span></span><br><span class="line"><span class="keyword">var</span> eventLoop = [ ];</span><br><span class="line"><span class="keyword">var</span> event;</span><br><span class="line"></span><br><span class="line"><span class="comment">// â€œæ°¸è¿œâ€æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">    <span class="comment">// ä¸€æ¬¡tick</span></span><br><span class="line">    <span class="keyword">if</span> (eventLoop.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          <span class="comment">// æ‹¿åˆ°é˜Ÿåˆ—ä¸­çš„ä¸‹ä¸€ä¸ªäº‹ä»¶</span></span><br><span class="line">          event = eventLoop.<span class="title function_">shift</span>();</span><br><span class="line"></span><br><span class="line">          <span class="comment">// ç°åœ¨ï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªäº‹ä»¶</span></span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">              <span class="title function_">event</span>();</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">              <span class="title function_">reportError</span>(err);</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æœ‰ä¸€ä¸ªç”¨whileå¾ªç¯å®ç°çš„æŒç»­è¿è¡Œçš„å¾ªç¯ï¼Œå¾ªç¯çš„æ¯ä¸€è½®ç§°ä¸ºä¸€ä¸ªtickã€‚å¯¹æ¯ä¸ªtickè€Œè¨€ï¼Œå¦‚æœåœ¨é˜Ÿåˆ—ä¸­æœ‰ç­‰å¾…äº‹ä»¶ï¼Œé‚£ä¹ˆå°±ä¼šä»é˜Ÿåˆ—ä¸­æ‘˜ä¸‹ä¸€ä¸ªäº‹ä»¶å¹¶æ‰§è¡Œã€‚è¿™äº›äº‹ä»¶å°±æ˜¯ä½ çš„å›è°ƒå‡½æ•°ã€‚</p><p>è¦ææ¸…æ¥šçš„æ˜¯ï¼ŒsetTimeout(..)å¹¶æ²¡æœ‰æŠŠä½ çš„å›è°ƒå‡½æ•°æŒ‚åœ¨äº‹ä»¶å¾ªç¯é˜Ÿåˆ—ä¸­ã€‚å®ƒæ‰€åšçš„æ˜¯è®¾å®šä¸€ä¸ªå®šæ—¶å™¨ã€‚å½“å®šæ—¶å™¨åˆ°æ—¶åï¼Œç¯å¢ƒä¼šæŠŠä½ çš„å›è°ƒå‡½æ•°æ”¾åœ¨äº‹ä»¶å¾ªç¯ä¸­ï¼Œè¿™æ ·ï¼Œåœ¨æœªæ¥æŸä¸ªæ—¶åˆ»çš„tickä¼šæ‘˜ä¸‹å¹¶æ‰§è¡Œè¿™ä¸ªå›è°ƒã€‚</p><p>å¦‚æœè¿™æ—¶å€™äº‹ä»¶å¾ªç¯ä¸­å·²ç»æœ‰20ä¸ªé¡¹ç›®äº†ä¼šæ€æ ·å‘¢ï¼Ÿä½ çš„å›è°ƒå°±ä¼šç­‰å¾…ã€‚å®ƒå¾—æ’åœ¨å…¶ä»–é¡¹ç›®åé¢â€”â€”é€šå¸¸æ²¡æœ‰æŠ¢å å¼çš„æ–¹å¼æ”¯æŒç›´æ¥å°†å…¶æ’åˆ°é˜Ÿé¦–ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºå•¥è¯´setTimeout()å®šæ—¶å™¨ç²¾åº¦ä¸é«˜çš„åŸå› äº†</p><p>ç°åœ¨ES6ç²¾ç¡®æŒ‡å®šäº†äº‹ä»¶å¾ªç¯çš„å·¥ä½œç»†èŠ‚ï¼Œè¿™æ„å‘³ç€åœ¨æŠ€æœ¯ä¸Šå°†å…¶çº³å…¥äº†JavaScriptå¼•æ“çš„åŠ¿åŠ›èŒƒå›´ï¼Œè€Œä¸æ˜¯åªç”±å®¿ä¸»ç¯å¢ƒæ¥ç®¡ç†ã€‚è¿™ä¸ªæ”¹å˜çš„ä¸€ä¸ªä¸»è¦åŸå› æ˜¯ES6ä¸­Promiseçš„å¼•å…¥ï¼Œå› ä¸ºè¿™é¡¹æŠ€æœ¯è¦æ±‚å¯¹äº‹ä»¶å¾ªç¯é˜Ÿåˆ—çš„è°ƒåº¦è¿è¡Œèƒ½å¤Ÿç›´æ¥è¿›è¡Œç²¾ç»†æ§åˆ¶</p></blockquote><h4 id="å¹¶è¡Œçº¿ç¨‹"><a href="#å¹¶è¡Œçº¿ç¨‹" class="headerlink" title="å¹¶è¡Œçº¿ç¨‹"></a>å¹¶è¡Œçº¿ç¨‹</h4><blockquote><p>æœ¯è¯­â€œå¼‚æ­¥â€å’Œâ€œå¹¶è¡Œâ€å¸¸å¸¸è¢«æ··ä¸ºä¸€è°ˆï¼Œä½†å®é™…ä¸Šå®ƒä»¬çš„æ„ä¹‰å®Œå…¨ä¸åŒã€‚è®°ä½ï¼Œ<strong>å¼‚æ­¥æ˜¯å…³äºç°åœ¨å’Œå°†æ¥çš„æ—¶é—´é—´éš™ï¼Œè€Œå¹¶è¡Œæ˜¯å…³äºèƒ½å¤ŸåŒæ—¶å‘ç”Ÿçš„äº‹æƒ…ã€‚</strong></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    a = a + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params"></span>) &#123;</span><br><span class="line">    a = a * <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ajax(..)æ˜¯æŸä¸ªåº“ä¸­æä¾›çš„æŸä¸ªAjaxå‡½æ•°</span></span><br><span class="line"><span class="title function_">ajax</span>( <span class="string">&quot;http://some.url.1&quot;</span>, foo );</span><br><span class="line"><span class="title function_">ajax</span>( <span class="string">&quot;http://some.url.2&quot;</span>, bar );</span><br></pre></td></tr></table></figure><p>æ ¹æ® foo,bar çš„æ‰§è¡Œé¡ºåºä¸åŒå¯èƒ½å¾—åˆ°ä¸ä¸€æ ·çš„ç»“æœa(2/40), ä½†å¦‚æœ foo,bar åŒæ—¶è¿è¡Œï¼Ÿä¸¤ä¸ªæ“ä½œå…±äº«açš„å†…å­˜åœ°å€ï¼Œè¿™æ˜¯å¾ˆå¤æ‚çš„æ“ä½œï¼Œå¥½åœ¨jsæ˜¯å•çº¿ç¨‹ä¸éœ€è¦è€ƒè™‘è¿™ä¸ªé—®é¢˜</p><h4 id="å®Œæ•´è¿è¡Œ"><a href="#å®Œæ•´è¿è¡Œ" class="headerlink" title="å®Œæ•´è¿è¡Œ"></a>å®Œæ•´è¿è¡Œ</h4><blockquote><p>ç”±äºJavaScriptçš„å•çº¿ç¨‹ç‰¹æ€§ï¼Œfoo()ï¼ˆä»¥åŠbar()ï¼‰ä¸­çš„ä»£ç å…·æœ‰åŸå­æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€æ—¦foo()å¼€å§‹è¿è¡Œï¼Œå®ƒçš„æ‰€æœ‰ä»£ç éƒ½ä¼šåœ¨bar()ä¸­çš„ä»»æ„ä»£ç è¿è¡Œä¹‹å‰å®Œæˆï¼Œæˆ–è€…ç›¸åã€‚è¿™ç§°ä¸ºå®Œæ•´è¿è¡Œï¼ˆrun-to-completionï¼‰ç‰¹æ€§ã€‚</p></blockquote><p>foo,barä¸­çš„å†…å®¹è¶Šé•¿ï¼Œå…¶è¿è¡Œçš„ä¸ç¡®å®šæ€§å°±è¶Šå¤šï¼Œä½†æ˜¯å…¶ç¡®å®šæ€§è‚¯å®šæ¯”å¤šçº¿ç¨‹è¦é«˜</p><h4 id="å¹¶å‘"><a href="#å¹¶å‘" class="headerlink" title="å¹¶å‘"></a>å¹¶å‘</h4><blockquote><p>ç°åœ¨è®©æˆ‘ä»¬æ¥è®¾æƒ³ä¸€ä¸ªå±•ç¤ºçŠ¶æ€æ›´æ–°åˆ—è¡¨ï¼ˆæ¯”å¦‚ç¤¾äº¤ç½‘ç»œæ–°é—»ç§å­ï¼‰çš„ç½‘ç«™ï¼Œå…¶éšç€ç”¨æˆ·å‘ä¸‹æ»šåŠ¨åˆ—è¡¨è€Œé€æ¸åŠ è½½æ›´å¤šå†…å®¹ã€‚è¦æ­£ç¡®åœ°å®ç°è¿™ä¸€ç‰¹æ€§ï¼Œéœ€è¦ï¼ˆè‡³å°‘ï¼‰ä¸¤ä¸ªç‹¬ç«‹çš„â€œ<strong>è¿›ç¨‹</strong>â€åŒæ—¶è¿è¡Œï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œæ˜¯åœ¨åŒä¸€æ®µæ—¶é—´å†…ï¼Œå¹¶ä¸éœ€è¦åœ¨åŒä¸€æ—¶åˆ»ï¼‰ã€‚</p><p>ã€â€œè¿›ç¨‹â€ã€‘è¿™æ˜¯è™šæ‹Ÿè¿›ç¨‹ï¼Œå¹¶éçœŸæ­£æ„ä¹‰ä¸Šçš„æ“ä½œç³»ç»Ÿè¿›ç¨‹ã€‚ä¹‹æ‰€ä»¥ä½¿ç”¨â€œè¿›ç¨‹â€è€Œä¸æ˜¯â€œä»»åŠ¡â€ï¼Œæ˜¯å› ä¸ºä»æ¦‚å¿µä¸Šæ¥è®²ï¼Œâ€œè¿›ç¨‹â€çš„å®šä¹‰æ›´ç¬¦åˆè¿™é‡Œæˆ‘ä»¬ä½¿ç”¨çš„æ„ä¹‰ã€‚</p></blockquote><ul><li><p>ç¬¬ä¸€ä¸ªâ€œè¿›ç¨‹â€åœ¨ç”¨æˆ·å‘ä¸‹æ»šåŠ¨é¡µé¢è§¦å‘onscrolläº‹ä»¶æ—¶å“åº”è¿™äº›äº‹ä»¶ï¼ˆå‘èµ·Ajaxè¯·æ±‚è¦æ±‚æ–°çš„å†…å®¹ï¼‰ã€‚</p></li><li><p>ç¬¬äºŒä¸ªâ€œè¿›ç¨‹â€æ¥æ”¶Ajaxå“åº”ï¼ˆæŠŠå†…å®¹å±•ç¤ºåˆ°é¡µé¢ï¼‰ã€‚</p></li></ul><p>å¦‚æœç”¨æˆ·æ»šåŠ¨å¤Ÿå¿«çš„è¯ï¼Œå¯èƒ½ä¼šæœ‰ä¸¤ä¸ªæˆ–è€…æ›´å¤šäº‹ä»¶è¢«è§¦å‘ã€‚ä¸¤ä¸ªæˆ–å¤šä¸ªâ€œè¿›ç¨‹â€åŒæ—¶æ‰§è¡Œå°±å‡ºç°äº†å¹¶å‘</p><p>ä¸‹é¢åˆ—å‡ºäº†äº‹ä»¶å¾ªç¯é˜Ÿåˆ—ä¸­æ‰€æœ‰è¿™äº›äº¤æ›¿äº‹ä»¶ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">onscroll, è¯·æ±‚1       &lt;--- è¿›ç¨‹1å¯åŠ¨</span><br><span class="line">onscroll, è¯·æ±‚2</span><br><span class="line">å“åº”1                 &lt;--- è¿›ç¨‹2å¯åŠ¨</span><br><span class="line">onscroll, è¯·æ±‚3</span><br><span class="line">å“åº”2</span><br><span class="line">å“åº”3</span><br><span class="line">onscroll, è¯·æ±‚4</span><br><span class="line">onscroll, è¯·æ±‚5</span><br><span class="line">onscroll, è¯·æ±‚6</span><br><span class="line">å“åº”4</span><br><span class="line">onscroll, è¯·æ±‚7       &lt;--- è¿›ç¨‹1ç»“æŸ</span><br><span class="line">å“åº”6</span><br><span class="line">å“åº”5</span><br><span class="line">å“åº”7                 &lt;--- è¿›ç¨‹2ç»“æŸ</span><br></pre></td></tr></table></figure><p>å•çº¿ç¨‹äº‹ä»¶å¾ªç¯æ˜¯å¹¶å‘çš„ä¸€ç§å½¢å¼</p><h5 id="éäº¤äº’"><a href="#éäº¤äº’" class="headerlink" title="éäº¤äº’"></a>éäº¤äº’</h5><blockquote><p>ä¸¤ä¸ªæˆ–å¤šä¸ªâ€œè¿›ç¨‹â€åœ¨åŒä¸€ä¸ªç¨‹åºå†…å¹¶å‘åœ°äº¤æ›¿è¿è¡Œå®ƒä»¬çš„æ­¥éª¤/äº‹ä»¶æ—¶ï¼Œå¦‚æœè¿™äº›ä»»åŠ¡å½¼æ­¤ä¸ç›¸å…³ï¼Œå°±ä¸ä¸€å®šéœ€è¦äº¤äº’ã€‚å¦‚æœè¿›ç¨‹é—´æ²¡æœ‰ç›¸äº’å½±å“çš„è¯ï¼Œä¸ç¡®å®šæ€§æ˜¯å®Œå…¨å¯ä»¥æ¥å—çš„ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> res = &#123;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">results</span>) &#123;</span><br><span class="line">    res.<span class="property">foo</span> = results;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params">results</span>) &#123;</span><br><span class="line">    res.<span class="property">bar</span> = results;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ajax(..)æ˜¯æŸä¸ªåº“æä¾›çš„æŸä¸ªAjaxå‡½æ•°</span></span><br><span class="line"><span class="title function_">ajax</span>( <span class="string">&quot;http://some.url.1&quot;</span>, foo );</span><br><span class="line"><span class="title function_">ajax</span>( <span class="string">&quot;http://some.url.2&quot;</span>, bar );</span><br></pre></td></tr></table></figure><h5 id="äº¤äº’"><a href="#äº¤äº’" class="headerlink" title="äº¤äº’"></a>äº¤äº’</h5><blockquote><p>æ›´å¸¸è§çš„æƒ…å†µæ˜¯ï¼Œå¹¶å‘çš„â€œè¿›ç¨‹â€éœ€è¦ç›¸äº’äº¤æµï¼Œé€šè¿‡ä½œç”¨åŸŸæˆ–DOMé—´æ¥äº¤äº’ã€‚æ­£å¦‚å‰é¢ä»‹ç»çš„ï¼Œå¦‚æœå‡ºç°è¿™æ ·çš„äº¤äº’ï¼Œå°±éœ€è¦å¯¹å®ƒä»¬çš„äº¤äº’è¿›è¡Œåè°ƒä»¥é¿å…ç«æ€çš„å‡ºç°ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> res = [];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">response</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (data.<span class="property">url</span> == <span class="string">&quot;http://some.url.1&quot;</span>) &#123;</span><br><span class="line">      res[<span class="number">0</span>] = data;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (data.<span class="property">url</span> == <span class="string">&quot;http://some.url.2&quot;</span>) &#123;</span><br><span class="line">      res[<span class="number">1</span>] = data;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ajax(..)æ˜¯æŸä¸ªåº“ä¸­æä¾›çš„æŸä¸ªAjaxå‡½æ•°</span></span><br><span class="line"><span class="title function_">ajax</span>( <span class="string">&quot;http://some.url.1&quot;</span>, response );</span><br><span class="line"><span class="title function_">ajax</span>( <span class="string">&quot;http://some.url.2&quot;</span>, response );</span><br></pre></td></tr></table></figure><h5 id="åä½œ"><a href="#åä½œ" class="headerlink" title="åä½œ"></a>åä½œ</h5><blockquote><p>è¿˜æœ‰ä¸€ç§å¹¶å‘åˆä½œæ–¹å¼ï¼Œç§°ä¸ºå¹¶å‘åä½œï¼ˆcooperative concurrencyï¼‰ã€‚è¿™é‡Œçš„é‡ç‚¹ä¸å†æ˜¯é€šè¿‡å…±äº«ä½œç”¨åŸŸä¸­çš„å€¼è¿›è¡Œäº¤äº’ï¼ˆå°½ç®¡æ˜¾ç„¶è¿™ä¹Ÿæ˜¯å…è®¸çš„ï¼ï¼‰ã€‚è¿™é‡Œçš„ç›®æ ‡æ˜¯å–åˆ°ä¸€ä¸ªé•¿æœŸè¿è¡Œçš„â€œè¿›ç¨‹â€ï¼Œå¹¶å°†å…¶åˆ†å‰²æˆå¤šä¸ªæ­¥éª¤æˆ–å¤šæ‰¹ä»»åŠ¡ï¼Œä½¿å¾—å…¶ä»–å¹¶å‘â€œè¿›ç¨‹â€æœ‰æœºä¼šå°†è‡ªå·±çš„è¿ç®—æ’å…¥åˆ°äº‹ä»¶å¾ªç¯é˜Ÿåˆ—ä¸­äº¤æ›¿è¿è¡Œã€‚</p></blockquote><p>ä¸¾ä¾‹æ¥è¯´ï¼Œè€ƒè™‘ä¸€ä¸ªéœ€è¦éå†å¾ˆé•¿çš„ç»“æœåˆ—è¡¨è¿›è¡Œå€¼è½¬æ¢çš„Ajaxå“åº”å¤„ç†å‡½æ•°ã€‚æˆ‘ä»¬ä¼šä½¿ç”¨Array#map(..)è®©ä»£ç æ›´ç®€æ´ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> res = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// response(..)ä»Ajaxè°ƒç”¨ä¸­å–å¾—ç»“æœæ•°ç»„</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">response</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// æ·»åŠ åˆ°å·²æœ‰çš„resæ•°ç»„</span></span><br><span class="line">    res = res.<span class="title function_">concat</span>(</span><br><span class="line">      <span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„å˜æ¢æ•°ç»„æŠŠæ‰€æœ‰dataå€¼åŠ å€</span></span><br><span class="line">      data.<span class="title function_">map</span>( <span class="keyword">function</span>(<span class="params">val</span>)&#123;</span><br><span class="line">          <span class="keyword">return</span> val * <span class="number">2</span>;</span><br><span class="line">      &#125; )</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ajax(..)æ˜¯æŸä¸ªåº“ä¸­æä¾›çš„æŸä¸ªAjaxå‡½æ•°</span></span><br><span class="line"><span class="title function_">ajax</span>( <span class="string">&quot;http://some.url.1&quot;</span>, response );</span><br><span class="line"><span class="title function_">ajax</span>( <span class="string">&quot;http://some.url.2&quot;</span>, response );</span><br></pre></td></tr></table></figure><p>ç„¶è€Œæ•°æ®é‡å¤šçš„è¯ï¼Œæ¯”å¦‚1000ä¸‡æ¡</p><p>æ‰€ä»¥ï¼Œè¦åˆ›å»ºä¸€ä¸ªåä½œæ€§æ›´å¼ºæ›´å‹å¥½ä¸”ä¸ä¼šéœ¸å äº‹ä»¶å¾ªç¯é˜Ÿåˆ—çš„å¹¶å‘ç³»ç»Ÿï¼Œä½ å¯ä»¥å¼‚æ­¥åœ°æ‰¹å¤„ç†è¿™äº›ç»“æœ ã€‚æ¯æ¬¡å¤„ç†ä¹‹åè¿”å›äº‹ä»¶å¾ªç¯ï¼Œè®©å…¶ä»–ç­‰å¾…äº‹ä»¶æœ‰æœºä¼šè¿è¡Œã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> res = [];</span><br><span class="line"></span><br><span class="line"><span class="comment">// response(..)ä»Ajaxè°ƒç”¨ä¸­å–å¾—ç»“æœæ•°ç»„</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">response</span>(<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="comment">// ä¸€æ¬¡å¤„ç†1000ä¸ª</span></span><br><span class="line">    <span class="keyword">var</span> chunk = data.<span class="title function_">splice</span>( <span class="number">0</span>, <span class="number">1000</span> );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ·»åŠ åˆ°å·²æœ‰çš„resç»„</span></span><br><span class="line">    res = res.<span class="title function_">concat</span>(</span><br><span class="line">      <span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„æŠŠchunkä¸­æ‰€æœ‰å€¼åŠ å€</span></span><br><span class="line">      chunk.<span class="title function_">map</span>( <span class="keyword">function</span>(<span class="params">val</span>)&#123;</span><br><span class="line">          <span class="keyword">return</span> val * <span class="number">2</span>;</span><br><span class="line">      &#125; )</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿˜æœ‰å‰©ä¸‹çš„éœ€è¦å¤„ç†å—ï¼Ÿ</span></span><br><span class="line">    <span class="keyword">if</span> (data.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="comment">// å¼‚æ­¥è°ƒåº¦ä¸‹ä¸€æ¬¡æ‰¹å¤„ç†</span></span><br><span class="line">      <span class="built_in">setTimeout</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">          <span class="title function_">response</span>( data );</span><br><span class="line">      &#125;, <span class="number">0</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ajax(..)æ˜¯æŸä¸ªåº“ä¸­æä¾›çš„æŸä¸ªAjaxå‡½æ•°</span></span><br><span class="line"><span class="title function_">ajax</span>( <span class="string">&quot;http://some.url.1&quot;</span>, response );</span><br><span class="line"><span class="title function_">ajax</span>( <span class="string">&quot;http://some.url.2&quot;</span>, response );</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨setTimeout(..0)ï¼ˆhackï¼‰è¿›è¡Œå¼‚æ­¥è°ƒåº¦ï¼ŒåŸºæœ¬ä¸Šå®ƒçš„æ„æ€å°±æ˜¯â€œæŠŠè¿™ä¸ªå‡½æ•°æ’å…¥åˆ°å½“å‰äº‹ä»¶å¾ªç¯é˜Ÿåˆ—çš„ç»“å°¾å¤„â€ã€‚</p><h4 id="ä»»åŠ¡"><a href="#ä»»åŠ¡" class="headerlink" title="ä»»åŠ¡"></a>ä»»åŠ¡</h4><blockquote><p>åœ¨ES6ä¸­ï¼Œæœ‰ä¸€ä¸ªæ–°çš„æ¦‚å¿µå»ºç«‹åœ¨äº‹ä»¶å¾ªç¯é˜Ÿåˆ—ä¹‹ä¸Šï¼Œå«ä½œä»»åŠ¡é˜Ÿåˆ—ï¼ˆjob queueï¼‰ã€‚è¿™ä¸ªæ¦‚å¿µç»™å¤§å®¶å¸¦æ¥çš„æœ€å¤§å½±å“å¯èƒ½æ˜¯Promiseçš„å¼‚æ­¥ç‰¹æ€§\</p><p>é—æ†¾çš„æ˜¯ï¼Œç›®å‰ä¸ºæ­¢ï¼Œè¿™æ˜¯ä¸€ä¸ªæ²¡æœ‰å…¬å¼€APIçš„æœºåˆ¶ï¼Œå› æ­¤è¦å±•ç¤ºæ¸…æ¥šæœ‰äº›å›°éš¾ã€‚æ‰€ä»¥æˆ‘ä»¬ç›®å‰åªä»æ¦‚å¿µä¸Šè¿›è¡Œæè¿°</p></blockquote><p>è®¾æƒ³ä¸€ä¸ªè°ƒåº¦ä»»åŠ¡ï¼ˆç›´æ¥åœ°ï¼Œä¸è¦hackï¼‰çš„APIï¼Œç§°å…¶ä¸ºschedule(..)ã€‚è€ƒè™‘ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;A&quot;</span> );</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;B&quot;</span> );</span><br><span class="line">&#125;, <span class="number">0</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç†è®ºä¸Šçš„&quot;ä»»åŠ¡API&quot;</span></span><br><span class="line"><span class="title function_">schedule</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;C&quot;</span> );</span><br><span class="line"></span><br><span class="line">    <span class="title function_">schedule</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;D&quot;</span> );</span><br><span class="line">    &#125; );</span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><p>å¯èƒ½ä½ è®¤ä¸ºè¿™é‡Œä¼šæ‰“å°å‡ºA B C Dï¼Œä½†å®é™…æ‰“å°çš„ç»“æœæ˜¯A C D Bã€‚å› ä¸ºä»»åŠ¡å¤„ç†æ˜¯åœ¨å½“å‰äº‹ä»¶å¾ªç¯tickç»“å°¾å¤„ï¼Œè€Œå®šæ—¶å™¨è§¦å‘æ˜¯ä¸ºäº†è°ƒåº¦ä¸‹ä¸€ä¸ªäº‹ä»¶å¾ªç¯tickï¼ˆå¦‚æœå¯ç”¨çš„è¯ï¼ï¼‰ã€‚</p><h4 id="è¯­å¥é¡ºåº"><a href="#è¯­å¥é¡ºåº" class="headerlink" title="è¯­å¥é¡ºåº"></a>è¯­å¥é¡ºåº</h4><blockquote><p>ä»£ç ä¸­è¯­å¥çš„é¡ºåºå’ŒJavaScriptå¼•æ“æ‰§è¡Œè¯­å¥çš„é¡ºåºå¹¶ä¸ä¸€å®šè¦ä¸€è‡´ã€‚</p></blockquote><p>ç¼–å†™çš„ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a, b;</span><br><span class="line"></span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line">b = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line">a = a + <span class="number">1</span>;</span><br><span class="line">b = b + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( a + b ); <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><p>jså¼•æ“å¯èƒ½ä¼šå‘ç°ï¼Œå…¶å®è¿™æ ·æ‰§è¡Œä¼šæ›´å¿«ï¼šé‡æ’ä»£ç </p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a, b;</span><br><span class="line"></span><br><span class="line">a = <span class="number">11</span>;</span><br><span class="line">b = <span class="number">31</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( a + b ); <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><p>æˆ–è€…ç”šè‡³è¿™æ ·ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å› ä¸ºaå’Œbä¸ä¼šè¢«å†æ¬¡ä½¿ç”¨</span></span><br><span class="line"><span class="comment">// æˆ‘ä»¬å¯ä»¥inlineï¼Œä»è€Œå®Œå…¨ä¸éœ€è¦å®ƒä»¬ï¼</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="number">42</span> ); <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿™é‡Œæœ‰ä¸€ç§åœºæ™¯ï¼Œå…¶ä¸­ç‰¹å®šçš„ä¼˜åŒ–æ˜¯ä¸å®‰å…¨çš„ï¼Œå› æ­¤ä¹Ÿæ˜¯ä¸å…è®¸çš„:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a, b;</span><br><span class="line"></span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line">b = <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ‘ä»¬éœ€è¦aå’Œbå¤„äºé€’å¢ä¹‹å‰çš„çŠ¶æ€ï¼</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( a * b ); <span class="comment">// 300</span></span><br><span class="line"></span><br><span class="line">a = a + <span class="number">1</span>;</span><br><span class="line">b = b + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( a + b ); <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><p>è¿˜æœ‰å…¶ä»–ä¸€äº›ä¾‹å­ï¼Œå…¶ä¸­ç¼–è¯‘å™¨é‡æ–°æ’åºä¼šäº§ç”Ÿå¯è§çš„å‰¯ä½œç”¨ï¼Œæ¯”å¦‚ä¼šäº§ç”Ÿå‰¯ä½œç”¨çš„å‡½æ•°è°ƒç”¨ï¼ˆç‰¹åˆ«æ˜¯getterå‡½æ•°ï¼‰ï¼Œæˆ–ES6ä»£ç†å¯¹è±¡</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( b );</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a, b, c;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ES5.1 getterå­—é¢é‡è¯­æ³•</span></span><br><span class="line">c = &#123;</span><br><span class="line">    <span class="keyword">get</span> <span class="title function_">bar</span>() &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( a );</span><br><span class="line">      <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line">b = <span class="number">30</span>;</span><br><span class="line">a += <span class="title function_">foo</span>();              <span class="comment">// 30</span></span><br><span class="line">b += c.<span class="property">bar</span>;              <span class="comment">// 11</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( a + b );    <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><p>å¦‚æœä¸æ˜¯ä»£ç ç‰‡æ®µä¸­çš„è¯­å¥ console.log(),jså¼•æ“æœ¬æ¥å¯ä»¥æŠŠä»£ç é‡æ–°æ’åºå¦‚ä¸‹ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">a = <span class="number">10</span> + <span class="title function_">foo</span>();</span><br><span class="line">b = <span class="number">30</span> + c.<span class="property">bar</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure><p>å°½ç®¡JavaScriptè¯­ä¹‰è®©æˆ‘ä»¬ä¸ä¼šè§åˆ°ç¼–è¯‘å™¨è¯­å¥é‡æ’åºå¯èƒ½å¯¼è‡´çš„å™©æ¢¦ï¼Œè¿™æ˜¯ä¸€ç§å¹¸è¿ï¼Œä½†æ˜¯ä»£ç ç¼–å†™çš„æ–¹å¼ï¼ˆä»ä¸Šåˆ°ä¸‹çš„æ¨¡å¼ï¼‰å’Œç¼–è¯‘åæ‰§è¡Œçš„æ–¹å¼ä¹‹é—´çš„è”ç³»éå¸¸è„†å¼±ï¼Œç†è§£è¿™ä¸€ç‚¹ä¹Ÿéå¸¸é‡è¦ã€‚</p><h3 id="å›è°ƒ"><a href="#å›è°ƒ" class="headerlink" title="å›è°ƒ"></a>å›è°ƒ</h3><blockquote><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œå›è°ƒæ˜¯ç¼–å†™å’Œå¤„ç†JavaScriptç¨‹åºå¼‚æ­¥é€»è¾‘çš„æœ€å¸¸ç”¨æ–¹å¼ã€‚ç¡®å®ï¼Œå›è°ƒæ˜¯è¿™é—¨è¯­è¨€ä¸­æœ€åŸºç¡€çš„å¼‚æ­¥æ¨¡å¼ã€‚</p></blockquote><h4 id="continuation"><a href="#continuation" class="headerlink" title="continuation"></a>continuation</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A</span></span><br><span class="line"><span class="title function_">ajax</span>( <span class="string">&quot;..&quot;</span>, <span class="keyword">function</span>(<span class="params">..</span>)&#123;</span><br><span class="line">    <span class="comment">// C</span></span><br><span class="line">&#125; );</span><br><span class="line"><span class="comment">// B</span></span><br></pre></td></tr></table></figure><p>// Aå’Œ// Bè¡¨ç¤ºç¨‹åºçš„å‰åŠéƒ¨åˆ†ï¼ˆä¹Ÿå°±æ˜¯ç°åœ¨çš„éƒ¨åˆ†ï¼‰ï¼Œè€Œ// Cæ ‡è¯†äº†ç¨‹åºçš„ååŠéƒ¨åˆ†ï¼ˆä¹Ÿå°±æ˜¯å°†æ¥çš„éƒ¨åˆ†ï¼‰ã€‚å‰åŠéƒ¨åˆ†ç«‹åˆ»æ‰§è¡Œï¼Œç„¶åæ˜¯ä¸€æ®µæ—¶é—´ä¸ç¡®å®šçš„åœé¡¿ã€‚åœ¨æœªæ¥çš„æŸä¸ªæ—¶åˆ»ï¼Œå¦‚æœAjaxè°ƒç”¨å®Œæˆï¼Œç¨‹åºå°±ä¼šä»åœä¸‹çš„ä½ç½®ç»§ç»­æ‰§è¡ŒååŠéƒ¨åˆ†ã€‚</p><p>æ¢å¥è¯è¯´ï¼Œå›è°ƒå‡½æ•°åŒ…è£¹æˆ–è€…è¯´å°è£…äº†ç¨‹åºçš„å»¶ç»­ï¼ˆcontinuationï¼‰ã€‚</p><p>ç®€åŒ–ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// A</span></span><br><span class="line"><span class="built_in">setTimeout</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// C</span></span><br><span class="line">&#125;, <span class="number">1000</span> );</span><br><span class="line"><span class="comment">// B</span></span><br></pre></td></tr></table></figure><h4 id="åµŒå¥—å›è°ƒä¸é“¾å¼å›è°ƒ"><a href="#åµŒå¥—å›è°ƒä¸é“¾å¼å›è°ƒ" class="headerlink" title="åµŒå¥—å›è°ƒä¸é“¾å¼å›è°ƒ"></a>åµŒå¥—å›è°ƒä¸é“¾å¼å›è°ƒ</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">listen</span>( <span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> <span class="title function_">handler</span>(<span class="params">evt</span>)&#123;</span><br><span class="line">    <span class="built_in">setTimeout</span>( <span class="keyword">function</span> <span class="title function_">request</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="title function_">ajax</span>( <span class="string">&quot;http://some.url.1&quot;</span>, <span class="keyword">function</span> <span class="title function_">response</span>(<span class="params">text</span>)&#123;</span><br><span class="line">          <span class="keyword">if</span> (text == <span class="string">&quot;hello&quot;</span>) &#123;</span><br><span class="line">              <span class="title function_">handler</span>();</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">else</span> <span class="keyword">if</span> (text == <span class="string">&quot;world&quot;</span>) &#123;</span><br><span class="line">              <span class="title function_">request</span>();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125; );</span><br><span class="line">    &#125;, <span class="number">500</span>) ;</span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><p>ä½ å¾ˆå¯èƒ½éå¸¸ç†Ÿæ‚‰è¿™æ ·çš„ä»£ç ã€‚è¿™é‡Œæˆ‘ä»¬å¾—åˆ°äº†ä¸‰ä¸ªå‡½æ•°åµŒå¥—åœ¨ä¸€èµ·æ„æˆçš„é“¾ï¼Œå…¶ä¸­æ¯ä¸ªå‡½æ•°ä»£è¡¨å¼‚æ­¥åºåˆ—ï¼ˆä»»åŠ¡ï¼Œâ€œè¿›ç¨‹â€ï¼‰ä¸­çš„ä¸€ä¸ªæ­¥éª¤ã€‚</p><p>è¿™ç§ä»£ç å¸¸å¸¸è¢«ç§°ä¸º<strong>å›è°ƒåœ°ç‹±</strong>ï¼ˆcallback hellï¼‰</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">doA</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="title function_">doB</span>();</span><br><span class="line">    <span class="title function_">doC</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="title function_">doD</span>();</span><br><span class="line">    &#125; )</span><br><span class="line"></span><br><span class="line">    <span class="title function_">doE</span>();</span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line"><span class="title function_">doF</span>();</span><br></pre></td></tr></table></figure><p>ä½ ç¬¬ä¸€çœ¼çœ‹åˆ°å‰é¢è¿™æ®µä»£ç å°±åˆ†æå‡ºæ­£ç¡®çš„é¡ºåºäº†å—ï¼Ÿ</p><h4 id="ä¿¡ä»»é—®é¢˜"><a href="#ä¿¡ä»»é—®é¢˜" class="headerlink" title="ä¿¡ä»»é—®é¢˜"></a>ä¿¡ä»»é—®é¢˜</h4><p>å‡è®¾ä½ æ˜¯ä¸€åå¼€å‘äººå‘˜ï¼Œä¸ºæŸä¸ªé”€å”®æ˜‚è´µç”µè§†çš„ç½‘ç«™å»ºç«‹å•†åŠ¡ç»“è´¦ç³»ç»Ÿã€‚ä½ å·²ç»åšå¥½äº†ç»“è´¦ç³»ç»Ÿçš„å„ä¸ªç•Œé¢ã€‚åœ¨æœ€åä¸€é¡µï¼Œå½“ç”¨æˆ·ç‚¹å‡»â€œç¡®å®šâ€å°±å¯ä»¥è´­ä¹°ç”µè§†æ—¶ï¼Œä½ éœ€è¦è°ƒç”¨ï¼ˆå‡è®¾ç”±æŸä¸ªåˆ†æè¿½è¸ªå…¬å¸æä¾›çš„ï¼‰ç¬¬ä¸‰æ–¹å‡½æ•°ä»¥ä¾¿è·Ÿè¸ªè¿™ä¸ªäº¤æ˜“ã€‚</p><p>ä½ æ³¨æ„åˆ°ï¼Œå¯èƒ½æ˜¯ä¸ºäº†æé«˜æ€§èƒ½ï¼Œä»–ä»¬æä¾›äº†ä¸€ä¸ªçœ‹ä¼¼ç”¨äºå¼‚æ­¥è¿½è¸ªçš„å·¥å…·ï¼Œè¿™æ„å‘³ç€ä½ éœ€è¦ä¼ å…¥ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚åœ¨ä¼ å…¥çš„è¿™ä¸ªcontinuationä¸­ï¼Œä½ éœ€è¦æä¾›å‘å®¢æˆ·æ”¶è´¹å’Œå±•ç¤ºæ„Ÿè°¢é¡µé¢çš„æœ€ç»ˆä»£ç ã€‚ä»£ç å¯èƒ½æ˜¯è¿™æ ·ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">analytics.<span class="title function_">trackPurchase</span>( purchaseData, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">  <span class="title function_">chargeCreditCard</span>();</span><br><span class="line">  <span class="title function_">displayThankyouPage</span>();</span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><p>å…­ä¸ªæœˆè¿‡å»äº†ï¼Œæ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚ä½ å‡ ä¹å·²ç»å¿˜äº†è‡ªå·±å†™è¿‡è¿™ä¹ˆä¸€æ®µä»£ç ã€‚æŸä¸ªä¸Šç­ä¹‹å‰çš„æ—©æ™¨ï¼Œä½ åƒå¾€å¸¸ä¸€æ ·åœ¨å’–å•¡é¦†é‡Œäº«ç”¨ä¸€æ¯æ‹¿é“ã€‚çªç„¶ï¼Œä½ çš„è€æ¿æƒŠæ…Œå¤±æªåœ°æ‰“ç”µè¯è¿‡æ¥ï¼Œè®©ä½ æ”¾ä¸‹å’–å•¡èµ¶ç´§åˆ°åŠå…¬å®¤ã€‚</p><p>åŸå› æ˜¯ä¸€ä½é«˜çº§å®¢æˆ·è´­ä¹°äº†ä¸€å°ç”µè§†ï¼Œä¿¡ç”¨å¡è¢«åˆ·äº†5æ¬¡ã€‚è€æ¿å¾ˆç”Ÿæ°”å¹¶è¯¢é—®ä½ ä¸ºä½•å‡ºç°è¿™ç§äº‹æƒ…ï¼Œè¿™ç§æƒ…å†µä½ æ²¡æœ‰æµ‹è¯•è¿‡ä¹ˆï¼Ÿ</p><p>ä½ ç”šè‡³éƒ½ä¸è®°å¾—è‡ªå·±å†™è¿‡è¿™æ®µä»£ç ã€‚ä½†æ˜¯ï¼Œä½ å¾—æ·±å…¥ç ”ç©¶è¿™äº›ä»£ç ï¼Œå¹¶å¼€å§‹å¯»æ‰¾é—®é¢˜äº§ç”Ÿçš„åŸå› ã€‚</p><p>é€šè¿‡åˆ†ææ—¥å¿—ï¼Œä½ å¾—å‡ºä¸€ä¸ªç»“è®ºï¼šå”¯ä¸€çš„è§£é‡Šå°±æ˜¯é‚£ä¸ªåˆ†æå·¥å…·å‡ºäºæŸç§åŸå› æŠŠä½ çš„å›è°ƒè°ƒç”¨äº†äº”æ¬¡è€Œä¸æ˜¯ä¸€æ¬¡ã€‚ä»–ä»¬çš„æ–‡æ¡£ä¸­å®Œå…¨æ²¡æœ‰æåˆ°è¿™ç§æƒ…å†µã€‚</p><p>ç„¶åä½ è”ç³»å®ƒä»¬çš„å®¢æœï¼Œå®¢æœè¡¨ç¤ºåƒæƒŠå¹¶é©¬ä¸Šè”ç³»å¼€å‘è€…ï¼Œæ˜å¤©ç»™ä½ å›å¤ã€‚ç¬¬äºŒå¤©ä½ æ”¶åˆ°ä¸€å°å¾ˆé•¿çš„ä¿¡ï¼Œæ˜¯ä»–ä»¬è§£é‡Šçš„åŸå› ï¼Œäºæ˜¯ä½ è½¬å‘ç»™è€æ¿</p><p>ç„¶åå‘¢ï¼Ÿä½ å’Œè€æ¿è®¨è®ºæ­¤äº‹ï¼Œä»–å¯¹è¿™ç§çŠ¶å†µå´ä¸æ€ä¹ˆæ»¡æ„ã€‚ä»–åšæŒè®¤ä¸ºï¼Œä½ ä¸èƒ½å†ä¿¡ä»»ä»–ä»¬äº†ï¼ˆä½ ä»¬å—åˆ°äº†ä¼¤å®³ï¼‰ã€‚å¯¹æ­¤ä½ ä¹Ÿåªèƒ½æ— å¥ˆæ¥å—ï¼Œå¹¶ä¸”ä½ éœ€è¦æ‰¾åˆ°æŸç§æ–¹æ³•æ¥ä¿æŠ¤ç»“è´¦ä»£ç ï¼Œä¿è¯ä¸å†å‡ºé—®é¢˜ã€‚</p><p>äºæ˜¯ä¹é¢ä¸´è¿™æ ·çš„ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tracked = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">analytics.<span class="title function_">trackPurchase</span>( purchaseData, <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">if</span> (! tracked) &#123;</span><br><span class="line">      tracked = <span class="literal">true</span>;</span><br><span class="line">      <span class="title function_">chargeCreditCard</span>();</span><br><span class="line">      <span class="title function_">displayThankyouPage</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><p>å†åæ¥ï¼Œåˆæœ‰äººè´¨ç–‘è¯´</p><p>â€¢ è°ƒç”¨å›è°ƒè¿‡æ—©ï¼ˆåœ¨è¿½è¸ªä¹‹å‰ï¼‰ï¼›</p><p>â€¢ è°ƒç”¨å›è°ƒè¿‡æ™šï¼ˆæˆ–æ²¡æœ‰è°ƒç”¨ï¼‰ï¼›</p><p>â€¢ è°ƒç”¨å›è°ƒçš„æ¬¡æ•°å¤ªå°‘æˆ–å¤ªå¤šï¼ˆå°±åƒä½ é‡åˆ°è¿‡çš„é—®é¢˜ï¼ï¼‰ï¼›</p><p>â€¢ æ²¡æœ‰æŠŠæ‰€éœ€çš„ç¯å¢ƒ/å‚æ•°æˆåŠŸä¼ ç»™ä½ çš„å›è°ƒå‡½æ•°ï¼›</p><p>â€¢ åæ‰å¯èƒ½å‡ºç°çš„é”™è¯¯æˆ–å¼‚å¸¸ï¼›</p><p>â€¢ â€¦â€¦</p><p>ä½ å¯èƒ½å·²ç»å¼€å§‹æ…¢æ…¢æ„è¯†åˆ°ï¼Œå¯¹äºè¢«ä¼ ç»™ä½ æ— æ³•ä¿¡ä»»çš„å·¥å…·çš„æ¯ä¸ªå›è°ƒï¼Œä½ éƒ½å°†ä¸å¾—ä¸åˆ›å»ºå¤§é‡çš„æ··ä¹±é€»è¾‘ã€‚</p><p>ç°åœ¨ä½ åº”è¯¥æ›´åŠ æ˜ç™½å›è°ƒåœ°ç‹±æ˜¯å¤šåƒåœ°ç‹±äº†å§ã€‚</p><h3 id="promise"><a href="#promise" class="headerlink" title="promise"></a>promise</h3><blockquote><p>å›å¿†ä¸€ä¸‹ï¼Œæˆ‘ä»¬ç”¨å›è°ƒå‡½æ•°æ¥å°è£…ç¨‹åºä¸­çš„continuationï¼Œç„¶åæŠŠå›è°ƒäº¤ç»™ç¬¬ä¸‰æ–¹ï¼ˆç”šè‡³å¯èƒ½æ˜¯å¤–éƒ¨ä»£ç ï¼‰ï¼Œæ¥ç€æœŸå¾…å…¶èƒ½å¤Ÿè°ƒç”¨å›è°ƒï¼Œå®ç°æ­£ç¡®çš„åŠŸèƒ½ã€‚é€šè¿‡è¿™ç§å½¢å¼ï¼Œæˆ‘ä»¬è¦è¡¨è¾¾çš„æ„æ€æ˜¯ï¼šâ€œè¿™æ˜¯å°†æ¥è¦åšçš„äº‹æƒ…ï¼Œè¦åœ¨å½“å‰çš„æ­¥éª¤å®Œæˆä¹‹åå‘ç”Ÿã€‚â€</p><p>ä½†æ˜¯ï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤ŸæŠŠæ§åˆ¶åè½¬å†åè½¬å›æ¥ï¼Œä¼šæ€æ ·å‘¢ï¼Ÿå¦‚æœæˆ‘ä»¬ä¸æŠŠè‡ªå·±ç¨‹åºçš„continuationä¼ ç»™ç¬¬ä¸‰æ–¹ï¼Œè€Œæ˜¯å¸Œæœ›ç¬¬ä¸‰æ–¹ç»™æˆ‘ä»¬æä¾›äº†è§£å…¶ä»»åŠ¡ä½•æ—¶ç»“æŸçš„èƒ½åŠ›ï¼Œç„¶åç”±æˆ‘ä»¬è‡ªå·±çš„ä»£ç æ¥å†³å®šä¸‹ä¸€æ­¥åšä»€ä¹ˆï¼Œé‚£å°†ä¼šæ€æ ·å‘¢ï¼Ÿ</p><p>è¿™ç§èŒƒå¼å°±ç§°ä¸ºPromise</p></blockquote><h5 id="ä»€ä¹ˆæ˜¯Promise"><a href="#ä»€ä¹ˆæ˜¯Promise" class="headerlink" title="ä»€ä¹ˆæ˜¯Promise"></a>ä»€ä¹ˆæ˜¯Promise</h5><blockquote></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">add</span>(<span class="params">xPromise, yPromise</span>) &#123;</span><br><span class="line">    <span class="comment">// Promise.all([ .. ])æ¥å—ä¸€ä¸ªpromiseæ•°ç»„å¹¶è¿”å›ä¸€ä¸ªæ–°çš„promiseï¼Œ</span></span><br><span class="line">    <span class="comment">// è¿™ä¸ªæ–°promiseç­‰å¾…æ•°ç»„ä¸­çš„æ‰€æœ‰promiseå®Œæˆ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">all</span>( [xPromise, yPromise] )</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿™ä¸ªpromiseå†³è®®ä¹‹åï¼Œæˆ‘ä»¬å–å¾—æ”¶åˆ°çš„Xå’ŒYå€¼å¹¶åŠ åœ¨ä¸€èµ·</span></span><br><span class="line">    .<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params">values</span>)&#123;</span><br><span class="line">      <span class="comment">// valuesæ˜¯æ¥è‡ªäºä¹‹å‰å†³è®®çš„promiseçš„æ¶ˆæ¯æ•°ç»„</span></span><br><span class="line">      <span class="keyword">return</span> values[<span class="number">0</span>] + values[<span class="number">1</span>];</span><br><span class="line">    &#125; );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// fetchX()å’ŒfetchY()è¿”å›ç›¸åº”å€¼çš„promiseï¼Œå¯èƒ½å·²ç»å°±ç»ªï¼Œ</span></span><br><span class="line"><span class="comment">// ä¹Ÿå¯èƒ½ä»¥åå°±ç»ª</span></span><br><span class="line"><span class="title function_">add</span>( <span class="title function_">fetchX</span>(), <span class="title function_">fetchY</span>() )</span><br><span class="line"></span><br><span class="line"><span class="comment">// æˆ‘ä»¬å¾—åˆ°ä¸€ä¸ªè¿™ä¸¤ä¸ªæ•°ç»„çš„å’Œçš„promise</span></span><br><span class="line"><span class="comment">// ç°åœ¨é“¾å¼è°ƒç”¨then(..)æ¥ç­‰å¾…è¿”å›promiseçš„å†³è®®</span></span><br><span class="line">.<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params">sum</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( sum ); <span class="comment">// è¿™æ›´ç®€å•ï¼</span></span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨add(..)å†…éƒ¨ï¼ŒPromise.all([ .. ])è°ƒç”¨åˆ›å»ºäº†ä¸€ä¸ªpromiseï¼ˆè¿™ä¸ªpromiseç­‰å¾…promiseXå’ŒpromiseYçš„å†³è®®ï¼‰ã€‚é“¾å¼è°ƒç”¨ï¼then(..)åˆ›å»ºäº†å¦å¤–ä¸€ä¸ªpromiseã€‚è¿™ä¸ªpromiseç”±return values[0] + values[1]è¿™ä¸€è¡Œç«‹å³å†³è®®ï¼ˆå¾—åˆ°åŠ è¿ç®—çš„ç»“æœï¼‰ã€‚</p><p>å› æ­¤ï¼Œé“¾add(..)è°ƒç”¨ç»ˆæ­¢å¤„çš„è°ƒç”¨then(..)â€”â€”åœ¨ä»£ç ç»“å°¾å¤„â€”â€”å®é™…ä¸Šæ“ä½œçš„æ˜¯è¿”å›çš„ç¬¬äºŒä¸ªpromiseï¼Œè€Œä¸æ˜¯ç”±Promise.all([ .. ])åˆ›å»ºçš„ç¬¬ä¸€ä¸ªpromiseã€‚è¿˜æœ‰ï¼Œå°½ç®¡ç¬¬äºŒä¸ªthen(..)åé¢æ²¡æœ‰é“¾æ¥ä»»ä½•ä¸œè¥¿ï¼Œä½†å®ƒå®é™…ä¸Šä¹Ÿåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„promiseï¼Œå¦‚æœæƒ³è¦è§‚å¯Ÿæˆ–è€…ä½¿ç”¨å®ƒçš„è¯å°±å¯ä»¥çœ‹åˆ°ã€‚</p></blockquote><p>new Promise( function(..){ .. } )æ¨¡å¼é€šå¸¸ç§°ä¸º<a href="http://domenic.me/2014/02/13/the-revealing-constructor-pattern/">revealing constructor</a> <strong>ä¼ å…¥çš„å‡½æ•°ä¼šç«‹å³æ‰§è¡Œ</strong>ï¼ˆä¸ä¼šåƒthen(..)ä¸­çš„å›è°ƒä¸€æ ·å¼‚æ­¥å»¶è¿Ÿï¼‰ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼Œåœ¨æœ¬ä¾‹ä¸­æˆ‘ä»¬å°†å…¶åˆ†åˆ«ç§°ä¸ºresolveå’Œrejectã€‚è¿™äº›æ˜¯promiseçš„å†³è®®å‡½æ•°ã€‚resolve(..)é€šå¸¸æ ‡è¯†å®Œæˆï¼Œè€Œreject(..)åˆ™æ ‡è¯†æ‹’ç»ã€‚</p><p>æ£€æŸ¥ä¸€ä¸ªå¯¹è±¡æ˜¯å¦æ˜¯Promiseå¯¹è±¡ï¼Ÿ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p <span class="keyword">instanceof</span> <span class="title class_">Promise</span></span><br></pre></td></tr></table></figure><p>è¿™ç§æ–¹æ³•æœ‰ç¼ºé™·ï¼Œæµè§ˆå™¨ä¸åŒçª—å£çš„ Promise å®ä¾‹ä¸åŒï¼Œæ¯”å¦‚å½“å‰çª—å£Promiseä¸ï¼Œå½“å‰çª—å£iframeçš„ä¸åŒ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (</span><br><span class="line">    p ! == <span class="literal">null</span> &amp;&amp;</span><br><span class="line">    (</span><br><span class="line">      <span class="keyword">typeof</span> p === <span class="string">&quot;object&quot;</span> ||</span><br><span class="line">      <span class="keyword">typeof</span> p === <span class="string">&quot;function&quot;</span></span><br><span class="line">    ) &amp;&amp;</span><br><span class="line">    <span class="keyword">typeof</span> p.<span class="property">then</span> === <span class="string">&quot;function&quot;</span></span><br><span class="line">) &#123;</span><br><span class="line">    <span class="comment">// å‡å®šè¿™æ˜¯ä¸€ä¸ªthenable!</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// ä¸æ˜¯thenable</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¯†åˆ«Promiseï¼ˆæˆ–è€…è¡Œä¸ºç±»ä¼¼äºPromiseçš„ä¸œè¥¿ï¼‰å°±æ˜¯å®šä¹‰æŸç§ç§°ä¸ºthenableçš„ä¸œè¥¿ï¼Œå°†å…¶å®šä¹‰ä¸ºä»»ä½•å…·æœ‰then(..)æ–¹æ³•çš„å¯¹è±¡å’Œå‡½æ•°ã€‚æˆ‘ä»¬è®¤ä¸ºï¼Œä»»ä½•è¿™æ ·çš„å€¼å°±æ˜¯Promiseä¸€è‡´çš„thenableã€‚</p></blockquote><p>å…ˆå›é¡¾ä¸€ä¸‹åªç”¨å›è°ƒç¼–ç çš„ä¿¡ä»»é—®é¢˜ã€‚æŠŠä¸€ä¸ªå›è°ƒä¼ å…¥å·¥å…·foo(..)æ—¶å¯èƒ½å‡ºç°å¦‚ä¸‹é—®é¢˜ï¼š</p><p>Promiseçš„ç‰¹æ€§å°±æ˜¯ä¸“é—¨ç”¨æ¥ä¸ºè¿™äº›é—®é¢˜æä¾›ä¸€ä¸ªæœ‰æ•ˆçš„å¯å¤ç”¨çš„ç­”æ¡ˆã€‚</p><p>â€¢ <strong>è°ƒç”¨å›è°ƒè¿‡æ—©</strong>ï¼›</p><blockquote><p>æ ¹æ®å®šä¹‰ï¼ŒPromiseå°±ä¸å¿…æ‹…å¿ƒè¿™ç§é—®é¢˜ï¼Œå› ä¸ºå³ä½¿æ˜¯ç«‹å³å®Œæˆçš„Promiseï¼ˆç±»ä¼¼äºnew Promise(function(resolve){ resolve(42);})ï¼‰ä¹Ÿæ— æ³•è¢«åŒæ­¥è§‚å¯Ÿåˆ°ã€‚</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹ä¸€ä¸ªPromiseè°ƒç”¨then(..)çš„æ—¶å€™ï¼Œå³ä½¿è¿™ä¸ªPromiseå·²ç»å†³è®®ï¼Œæä¾›ç»™then(..)çš„å›è°ƒä¹Ÿæ€»ä¼šè¢«å¼‚æ­¥è°ƒç”¨</p></blockquote><p>â€¢ <strong>è°ƒç”¨å›è°ƒè¿‡æ™šï¼ˆæˆ–ä¸è¢«è°ƒç”¨ï¼‰</strong>ï¼›</p><blockquote><p>å’Œå‰é¢ä¸€ç‚¹ç±»ä¼¼ï¼ŒPromiseåˆ›å»ºå¯¹è±¡è°ƒç”¨resolve(..)æˆ–reject(..)æ—¶ï¼Œè¿™ä¸ªPromiseçš„then(..)æ³¨å†Œçš„è§‚å¯Ÿå›è°ƒå°±ä¼šè¢«è‡ªåŠ¨è°ƒåº¦ã€‚å¯ä»¥ç¡®ä¿¡ï¼Œè¿™äº›è¢«è°ƒåº¦çš„å›è°ƒåœ¨ä¸‹ä¸€ä¸ªå¼‚æ­¥äº‹ä»¶ç‚¹ä¸Šä¸€å®šä¼šè¢«è§¦å‘.</p><p>è¿™äº›å›è°ƒä¸­çš„ä»»æ„ä¸€ä¸ªéƒ½æ— æ³•å½±å“æˆ–å»¶è¯¯å¯¹å…¶ä»–å›è°ƒçš„è°ƒç”¨ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">p.<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    p.<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;C&quot;</span> );</span><br><span class="line">    &#125; );</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;A&quot;</span> );</span><br><span class="line">&#125; );</span><br><span class="line">p.<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;B&quot;</span> );</span><br><span class="line">&#125; );</span><br><span class="line"><span class="comment">// A B C</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œâ€Câ€æ— æ³•æ‰“æ–­æˆ–æŠ¢å â€Bâ€ï¼Œè¿™æ˜¯å› ä¸ºPromiseçš„è¿ä½œæ–¹å¼ã€‚</p><p>å¦‚æœä¸¤ä¸ªpromise p1å’Œp2éƒ½å·²ç»å†³è®®ï¼Œé‚£ä¹ˆp1.then(..);p2.then(..)åº”è¯¥æœ€ç»ˆä¼šå…ˆè°ƒç”¨p1çš„å›è°ƒï¼Œç„¶åæ˜¯p2çš„é‚£äº›ã€‚ä½†è¿˜æœ‰ä¸€äº›å¾®å¦™çš„åœºæ™¯å¯èƒ½ä¸æ˜¯è¿™æ ·çš„ï¼Œæ¯”å¦‚ä»¥ä¸‹ä»£ç ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p3 = <span class="keyword">new</span> <span class="title class_">Promise</span>( <span class="keyword">function</span>(<span class="params">resolve, reject</span>)&#123;</span><br><span class="line">    <span class="title function_">resolve</span>( <span class="string">&quot;B&quot;</span> );</span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>( <span class="keyword">function</span>(<span class="params">resolve, reject</span>)&#123;</span><br><span class="line">    <span class="title function_">resolve</span>( p3 );</span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> <span class="title class_">Promise</span>( <span class="keyword">function</span>(<span class="params">resolve, reject</span>)&#123;</span><br><span class="line">    <span class="title function_">resolve</span>( <span class="string">&quot;A&quot;</span> );</span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line">p1.<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params">v</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( v );</span><br><span class="line">&#125; );</span><br><span class="line">p2.<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params">v</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( v );</span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line"><span class="comment">// A B    &lt;-- è€Œä¸æ˜¯åƒä½ å¯èƒ½è®¤ä¸ºçš„B A</span></span><br></pre></td></tr></table></figure><p>é˜²æ­¢ä¸è¢«è°ƒç”¨çš„è¶…æ—¶æ¨¡å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç”¨äºè¶…æ—¶ä¸€ä¸ªPromiseçš„å·¥å…·</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">timeoutPromise</span>(<span class="params">delay</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>( <span class="keyword">function</span>(<span class="params">resolve, reject</span>)&#123;</span><br><span class="line">      <span class="built_in">setTimeout</span>( <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">          <span class="title function_">reject</span>( <span class="string">&quot;Timeout! &quot;</span> );</span><br><span class="line">      &#125;, delay );</span><br><span class="line">    &#125; );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®foo()è¶…æ—¶</span></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">race</span>( [</span><br><span class="line">    <span class="title function_">foo</span>(),                      <span class="comment">// è¯•ç€å¼€å§‹foo()</span></span><br><span class="line">    <span class="title function_">timeoutPromise</span>( <span class="number">3000</span> )      <span class="comment">// ç»™å®ƒ3ç§’é’Ÿ</span></span><br><span class="line">] )</span><br><span class="line">.<span class="title function_">then</span>(</span><br><span class="line">    <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="comment">// foo(..)åŠæ—¶å®Œæˆï¼</span></span><br><span class="line">    &#125;,</span><br><span class="line">                  <span class="keyword">function</span>(<span class="params">err</span>)&#123;</span><br><span class="line">          <span class="comment">// æˆ–è€…foo()è¢«æ‹’ç»ï¼Œæˆ–è€…åªæ˜¯æ²¡èƒ½æŒ‰æ—¶å®Œæˆ</span></span><br><span class="line">          <span class="comment">// æŸ¥çœ‹erræ¥äº†è§£æ˜¯å“ªç§æƒ…å†µ</span></span><br><span class="line">      &#125;</span><br><span class="line">  );</span><br></pre></td></tr></table></figure><p>Promise.race,è¿”å›å¤šä¸ªPromiseä¸­æœ€å¿«çš„é‚£ä¸€ä¸ª</p><p>â€¢ <strong>è°ƒç”¨å›è°ƒæ¬¡æ•°è¿‡å°‘æˆ–è¿‡å¤š</strong>ï¼›</p><blockquote><p>æ ¹æ®å®šä¹‰ï¼Œå›è°ƒè¢«è°ƒç”¨çš„æ­£ç¡®æ¬¡æ•°åº”è¯¥æ˜¯1ã€‚â€œè¿‡å°‘â€çš„æƒ…å†µå°±æ˜¯è°ƒç”¨0æ¬¡ï¼Œå’Œå‰é¢è§£é‡Šè¿‡çš„â€œæœªè¢«â€è°ƒç”¨æ˜¯åŒä¸€ç§æƒ…å†µã€‚</p><p>å¦‚æœå‡ºäºæŸç§åŸå› ï¼ŒPromiseåˆ›å»ºä»£ç è¯•å›¾è°ƒç”¨resolve(..)æˆ–reject(..)å¤šæ¬¡ï¼Œæˆ–è€…è¯•å›¾ä¸¤è€…éƒ½è°ƒç”¨ï¼Œé‚£ä¹ˆè¿™ä¸ªPromiseå°†åªä¼šæ¥å—ç¬¬ä¸€æ¬¡å†³è®®ï¼Œå¹¶é»˜é»˜åœ°å¿½ç•¥ä»»ä½•åç»­è°ƒç”¨ã€‚</p></blockquote><p>â€¢ <strong>æœªèƒ½ä¼ é€’æ‰€éœ€çš„ç¯å¢ƒå’Œå‚æ•°</strong>ï¼›</p><blockquote><p>Promiseè‡³å¤šåªèƒ½æœ‰ä¸€ä¸ªå†³è®®å€¼ï¼ˆå®Œæˆæˆ–æ‹’ç»ï¼‰ã€‚</p><p>å¦‚æœä½ æ²¡æœ‰ç”¨ä»»ä½•å€¼æ˜¾å¼å†³è®®ï¼Œé‚£ä¹ˆè¿™ä¸ªå€¼å°±æ˜¯undefinedï¼Œè¿™æ˜¯JavaScriptå¸¸è§çš„å¤„ç†æ–¹å¼ã€‚ä½†ä¸ç®¡è¿™ä¸ªå€¼æ˜¯ä»€ä¹ˆï¼Œæ— è®ºå½“å‰æˆ–æœªæ¥ï¼Œå®ƒéƒ½ä¼šè¢«ä¼ ç»™æ‰€æœ‰æ³¨å†Œçš„ï¼ˆä¸”é€‚å½“çš„å®Œæˆæˆ–æ‹’ç»ï¼‰å›è°ƒã€‚</p><p>å¦‚æœä½¿ç”¨å¤šä¸ªå‚æ•°è°ƒç”¨resovle(..)æˆ–è€…reject(..)ï¼Œç¬¬ä¸€ä¸ªå‚æ•°ä¹‹åçš„æ‰€æœ‰å‚æ•°éƒ½ä¼šè¢«é»˜é»˜å¿½ç•¥ã€‚</p><p>å¦‚æœè¦ä¼ é€’å¤šä¸ªå€¼ï¼Œä½ å°±å¿…é¡»è¦æŠŠå®ƒä»¬å°è£…åœ¨å•ä¸ªå€¼ä¸­ä¼ é€’ï¼Œæ¯”å¦‚é€šè¿‡ä¸€ä¸ªæ•°ç»„æˆ–å¯¹è±¡ã€‚</p></blockquote><p>â€¢ <strong>åæ‰å¯èƒ½å‡ºç°çš„é”™è¯¯å’Œå¼‚å¸¸</strong>ã€‚</p><blockquote><p>åŸºæœ¬ä¸Šï¼Œè¿™éƒ¨åˆ†æ˜¯ä¸Šä¸ªè¦ç‚¹çš„å†æ¬¡è¯´æ˜ã€‚å¦‚æœæ‹’ç»ä¸€ä¸ªPromiseå¹¶ç»™å‡ºä¸€ä¸ªç†ç”±ï¼ˆä¹Ÿå°±æ˜¯ä¸€ä¸ªå‡ºé”™æ¶ˆæ¯ï¼‰ï¼Œè¿™ä¸ªå€¼å°±ä¼šè¢«ä¼ ç»™æ‹’ç»å›è°ƒã€‚</p><p>å¦‚æœåœ¨Promiseçš„åˆ›å»ºè¿‡ç¨‹ä¸­æˆ–åœ¨æŸ¥çœ‹å…¶å†³è®®ç»“æœè¿‡ç¨‹ä¸­çš„ä»»ä½•æ—¶é—´ç‚¹ä¸Šå‡ºç°äº†ä¸€ä¸ªJavaScriptå¼‚å¸¸é”™è¯¯ï¼Œæ¯”å¦‚ä¸€ä¸ªTypeErroræˆ–ReferenceErrorï¼Œé‚£è¿™ä¸ªå¼‚å¸¸å°±ä¼šè¢«æ•æ‰ï¼Œå¹¶ä¸”ä¼šä½¿è¿™ä¸ªPromiseè¢«æ‹’ç»ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>( <span class="keyword">function</span>(<span class="params">resolve, reject</span>)&#123;</span><br><span class="line">    foo.<span class="title function_">bar</span>();  <span class="comment">// fooæœªå®šä¹‰ï¼Œæ‰€ä»¥ä¼šå‡ºé”™ï¼</span></span><br><span class="line">    <span class="title function_">resolve</span>( <span class="number">42</span> );  <span class="comment">// æ°¸è¿œä¸ä¼šåˆ°è¾¾è¿™é‡Œ :(</span></span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line">p.<span class="title function_">then</span>(</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fulfilled</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="comment">// æ°¸è¿œä¸ä¼šåˆ°è¾¾è¿™é‡Œ :(</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">rejected</span>(<span class="params">err</span>)&#123;</span><br><span class="line">      <span class="comment">// errå°†ä¼šæ˜¯ä¸€ä¸ªæ¥è‡ªfoo.bar()è¿™ä¸€è¡Œçš„TypeErrorå¼‚å¸¸å¯¹è±¡</span></span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>foo.bar()ä¸­å‘ç”Ÿçš„JavaScriptå¼‚å¸¸å¯¼è‡´äº†Promiseæ‹’ç»ï¼Œä½ å¯ä»¥æ•æ‰å¹¶å¯¹å…¶ä½œå‡ºå“åº”ã€‚</p><h5 id="Promiseæ˜¯å¯ä¿¡ä»»çš„ä¹ˆ"><a href="#Promiseæ˜¯å¯ä¿¡ä»»çš„ä¹ˆ" class="headerlink" title="Promiseæ˜¯å¯ä¿¡ä»»çš„ä¹ˆ"></a>Promiseæ˜¯å¯ä¿¡ä»»çš„ä¹ˆ</h5><blockquote><p>Promiseå¹¶æ²¡æœ‰å®Œå…¨æ‘†è„±å›è°ƒã€‚å®ƒä»¬åªæ˜¯æ”¹å˜äº†ä¼ é€’å›è°ƒçš„ä½ç½®ã€‚</p><p>ä¸ºä»€ä¹ˆè¿™å°±æ¯”å•çº¯ä½¿ç”¨å›è°ƒæ›´å€¼å¾—ä¿¡ä»»å‘¢ï¼Ÿå¦‚ä½•èƒ½å¤Ÿç¡®å®šè¿”å›çš„è¿™ä¸ªä¸œè¥¿å®é™…ä¸Šå°±æ˜¯ä¸€ä¸ªå¯ä¿¡ä»»çš„Promiseå‘¢ï¼Ÿ</p></blockquote><p>Promiseå¯¹è¿™ä¸ªé—®é¢˜å·²ç»æœ‰ä¸€ä¸ªè§£å†³æ–¹æ¡ˆã€‚åŒ…å«åœ¨åŸç”ŸES6 Promiseå®ç°ä¸­çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯Promise.resolve(..)ã€‚</p><p>å¦‚æœå‘Promise.resolve(..)ä¼ é€’ä¸€ä¸ªéPromiseã€éthenableçš„ç«‹å³å€¼ï¼Œå°±ä¼šå¾—åˆ°ä¸€ä¸ªç”¨è¿™ä¸ªå€¼å¡«å……çš„promiseã€‚ä¸‹é¢è¿™ç§æƒ…å†µä¸‹ï¼Œpromise p1å’Œpromise p2çš„è¡Œä¸ºæ˜¯å®Œå…¨ä¸€æ ·çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> <span class="title class_">Promise</span>( <span class="keyword">function</span>(<span class="params">resolve, reject</span>)&#123;</span><br><span class="line">    <span class="title function_">resolve</span>( <span class="number">42</span> );</span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p2 = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>( <span class="number">42</span> );</span><br></pre></td></tr></table></figure><p>æ›´é‡è¦çš„æ˜¯ï¼Œå¦‚æœå‘Promise.resolve(..)ä¼ é€’äº†ä¸€ä¸ªéPromiseçš„thenableå€¼ï¼Œå‰è€…å°±ä¼šè¯•å›¾å±•å¼€è¿™ä¸ªå€¼ï¼Œè€Œä¸”å±•å¼€è¿‡ç¨‹ä¼šæŒç»­åˆ°æå–å‡ºä¸€ä¸ªå…·ä½“çš„éç±»Promiseçš„æœ€ç»ˆå€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = &#123;</span><br><span class="line">    <span class="attr">then</span>: <span class="keyword">function</span>(<span class="params">cb</span>) &#123;</span><br><span class="line">      <span class="title function_">cb</span>( <span class="number">42</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™å¯ä»¥å·¥ä½œï¼Œä½†åªæ˜¯å› ä¸ºå¹¸è¿è€Œå·²</span></span><br><span class="line">p</span><br><span class="line">.<span class="title function_">then</span>(</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fulfilled</span>(<span class="params">val</span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( val ); <span class="comment">// 42</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">rejected</span>(<span class="params">err</span>)&#123;</span><br><span class="line">      <span class="comment">// æ°¸è¿œä¸ä¼šåˆ°è¾¾è¿™é‡Œ</span></span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>Promise.resolve(..)æä¾›äº†å¯ä¿¡ä»»çš„Promiseå°è£…å·¥å…·ï¼Œå¯ä»¥é“¾æ¥ä½¿ç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸è¦åªæ˜¯è¿™ä¹ˆåšï¼š</span></span><br><span class="line"><span class="title function_">foo</span>( <span class="number">42</span> )</span><br><span class="line">.<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params">v</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( v );</span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line"><span class="comment">// è€Œè¦è¿™ä¹ˆåšï¼š</span></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>( <span class="title function_">foo</span>( <span class="number">42</span> ) )</span><br><span class="line">.<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params">v</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( v );</span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><h5 id="é“¾å¼æµ"><a href="#é“¾å¼æµ" class="headerlink" title="é“¾å¼æµ"></a>é“¾å¼æµ</h5><blockquote><p>æˆ‘ä»¬å¯ä»¥æŠŠå¤šä¸ªPromiseè¿æ¥åˆ°ä¸€èµ·ä»¥è¡¨ç¤ºä¸€ç³»åˆ—å¼‚æ­¥æ­¥éª¤</p><p>è¿™ç§æ–¹å¼å¯ä»¥å®ç°çš„å…³é”®åœ¨äºä»¥ä¸‹ä¸¤ä¸ªPromiseå›ºæœ‰è¡Œä¸ºç‰¹æ€§ï¼š</p><p>â€¢ æ¯æ¬¡ä½ å¯¹Promiseè°ƒç”¨then(..)ï¼Œå®ƒéƒ½ä¼šåˆ›å»ºå¹¶è¿”å›ä¸€ä¸ªæ–°çš„Promiseï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶é“¾æ¥èµ·æ¥ï¼›</p><p>â€¢ ä¸ç®¡ä»then(..)è°ƒç”¨çš„å®Œæˆå›è°ƒï¼ˆç¬¬ä¸€ä¸ªå‚æ•°ï¼‰è¿”å›çš„å€¼æ˜¯ä»€ä¹ˆï¼Œå®ƒéƒ½ä¼šè¢«è‡ªåŠ¨è®¾ç½®ä¸ºè¢«é“¾æ¥Promiseï¼ˆç¬¬ä¸€ç‚¹ä¸­çš„ï¼‰çš„å®Œæˆã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>( <span class="number">21</span> );</span><br><span class="line"></span><br><span class="line">p</span><br><span class="line">.<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params">v</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( v );    <span class="comment">// 21</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨å€¼42å®Œæˆè¿æ¥çš„promise</span></span><br><span class="line">    <span class="keyword">return</span> v * <span class="number">2</span>;</span><br><span class="line">&#125; )</span><br><span class="line"><span class="comment">// è¿™é‡Œæ˜¯é“¾æ¥çš„promise</span></span><br><span class="line">.<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params">v</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( v );    <span class="comment">// 42</span></span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><p>åœ¨è¿™äº›ä¾‹å­ä¸­ï¼Œä¸€æ­¥æ­¥ä¼ é€’çš„å€¼æ˜¯å¯é€‰çš„ã€‚å¦‚æœä¸æ˜¾å¼è¿”å›ä¸€ä¸ªå€¼ï¼Œå°±ä¼šéšå¼è¿”å›undefinedï¼Œå¹¶ä¸”è¿™äº›promiseä»ç„¶ä¼šä»¥åŒæ ·çš„æ–¹å¼é“¾æ¥åœ¨ä¸€èµ·ã€‚</p><p><strong>å¦‚æœè¿™ä¸ªPromiseé“¾ä¸­çš„æŸä¸ªæ­¥éª¤å‡ºé”™äº†æ€ä¹ˆåŠï¼Ÿ</strong></p><p>è¿™æ„å‘³ç€å¯èƒ½åœ¨é“¾çš„ä»»æ„ä½ç½®æ•æ‰åˆ°è¿™æ ·çš„é”™è¯¯ï¼Œè€Œè¿™ä¸ªæ•æ‰åŠ¨ä½œåœ¨æŸç§ç¨‹åº¦ä¸Šå°±ç›¸å½“äºåœ¨è¿™ä¸€ä½ç½®å°†æ•´æ¡é“¾â€œé‡ç½®â€å›äº†æ­£å¸¸è¿ä½œï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­¥éª¤1ï¼š</span></span><br><span class="line"><span class="title function_">request</span>( <span class="string">&quot;http://some.url.1/&quot;</span> )</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­¥éª¤2ï¼š</span></span><br><span class="line">.<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params">response1</span>)&#123;</span><br><span class="line">    foo.<span class="title function_">bar</span>(); <span class="comment">// undefinedï¼Œå‡ºé”™ï¼</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ°¸è¿œä¸ä¼šåˆ°è¾¾è¿™é‡Œ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">request</span>( <span class="string">&quot;http://some.url.2/? v=&quot;</span> + response1 );</span><br><span class="line">&#125; )</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­¥éª¤3ï¼š</span></span><br><span class="line">.<span class="title function_">then</span>(</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fulfilled</span>(<span class="params">response2</span>)&#123;</span><br><span class="line">      <span class="comment">// æ°¸è¿œä¸ä¼šåˆ°è¾¾è¿™é‡Œ</span></span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ•æ‰é”™è¯¯çš„æ‹’ç»å¤„ç†å‡½æ•°</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">rejected</span>(<span class="params">err</span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( err );</span><br><span class="line">      <span class="comment">// æ¥è‡ªfoo.bar()çš„é”™è¯¯TypeError</span></span><br><span class="line">      <span class="keyword">return</span> <span class="number">42</span>;</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ­¥éª¤4ï¼š</span></span><br><span class="line">.<span class="title function_">then</span>( <span class="keyword">function</span>(<span class="params">msg</span>)&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( msg );           <span class="comment">// 42</span></span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><blockquote><p>è°ƒç”¨then(..)æ—¶çš„å®Œæˆå¤„ç†å‡½æ•°æˆ–æ‹’ç»å¤„ç†å‡½æ•°å¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œéƒ½ä¼šå¯¼è‡´ï¼ˆé“¾ä¸­çš„ï¼‰ä¸‹ä¸€ä¸ªpromiseå› è¿™ä¸ªå¼‚å¸¸è€Œç«‹å³è¢«æ‹’ç»ã€‚</p><p>è°ƒç”¨promiseçš„then(..)ï¼Œå¹¶ä¸”åªä¼ å…¥ä¸€ä¸ªå®Œæˆå¤„ç†å‡½æ•°ï¼Œä¸€ä¸ªé»˜è®¤æ‹’ç»å¤„ç†å‡½æ•°å°±ä¼šé¡¶æ›¿ä¸Šæ¥ã€‚é»˜è®¤æ‹’ç»å¤„ç†å‡½æ•°åªæ˜¯æŠŠé”™è¯¯é‡æ–°æŠ›å‡ºï¼Œè¿™æœ€ç»ˆä¼šä½¿å¾—é“¾æ¡ä¸‹ä¸€æ­¥ç”¨åŒæ ·çš„é”™è¯¯ç†ç”±æ‹’ç»</p><p>å®é™…ä¸Šå•¥éƒ½ä¸ä¼ ä¹Ÿä¼šæœ‰ä¸€ä¸ªé»˜è®¤çš„å¤„ç†æˆåŠŸçš„å‡½æ•°</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span>(<span class="params">val</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> val</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>ç¬¬2æ­¥å‡ºé”™åï¼Œç¬¬3æ­¥çš„æ‹’ç»å¤„ç†å‡½æ•°ä¼šæ•æ‰åˆ°è¿™ä¸ªé”™è¯¯ã€‚æ‹’ç»å¤„ç†å‡½æ•°çš„è¿”å›å€¼ï¼ˆè¿™æ®µä»£ç ä¸­æ˜¯42ï¼‰ï¼Œå¦‚æœæœ‰çš„è¯ï¼Œä¼šç”¨æ¥å®Œæˆäº¤ç»™ä¸‹ä¸€ä¸ªæ­¥éª¤ï¼ˆç¬¬4æ­¥ï¼‰çš„promiseï¼Œè¿™æ ·ï¼Œè¿™ä¸ªé“¾ç°åœ¨å°±å›åˆ°äº†å®ŒæˆçŠ¶æ€ã€‚</p><h5 id="æœ¯è¯­ï¼šå†³è®®ã€å®Œæˆä»¥åŠæ‹’ç»"><a href="#æœ¯è¯­ï¼šå†³è®®ã€å®Œæˆä»¥åŠæ‹’ç»" class="headerlink" title="æœ¯è¯­ï¼šå†³è®®ã€å®Œæˆä»¥åŠæ‹’ç»"></a>æœ¯è¯­ï¼šå†³è®®ã€å®Œæˆä»¥åŠæ‹’ç»</h5><blockquote><p>å¯¹äºæœ¯è¯­å†³è®®ï¼ˆresolveï¼‰ã€å®Œæˆï¼ˆfulfillï¼‰å’Œæ‹’ç»ï¼ˆrejectï¼‰ï¼Œåœ¨æ›´æ·±å…¥å­¦ä¹ Promiseä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æœ‰ä¸€äº›æ¨¡ç³Šä¹‹å¤„éœ€è¦æ¾„æ¸…ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>( <span class="keyword">function</span>(<span class="params">X, Y</span>)&#123;</span><br><span class="line">    <span class="comment">// X()ç”¨äºå®Œæˆ</span></span><br><span class="line">    <span class="comment">// Y()ç”¨äºæ‹’ç»</span></span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><p>ç¬¬ä¸€ä¸ªé€šå¸¸ç”¨äºæ ‡è¯†Promiseå·²ç»å®Œæˆï¼Œç¬¬äºŒä¸ªæ€»æ˜¯ç”¨äºæ ‡è¯†Promiseè¢«æ‹’ç».ES6è§„èŒƒå°†è¿™ä¸¤ä¸ªå›è°ƒå‘½åä¸ºonFulfilled(..)å’ŒonRejected(..)ï¼Œæ‰€ä»¥è¿™ä¸¤ä¸ªæœ¯è¯­å¾ˆå‡†ç¡®ã€‚</p><h5 id="é”™è¯¯å¤„ç†"><a href="#é”™è¯¯å¤„ç†" class="headerlink" title="é”™è¯¯å¤„ç†"></a>é”™è¯¯å¤„ç†</h5><blockquote><p>é”™è¯¯å¤„ç†æœ€è‡ªç„¶çš„å½¢å¼å°±æ˜¯åŒæ­¥çš„try..catchç»“æ„ã€‚é—æ†¾çš„æ˜¯ï¼Œå®ƒåªèƒ½æ˜¯åŒæ­¥çš„ï¼Œæ— æ³•ç”¨äºå¼‚æ­¥ä»£ç æ¨¡å¼</p></blockquote><p>å¦‚æœé€šè¿‡æ— æ•ˆçš„æ–¹å¼ä½¿ç”¨Promise APIï¼Œå¹¶ä¸”å‡ºç°ä¸€ä¸ªé”™è¯¯é˜»ç¢äº†æ­£å¸¸çš„Promiseæ„é€ ï¼Œé‚£ä¹ˆç»“æœä¼šå¾—åˆ°ä¸€ä¸ªç«‹å³æŠ›å‡ºçš„å¼‚å¸¸ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªè¢«æ‹’ç»çš„Promiseã€‚</p><p>ä¾‹å­ï¼šnew Promise(null)ã€Promise.all()ã€Promise.race(42)ï¼Œç­‰ç­‰</p><p>å¦‚æœä¸€å¼€å§‹ä½ å°±æ²¡èƒ½æœ‰æ•ˆä½¿ç”¨Promise APIçœŸæ­£æ„é€ å‡ºä¸€ä¸ªPromiseï¼Œé‚£å°±æ— æ³•å¾—åˆ°ä¸€ä¸ªè¢«æ‹’ç»çš„Promiseï¼</p><p>ä¸ºäº†é¿å…ä¸¢å¤±è¢«å¿½ç•¥å’ŒæŠ›å¼ƒçš„Promiseé”™è¯¯ï¼Œä¸€äº›å¼€å‘è€…è¡¨ç¤ºï¼ŒPromiseé“¾çš„ä¸€ä¸ªæœ€ä½³å®è·µå°±æ˜¯æœ€åæ€»ä»¥ä¸€ä¸ªcatch(..)ç»“æŸ:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="title class_">Promise</span>.<span class="title function_">resolve</span>( <span class="number">42</span> );</span><br><span class="line"></span><br><span class="line">p.<span class="title function_">then</span>(</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fulfilled</span>(<span class="params">msg</span>)&#123;</span><br><span class="line">      <span class="comment">// æ•°å­—æ²¡æœ‰stringå‡½æ•°ï¼Œæ‰€ä»¥ä¼šæŠ›å‡ºé”™è¯¯</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( msg.<span class="title function_">toLowerCase</span>() );</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line">.<span class="title function_">catch</span>( handleErrors );</span><br></pre></td></tr></table></figure><p>å¦‚æœhandleErrors(..)æœ¬èº«å†…éƒ¨ä¹Ÿæœ‰é”™è¯¯æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><h5 id="æˆåŠŸçš„å‘"><a href="#æˆåŠŸçš„å‘" class="headerlink" title="æˆåŠŸçš„å‘"></a>æˆåŠŸçš„å‘</h5><blockquote><p>æ¥ä¸‹æ¥çš„å†…å®¹åªæ˜¯ç†è®ºä¸Šçš„</p><p>â€¢ é»˜è®¤æƒ…å†µä¸‹ï¼ŒPromsieåœ¨ä¸‹ä¸€ä¸ªä»»åŠ¡æˆ–æ—¶é—´å¾ªç¯tickä¸Šï¼ˆå‘å¼€å‘è€…ç»ˆç«¯ï¼‰æŠ¥å‘Šæ‰€æœ‰æ‹’ç»ï¼Œå¦‚æœåœ¨è¿™ä¸ªæ—¶é—´ç‚¹ä¸Šè¯¥Promiseä¸Šè¿˜æ²¡æœ‰æ³¨å†Œé”™è¯¯å¤„ç†å‡½æ•°ã€‚</p><p>â€¢ å¦‚æœæƒ³è¦ä¸€ä¸ªè¢«æ‹’ç»çš„Promiseåœ¨æŸ¥çœ‹ä¹‹å‰çš„æŸä¸ªæ—¶é—´æ®µå†…ä¿æŒè¢«æ‹’ç»çŠ¶æ€ï¼Œå¯ä»¥è°ƒç”¨defer()ï¼Œè¿™ä¸ªå‡½æ•°ä¼˜å…ˆçº§é«˜äºè¯¥Promiseçš„è‡ªåŠ¨é”™è¯¯æŠ¥å‘Šã€‚</p></blockquote><p>å¦‚æœä¸€ä¸ªPromiseè¢«æ‹’ç»çš„è¯ï¼Œé»˜è®¤æƒ…å†µä¸‹ä¼šå‘å¼€å‘è€…ç»ˆç«¯æŠ¥å‘Šè¿™ä¸ªäº‹å®ï¼ˆè€Œä¸æ˜¯é»˜è®¤ä¸ºæ²‰é»˜ï¼‰ã€‚å¯ä»¥é€‰æ‹©éšå¼ï¼ˆåœ¨æ‹’ç»ä¹‹å‰æ³¨å†Œä¸€ä¸ªé”™è¯¯å¤„ç†å‡½æ•°ï¼‰æˆ–è€…æ˜¾å¼ï¼ˆé€šè¿‡defer()ï¼‰ç¦æ­¢è¿™ç§æŠ¥å‘Šã€‚åœ¨è¿™ä¸¤ç§æƒ…å†µä¸‹ï¼Œéƒ½æ˜¯ç”±ä½ æ¥æ§åˆ¶è¯¯æŠ¥çš„æƒ…å†µã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> p = <span class="title class_">Promise</span>.<span class="title function_">reject</span>( <span class="string">&quot;Oops&quot;</span> ).<span class="title function_">defer</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// foo(..)æ˜¯æ”¯æŒPromiseçš„</span></span><br><span class="line"><span class="title function_">foo</span>( <span class="number">42</span> )</span><br><span class="line">.<span class="title function_">then</span>(</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">fulfilled</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> p;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">rejected</span>(<span class="params">err</span>)&#123;</span><br><span class="line">      <span class="comment">// å¤„ç†foo(..)é”™è¯¯</span></span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>åˆ›å»ºpçš„æ—¶å€™ï¼Œæˆ‘ä»¬çŸ¥é“éœ€è¦ç­‰å¾…ä¸€æ®µæ—¶é—´æ‰èƒ½ä½¿ç”¨æˆ–æŸ¥çœ‹å®ƒçš„æ‹’ç»ç»“æœï¼Œæ‰€ä»¥æˆ‘ä»¬å°±è°ƒç”¨defer()ï¼Œè¿™æ ·å°±ä¸ä¼šæœ‰å…¨å±€æŠ¥å‘Šå‡ºç°ã€‚ä¸ºäº†ä¾¿äºé“¾æ¥ï¼Œdefer()åªæ˜¯è¿”å›è¿™åŒä¸€ä¸ªpromiseã€‚</p><p>ä»foo(..)è¿”å›çš„promiseç«‹åˆ»å°±è¢«å…³è”äº†ä¸€ä¸ªé”™è¯¯å¤„ç†å‡½æ•°ï¼Œæ‰€ä»¥å®ƒä¹Ÿéšå¼æ¶ˆé™¤äº†å‡ºé”™å…¨å±€æŠ¥å‘Šã€‚</p><h5 id="Promiseæ¨¡å¼"><a href="#Promiseæ¨¡å¼" class="headerlink" title="Promiseæ¨¡å¼"></a>Promiseæ¨¡å¼</h5><blockquote><p><strong>Promise.all</strong>([ .. ])éœ€è¦ä¸€ä¸ªå‚æ•°ï¼Œæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œé€šå¸¸ç”±Promiseå®ä¾‹ç»„æˆã€‚ä»Promise. all([ .. ])è°ƒç”¨è¿”å›çš„promiseä¼šæ”¶åˆ°ä¸€ä¸ªå®Œæˆæ¶ˆæ¯ï¼ˆä»£ç ç‰‡æ®µä¸­çš„msgï¼‰ã€‚è¿™æ˜¯ä¸€ä¸ªç”±æ‰€æœ‰ä¼ å…¥promiseçš„å®Œæˆæ¶ˆæ¯ç»„æˆçš„æ•°ç»„ï¼Œä¸æŒ‡å®šçš„é¡ºåºä¸€è‡´ï¼ˆä¸å®Œæˆé¡ºåºæ— å…³ï¼‰ã€‚</p><p>æ•°ç»„ä¸­çš„å€¼å¯ä»¥æ˜¯Promiseã€thenableï¼Œç”šè‡³æ˜¯ç«‹å³å€¼</p></blockquote><blockquote><p><strong>Promise.race</strong>([ .. ])å°±ä¼šå®Œæˆï¼›ä¸€æ—¦æœ‰ä»»ä½•ä¸€ä¸ªPromiseå†³è®®ä¸ºæ‹’ç»ï¼Œå®ƒå°±ä¼šæ‹’ç»ã€‚</p></blockquote><p>å˜ä½“æ¨¡å¼</p><p>â€¢ none([ .. ])è¿™ä¸ªæ¨¡å¼ç±»ä¼¼äºall([ .. ])ï¼Œä¸è¿‡å®Œæˆå’Œæ‹’ç»çš„æƒ…å†µäº’æ¢äº†ã€‚æ‰€æœ‰çš„Promiseéƒ½è¦è¢«æ‹’ç»ï¼Œå³æ‹’ç»è½¬åŒ–ä¸ºå®Œæˆå€¼ï¼Œåä¹‹äº¦ç„¶ã€‚</p><p>â€¢ any([ .. ])è¿™ä¸ªæ¨¡å¼ä¸all([ .. ])ç±»ä¼¼ï¼Œä½†æ˜¯ä¼šå¿½ç•¥æ‹’ç»ï¼Œæ‰€ä»¥åªéœ€è¦å®Œæˆä¸€ä¸ªè€Œä¸æ˜¯å…¨éƒ¨ã€‚</p><p>â€¢ first([ .. ])è¿™ä¸ªæ¨¡å¼ç±»ä¼¼äºä¸any([ .. ])çš„ç«äº‰ï¼Œå³åªè¦ç¬¬ä¸€ä¸ªPromiseå®Œæˆï¼Œå®ƒå°±ä¼šå¿½ç•¥åç»­çš„ä»»ä½•æ‹’ç»å’Œå®Œæˆã€‚</p><p>â€¢ last([ .. ])è¿™ä¸ªæ¨¡å¼ç±»ä¼¼äºfirst([ .. ])ï¼Œä½†å´æ˜¯åªæœ‰æœ€åä¸€ä¸ªå®Œæˆèƒœå‡ºã€‚</p><p>è‡ªå·±å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// polyfillå®‰å…¨çš„guardæ£€æŸ¥</span></span><br><span class="line"><span class="keyword">if</span> (! <span class="title class_">Promise</span>.<span class="property">first</span>) &#123;</span><br><span class="line">    <span class="title class_">Promise</span>.<span class="property">first</span> = <span class="keyword">function</span>(<span class="params">prs</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>( <span class="keyword">function</span>(<span class="params">resolve, reject</span>)&#123;</span><br><span class="line">          <span class="comment">// åœ¨æ‰€æœ‰promiseä¸Šå¾ªç¯</span></span><br><span class="line">          prs.<span class="title function_">forEach</span>( <span class="keyword">function</span>(<span class="params">pr</span>)&#123;</span><br><span class="line">              <span class="comment">// æŠŠå€¼è§„æ•´åŒ–</span></span><br><span class="line">              <span class="title class_">Promise</span>.<span class="title function_">resolve</span>( pr )</span><br><span class="line">              <span class="comment">// ä¸ç®¡å“ªä¸ªæœ€å…ˆå®Œæˆï¼Œå°±å†³è®®ä¸»promise</span></span><br><span class="line">              .<span class="title function_">then</span>( resolve );</span><br><span class="line">          &#125; );</span><br><span class="line">      &#125; );</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœæ‰€æœ‰çš„promiseéƒ½è¢«æ‹’ç»ï¼Œå°±åœ¨ä¸»promiseä¸Šè°ƒç”¨reject()ã€‚è¿™ä¸ªå®ç°ç•™ç»™ä½ å½“ç»ƒä¹ ã€‚</p><h5 id="then-å’Œcatch"><a href="#then-å’Œcatch" class="headerlink" title="then(..)å’Œcatch(..)"></a>then(..)å’Œcatch(..)</h5><blockquote><p>catchæ•è·é”™è¯¯åï¼Œè®¾ç½®è¿”å›å€¼ã€‚é‚£ä¹ˆPromiseé“¾åé¢è¿˜èƒ½è·å–åˆ°catchçš„è¿”å›å€¼ï¼Œå¦‚æœ onRejectå‡½æ•°å­˜åœ¨è¯­æ³•é”™è¯¯ï¼Œä¼šèµ°catchè¯­å¥</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Promise</span>.<span class="title function_">reject</span>(<span class="string">&#x27;reject&#x27;</span>)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">         <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æ²¡é”™è¯¯ï¼š&#x27;</span>,res)   </span><br><span class="line">    &#125;,<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;å‡ºé”™ï¼&#x27;</span>, err)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;reject&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æœ‰é”™è¯¯ï¼š&#x27;</span>,err)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;catch&#x27;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">then</span>(<span class="function"><span class="params">res</span>=&gt;</span>&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ä¸‹ä¸€è½®ï¼š&#x27;</span>, res)</span><br><span class="line">    &#125;)</span><br><span class="line"><span class="comment">// å‡ºé”™ï¼ reject</span></span><br><span class="line"><span class="comment">// ä¸‹ä¸€è½®ï¼š reject</span></span><br></pre></td></tr></table></figure><p>åŸºäºå›è°ƒçš„å·¥å…·</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// polyfillå®‰å…¨çš„guardæ£€æŸ¥</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="title class_">Promise</span>.<span class="property">wrap</span>) &#123;</span><br><span class="line">    <span class="title class_">Promise</span>.<span class="property">wrap</span> = <span class="keyword">function</span>(<span class="params">fn</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> args = [].<span class="property">slice</span>.<span class="title function_">call</span>( <span class="variable language_">arguments</span> );</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>( <span class="keyword">function</span>(<span class="params">resolve, reject</span>)&#123;</span><br><span class="line">                  fn.<span class="title function_">apply</span>(</span><br><span class="line">                    <span class="literal">null</span>,</span><br><span class="line">                    args.<span class="title function_">concat</span>( <span class="keyword">function</span>(<span class="params">err, v</span>)&#123;</span><br><span class="line">                        <span class="keyword">if</span> (err) &#123;</span><br><span class="line">                            <span class="title function_">reject</span>( err );</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">else</span> &#123;</span><br><span class="line">                            <span class="title function_">resolve</span>( v );</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; )</span><br><span class="line">                  );</span><br><span class="line">              &#125; );</span><br><span class="line">          &#125;;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> request = <span class="title class_">Promise</span>.<span class="title function_">wrap</span>( ajax );</span><br><span class="line"></span><br><span class="line"><span class="title function_">request</span>( <span class="string">&quot;http://some.url.1/&quot;</span> )</span><br><span class="line">.<span class="title function_">then</span>( .. )</span><br><span class="line">..</span><br></pre></td></tr></table></figure><p>Promise.wrap(..)å¹¶ä¸äº§å‡ºPromiseã€‚å®ƒäº§å‡ºçš„æ˜¯ä¸€ä¸ªå°†äº§ç”ŸPromiseçš„å‡½æ•°ã€‚åœ¨æŸç§æ„ä¹‰ä¸Šï¼Œäº§ç”ŸPromiseçš„å‡½æ•°å¯ä»¥çœ‹ä½œæ˜¯ä¸€ä¸ªPromiseå·¥å‚ã€‚</p><h3 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h3><blockquote><p>ä¸€ä¸ªå‡½æ•°ä¸€æ—¦å¼€å§‹æ‰§è¡Œï¼Œå°±ä¼šè¿è¡Œåˆ°ç»“æŸï¼ŒæœŸé—´ä¸ä¼šæœ‰å…¶ä»–ä»£ç èƒ½å¤Ÿæ‰“æ–­å®ƒå¹¶æ’å…¥å…¶é—´ã€‚</p><p>ç”Ÿæˆå™¨å°±æ˜¯ä¸€ç±»ç‰¹æ®Šçš„å‡½æ•°ï¼Œå¯ä»¥ä¸€æ¬¡æˆ–å¤šæ¬¡å¯åŠ¨å’Œåœæ­¢ï¼Œå¹¶ä¸ä¸€å®šéå¾—è¦å®Œæˆã€‚</p></blockquote><h5 id="è¿­ä»£æ¶ˆæ¯ä¼ é€’"><a href="#è¿­ä»£æ¶ˆæ¯ä¼ é€’" class="headerlink" title="è¿­ä»£æ¶ˆæ¯ä¼ é€’"></a>è¿­ä»£æ¶ˆæ¯ä¼ é€’</h5><blockquote><p>é™¤äº†èƒ½å¤Ÿæ¥å—å‚æ•°å¹¶æä¾›è¿”å›å€¼ä¹‹å¤–ï¼Œç”Ÿæˆå™¨ç”šè‡³æä¾›äº†æ›´å¼ºå¤§æ›´å¼•äººæ³¨ç›®çš„å†…å»ºæ¶ˆæ¯è¾“å…¥è¾“å‡ºèƒ½åŠ›ï¼Œé€šè¿‡yieldå’Œnext(..)å®ç°ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">foo</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> y = x * (<span class="keyword">yield</span>);</span><br><span class="line">    <span class="keyword">return</span> y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> it = <span class="title function_">foo</span>( <span class="number">6</span> );</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¯åŠ¨foo(..)</span></span><br><span class="line">it.<span class="title function_">next</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> res = it.<span class="title function_">next</span>( <span class="number">7</span> );</span><br><span class="line"></span><br><span class="line">res.<span class="property">value</span>;     <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><blockquote><p>æ ¹æ®ä½ çš„è§†è§’ä¸åŒï¼Œyieldå’Œnext(..)è°ƒç”¨æœ‰ä¸€ä¸ªä¸åŒ¹é…ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œéœ€è¦çš„next(..)è°ƒç”¨è¦æ¯”yieldè¯­å¥å¤šä¸€ä¸ªï¼Œå‰é¢çš„ä»£ç ç‰‡æ®µæœ‰ä¸€ä¸ªyieldå’Œä¸¤ä¸ªnext(..)è°ƒç”¨ã€‚</p><p>å› ä¸ºç¬¬ä¸€ä¸ªnext(..)æ€»æ˜¯å¯åŠ¨ä¸€ä¸ªç”Ÿæˆå™¨ï¼Œå¹¶è¿è¡Œåˆ°ç¬¬ä¸€ä¸ªyieldå¤„ã€‚ä¸è¿‡ï¼Œæ˜¯ç¬¬äºŒä¸ªnext(..)è°ƒç”¨å®Œæˆç¬¬ä¸€ä¸ªè¢«æš‚åœçš„yieldè¡¨è¾¾å¼ï¼Œç¬¬ä¸‰ä¸ªnext(..)è°ƒç”¨å®Œæˆç¬¬äºŒä¸ªyieldï¼Œä»¥æ­¤ç±»æ¨ã€‚</p></blockquote><p><strong>æ³¨æ„ï¼šåœ¨ç”Ÿæˆå™¨çš„èµ·å§‹å¤„æˆ‘ä»¬è°ƒç”¨ç¬¬ä¸€ä¸ªnext()æ—¶ï¼Œè¿˜æ²¡æœ‰æš‚åœçš„yieldæ¥æ¥å—è¿™æ ·ä¸€ä¸ªå€¼ã€‚è§„èŒƒå’Œæ‰€æœ‰å…¼å®¹æµè§ˆå™¨éƒ½ä¼šé»˜é»˜ä¸¢å¼ƒä¼ é€’ç»™ç¬¬ä¸€ä¸ªnext()çš„ä»»ä½•ä¸œè¥¿ã€‚å› æ­¤ï¼Œå¯åŠ¨ç”Ÿæˆå™¨æ—¶ä¸€å®šè¦ç”¨ä¸å¸¦å‚æ•°çš„next()ã€‚</strong></p><p>å¦‚æœä½ çš„ç”Ÿæˆå™¨ä¸­æ²¡æœ‰returnçš„è¯â€”â€”åœ¨ç”Ÿæˆå™¨ä¸­å’Œåœ¨æ™®é€šå‡½æ•°ä¸­ä¸€æ ·ï¼Œreturnå½“ç„¶ä¸æ˜¯å¿…éœ€çš„â€”â€”æ€»æœ‰ä¸€ä¸ªå‡å®šçš„/éšå¼çš„return;ï¼ˆä¹Ÿå°±æ˜¯return undefined;ï¼‰ï¼Œ<strong>å®ƒä¼šåœ¨é»˜è®¤æƒ…å†µä¸‹å›ç­”æœ€åçš„it.next(7)è°ƒç”¨æå‡ºçš„é—®é¢˜</strong>ã€‚</p><h5 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h5><blockquote><p>å®ƒçš„æ¥å£ä¸­æœ‰ä¸€ä¸ªnext()æ–¹æ³•ã€‚è€Œä¸å…¶ç´§å¯†ç›¸å…³çš„ä¸€ä¸ªæœ¯è¯­æ˜¯iterableï¼ˆå¯è¿­ä»£ï¼‰ï¼Œå³æŒ‡ä¸€ä¸ªåŒ…å«å¯ä»¥åœ¨å…¶å€¼ä¸Šè¿­ä»£çš„è¿­ä»£å™¨çš„å¯¹è±¡ã€‚</p><p>å…¶åç§°æ˜¯ä¸“é—¨çš„ES6ç¬¦å·å€¼Symbol.iteratorã€‚è°ƒç”¨è¿™ä¸ªå‡½æ•°æ—¶ï¼Œå®ƒä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨ã€‚é€šå¸¸æ¯æ¬¡è°ƒç”¨ä¼šè¿”å›ä¸€ä¸ªå…¨æ–°çš„è¿­ä»£å™¨ï¼Œè™½ç„¶è¿™ä¸€ç‚¹å¹¶ä¸æ˜¯å¿…é¡»çš„ã€‚</p></blockquote><p>ç”Ÿæˆå™¨å®ç°æ ‡å‡†çš„è¿­ä»£å™¨æ¥å£ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> something = (<span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">var</span> nextVal;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="comment">// for..ofå¾ªç¯éœ€è¦</span></span><br><span class="line">      [<span class="title class_">Symbol</span>.<span class="property">iterator</span>]: <span class="keyword">function</span>(<span class="params"></span>)&#123; <span class="keyword">return</span> <span class="variable language_">this</span>; &#125;,</span><br><span class="line"></span><br><span class="line">      <span class="comment">// æ ‡å‡†è¿­ä»£å™¨æ¥å£æ–¹æ³•</span></span><br><span class="line">      <span class="attr">next</span>: <span class="keyword">function</span>(<span class="params"></span>)&#123;</span><br><span class="line">          <span class="keyword">if</span> (nextVal === <span class="literal">undefined</span>) &#123;</span><br><span class="line">              nextVal = <span class="number">1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">else</span> &#123;</span><br><span class="line">              nextVal = (<span class="number">3</span> * nextVal) + <span class="number">6</span>;</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">return</span> &#123; <span class="attr">done</span>:<span class="literal">false</span>, <span class="attr">value</span>:nextVal &#125;;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line">something.<span class="title function_">next</span>().<span class="property">value</span>;     <span class="comment">// 1</span></span><br><span class="line">something.<span class="title function_">next</span>().<span class="property">value</span>;     <span class="comment">// 9</span></span><br><span class="line">something.<span class="title function_">next</span>().<span class="property">value</span>;     <span class="comment">// 33</span></span><br><span class="line">something.<span class="title function_">next</span>().<span class="property">value</span>;     <span class="comment">// 105</span></span><br></pre></td></tr></table></figure><p>å†…ç½®è¿­ä»£å™¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> it = a[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]();</span><br><span class="line"></span><br><span class="line">it.<span class="title function_">next</span>().<span class="property">value</span>;    <span class="comment">// 1</span></span><br><span class="line">it.<span class="title function_">next</span>().<span class="property">value</span>;    <span class="comment">// 3</span></span><br><span class="line">it.<span class="title function_">next</span>().<span class="property">value</span>;    <span class="comment">// 5</span></span><br><span class="line">..</span><br></pre></td></tr></table></figure><p>å‰é¢çš„ä»£ç ä¸­åˆ—å‡ºäº†å®šä¹‰çš„somethingï¼Œä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°äº†è¿™ä¸€è¡Œ</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// for..ofå¾ªç¯éœ€è¦</span></span><br><span class="line">[<span class="title class_">Symbol</span>.<span class="property">iterator</span>]: <span class="keyword">function</span>(<span class="params"></span>)&#123; <span class="keyword">return</span> <span class="variable language_">this</span>; &#125;</span><br></pre></td></tr></table></figure><p>è¿™æ®µæœ‰ç‚¹ä»¤äººç–‘æƒ‘çš„ä»£ç æ˜¯åœ¨å°†somethingçš„å€¼ï¼ˆè¿­ä»£å™¨somethingçš„æ¥å£ï¼‰ä¹Ÿæ„å»ºæˆä¸ºä¸€ä¸ªiterableã€‚ç°åœ¨å®ƒæ—¢æ˜¯iterableï¼Œä¹Ÿæ˜¯è¿­ä»£å™¨ã€‚ç„¶åæˆ‘ä»¬æŠŠsomethingä¼ ç»™for..ofå¾ªç¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> v <span class="keyword">of</span> something) &#123;</span><br><span class="line">    ..</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="ç”Ÿæˆå™¨è¿­ä»£å™¨"><a href="#ç”Ÿæˆå™¨è¿­ä»£å™¨" class="headerlink" title="ç”Ÿæˆå™¨è¿­ä»£å™¨"></a>ç”Ÿæˆå™¨è¿­ä»£å™¨</h5><blockquote><p>å¯ä»¥æŠŠç”Ÿæˆå™¨çœ‹ä½œä¸€ä¸ªå€¼çš„ç”Ÿäº§è€…ï¼Œæˆ‘ä»¬é€šè¿‡è¿­ä»£å™¨æ¥å£çš„next()è°ƒç”¨ä¸€æ¬¡æå–å‡ºä¸€ä¸ªå€¼ã€‚</p><p>ä¸¥æ ¼è¯´æ¥ï¼Œç”Ÿæˆå™¨æœ¬èº«å¹¶ä¸æ˜¯iterableï¼Œå°½ç®¡éå¸¸ç±»ä¼¼â€”â€”å½“ä½ æ‰§è¡Œä¸€ä¸ªç”Ÿæˆå™¨ï¼Œå°±å¾—åˆ°äº†ä¸€ä¸ªè¿­ä»£å™¨ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">foo</span>(<span class="params"></span>)&#123; .. &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> it = <span class="title function_">foo</span>();</span><br></pre></td></tr></table></figure><p>å¯ä»¥é€šè¿‡ç”Ÿæˆå™¨å®ç°å‰é¢çš„è¿™ä¸ªsomethingæ— é™æ•°å­—åºåˆ—ç”Ÿäº§è€…ï¼Œç±»ä¼¼è¿™æ ·ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">something</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> nextVal;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (nextVal === <span class="literal">undefined</span>) &#123;</span><br><span class="line">          nextVal = <span class="number">1</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">else</span> &#123;</span><br><span class="line">          nextVal = (<span class="number">3</span> * nextVal) + <span class="number">6</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">yield</span> nextVal;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€¢ ä¸ºä»€ä¹ˆä¸èƒ½ç”¨for (var v of something) .. ï¼Ÿå› ä¸ºè¿™é‡Œçš„somethingæ˜¯ç”Ÿæˆå™¨ï¼Œå¹¶ä¸æ˜¯iterableã€‚æˆ‘ä»¬éœ€è¦è°ƒç”¨something()æ¥æ„é€ ä¸€ä¸ªç”Ÿäº§è€…ä¾›for..ofå¾ªç¯è¿­ä»£ã€‚</p><p>â€¢ something()è°ƒç”¨äº§ç”Ÿä¸€ä¸ªè¿­ä»£å™¨ï¼Œä½†for..ofå¾ªç¯éœ€è¦çš„æ˜¯ä¸€ä¸ªiterableï¼Œå¯¹å§ï¼Ÿæ˜¯çš„ã€‚ç”Ÿæˆå™¨çš„è¿­ä»£å™¨ä¹Ÿæœ‰ä¸€ä¸ªSymbol.iteratorå‡½æ•°ï¼ŒåŸºæœ¬ä¸Šè¿™ä¸ªå‡½æ•°åšçš„å°±æ˜¯return thisï¼Œå’Œæˆ‘ä»¬å‰é¢å®šä¹‰çš„iterable somethingä¸€æ ·ã€‚æ¢å¥è¯è¯´ï¼Œç”Ÿæˆå™¨çš„è¿­ä»£å™¨ä¹Ÿæ˜¯ä¸€ä¸ªiterableï¼</p><h5 id="åœæ­¢ç”Ÿæˆå™¨"><a href="#åœæ­¢ç”Ÿæˆå™¨" class="headerlink" title="åœæ­¢ç”Ÿæˆå™¨"></a>åœæ­¢ç”Ÿæˆå™¨</h5><blockquote><p>something()ç”Ÿæˆå™¨çš„è¿­ä»£å™¨å®ä¾‹åœ¨å¾ªç¯ä¸­çš„breakè°ƒç”¨ä¹‹åå°±æ°¸è¿œç•™åœ¨äº†æŒ‚èµ·çŠ¶æ€ã€‚</p><p>å…¶å®æœ‰ä¸€ä¸ªéšè—çš„ç‰¹æ€§ä¼šå¸®åŠ©ä½ ç®¡ç†æ­¤äº‹ã€‚for..ofå¾ªç¯çš„â€œå¼‚å¸¸ç»“æŸâ€ï¼ˆä¹Ÿå°±æ˜¯â€œæå‰ç»ˆæ­¢â€ï¼‰ï¼Œé€šå¸¸ç”±breakã€returnæˆ–è€…æœªæ•è·å¼‚å¸¸å¼•èµ·ï¼Œä¼šå‘ç”Ÿæˆå™¨çš„è¿­ä»£å™¨å‘é€ä¸€ä¸ªä¿¡å·ä½¿å…¶ç»ˆæ­¢ã€‚</p></blockquote><p>å¦‚æœåœ¨ç”Ÿæˆå™¨å†…æœ‰try..finallyè¯­å¥ï¼Œå®ƒå°†æ€»æ˜¯è¿è¡Œï¼Œå³ä½¿ç”Ÿæˆå™¨å·²ç»å¤–éƒ¨ç»“æŸã€‚å¦‚æœéœ€è¦æ¸…ç†èµ„æºçš„è¯ï¼ˆæ•°æ®åº“è¿æ¥ç­‰ï¼‰ï¼Œè¿™ä¸€ç‚¹éå¸¸æœ‰ç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">something</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> nextVal;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">          <span class="keyword">if</span> (nextVal === <span class="literal">undefined</span>) &#123;</span><br><span class="line">              nextVal = <span class="number">1</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">else</span> &#123;</span><br><span class="line">              nextVal = (<span class="number">3</span> ï¼Š nextVal) + <span class="number">6</span>;</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="keyword">yield</span> nextVal;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// æ¸…ç†å­å¥</span></span><br><span class="line">    <span class="keyword">finally</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;cleaning up! &quot;</span> );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹‹å‰çš„ä¾‹å­ä¸­ï¼Œfor..ofå¾ªç¯å†…çš„breakä¼šè§¦å‘finallyè¯­å¥ã€‚ä½†æ˜¯ï¼Œä¹Ÿå¯ä»¥åœ¨å¤–éƒ¨é€šè¿‡return(..)æ‰‹å·¥ç»ˆæ­¢ç”Ÿæˆå™¨çš„è¿­ä»£å™¨å®ä¾‹</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> it = <span class="title function_">something</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> v <span class="keyword">of</span> it) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>( v );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸è¦æ­»å¾ªç¯ï¼</span></span><br><span class="line">    <span class="keyword">if</span> (v &gt; <span class="number">500</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(</span><br><span class="line">          <span class="comment">// å®Œæˆç”Ÿæˆå™¨çš„è¿­ä»£å™¨</span></span><br><span class="line">          it.<span class="keyword">return</span>( <span class="string">&quot;Hello World&quot;</span> ).<span class="property">value</span></span><br><span class="line">      );</span><br><span class="line">      <span class="comment">// è¿™é‡Œä¸éœ€è¦break</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1 9 33105 321969</span></span><br><span class="line"><span class="comment">// cleaning up!</span></span><br><span class="line"><span class="comment">// Hello World</span></span><br></pre></td></tr></table></figure><h5 id="å¼‚æ­¥è¿­ä»£ç”Ÿæˆå™¨"><a href="#å¼‚æ­¥è¿­ä»£ç”Ÿæˆå™¨" class="headerlink" title="å¼‚æ­¥è¿­ä»£ç”Ÿæˆå™¨"></a>å¼‚æ­¥è¿­ä»£ç”Ÿæˆå™¨</h5><p>å¦‚æœæƒ³è¦é€šè¿‡ç”Ÿæˆå™¨æ¥è¡¨è¾¾åŒæ ·çš„ä»»åŠ¡æµç¨‹æ§åˆ¶ï¼Œå¯ä»¥è¿™æ ·å®ç°ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="title function_">ajax</span>(</span><br><span class="line">      <span class="string">&quot;http://some.url.1/? x=&quot;</span> + x + <span class="string">&quot;&amp;y=&quot;</span> + y,</span><br><span class="line">      <span class="keyword">function</span>(<span class="params">err, data</span>)&#123;</span><br><span class="line">          <span class="keyword">if</span> (err) &#123;</span><br><span class="line">              <span class="comment">// å‘*main()æŠ›å‡ºä¸€ä¸ªé”™è¯¯</span></span><br><span class="line">              it.<span class="keyword">throw</span>( err );</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">else</span> &#123;</span><br><span class="line">              <span class="comment">// ç”¨æ”¶åˆ°çš„dataæ¢å¤ï¼Šmain()</span></span><br><span class="line">              it.<span class="title function_">next</span>( data );</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> *<span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> text = <span class="keyword">yield</span> <span class="title function_">foo</span>( <span class="number">11</span>, <span class="number">31</span> );</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( text );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>( err );</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> it = <span class="title function_">main</span>();</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è¿™é‡Œå¯åŠ¨ï¼</span></span><br><span class="line">  it.<span class="title function_">next</span>();</span><br></pre></td></tr></table></figure><p>è¿™æ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿè°ƒç”¨foo(..)æ˜¯å¼‚æ­¥å®Œæˆçš„ï¼Œéš¾é“try..catchä¸æ˜¯æ— æ³•æ•è·å¼‚æ­¥é”™è¯¯ï¼Œå°±åƒæˆ‘ä»¬åœ¨ç¬¬3ç« ä¸­çœ‹åˆ°çš„ä¸€æ ·å—ï¼Ÿ</p><p>æˆ‘ä»¬å·²ç»çœ‹åˆ°yieldæ˜¯å¦‚ä½•è®©èµ‹å€¼è¯­å¥æš‚åœæ¥ç­‰å¾…foo(..)å®Œæˆï¼Œä½¿å¾—å“åº”å®Œæˆåå¯ä»¥è¢«èµ‹ç»™textã€‚ç²¾å½©çš„éƒ¨åˆ†åœ¨äºyieldæš‚åœä¹Ÿä½¿å¾—ç”Ÿæˆå™¨èƒ½å¤Ÿæ•è·é”™è¯¯ã€‚é€šè¿‡è¿™æ®µå‰é¢åˆ—å‡ºçš„ä»£ç æŠŠé”™è¯¯æŠ›å‡ºåˆ°ç”Ÿæˆå™¨ä¸­ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (err) &#123;</span><br><span class="line">      <span class="comment">// å‘*main()æŠ›å‡ºä¸€ä¸ªé”™è¯¯</span></span><br><span class="line">      it.<span class="keyword">throw</span>( err );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”Ÿæˆå™¨yieldæš‚åœçš„ç‰¹æ€§æ„å‘³ç€æˆ‘ä»¬ä¸ä»…èƒ½å¤Ÿä»å¼‚æ­¥å‡½æ•°è°ƒç”¨å¾—åˆ°çœ‹ä¼¼åŒæ­¥çš„è¿”å›å€¼ï¼Œè¿˜å¯ä»¥åŒæ­¥æ•è·æ¥è‡ªè¿™äº›å¼‚æ­¥å‡½æ•°è°ƒç”¨çš„é”™è¯¯ï¼</p><h5 id="ç”Ÿæˆå™¨-Promise"><a href="#ç”Ÿæˆå™¨-Promise" class="headerlink" title="ç”Ÿæˆå™¨+Promise"></a>ç”Ÿæˆå™¨+Promise</h5><blockquote><p>ES6ä¸­æœ€å®Œç¾çš„ä¸–ç•Œå°±æ˜¯ç”Ÿæˆå™¨ï¼ˆçœ‹ä¼¼åŒæ­¥çš„å¼‚æ­¥ä»£ç ï¼‰å’ŒPromiseï¼ˆå¯ä¿¡ä»»å¯ç»„åˆï¼‰çš„ç»“åˆ</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">request</span>(<span class="string">&quot;http://some.url.1/? x=&quot;</span> + x + <span class="string">&quot;&amp;y=&quot;</span> + y);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> *<span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> text = <span class="keyword">yield</span> <span class="title function_">foo</span>( <span class="number">11</span>, <span class="number">31</span> );</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( text );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>( err );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> it = <span class="title function_">main</span>();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> p = it.<span class="title function_">next</span>().<span class="property">value</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç­‰å¾…promise på†³è®®</span></span><br><span class="line">p.<span class="title function_">then</span>(</span><br><span class="line">    <span class="keyword">function</span>(<span class="params">text</span>)&#123;</span><br><span class="line">      it.<span class="title function_">next</span>( text );</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span>(<span class="params">err</span>)&#123;</span><br><span class="line">      it.<span class="keyword">throw</span>( err );</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ä¸“é—¨è®¾è®¡ç”¨æ¥ä»¥æˆ‘ä»¬å‰é¢å±•ç¤ºçš„æ–¹å¼è¿è¡ŒPromise-yieldingç”Ÿæˆå™¨çš„å·¥å…·ã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨æ­¤æ„Ÿè°¢Benjamin Gruenbaumï¼ˆ@benjamingr on GitHubï¼‰çš„å·¨å¤§æ”¹è¿›ï¼</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">run</span>(<span class="params">gen</span>) &#123;</span><br><span class="line">    <span class="comment">// å»é™¤ç¬¬ä¸€ä¸ªå‚æ•°</span></span><br><span class="line">    <span class="keyword">var</span> args = [].<span class="property">slice</span>.<span class="title function_">call</span>( <span class="variable language_">arguments</span>, <span class="number">1</span>), it;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åœ¨å½“å‰ä¸Šä¸‹æ–‡ä¸­åˆå§‹åŒ–ç”Ÿæˆå™¨</span></span><br><span class="line">    it = gen.<span class="title function_">apply</span>( <span class="variable language_">this</span>, args );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¿”å›ä¸€ä¸ªpromiseç”¨äºç”Ÿæˆå™¨å®Œæˆ</span></span><br><span class="line">    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>()</span><br><span class="line">        .<span class="title function_">then</span>( <span class="keyword">function</span> <span class="title function_">handleNext</span>(<span class="params">value</span>)&#123;</span><br><span class="line">            <span class="comment">// å¯¹ä¸‹ä¸€ä¸ªyieldå‡ºçš„å€¼è¿è¡Œ</span></span><br><span class="line">            <span class="keyword">var</span> next = it.<span class="title function_">next</span>( value );</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> (<span class="keyword">function</span> <span class="title function_">handleResult</span>(<span class="params">next</span>)&#123;</span><br><span class="line">                <span class="comment">// ç”Ÿæˆå™¨è¿è¡Œå®Œæ¯•äº†å—ï¼Ÿ</span></span><br><span class="line">                <span class="keyword">if</span> (next.<span class="property">done</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> next.<span class="property">value</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// å¦åˆ™ç»§ç»­è¿è¡Œ</span></span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>( next.<span class="property">value</span> )</span><br><span class="line">                    .<span class="title function_">then</span>(</span><br><span class="line">                        <span class="comment">// æˆåŠŸå°±æ¢å¤å¼‚æ­¥å¾ªç¯ï¼ŒæŠŠå†³è®®çš„å€¼å‘å›ç”Ÿæˆå™¨</span></span><br><span class="line">                        handleNext,</span><br><span class="line"></span><br><span class="line">                        <span class="comment">// å¦‚æœvalueæ˜¯è¢«æ‹’ç»çš„promiseï¼Œ</span></span><br><span class="line">                        <span class="comment">// å°±æŠŠé”™è¯¯ä¼ å›ç”Ÿæˆå™¨è¿›è¡Œå‡ºé”™å¤„ç†</span></span><br><span class="line">                        <span class="keyword">function</span> <span class="title function_">handleErr</span>(<span class="params">err</span>) &#123;</span><br><span class="line">                            <span class="keyword">return</span> <span class="title class_">Promise</span>.<span class="title function_">resolve</span>(</span><br><span class="line">                            it.<span class="keyword">throw</span>( err )</span><br><span class="line">                            .<span class="title function_">then</span>( handleResult );</span><br><span class="line">                        &#125;</span><br><span class="line">                    );</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)(next);</span><br><span class="line">        &#125; );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ä¸Šè¾¹ä¾‹å­ä½¿ç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> *<span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">run</span>( main );</span><br></pre></td></tr></table></figure><h5 id="ES7-asyncä¸await"><a href="#ES7-asyncä¸await" class="headerlink" title="ES7:asyncä¸await?"></a>ES7:asyncä¸await?</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x, y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">request</span>(</span><br><span class="line">      <span class="string">&quot;http://some.url.1/? x=&quot;</span> + x + <span class="string">&quot;&amp;y=&quot;</span> + y</span><br><span class="line">    );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">var</span> text = <span class="keyword">await</span> <span class="title function_">foo</span>( <span class="number">11</span>, <span class="number">31</span> );</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>( text );</span><br><span class="line">    &#125;</span><br><span class="line">                <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>( err );</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">main</span>();</span><br></pre></td></tr></table></figure><h3 id="ç¨‹åºæ€§èƒ½"><a href="#ç¨‹åºæ€§èƒ½" class="headerlink" title="ç¨‹åºæ€§èƒ½"></a>ç¨‹åºæ€§èƒ½</h3><h4 id="Web-Worker"><a href="#Web-Worker" class="headerlink" title="Web Worker"></a>Web Worker</h4><blockquote><p>å¦‚æœä½ æœ‰ä¸€äº›å¤„ç†å¯†é›†å‹çš„ä»»åŠ¡è¦æ‰§è¡Œï¼Œä½†ä¸å¸Œæœ›å®ƒä»¬éƒ½åœ¨ä¸»çº¿ç¨‹è¿è¡Œï¼ˆè¿™å¯èƒ½ä¼šå‡æ…¢æµè§ˆå™¨/UIï¼‰ï¼Œå¯èƒ½ä½ å°±ä¼šå¸Œæœ›JavaScriptèƒ½å¤Ÿä»¥å¤šçº¿ç¨‹çš„æ–¹å¼è¿è¡Œã€‚</p><p>æµè§ˆå™¨è¿™æ ·çš„ç¯å¢ƒï¼Œå¾ˆå®¹æ˜“æä¾›å¤šä¸ªJavaScriptå¼•æ“å®ä¾‹ï¼Œå„è‡ªè¿è¡Œåœ¨è‡ªå·±çš„çº¿ç¨‹ä¸Šï¼Œè¿™æ ·ä½ å¯ä»¥åœ¨æ¯ä¸ªçº¿ç¨‹ä¸Šè¿è¡Œä¸åŒçš„ç¨‹åºã€‚ç¨‹åºä¸­æ¯ä¸€ä¸ªè¿™æ ·çš„ç‹¬ç«‹çš„å¤šçº¿ç¨‹éƒ¨åˆ†è¢«ç§°ä¸ºä¸€ä¸ªï¼ˆWebï¼‰Workerã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> w1 = <span class="keyword">new</span> <span class="title class_">Worker</span>( <span class="string">&quot;http://some.url.1/mycoolworker.js&quot;</span> );</span><br></pre></td></tr></table></figure><p>è¿™ä¸ª<strong>URLåº”è¯¥æŒ‡å‘ä¸€ä¸ªJavaScriptæ–‡ä»¶çš„ä½ç½®</strong>ï¼Œè¿˜å¯ä»¥é€šè¿‡æä¾›ä¸€ä¸ª<strong>Blob URL</strong>ï¼ˆå¦å¤–ä¸€ä¸ªHTML5ç‰¹æ€§ï¼‰åˆ›å»ºä¸€ä¸ªåœ¨çº¿Workerï¼ˆInline Worker)ï¼Œæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå­˜å‚¨åœ¨å•ä¸ªï¼ˆäºŒè¿›åˆ¶ï¼‰å€¼ä¸­çš„åœ¨çº¿æ–‡ä»¶</p><p>Workerä¹‹é—´ä»¥åŠ<strong>å®ƒä»¬å’Œä¸»ç¨‹åºä¹‹é—´ï¼Œä¸ä¼šå…±äº«ä»»ä½•ä½œç”¨åŸŸæˆ–èµ„æº</strong>ï¼Œé‚£ä¼šæŠŠæ‰€æœ‰å¤šçº¿ç¨‹ç¼–ç¨‹çš„å™©æ¢¦å¸¦åˆ°å‰ç«¯é¢†åŸŸï¼Œè€Œæ˜¯é€šè¿‡ä¸€ä¸ªåŸºæœ¬çš„<strong>äº‹ä»¶æ¶ˆæ¯æœºåˆ¶ç›¸äº’è”ç³»</strong>ã€‚</p><p>Worker w1å¯¹è±¡æ˜¯ä¸€ä¸ªäº‹ä»¶ä¾¦å¬è€…å’Œè§¦å‘è€…ï¼Œå¯ä»¥é€šè¿‡è®¢é˜…å®ƒæ¥è·å¾—è¿™ä¸ªWorkerå‘å‡ºçš„äº‹ä»¶ä»¥åŠå‘é€äº‹ä»¶ç»™è¿™ä¸ªWorkerã€‚</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›‘å¬ worker æ¶ˆæ¯å‘é€</span></span><br><span class="line">w1.<span class="title function_">addEventListener</span>( <span class="string">&quot;message&quot;</span>, <span class="keyword">function</span>(<span class="params">evt</span>)&#123;</span><br><span class="line">    <span class="comment">// evt.data</span></span><br><span class="line">&#125; );</span><br><span class="line"><span class="comment">// ä¸»åŠ¨å‘worker å‘é€æ¶ˆæ¯</span></span><br><span class="line">w1.<span class="title function_">postMessage</span>( <span class="string">&quot;something cool to say&quot;</span> );</span><br></pre></td></tr></table></figure><p>Workerå†…éƒ¨ï¼Œæ”¶å‘æ¶ˆæ¯æ˜¯å®Œå…¨å¯¹ç§°çš„ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// &quot;mycoolworker.js&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">addEventListener</span>( <span class="string">&quot;message&quot;</span>, <span class="keyword">function</span>(<span class="params">evt</span>)&#123;</span><br><span class="line"><span class="comment">// evt.data</span></span><br><span class="line">&#125; );</span><br><span class="line"></span><br><span class="line"><span class="title function_">postMessage</span>( <span class="string">&quot;a really cool reply&quot;</span> );</span><br></pre></td></tr></table></figure><p>Worker ä¹Ÿå¯ä»¥å®ä¾‹åŒ–å­Workerï¼Œç§°ä¸º subworker.æœ‰æ—¶å€™å§è¿™ä¸ªå·¥ä½œäº¤ç»™ä¸»workeråˆ›å»ºå…¶ä»–workerå¤„ç†éƒ¨åˆ†å¾ˆæœ‰ç”¨ï¼Œä¸å¹¸çš„æ˜¯ï¼Œåˆ°å†™ä½œæœ¬ä¹¦æ—¶ä¸ºæ­¢ï¼ŒChromeè¿˜ä¸æ”¯æŒsubworkerï¼Œä¸è¿‡Firefoxæ”¯æŒã€‚</p><h5 id="ç»ˆæ­¢Worker"><a href="#ç»ˆæ­¢Worker" class="headerlink" title="ç»ˆæ­¢Worker"></a><strong>ç»ˆæ­¢Worker</strong></h5><blockquote><p>çªç„¶ç»ˆæ­¢Workerçº¿ç¨‹ä¸ä¼šç»™å®ƒä»»ä½•æœºä¼šå®Œæˆå®ƒçš„å·¥ä½œæˆ–è€…æ¸…ç†ä»»ä½•èµ„æºã€‚è¿™å°±ç±»ä¼¼äºé€šè¿‡å…³é—­æµè§ˆå™¨æ ‡ç­¾é¡µæ¥å…³é—­é¡µé¢ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">w1.<span class="title function_">terminate</span>()</span><br></pre></td></tr></table></figure><p>å¦‚æœæµè§ˆå™¨ä¸­æœ‰ä¸¤ä¸ªæˆ–å¤šä¸ªé¡µé¢ï¼ˆæˆ–åŒä¸€é¡µä¸Šçš„å¤šä¸ªtab!ï¼‰è¯•å›¾ä»åŒä¸€ä¸ªæ–‡ä»¶URLåˆ›å»ºWorkerï¼Œé‚£ä¹ˆæœ€ç»ˆå¾—åˆ°çš„å®é™…ä¸Šæ˜¯å®Œå…¨ç‹¬ç«‹çš„Workerã€‚åé¢æˆ‘ä»¬ä¼šç®€å•ä»‹ç»å¦‚ä½•å…±äº«Workerã€‚</p><h5 id="Workerç¯å¢ƒ"><a href="#Workerç¯å¢ƒ" class="headerlink" title="Workerç¯å¢ƒ"></a><strong>Workerç¯å¢ƒ</strong></h5><blockquote><p>åœ¨Workerå†…éƒ¨æ˜¯æ— æ³•è®¿é—®ä¸»ç¨‹åºçš„ä»»ä½•èµ„æºçš„ã€‚è¿™æ„å‘³ç€ä½ ä¸èƒ½è®¿é—®å®ƒçš„ä»»ä½•å…¨å±€å˜é‡ï¼Œä¹Ÿä¸èƒ½è®¿é—®é¡µé¢çš„DOMæˆ–è€…å…¶ä»–èµ„æºã€‚è¿™æ˜¯ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„çº¿ç¨‹</p><p>ä½†æ˜¯ï¼Œä½ å¯ä»¥æ‰§è¡Œ<strong>ç½‘ç»œæ“ä½œï¼ˆAjaxã€WebSocketsï¼‰ä»¥åŠè®¾å®šå®šæ—¶å™¨</strong>ã€‚è¿˜æœ‰ï¼ŒWorkerå¯ä»¥è®¿é—®å‡ ä¸ªé‡è¦çš„å…¨å±€å˜é‡å’ŒåŠŸèƒ½çš„æœ¬åœ°å¤æœ¬ï¼ŒåŒ…æ‹¬<strong>navigatorã€locationã€JSONå’ŒapplicationCache</strong>ã€‚</p></blockquote><p>å¯ä»¥é€šè¿‡importScripts(..)å‘WorkeråŠ è½½é¢å¤–çš„JavaScriptè„šæœ¬ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨Workerå†…éƒ¨</span></span><br><span class="line"><span class="title function_">importScripts</span>( <span class="string">&quot;foo.js&quot;</span>, <span class="string">&quot;bar.js&quot;</span> );</span><br></pre></td></tr></table></figure><p>è¿™äº›è„šæœ¬åŠ è½½æ˜¯åŒæ­¥çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒimportScripts(..)è°ƒç”¨ä¼šé˜»å¡ä½™ä¸‹Workerçš„æ‰§è¡Œï¼Œç›´åˆ°æ–‡ä»¶åŠ è½½å’Œæ‰§è¡Œå®Œæˆã€‚</p><p>Web Workeré€šå¸¸åº”ç”¨äºå“ªäº›æ–¹é¢å‘¢ï¼Ÿ</p><p>â€¢ å¤„ç†å¯†é›†å‹æ•°å­¦è®¡ç®—</p><p>â€¢ å¤§æ•°æ®é›†æ’åº</p><p>â€¢ æ•°æ®å¤„ç†ï¼ˆå‹ç¼©ã€éŸ³é¢‘åˆ†æã€å›¾åƒå¤„ç†ç­‰ï¼‰</p><p>â€¢ é«˜æµé‡ç½‘ç»œé€šä¿¡</p><h5 id="æ•°æ®ä¼ é€’"><a href="#æ•°æ®ä¼ é€’" class="headerlink" title="æ•°æ®ä¼ é€’"></a>æ•°æ®ä¼ é€’</h5><blockquote><p>ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°è¿™äº›åº”ç”¨ä¸­çš„å¤§å¤šæ•°æœ‰ä¸€ä¸ªå…±æ€§ï¼Œå°±æ˜¯éœ€è¦åœ¨çº¿ç¨‹ä¹‹é—´é€šè¿‡äº‹ä»¶æœºåˆ¶ä¼ é€’å¤§é‡çš„ä¿¡æ¯ï¼Œå¯èƒ½æ˜¯åŒå‘çš„ã€‚</p></blockquote><p>æ—©æœŸ Workerä¸­ï¼Œå”¯ä¸€çš„é€‰æ‹©å°±æ˜¯æŠŠæ‰€æœ‰æ•°æ®åºåˆ—åŒ–åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²å€¼ä¸­ã€‚é™¤äº†åŒå‘åºåˆ—åŒ–å¯¼è‡´çš„é€Ÿåº¦æŸå¤±ä¹‹å¤–ï¼Œå¦ä¸€ä¸ªä¸»è¦çš„è´Ÿé¢å› ç´ æ˜¯æ•°æ®éœ€è¦è¢«å¤åˆ¶ï¼Œè¿™æ„å‘³ç€ä¸¤å€çš„å†…å­˜ä½¿ç”¨ï¼ˆåŠå…¶å¼•èµ·çš„åƒåœ¾æ”¶é›†æ–¹é¢çš„æ³¢åŠ¨ï¼‰ã€‚</p><p><strong>ç»“æ„åŒ–å…‹éš†ç®—æ³•</strong></p><blockquote><p>å¦‚æœè¦ä¼ é€’ä¸€ä¸ªå¯¹è±¡ï¼Œå¯ä»¥<strong>ä½¿ç”¨ç»“æ„åŒ–å…‹éš†ç®—æ³•æŠŠè¿™ä¸ªå¯¹è±¡å¤åˆ¶åˆ°å¦ä¸€è¾¹</strong>ã€‚è¿™ä¸ªç®—æ³•éå¸¸é«˜çº§ï¼Œç”šè‡³å¯ä»¥å¤„ç†è¦å¤åˆ¶çš„å¯¹è±¡æœ‰å¾ªç¯å¼•ç”¨çš„æƒ…å†µã€‚</p></blockquote><p><strong>Transferableå¯¹è±¡</strong></p><blockquote><p>å¯¹äºå¤§æ•°æ®é›†è€Œè¨€ï¼Œå°±æ˜¯ä½¿ç”¨Transferableå¯¹è±¡ã€‚è¿™æ—¶å‘ç”Ÿçš„æ˜¯<strong>å¯¹è±¡æ‰€æœ‰æƒçš„è½¬ç§»</strong>ï¼Œæ•°æ®æœ¬èº«å¹¶æ²¡æœ‰ç§»åŠ¨ã€‚ä¸€æ—¦ä½ æŠŠå¯¹è±¡ä¼ é€’åˆ°ä¸€ä¸ªWorkerä¸­ï¼Œåœ¨åŸæ¥çš„ä½ç½®ä¸Šï¼Œå®ƒå°±å˜ä¸ºç©ºçš„æˆ–è€…æ˜¯ä¸å¯è®¿é—®çš„ï¼Œè¿™æ ·å°±æ¶ˆé™¤äº†å¤šçº¿ç¨‹ç¼–ç¨‹ä½œç”¨åŸŸå…±äº«å¸¦æ¥çš„æ··ä¹±ã€‚å½“ç„¶ï¼Œæ‰€æœ‰æƒä¼ é€’æ˜¯å¯ä»¥åŒå‘è¿›è¡Œçš„ã€‚</p></blockquote><p>å¦‚æœé€‰æ‹©Transferableå¯¹è±¡çš„è¯ï¼Œå…¶å®ä¸éœ€è¦åšä»€ä¹ˆã€‚ä»»ä½•å®ç°äº†Transferableæ¥å£ï¼ˆ<a href="http://developer.mozilla.org/en-US/docs/Web/API/Transferable%EF%BC%89%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%B0%B1%E8%87%AA%E5%8A%A8%E6%8C%89%E7%85%A7%E8%BF%99%E7%A7%8D%E6%96%B9%E5%BC%8F%E4%BC%A0%E8%BE%93%EF%BC%88Firefox%E5%92%8CChrome%E9%83%BD%E6%94%AF%E6%8C%81%EF%BC%89%E3%80%82">http://developer.mozilla.org/en-US/docs/Web/API/Transferableï¼‰çš„æ•°æ®ç»“æ„å°±è‡ªåŠ¨æŒ‰ç…§è¿™ç§æ–¹å¼ä¼ è¾“ï¼ˆFirefoxå’ŒChromeéƒ½æ”¯æŒï¼‰ã€‚</a></p><p>ä¸‹é¢æ˜¯å¦‚ä½•ä½¿ç”¨postMessage(..)å‘é€ä¸€ä¸ªTransferableå¯¹è±¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¯”å¦‚fooæ˜¯ä¸€ä¸ªUint8Array</span></span><br><span class="line"></span><br><span class="line"><span class="title function_">postMessage</span>( foo.<span class="property">buffer</span>, [ foo.<span class="property">buffer</span> ] );</span><br></pre></td></tr></table></figure><p>ä¸æ”¯æŒTransferableå¯¹è±¡çš„æµè§ˆå™¨å°±é™çº§åˆ°ç»“æ„åŒ–å…‹éš†ï¼Œè¿™ä¼šå¸¦æ¥æ€§èƒ½ä¸‹é™è€Œä¸æ˜¯å½»åº•çš„åŠŸèƒ½å¤±æ•ˆã€‚</p><h5 id="å…±äº«Worker"><a href="#å…±äº«Worker" class="headerlink" title="å…±äº«Worker"></a>å…±äº«Worker</h5><blockquote><p>å¦‚æœä½ çš„ç«™ç‚¹æˆ–appå…è®¸åŠ è½½åŒä¸€ä¸ªé¡µé¢çš„å¤šä¸ªtabï¼ˆä¸€ä¸ªå¸¸è§çš„åŠŸèƒ½ï¼‰ï¼Œé‚£ä½ å¯èƒ½éå¸¸å¸Œæœ›é€šè¿‡é˜²æ­¢é‡å¤ä¸“ç”¨Workeræ¥é™ä½ç³»ç»Ÿçš„èµ„æºä½¿ç”¨ã€‚åœ¨è¿™ä¸€æ–¹é¢æœ€å¸¸è§çš„æœ‰é™èµ„æºå°±æ˜¯socketç½‘ç»œè¿æ¥ï¼Œå› ä¸ºæµè§ˆå™¨é™åˆ¶äº†åˆ°åŒä¸€ä¸ªä¸»æœºçš„åŒæ—¶è¿æ¥æ•°ç›®ã€‚å½“ç„¶ï¼Œé™åˆ¶æ¥è‡ªäºåŒä¸€å®¢æˆ·ç«¯çš„è¿æ¥æ•°ä¹Ÿå‡è½»äº†ä½ çš„èµ„æºå‹åŠ›ã€‚</p></blockquote><p>è¿™ç§°ä¸ºSharedWorkerï¼Œå¯é€šè¿‡ä¸‹é¢çš„æ–¹å¼åˆ›å»ºï¼ˆåªæœ‰Firefoxå’ŒChromeæ”¯æŒè¿™ä¸€åŠŸèƒ½ï¼‰ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> w1 = <span class="keyword">new</span> <span class="title class_">SharedWorker</span>( <span class="string">&quot;http://some.url.1/mycoolworker.js&quot;</span> );</span><br></pre></td></tr></table></figure><p>Workeréœ€è¦é€šè¿‡æŸç§æ–¹å¼æ¥å¾—çŸ¥æ¶ˆæ¯æ¥è‡ªäºå“ªä¸ªç¨‹åºã€‚è¿™ä¸ªå”¯ä¸€æ ‡è¯†ç¬¦ç§°ä¸ºç«¯å£ï¼ˆportï¼‰ï¼Œå¯ä»¥ç±»æ¯”ç½‘ç»œsocketçš„ç«¯å£ã€‚å› æ­¤ï¼Œè°ƒç”¨ç¨‹åºå¿…é¡»ä½¿ç”¨Workerçš„portå¯¹è±¡ç”¨äºé€šä¿¡ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">w1.<span class="property">port</span>.<span class="title function_">addEventListener</span>( <span class="string">&quot;message&quot;</span>, handleMessages );</span><br><span class="line"></span><br><span class="line"><span class="comment">// ..</span></span><br><span class="line"></span><br><span class="line">w1.<span class="property">port</span>.<span class="title function_">postMessage</span>( <span class="string">&quot;something cool&quot;</span> );</span><br></pre></td></tr></table></figure><p>ç«¯å£è¿æ¥å¿…é¡»åˆå§‹åŒ–</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">w1.<span class="property">port</span>.<span class="title function_">start</span>();</span><br></pre></td></tr></table></figure><p>åœ¨å…±äº«Workerå†…éƒ¨ï¼Œå¿…é¡»è¦å¤„ç†é¢å¤–çš„ä¸€ä¸ªäº‹ä»¶ï¼šâ€connectâ€ã€‚è¿™ä¸ªäº‹ä»¶ä¸ºè¿™ä¸ªç‰¹å®šçš„è¿æ¥æä¾›äº†ç«¯å£å¯¹è±¡ã€‚ä¿æŒå¤šä¸ªè¿æ¥ç‹¬ç«‹çš„æœ€ç®€å•åŠæ³•å°±æ˜¯ä½¿ç”¨portä¸Šçš„é—­åŒ…å°±åƒä¸‹é¢çš„ä»£ç ä¸€æ ·ï¼ŒæŠŠè¿™ä¸ªé“¾æ¥ä¸Šçš„äº‹ä»¶ä¾¦å¬å’Œä¼ é€’å®šä¹‰åœ¨â€connectâ€äº‹ä»¶çš„å¤„ç†å‡½æ•°å†…éƒ¨ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åœ¨å…±äº«Workerå†…éƒ¨</span></span><br><span class="line"><span class="title function_">addEventListener</span>( <span class="string">&quot;connect&quot;</span>, <span class="keyword">function</span>(<span class="params">evt</span>)&#123;</span><br><span class="line">  <span class="comment">// è¿™ä¸ªè¿æ¥åˆ†é…çš„ç«¯å£</span></span><br><span class="line">  <span class="keyword">var</span> port = evt.<span class="property">ports</span>[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">  port.<span class="title function_">addEventListener</span>( <span class="string">&quot;message&quot;</span>, <span class="keyword">function</span>(<span class="params">evt</span>)&#123;</span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line"></span><br><span class="line">    port.<span class="title function_">postMessage</span>( .. );</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ..</span></span><br><span class="line">  &#125; );</span><br><span class="line"></span><br><span class="line">  <span class="comment">// åˆå§‹åŒ–ç«¯å£è¿æ¥</span></span><br><span class="line">  port.<span class="title function_">start</span>();</span><br><span class="line">&#125; );</span><br></pre></td></tr></table></figure><h5 id="æ¨¡æ‹ŸWeb-Worker"><a href="#æ¨¡æ‹ŸWeb-Worker" class="headerlink" title="æ¨¡æ‹ŸWeb Worker"></a>æ¨¡æ‹ŸWeb Worker</h5><blockquote><p>ä¸ºäº†åœ¨ç¼ºä¹å¯¹æ­¤æ”¯æŒçš„è€æµè§ˆå™¨ä¸­è¿è¡Œä»£ç </p><p>å› ä¸ºWorkeræ˜¯ä¸€ç§APIè€Œä¸æ˜¯è¯­æ³•ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ä½œä¸ºæ‰©å±•æ¥æ¨¡æ‹Ÿå®ƒã€‚å¦‚æœæµè§ˆå™¨ä¸æ”¯æŒWorkerï¼Œé‚£ä¹ˆä»æ€§èƒ½çš„è§’åº¦æ¥è¯´æ˜¯æ²¡æ³•æ¨¡æ‹Ÿå¤šçº¿ç¨‹çš„ã€‚é€šå¸¸è®¤ä¸ºIframeæä¾›äº†å¹¶è¡Œç¯å¢ƒï¼Œä½†æ˜¯åœ¨æ‰€æœ‰çš„ç°ä»£æµè§ˆå™¨ä¸­ï¼Œå®ƒä»¬å®é™…ä¸Šéƒ½æ˜¯å’Œä¸»é¡µé¢è¿è¡Œåœ¨åŒä¸€ä¸ªçº¿ç¨‹ä¸­çš„ï¼Œæ‰€ä»¥å¹¶ä¸è¶³ä»¥æ¨¡æ‹Ÿå¹¶å‘ã€‚</p></blockquote><p><a href="https://gist.github.com/getify/1b26accb1a09aa53ad25">æ¨¡æ‹Ÿworker</a></p><h5 id="SIMD"><a href="#SIMD" class="headerlink" title="SIMD"></a>SIMD</h5><blockquote><p>å•æŒ‡ä»¤å¤šæ•°æ®ï¼ˆSIMDï¼‰æ˜¯ä¸€ç§æ•°æ®å¹¶è¡Œï¼ˆdata parallelismï¼‰æ–¹å¼ï¼Œä¸Web Workerçš„ä»»åŠ¡å¹¶è¡Œï¼ˆtask parallelismï¼‰ç›¸å¯¹ï¼Œå› ä¸ºè¿™é‡Œçš„é‡ç‚¹å®é™…ä¸Šä¸å†æ˜¯æŠŠç¨‹åºé€»è¾‘åˆ†æˆå¹¶è¡Œçš„å—ï¼Œè€Œæ˜¯å¹¶è¡Œå¤„ç†æ•°æ®çš„å¤šä¸ªä½ã€‚</p><p>é€šè¿‡SIMDï¼Œçº¿ç¨‹ä¸å†æä¾›å¹¶è¡Œã€‚å–è€Œä»£ä¹‹çš„æ˜¯ï¼Œç°ä»£CPUé€šè¿‡æ•°å­—â€œå‘é‡â€ï¼ˆç‰¹å®šç±»å‹çš„æ•°ç»„ï¼‰ï¼Œä»¥åŠå¯ä»¥åœ¨æ‰€æœ‰è¿™äº›æ•°å­—ä¸Šå¹¶è¡Œæ“ä½œçš„æŒ‡ä»¤ï¼Œæ¥æä¾›SIMDåŠŸèƒ½ã€‚è¿™æ˜¯åˆ©ç”¨ä½çº§æŒ‡ä»¤çº§å¹¶è¡Œçš„åº•å±‚è¿ç®—ã€‚</p></blockquote><h5 id="asm-js"><a href="#asm-js" class="headerlink" title="asm.js"></a>asm.js</h5><blockquote><p>asm.jsï¼ˆ<a href="http://asmjs.org)è¿™ä¸ªæ ‡ç­¾æ˜¯æŒ‡javascriptè¯­è¨€ä¸­å¯ä»¥é«˜åº¦ä¼˜åŒ–çš„ä¸€ä¸ªå­é›†.é€šè¿‡å°å¿ƒé¿å…æŸäº›éš¾ä»¥ä¼˜åŒ–çš„æœºåˆ¶å’Œæ¨¡å¼(åƒåœ¾æ”¶é›†ã€ç±»å‹å¼ºåˆ¶è½¬æ¢,ç­‰ç­‰)/">http://asmjs.orgï¼‰è¿™ä¸ªæ ‡ç­¾æ˜¯æŒ‡JavaScriptè¯­è¨€ä¸­å¯ä»¥é«˜åº¦ä¼˜åŒ–çš„ä¸€ä¸ªå­é›†ã€‚é€šè¿‡å°å¿ƒé¿å…æŸäº›éš¾ä»¥ä¼˜åŒ–çš„æœºåˆ¶å’Œæ¨¡å¼ï¼ˆåƒåœ¾æ”¶é›†ã€ç±»å‹å¼ºåˆ¶è½¬æ¢ï¼Œç­‰ç­‰ï¼‰</a>, asm.jsé£æ ¼çš„ä»£ç å¯ä»¥è¢«JavaScriptå¼•æ“è¯†åˆ«å¹¶è¿›è¡Œç‰¹åˆ«æ¿€è¿›çš„åº•å±‚ä¼˜åŒ–ã€‚</p></blockquote><h4 id="æ€§èƒ½æµ‹è¯•ä¸è°ƒä¼˜"><a href="#æ€§èƒ½æµ‹è¯•ä¸è°ƒä¼˜" class="headerlink" title="æ€§èƒ½æµ‹è¯•ä¸è°ƒä¼˜"></a>æ€§èƒ½æµ‹è¯•ä¸è°ƒä¼˜</h4><h5 id="æ€§èƒ½æµ‹è¯•"><a href="#æ€§èƒ½æµ‹è¯•" class="headerlink" title="æ€§èƒ½æµ‹è¯•"></a>æ€§èƒ½æµ‹è¯•</h5><blockquote><p>å¦‚æœè¢«é—®åˆ°å¦‚ä½•æµ‹è¯•æŸä¸ªè¿ç®—çš„é€Ÿåº¦ï¼ˆæ‰§è¡Œæ—¶é—´ï¼‰ï¼Œç»å¤§å¤šæ•°JavaScriptå¼€å‘è€…éƒ½ä¼šä»ç±»ä¼¼ä¸‹é¢çš„ä»£ç å¼€å§‹ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> start = (<span class="keyword">new</span> <span class="title class_">Date</span>()).<span class="title function_">getTime</span>(); <span class="comment">// æˆ–è€…Date.now()</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿›è¡Œä¸€äº›æ“ä½œ</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> end = (<span class="keyword">new</span> <span class="title class_">Date</span>()).<span class="title function_">getTime</span>();</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>( <span class="string">&quot;Duration:&quot;</span>, (end - start) );</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªæ–¹æ¡ˆæœ‰å¾ˆå¤šé”™è¯¯ã€‚ä¸ç®¡æŠ¥å‘Šçš„æ—¶é•¿æ˜¯å¤šå°‘ï¼Œä½ èƒ½çŸ¥é“çš„å”¯ä¸€ä¸€ç‚¹å°±æ˜¯ï¼Œè¿™ä¸ªè¿ç®—çš„è¿™æ¬¡ç‰¹å®šçš„è¿è¡Œæ¶ˆè€—äº†å¤§æ¦‚è¿™ä¹ˆé•¿æ—¶é—´ã€‚è€Œå®ƒæ˜¯ä¸æ˜¯æ€»æ˜¯ä»¥è¿™æ ·çš„é€Ÿåº¦è¿è¡Œï¼Œä½ åŸºæœ¬ä¸Šä¸€æ— æ‰€çŸ¥ã€‚ä½ ä¸çŸ¥é“å¼•æ“æˆ–ç³»ç»Ÿåœ¨è¿™ä¸ªæ—¶å€™æœ‰æ²¡æœ‰å—åˆ°ä»€ä¹ˆå½±å“ï¼Œä»¥åŠå…¶ä»–æ—¶å€™è¿™ä¸ªè¿ç®—ä¼šä¸ä¼šè¿è¡Œå¾—æ›´å¿«ã€‚</p><h5 id="é‡å¤"><a href="#é‡å¤" class="headerlink" title="é‡å¤"></a>é‡å¤</h5><blockquote><p>â€œå¥½å§ï¼Œâ€ä½ ç°åœ¨ä¼šè¯´ï¼Œâ€œé‚£å°±ç”¨ä¸€ä¸ªå¾ªç¯æŠŠå®ƒåŒ…èµ·æ¥ï¼Œè¿™æ ·æ•´ä¸ªæµ‹è¯•çš„è¿è¡Œæ—¶é—´å°±ä¼šæ›´é•¿ä¸€äº›äº†ã€‚â€å¦‚æœé‡å¤ä¸€ä¸ªè¿ç®—100æ¬¡ï¼Œç„¶åæ•´ä¸ªå¾ªç¯æŠ¥å‘Šå…±æ¶ˆè€—äº†137msï¼Œé‚£ä½ å°±å¯ä»¥æŠŠå®ƒé™¤ä»¥100ï¼Œå¾—åˆ°æ¯æ¬¡è¿ç®—çš„å¹³å‡ç”¨æ—¶ä¸º1.37msï¼Œæ˜¯è¿™æ ·å—ï¼Ÿ</p></blockquote><p>å¹¶ä¸å®Œå…¨æ˜¯è¿™æ ·ã€‚</p><p>ç®€å•çš„æ•°å­¦å¹³å‡å€¼ç»å¯¹ä¸è¶³ä»¥å¯¹ä½ è¦å¤–æ¨åˆ°æ•´ä¸ªåº”ç”¨èŒƒå›´çš„æ€§èƒ½ä½œå‡ºåˆ¤æ–­ã€‚è¿­ä»£100æ¬¡ï¼Œå³ä½¿åªæœ‰å‡ ä¸ªï¼ˆè¿‡é«˜æˆ–è¿‡ä½çš„ï¼‰çš„å¼‚å¸¸å€¼ä¹Ÿå¯ä»¥å½±å“æ•´ä¸ªå¹³å‡å€¼ï¼Œç„¶ååœ¨é‡å¤åº”ç”¨è¿™ä¸ªç»“è®ºçš„æ—¶å€™ï¼Œä½ è¿˜ä¼šæ‰©æ•£è¿™ä¸ªè¯¯å·®ï¼Œäº§ç”Ÿæ›´å¤§çš„æ¬ºéª—æ€§ã€‚</p><p>ä½ ä¹Ÿå¯ä»¥ä¸ä»¥å›ºå®šæ¬¡æ•°æ‰§è¡Œè¿ç®—ï¼Œè½¬è€Œå¾ªç¯è¿è¡Œæµ‹è¯•ï¼Œç›´åˆ°è¾¾åˆ°æŸä¸ªå›ºå®šçš„æ—¶é—´ã€‚è¿™å¯èƒ½ä¼šæ›´å¯é ä¸€äº›ï¼Œä½†å¦‚ä½•ç¡®å®šè¦æ‰§è¡Œå¤šé•¿æ—¶é—´å‘¢ï¼Ÿä½ å¯èƒ½ä¼šçŒœæµ‹ï¼Œæ‰§è¡Œæ—¶é—´åº”è¯¥æ˜¯ä½ çš„è¿ç®—æ‰§è¡Œçš„å•æ¬¡æ—¶é•¿çš„è‹¥å¹²å€ã€‚é”™ã€‚</p><p>å®é™…ä¸Šï¼Œé‡å¤æ‰§è¡Œçš„æ—¶é—´é•¿åº¦åº”è¯¥æ ¹æ®ä½¿ç”¨çš„å®šæ—¶å™¨çš„ç²¾åº¦è€Œå®šï¼Œä¸“é—¨ç”¨æ¥æœ€å°åŒ–ä¸ç²¾ç¡®æ€§ã€‚å®šæ—¶å™¨çš„ç²¾åº¦è¶Šä½ï¼Œä½ éœ€è¦è¿è¡Œçš„æ—¶é—´å°±è¶Šé•¿ï¼Œè¿™æ ·æ‰èƒ½ç¡®ä¿é”™è¯¯ç‡æœ€å°åŒ–ã€‚15msçš„å®šæ—¶å™¨å¯¹äºç²¾ç¡®çš„æ€§èƒ½æµ‹è¯•æ¥è¯´æ˜¯éå¸¸å·®åŠ²çš„ã€‚è¦æœ€å°åŒ–å®ƒçš„ä¸ç¡®å®šæ€§ï¼ˆä¹Ÿå°±æ˜¯å‡ºé”™ç‡ï¼‰åˆ°å°äº1%ï¼Œéœ€è¦æŠŠä½ çš„æ¯è½®æµ‹è¯•è¿­ä»£è¿è¡Œ750msã€‚è€Œ1mså®šæ—¶å™¨æ—¶åªéœ€è¦æ¯è½®è¿è¡Œ50mså°±å¯ä»¥è¾¾åˆ°åŒæ ·çš„ç½®ä¿¡åº¦ã€‚</p><h5 id="Benchmark-js"><a href="#Benchmark-js" class="headerlink" title="Benchmark.js"></a>Benchmark.js</h5><blockquote><p>å¹¸è¿çš„æ˜¯ï¼ŒåƒJohn-David Daltonå’ŒMathias Bynensè¿™æ ·çš„èªæ˜äººäº†è§£è¿™äº›æ¦‚å¿µï¼Œå¹¶ç¼–å†™äº†ä¸€ä¸ªç»Ÿè®¡å­¦ä¸Šæœ‰æ•ˆçš„æ€§èƒ½æµ‹è¯•å·¥å…·ï¼Œåä¸ºBenchmark.jsï¼ˆ<a href="http://benchmarkjs.com/%EF%BC%89%E3%80%82%E5%9B%A0%E6%AD%A4%EF%BC%8C%E5%AF%B9%E4%BA%8E%E8%BF%99%E4%B8%AA%E6%82%AC%E8%80%8C%E6%9C%AA%E5%86%B3%E7%9A%84%E9%97%AE%E9%A2%98%EF%BC%8C%E6%88%91%E7%9A%84%E7%AD%94%E6%A1%88%E5%B0%B1%E6%98%AF%EF%BC%9A%E2%80%9C%E4%BD%BF%E7%94%A8%E8%BF%99%E4%B8%AA%E5%B7%A5%E5%85%B7%E5%B0%B1%E5%A5%BD%E4%BA%86%E3%80%82%E2%80%9D">http://benchmarkjs.com/ï¼‰ã€‚å› æ­¤ï¼Œå¯¹äºè¿™ä¸ªæ‚¬è€Œæœªå†³çš„é—®é¢˜ï¼Œæˆ‘çš„ç­”æ¡ˆå°±æ˜¯ï¼šâ€œä½¿ç”¨è¿™ä¸ªå·¥å…·å°±å¥½äº†ã€‚â€</a></p></blockquote><p>ä½¿ç”¨Benchmark.jsæ¥è¿è¡Œä¸€ä¸ªå¿«é€Ÿçš„æ€§èƒ½æµ‹è¯•ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// è¦æµ‹è¯•çš„è¿ç®—</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> bench = <span class="keyword">new</span> <span class="title class_">Benchmark</span>(</span><br><span class="line">  <span class="string">&quot;foo test&quot;</span>,             <span class="comment">// æµ‹è¯•åç§°</span></span><br><span class="line">    foo,                    <span class="comment">// è¦æµ‹è¯•çš„å‡½æ•°ï¼ˆä¹Ÿå³å†…å®¹ï¼‰</span></span><br><span class="line">                &#123;</span><br><span class="line">        <span class="comment">// ..             // å¯é€‰çš„é¢å¤–é€‰é¡¹ï¼ˆå‚è§æ–‡æ¡£ï¼‰</span></span><br><span class="line">    &#125;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line">bench.<span class="property">hz</span>;                <span class="comment">// æ¯ç§’è¿ç®—æ•°</span></span><br><span class="line">bench.<span class="property">stats</span>.<span class="property">moe</span>;         <span class="comment">// å‡ºé”™è¾¹ç•Œ</span></span><br><span class="line">bench.<span class="property">stats</span>.<span class="property">variance</span>;    <span class="comment">// æ ·æœ¬æ–¹å·®</span></span><br><span class="line"><span class="comment">// ..</span></span><br></pre></td></tr></table></figure><h5 id="ç¯å¢ƒä¸ºç‹"><a href="#ç¯å¢ƒä¸ºç‹" class="headerlink" title="ç¯å¢ƒä¸ºç‹"></a>ç¯å¢ƒä¸ºç‹</h5><blockquote><p>å¯¹ç‰¹å®šçš„æ€§èƒ½æµ‹è¯•æ¥è¯´ï¼Œä¸è¦å¿˜äº†æ£€æŸ¥æµ‹è¯•ç¯å¢ƒï¼Œç‰¹åˆ«æ˜¯æ¯”è¾ƒä»»åŠ¡â…©å’ŒYè¿™æ ·çš„æ¯”å¯¹æµ‹è¯•ã€‚ä»…ä»…å› ä¸ºä½ çš„æµ‹è¯•æ˜¾ç¤ºâ…©æ¯”Yå¿«ï¼Œå¹¶ä¸èƒ½è¯´æ˜ç»“è®ºâ…©æ¯”Yå¿«å°±æœ‰å®é™…çš„æ„ä¹‰ã€‚</p></blockquote><h5 id="å¼•æ“ä¼˜åŒ–"><a href="#å¼•æ“ä¼˜åŒ–" class="headerlink" title="å¼•æ“ä¼˜åŒ–"></a>å¼•æ“ä¼˜åŒ–</h5><blockquote><p>ä½ æ— æ³•å¯é åœ°æ¨æ–­ï¼Œå¦‚æœåœ¨ä½ çš„ç‹¬ç«‹æµ‹è¯•ä¸­â…©æ¯”Yè¦å¿«ä¸Š10Î¼sï¼Œå°±æ„å‘³ç€â…©æ€»æ˜¯æ¯”Yè¦å¿«ï¼Œå°±åº”è¯¥æ€»æ˜¯ä½¿ç”¨â…©ã€‚æ€§èƒ½å¹¶ä¸æ˜¯è¿™æ ·å‘æŒ¥æ•ˆåŠ›çš„ã€‚å®ƒè¦æ¯”è¿™å¤æ‚å¾—å¤šã€‚</p></blockquote><h5 id="jsPerf-com"><a href="#jsPerf-com" class="headerlink" title="jsPerf.com"></a>jsPerf.com</h5><blockquote><p>å°½ç®¡åœ¨æ‰€æœ‰çš„JavaScriptè¿è¡Œç¯å¢ƒä¸‹ï¼ŒBenchmark.jséƒ½å¯ç”¨äºæµ‹è¯•ä»£ç çš„æ€§èƒ½ï¼Œä½†æœ‰ä¸€ç‚¹ä¸€å®šè¦å¼ºè°ƒï¼Œå¦‚æœä½ æƒ³è¦å¾—åˆ°å¯é çš„æµ‹è¯•ç»“è®ºçš„è¯ï¼Œå°±éœ€è¦åœ¨å¾ˆå¤šä¸åŒçš„ç¯å¢ƒï¼ˆæ¡Œé¢æµè§ˆå™¨ã€ç§»åŠ¨è®¾å¤‡ï¼Œç­‰ç­‰ï¼‰ä¸­æµ‹è¯•æ±‡é›†æµ‹è¯•ç»“æœã€‚</p></blockquote><p>æœ‰ä¸€ä¸ªå¾ˆæ£’çš„ç½‘ç«™æ­£æ˜¯å› è¿™æ ·çš„éœ€æ±‚è€Œè¯ç”Ÿçš„ï¼Œåä¸ºjsPerfï¼ˆ<a href="http://jsperf.com).å®ƒä½¿ç”¨æˆ‘ä»¬å‰é¢ä»‹ç»çš„benchmark.jsåº“æ¥è¿è¡Œç»Ÿè®¡ä¸Šç²¾ç¡®å¯é çš„æµ‹è¯•,å¹¶æŠŠæµ‹è¯•ç»“æœæ”¾åœ¨ä¸€ä¸ªå…¬å¼€å¯å¾—çš„urlä¸Š,ä½ å¯ä»¥æŠŠè¿™ä¸ªurlè½¬å‘ç»™åˆ«äºº./">http://jsperf.comï¼‰ã€‚å®ƒä½¿ç”¨æˆ‘ä»¬å‰é¢ä»‹ç»çš„Benchmark.jsåº“æ¥è¿è¡Œç»Ÿè®¡ä¸Šç²¾ç¡®å¯é çš„æµ‹è¯•ï¼Œå¹¶æŠŠæµ‹è¯•ç»“æœæ”¾åœ¨ä¸€ä¸ªå…¬å¼€å¯å¾—çš„URLä¸Šï¼Œä½ å¯ä»¥æŠŠè¿™ä¸ªURLè½¬å‘ç»™åˆ«äººã€‚</a></p><p>æ¯æ¬¡æµ‹è¯•è¿è¡Œçš„æ—¶å€™ï¼Œæµ‹è¯•ç»“æœå°±ä¼šè¢«æ”¶é›†å¹¶æŒä¹…åŒ–ï¼Œç´¯ç§¯çš„æµ‹è¯•ç»“æœä¼šè¢«å›¾å½¢åŒ–ï¼Œå¹¶å±•ç¤ºåˆ°ä¸€ä¸ªé¡µé¢ä¸Šä»¥ä¾›æŸ¥çœ‹ã€‚</p><h5 id="å°¾è°ƒç”¨ä¼˜åŒ–"><a href="#å°¾è°ƒç”¨ä¼˜åŒ–" class="headerlink" title="å°¾è°ƒç”¨ä¼˜åŒ–"></a>å°¾è°ƒç”¨ä¼˜åŒ–</h5><blockquote><p>ç®€å•åœ°è¯´ï¼Œå°¾è°ƒç”¨å°±æ˜¯ä¸€ä¸ªå‡ºç°åœ¨å¦ä¸€ä¸ªå‡½æ•°â€œç»“å°¾â€å¤„çš„å‡½æ•°è°ƒç”¨ã€‚è¿™ä¸ªè°ƒç”¨ç»“æŸåå°±æ²¡æœ‰å…¶ä½™äº‹æƒ…è¦åšäº†ï¼ˆé™¤äº†å¯èƒ½è¦è¿”å›ç»“æœå€¼ï¼‰ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">foo</span>(<span class="params">x</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bar</span>(<span class="params">y</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">foo</span>( y + <span class="number">1</span> );     <span class="comment">// å°¾è°ƒç”¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">baz</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> + <span class="title function_">bar</span>( <span class="number">40</span> );    <span class="comment">// éå°¾è°ƒç”¨</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">baz</span>();                       <span class="comment">// 42</span></span><br></pre></td></tr></table></figure><p>ä¸è¯¦ç»†è°ˆé‚£ä¹ˆå¤šæœ¬è´¨ç»†èŠ‚çš„è¯ï¼Œè°ƒç”¨ä¸€ä¸ªæ–°çš„å‡½æ•°éœ€è¦é¢å¤–çš„ä¸€å—é¢„ç•™å†…å­˜æ¥ç®¡ç†è°ƒç”¨æ ˆï¼Œç§°ä¸ºæ ˆå¸§ã€‚æ‰€ä»¥å‰é¢çš„ä»£ç ä¸€èˆ¬ä¼šåŒæ—¶éœ€è¦ä¸ºæ¯ä¸ªbaz()ã€bar(..)å’Œfoo(..)ä¿ç•™ä¸€ä¸ªæ ˆå¸§ã€‚</p><p>ç„¶è€Œï¼Œå¦‚æœæ”¯æŒTCOçš„å¼•æ“èƒ½å¤Ÿæ„è¯†åˆ°foo(y+1)è°ƒç”¨ä½äºå°¾éƒ¨ï¼Œè¿™æ„å‘³ç€bar(..)åŸºæœ¬ä¸Šå·²ç»å®Œæˆäº†ï¼Œé‚£ä¹ˆåœ¨è°ƒç”¨foo(..)æ—¶ï¼Œå®ƒå°±ä¸éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„æ ˆå¸§ï¼Œè€Œæ˜¯å¯ä»¥é‡ç”¨å·²æœ‰çš„bar(..)çš„æ ˆå¸§ã€‚è¿™æ ·ä¸ä»…é€Ÿåº¦æ›´å¿«ï¼Œä¹Ÿæ›´èŠ‚çœå†…å­˜ã€‚</p><p>åœ¨ç®€å•çš„ä»£ç ç‰‡æ®µä¸­ï¼Œè¿™ç±»ä¼˜åŒ–ç®—ä¸äº†ä»€ä¹ˆï¼Œä½†æ˜¯åœ¨å¤„ç†é€’å½’æ—¶ï¼Œè¿™å°±è§£å†³äº†å¤§é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å¦‚æœé€’å½’å¯èƒ½ä¼šå¯¼è‡´æˆç™¾ä¸Šåƒä¸ªæ ˆå¸§çš„æ—¶å€™ã€‚æœ‰äº†TCOï¼Œå¼•æ“å¯ä»¥ç”¨åŒä¸€ä¸ªæ ˆå¸§æ‰§è¡Œæ‰€æœ‰è¿™ç±»è°ƒç”¨ï¼</p>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;LHSä¸RHS&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;LHSå’ŒRHSçš„å«ä¹‰æ˜¯â€œèµ‹å€¼æ“ä½œçš„å·¦ä¾§æˆ–å³ä¾§â€å¹¶ä¸ä¸€å®šæ„å‘³ç€å°±æ˜¯â€œ=èµ‹å€¼æ“ä½œç¬¦çš„å·¦ä¾§æˆ–å³ä¾§â€ã€‚èµ‹å€¼æ“ä½œè¿˜æœ‰å…¶ä»–å‡ ç§å½¢å¼ï¼Œå› æ­¤åœ¨æ¦‚å¿µä¸Šæœ€å¥½å°†å…¶ç†è§£ä¸ºâ€œèµ‹å€¼æ“ä½œçš„ç›®æ ‡æ˜¯è°ï¼ˆLHSï¼‰â€ä»¥åŠâ€œè°æ˜¯èµ‹å€¼æ“ä½œçš„æºå¤´ï¼ˆRHSï¼‰â€&lt;/p&gt;
&lt;/blockquote&gt;
&lt;figure class=&quot;highlight js&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;title function_&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;params&quot;&gt;a&lt;/span&gt;) &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; b = a;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    &lt;span class=&quot;keyword&quot;&gt;return&lt;/span&gt; a + b;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;keyword&quot;&gt;var&lt;/span&gt; c = &lt;span class=&quot;title function_&quot;&gt;foo&lt;/span&gt;(&lt;span class=&quot;number&quot;&gt;2&lt;/span&gt;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;1ï¼æ‰¾åˆ°å…¶ä¸­æ‰€æœ‰çš„LHSæŸ¥è¯¢ã€‚ï¼ˆè¿™é‡Œæœ‰3å¤„ï¼ï¼‰&lt;/p&gt;
&lt;p&gt;2ï¼æ‰¾åˆ°å…¶ä¸­æ‰€æœ‰çš„RHSæŸ¥è¯¢ã€‚ï¼ˆè¿™é‡Œæœ‰4å¤„ï¼ï¼‰&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ReferenceError&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å¦‚æœRHSæŸ¥è¯¢åœ¨æ‰€æœ‰åµŒå¥—çš„ä½œç”¨åŸŸä¸­éå¯»ä¸åˆ°æ‰€éœ€çš„å˜é‡ï¼Œå¼•æ“å°±ä¼šæŠ›å‡ºReferenceErrorå¼‚å¸¸.&lt;/p&gt;
&lt;p&gt;ç›¸è¾ƒä¹‹ä¸‹ï¼Œå½“å¼•æ“æ‰§è¡ŒLHSæŸ¥è¯¢æ—¶ï¼Œå¦‚æœåœ¨é¡¶å±‚ï¼ˆå…¨å±€ä½œç”¨åŸŸï¼‰ä¸­ä¹Ÿæ— æ³•æ‰¾åˆ°ç›®æ ‡å˜é‡ï¼Œå…¨å±€ä½œç”¨åŸŸä¸­å°±ä¼šåˆ›å»ºä¸€ä¸ªå…·æœ‰è¯¥åç§°çš„å˜é‡ï¼Œå¹¶å°†å…¶è¿”è¿˜ç»™å¼•æ“ï¼Œå‰ææ˜¯ç¨‹åºè¿è¡Œåœ¨éâ€œä¸¥æ ¼æ¨¡å¼â€ä¸‹ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;TypeError&lt;/strong&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ReferenceErroråŒä½œç”¨åŸŸåˆ¤åˆ«å¤±è´¥ç›¸å…³ï¼Œè€ŒTypeErroråˆ™ä»£è¡¨ä½œç”¨åŸŸåˆ¤åˆ«æˆåŠŸäº†ï¼Œä½†æ˜¯å¯¹ç»“æœçš„æ“ä½œæ˜¯éæ³•æˆ–ä¸åˆç†çš„ã€‚&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="js" scheme="https://wyf195075595.github.io/categories/js/"/>
    
    
    <category term="js" scheme="https://wyf195075595.github.io/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>æ€§èƒ½ä¼˜åŒ–ç¯‡</title>
    <link href="https://wyf195075595.github.io/2022/11/11/programming/javascript/others/"/>
    <id>https://wyf195075595.github.io/2022/11/11/programming/javascript/others/</id>
    <published>2022-11-11T00:23:10.000Z</published>
    <updated>2022-11-11T03:31:01.220Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ç¼“å­˜ä½ çš„-CORS"><a href="#ç¼“å­˜ä½ çš„-CORS" class="headerlink" title="ç¼“å­˜ä½ çš„ CORS"></a>ç¼“å­˜ä½ çš„ CORS</h3><blockquote><p>åœ¨æ‚¨çš„æµè§ˆå™¨å‘å‡ºä»»ä½•è·¨æºè¯·æ±‚ï¼ˆä¾‹å¦‚ example.com åˆ° api.example.comï¼‰ä¹‹å‰ï¼Œå¦‚æœå®ƒä¸æ˜¯ä¸€ä¸ª<a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS#simple_requests">ç®€å•çš„è¯·æ±‚</a>ï¼Œé‚£ä¹ˆæµè§ˆå™¨é¦–å…ˆå‘é€ä¸€ä¸ªé¢„æ£€è¯·æ±‚ï¼Œå¹¶åœ¨å‘é€çœŸæ­£çš„è¯·æ±‚ä¹‹å‰ç­‰å¾…æˆåŠŸçš„å“åº”ã€‚</p><p>è¿™ä¸ªé¢„æ£€è¯·æ±‚æ˜¯å¯¹æœåŠ¡å™¨çš„ä¸€ä¸ª OPTIONS è¯·æ±‚ï¼Œæè¿°äº†æµè§ˆå™¨è¦å‘é€çš„è¯·æ±‚ï¼Œå¹¶é¦–å…ˆè¯·æ±‚æƒé™ã€‚</p><p>å®é™…ä¸Šï¼Œå‡ ä¹æ‰€æœ‰è·¨åŸŸ API è¯·æ±‚éƒ½éœ€è¦è¿™äº›é¢„æ£€è¯·æ±‚ï¼Œç‰¹åˆ«æ˜¯åŒ…æ‹¬ï¼š</p><ul><li>ä»»ä½•å¸¦æœ‰ JSON æˆ– XML æ­£æ–‡çš„è¯·æ±‚</li><li>ä»»ä½•è¯·æ±‚ï¼ŒåŒ…æ‹¬å‡­æ®</li><li>ä»»ä½•ä¸æ˜¯ GETã€POST æˆ– HEAD çš„è¯·æ±‚</li><li>æµå¼ä¼ è¾“è¯·æ±‚æˆ–å“åº”æ­£æ–‡çš„ä»»ä½•äº¤æ¢</li><li><code>Accept</code>ä½¿ç”¨é™¤ã€<code>Accept-Language</code>å’Œä»¥å¤–çš„ä»»ä½•<code>Content-Language</code>æ ‡é¢˜<code>Content-Type</code></li></ul></blockquote><p>è¦åœ¨æµè§ˆå™¨ä¸­ç¼“å­˜ CORS å“åº”ï¼Œåªéœ€å°†æ­¤æ ‡å¤´æ·»åŠ åˆ°æ‚¨çš„é¢„æ£€å“åº”ä¸­ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Max-Age: 86400</span><br></pre></td></tr></table></figure><p>è¦åœ¨æµè§ˆå™¨å’Œ API æœåŠ¡å™¨ä¹‹é—´çš„ CDN å’Œå…¶ä»–ä»£ç†ä¸­ç¼“å­˜ CORS å“åº”ï¼Œè¯·æ·»åŠ ï¼š</p><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Cache-Control: public, max-age=86400</span><br><span class="line">Vary: origin</span><br></pre></td></tr></table></figure><p>åœ¨nodejsä¸­ç¼“å­˜ CORS</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">use</span>(<span class="title function_">cors</span>(&#123;</span><br><span class="line">    <span class="comment">// Set the browser cache time for preflight responses</span></span><br><span class="line">    <span class="attr">maxAge</span>: <span class="number">86400</span>,</span><br><span class="line">    <span class="attr">preflightContinue</span>: <span class="literal">true</span> <span class="comment">// Allow us to manually add to preflights</span></span><br><span class="line">&#125;));</span><br><span class="line"></span><br><span class="line"><span class="comment">// Add cache-control to preflight responses in a separate middleware:</span></span><br><span class="line">app.<span class="title function_">use</span>(<span class="function">(<span class="params">req, res, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (req.<span class="property">method</span> === <span class="string">&#x27;OPTIONS&#x27;</span>) &#123;</span><br><span class="line">        res.<span class="title function_">setHeader</span>(<span class="string">&#x27;Cache-Control&#x27;</span>, <span class="string">&#x27;public, max-age=86400&#x27;</span>);</span><br><span class="line">        <span class="comment">// No Vary required: cors sets it already set automatically</span></span><br><span class="line">        res.<span class="title function_">end</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">next</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨ Java Spring ç¼“å­˜ CORS</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AddPreflightCacheControlWebFilter</span> <span class="keyword">implements</span> <span class="title class_">WebFilter</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Mono&lt;Void&gt; <span class="title function_">filter</span><span class="params">(ServerWebExchange exchange, WebFilterChain chain)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (CorsUtils.isPreFlightRequest(exchange.getRequest())) &#123;</span><br><span class="line">            exchange.getResponse()</span><br><span class="line">                .getHeaders()</span><br><span class="line">                .add(<span class="string">&quot;Cache-Control&quot;</span>, <span class="string">&quot;public, max-age=86400&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> chain.filter(exchange);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://httptoolkit.com/blog/cache-your-cors/">å‚è€ƒæ–‡ç« </a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;ç¼“å­˜ä½ çš„-CORS&quot;&gt;&lt;a href=&quot;#ç¼“å­˜ä½ çš„-CORS&quot; class=&quot;headerlink&quot; title=&quot;ç¼“å­˜ä½ çš„ CORS&quot;&gt;&lt;/a&gt;ç¼“å­˜ä½ çš„ CORS&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;åœ¨æ‚¨çš„æµè§ˆå™¨å‘å‡ºä»»ä½•è·¨æºè¯·æ±‚ï¼ˆä¾‹å¦‚ example.com</summary>
      
    
    
    
    
    <category term="æ€§èƒ½ä¼˜åŒ–" scheme="https://wyf195075595.github.io/tags/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>CSS 3.0</title>
    <link href="https://wyf195075595.github.io/2022/10/26/programming/htmlcss/css3/"/>
    <id>https://wyf195075595.github.io/2022/10/26/programming/htmlcss/css3/</id>
    <published>2022-10-26T10:00:00.000Z</published>
    <updated>2022-12-23T03:06:48.567Z</updated>
    
    <content type="html"><![CDATA[<p><strong>CSSä¸–ç•Œå·²ç»æœ‰äº†CSS2å’ŒCSS3ï¼Œé‚£ä¼šæœ‰CSS4å—ï¼Ÿ</strong></p><p>ç­”æ¡ˆæ˜¯ï¼šä¸ä¼šæœ‰CSS4ï¼</p><blockquote><p>å®é™…ä¸Šï¼Œç°åœ¨è¿CSS3è¿™ä¸ªè¯éƒ½å·²ç»åå­˜å®äº¡äº†ï¼Œå› ä¸ºCSS3å·²ç»è§£ä½“äº†ã€‚ä¸ºä»€ä¹ˆè¯´CSS3è§£ä½“äº†å‘¢ï¼Ÿå› ä¸ºCSSæŒ‰ç…§å¤§ç‰ˆæœ¬çš„æ–¹å¼è¿›è¡Œè¿­ä»£å®åœ¨æ˜¯å¤ªä½æ•ˆäº†ã€‚ä½æ•ˆçš„åŸå› å…¶å®å¾ˆå¥½ç†è§£ï¼Œå¦‚æœCSSè¿™é—¨è¯­è¨€å¿…é¡»æŒ‰ç…§å¤§ç‰ˆæœ¬è¿­ä»£å‘å¸ƒçš„è¯ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªç‰ˆæœ¬æœ‰ä¸€ä¸ªCSSç‰¹æ€§å­˜åœ¨æå¤§çš„äº‰è®®ï¼Œé‚£è¿™ä¸ªç‰ˆæœ¬çš„CSSçš„å‘å¸ƒæ—¶é—´å°±ä¼šå»¶åã€‚ä¾‹å¦‚ï¼ŒCSS2.1çš„è§„èŒƒåœ¨2002å¹´å¼€å§‹åˆ¶å®šï¼Œè€Œä¸€ç›´åˆ°2011å¹´æ‰æˆä¸ºæ¨èè§„èŒƒï¼Œæ•´ä¸ªè¿‡ç¨‹è¶³è¶³èŠ±è´¹äº†10å¹´çš„æ—¶é—´ï¼Œå°±æ˜¯å› ä¸ºä¸€äº›æ¬¡è¦çš„CSSç‰¹æ€§æ‹–äº†åè…¿ã€‚</p><p>ä¸ºäº†åŠ é€Ÿæ²¡æœ‰äº‰è®®çš„CSSç‰¹æ€§çš„æ ‡å‡†åŒ–ï¼ŒW3Cçš„CSSå·¥ä½œç»„åšå‡ºäº†ä¸€é¡¹è¢«ç§°ä¸ºâ€œBeijing doctrineâ€çš„å†³å®šï¼Œè¯¥å†³å®šå°†CSSåˆ’åˆ†ä¸ºæ›´å°çš„ç»„ä»¶ï¼Œå¹¶æŠŠè¿™äº›ç»„ä»¶ç§°ä¸ºæ¨¡å—ã€‚è¿™äº›æ¨¡å—äº’ç›¸ç‹¬ç«‹ï¼Œå„è‡ªæŒ‰ç…§è‡ªå·±çš„é€Ÿåº¦èµ°å‘æ ‡å‡†åŒ–ã€‚ä¾‹å¦‚ï¼ŒCSSé€‰æ‹©å™¨æ¨¡å—å·²ç»åˆ°äº†Level 4äº†ï¼Œå¼¹æ€§å¸ƒå±€æ¨¡å—è¿˜æ˜¯Level 1ã€‚</p><p>å°†CSSåˆ’åˆ†ä¸ºç‹¬ç«‹çš„æ¨¡å—æ˜¯ä¸€ä¸ªéå¸¸æ˜æ™ºçš„å†³å®šï¼Œæµè§ˆå™¨å‚å•†å¯ä»¥æ ¹æ®å¯¹è‡ªå·±éœ€æ±‚çš„åˆ¤æ–­å†³å®šç©¶ç«Ÿå¯¹å“ªäº›æ¨¡å—è¿›è¡Œæ”¯æŒï¼Œå“ªæ€•è¿™ä¸ªæ¨¡å—è¿˜å¤„äºè‰æ¡ˆçŠ¶æ€ã€‚ä¾‹å¦‚CSSçš„env()å‡½æ•°çš„è§„èŒƒè¿˜æ˜¯è‰æ¡ˆçŠ¶æ€ï¼Œä½†æ˜¯Chromeå’ŒSafariæµè§ˆå™¨çš„å‚å•†å´å¿«é€Ÿå“åº”ï¼Œå¯¹å…¶è¿›è¡Œäº†æ”¯æŒã€‚å¯¹å¼€å‘è€…è€Œè¨€ï¼Œå¦‚æ­¤è¿…é€Ÿåœ°æ”¯æŒæ–°ç‰¹æ€§çŠ¹å¦‚ä¸€åœºåŠæ—¶é›¨ã€‚</p><p>å½“ç„¶ï¼Œè¿™ç§æ¨¡å—åŒ–çš„è®¾è®¡ä¹Ÿä¸æ˜¯æ²¡æœ‰å¼Šç«¯ï¼Œæœ€å¤§çš„é—®é¢˜å°±æ˜¯è®¾è®¡å†—ä½™ã€‚ä¾‹å¦‚ï¼Œå¼¹æ€§å¸ƒå±€å’Œç½‘æ ¼å¸ƒå±€ä¸­çš„å¯¹é½å±æ€§å…¶å®å¯ä»¥ç»Ÿä¸€ï¼Œä½†å®ƒä»¬å´æ˜¯åˆ†ç¦»çš„ï¼Œè¿™å°±ä¼šå¾’å¢å­¦ä¹ æˆæœ¬ï¼›åˆ†æ å¸ƒå±€ã€å¼¹æ€§å¸ƒå±€å’Œç½‘æ ¼å¸ƒå±€ä¸­çš„é—´éš™å…¶å®å¯ä»¥ç»Ÿä¸€ï¼Œä½†å®ƒä»¬ä¹Ÿéƒ½æ˜¯åˆ†ç¦»çš„ï¼Œå„æœ‰å„çš„é—´éš™å±æ€§ã€‚å¥½åœ¨çº æ­£åŠæ—¶ï¼Œç°åœ¨è¿™ä¸‰å¤§å¸ƒå±€å…¨éƒ¨å¼€å§‹æ”¹ç”¨gapå±æ€§è¡¨ç¤ºé—´éš™ï¼Œå‡å°‘äº†å› ä¸ºæ¨¡å—åŒ–å¸¦æ¥çš„è®¾è®¡å†—ä½™ã€‚</p><p>æ¨¡å—åŒ–ç­–ç•¥å¸¦æ¥çš„å¥½å¤„è¿œè¿œå¤§äºå¼Šç«¯ï¼Œæ­£æ‰€è°“ç‘•ä¸æ©ç‘œï¼Œä¸å¸¦æ¥çš„å¥½å¤„ç›¸æ¯”ï¼Œæ¨¡å—åŒ–è®¾è®¡çš„å¼Šç«¯å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼ŒCSS2.1ä¹‹åçš„CSSä¸–ç•Œå°±æ˜¯æ¨¡å—åŒ–çš„æ–°ä¸–ç•Œï¼Œæ‰€ä»¥æˆ‘ç§°ä¹‹ä¸ºCSSæ–°ä¸–ç•Œã€‚è¿™ä¸ªCSSæ–°ä¸–ç•Œå¸¦æ¥äº†æ–°çš„CSSå±æ€§ï¼Œå¹¶è®©å¾ˆå¤šCSS2ä¸­æ¨¡ç³Šçš„æ¦‚å¿µæœ‰äº†æ˜ç¡®çš„å®šä¹‰ï¼Œå¦‚å°ºå¯¸ä½“ç³»ã€é€»è¾‘å±æ€§ã€CSSå€¼ç±»å‹åˆ’åˆ†ç­‰ã€‚CSSæ–°ä¸–ç•Œä¸­å„æ¨¡å—è™½ç„¶å‘å±•ç‹¬ç«‹ï¼Œä½†æ˜¯ç›¸äº’é—´è¿˜æ˜¯æœ‰å¾ˆå¤šå…±æ€§å’Œè”ç³»çš„ã€‚å› æ­¤ï¼ŒCSSæ–°ä¸–ç•Œä¸ä»…æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„ä¸–ç•Œï¼Œè¿˜æ˜¯ä¸€ä¸ªç¼¤çº·å¤šå½©ï¼ŒåŒæ—¶åˆè‡ªæˆä¸€ä½“çš„ä¸¥è°¨çš„ä¸–ç•Œã€‚</p></blockquote><span id="more"></span><h2 id="äº’é€šäº’è”çš„CSSæ•°æ®ç±»å‹"><a href="#äº’é€šäº’è”çš„CSSæ•°æ®ç±»å‹" class="headerlink" title="äº’é€šäº’è”çš„CSSæ•°æ®ç±»å‹"></a>äº’é€šäº’è”çš„CSSæ•°æ®ç±»å‹</h2><blockquote><p>ä»»ä½•CSSå±æ€§å€¼ä¸€å®šåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªæ•°æ®ç±»å‹ã€‚</p><p>åœ¨CSS2æ—¶ä»£ï¼ŒCSSæ•°æ®ç±»å‹çš„æ¦‚å¿µå¹¶ä¸æ€ä¹ˆé‡è¦ï¼Œå› ä¸ºå¸¸ç”¨çš„CSSå±æ€§ç¿»æ¥è¦†å»å°±é‚£å‡ ä¸ªï¼Œè¿™äº›CSSå±æ€§æ”¯æŒçš„å±æ€§å€¼æˆ‘ä»¬åå¤ä½¿ç”¨å°±è®°ä½äº†ã€‚ä½†æ˜¯åœ¨CSSæ–°ä¸–ç•Œä¸­ï¼Œç”±äºå„ä¸ªCSSæ¨¡å—ç‹¬ç«‹å‘å±•ï¼Œæ²¡æœ‰ç»Ÿä¸€çš„å¤§ç‰ˆæœ¬è¿›è¡Œçº¦æŸï¼Œå› æ­¤CSSçš„å‘å±•å’Œå˜åŒ–éå¸¸å¿«ï¼Œè¿™å¯¼è‡´çŸ­æ—¶é—´å†…å¤§é‡çš„CSSæ–°å±æ€§å¦‚é›¨åæ˜¥ç¬‹èˆ¬æ¶Œç°ã€‚</p><p>å¦‚æœæ­¤æ—¶è¿˜å’Œè¿‡å»ä¸€æ ·ï¼Œåªæ˜¯å‡­å€Ÿç»éªŒå»å­¦ä¹ CSSæ–°ç‰¹æ€§ï¼Œé‚£ä¹ˆå­¦ä¹ èµ·æ¥è‚¯å®šæ˜¯ååˆ†å›°éš¾çš„ï¼Œå› ä¸ºæ•ˆç‡æ¯”è¾ƒä½ä¸‹ã€‚æ­¤æ—¶CSSæ•°æ®ç±»å‹çš„ä»·å€¼å°±ä½“ç°å‡ºæ¥äº†ï¼Œå½“CSSæ–°å±æ€§å‡ºç°çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ— é¡»è®°å¿†æ•°é‡ä¼—å¤šçš„å±æ€§å€¼åç§°ï¼Œåªéœ€è¦è®°ä½æ”¯æŒçš„æ•°æ®ç±»å‹å³å¯ï¼Œè¿™æ ·å­¦ä¹ æˆæœ¬å°±å¤§å¤§é™ä½äº†</p></blockquote><p>ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œbackground-imageæ˜¯ä½¿ç”¨é¢‘ç‡éå¸¸é«˜çš„ä¸€ä¸ªCSSå±æ€§ï¼Œè¿™ä¸ªCSSå±æ€§çš„è¯­æ³•ç»“æ„æ˜¯ä¸‹é¢è¿™æ ·çš„ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-image</span>: none | &lt;image&gt;</span><br></pre></td></tr></table></figure><p>è¿™ä¸ªè¯­æ³•ä¸­å‡ºç°çš„&lt;image&gt;å°±æ˜¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œå®ƒåŒ…æ‹¬ä¸‹é¢è¿™äº›ç±»å‹å’Œå‡½æ•°ï¼š</p><p>â— &lt;url&gt;ï¼›</p><p>â— &lt;gradient&gt;ï¼›</p><p>â— element()ï¼›</p><p>â— image()ï¼›</p><p>â— image-set()ï¼›</p><p>â— cross-fade()</p><p>â— paint()</p><p>ä¹Ÿå°±æ˜¯è¯´ï¼ŒCSSçš„background-imageå±æ€§ä¸ä»…æ”¯æŒurl()å‡½æ•°å’Œæ¸å˜å›¾åƒï¼Œè¿˜æ”¯æŒelement()ã€image()ã€image-set()å’Œcross-fade()ç­‰å‡½æ•°ã€‚</p><h3 id="å‡ ä¸ªå¸¸è§æ•°æ®ç±»å‹çš„ç®€å•ä»‹ç»"><a href="#å‡ ä¸ªå¸¸è§æ•°æ®ç±»å‹çš„ç®€å•ä»‹ç»" class="headerlink" title="å‡ ä¸ªå¸¸è§æ•°æ®ç±»å‹çš„ç®€å•ä»‹ç»"></a>å‡ ä¸ªå¸¸è§æ•°æ®ç±»å‹çš„ç®€å•ä»‹ç»</h3><blockquote><p>CSSæ•°æ®ç±»å‹éå¸¸å¤šï¼Œä¿å®ˆä¼°è®¡ï¼Œè‡³å°‘æœ‰50ä¸ªï¼Œè¿™é‡Œä»‹ç»å‡ ä¸ªå¸¸è§ä¸”å€¼å¾—ä¸€æçš„æ•°æ®ç±»å‹ã€‚</p></blockquote><p>CSS Shapeså¸ƒå±€ä¸­æœ‰ä¸€ä¸ªåä¸ºshape-outsideçš„å±æ€§ï¼Œæˆ‘ä»¬ä¸ç”¨å…³å¿ƒè¿™ä¸ªCSSå±æ€§çš„å«ä¹‰ï¼Œåªçœ‹è¿™ä¸ªCSSå±æ€§çš„è¯­æ³•ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">shape-outside</span>: none | &lt;shape-box&gt; || &lt;basic-shape&gt; | &lt;image&gt;</span><br></pre></td></tr></table></figure><ol><li><p>&lt;shape-box&gt; æ”¯æŒå±æ€§å¦‚ä¸‹ï¼š</p><ul><li><p>&lt;box&gt;</p><p>  â— content-boxï¼›</p><p>  â— padding-boxï¼›</p><p>  â— border-boxã€‚</p></li><li><p>margin-box</p></li></ul></li><li><p>&lt;basic-shape&gt; æ”¯æŒå±æ€§å¦‚ä¸‹ï¼š</p><ul><li>inset()</li><li>circle()</li><li>ellipse()</li><li>polygon()</li><li>path()</li></ul></li><li><p>&lt;image&gt;</p></li><li><p>&lt;cololr&gt;</p><ul><li>&lt;rgb()&gt;ï¼›</li><li>&lt;rgba()&gt;ï¼›</li><li>&lt;hsl()&gt;ï¼›</li><li>&lt;hsla()&gt;ï¼›</li><li>&lt;hex-color&gt;ï¼›</li><li>&lt;named-color&gt;ï¼›</li><li>currentColorï¼›</li><li>&lt;deprecated-system-color&gt; åºŸå¼ƒçš„ç³»ç»Ÿçš„é¢œè‰²</li></ul></li></ol><p><a href="https://www.zhangxinxu.com/wordpress/2019/11/css-value-type/">csså€¼ç±»å‹æ–‡æ¡£å¤§å…¨</a></p><h3 id="å­¦ä¼šçœ‹æ‡‚CSSå±æ€§å€¼å®šä¹‰è¯­æ³•"><a href="#å­¦ä¼šçœ‹æ‡‚CSSå±æ€§å€¼å®šä¹‰è¯­æ³•" class="headerlink" title="å­¦ä¼šçœ‹æ‡‚CSSå±æ€§å€¼å®šä¹‰è¯­æ³•"></a>å­¦ä¼šçœ‹æ‡‚CSSå±æ€§å€¼å®šä¹‰è¯­æ³•</h3><blockquote><p>CSSå±æ€§å€¼æœ‰ä¸“é—¨çš„å®šä¹‰è¯­æ³•ï¼Œç”¨æ¥è¡¨ç¤ºCSSå±æ€§å€¼çš„åˆæ³•ç»„æˆã€‚ä¾‹å¦‚ï¼Œçº¿æ€§æ¸å˜çš„è¯­æ³•ä¸ºï¼š</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">linear-gradient(<span class="selector-attr">[ &lt;angle&gt; | to &lt;side-or-corner&gt; , ]</span>? &lt;<span class="attribute">color</span>-stop-list&gt;)</span><br></pre></td></tr></table></figure><h4 id="å­¦ä¹ CSSå±æ€§å€¼å®šä¹‰è¯­æ³•çš„å¥½å¤„"><a href="#å­¦ä¹ CSSå±æ€§å€¼å®šä¹‰è¯­æ³•çš„å¥½å¤„" class="headerlink" title="å­¦ä¹ CSSå±æ€§å€¼å®šä¹‰è¯­æ³•çš„å¥½å¤„"></a>å­¦ä¹ CSSå±æ€§å€¼å®šä¹‰è¯­æ³•çš„å¥½å¤„</h4><blockquote><p>åœ¨å¼€å§‹ä»‹ç»å…·ä½“çš„è¯­æ³•è§„åˆ™ä¹‹å‰ï¼Œæˆ‘æƒ³å…ˆè¯´è¯´æˆ‘ä»¬ä¸ºä»€ä¹ˆè¦å­¦ä¼šçœ‹æ‡‚CSSå±æ€§å€¼å®šä¹‰è¯­æ³•ï¼ˆCSS value definition syntaxï¼‰ã€‚å°±æ‹¿çº¿æ€§æ¸å˜çš„è¯­æ³•ä¸¾ä¾‹ï¼Œæ ¹æ®æˆ‘çš„è§‚å¯Ÿï¼Œå‡ ä¹æ— ä¸€ä¾‹å¤–ï¼ŒCSSå¼€å‘è€…ä¼šå†™å‡ºç±»ä¼¼ä¸‹é¢è¿™æ ·çš„CSSçº¿æ€§æ¸å˜ä»£ç ï¼š</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to bottom, deepskyblue, deeppink)</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™å¥å£°æ˜æœ‰é—®é¢˜å—ï¼Ÿä»åŠŸèƒ½ä¸Šè®²æ²¡é—®é¢˜ï¼Œä½†æ˜¯å†™æ³•ä¸Šå´æœ‰ç‘•ç–µï¼Œ â€œto bottomâ€ è¿™å‡ ä¸ªå­—ç¬¦æ˜¯å¤šä½™çš„ï¼Œå¯ç›´æ¥å†™ä¸º</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(deepskyblue, deeppink)</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœä½ çœ‹å¾—æ‡‚CSSçš„è¯­æ³•ï¼Œé‚£ä¹ˆåœ¨å­¦ä¹ CSSçš„æ—¶å€™ï¼Œåªè¦ç¨å¾®çœ‹ä¸€çœ‹çº¿æ€§æ¸å˜çš„è¯­æ³•ï¼Œå°±èƒ½å¾ˆè½»æ¾åœ°çŸ¥é“â€œçº¿æ€§æ¸å˜çš„æ–¹å‘è®¾ç½®æ˜¯å¯ä»¥çœç•¥çš„â€è¿™æ ·ä¸€ä¸ªç»†èŠ‚çŸ¥è¯†ï¼Œä¹Ÿå°±èƒ½å†™å‡ºæ›´ç®€æ´çš„CSSä»£ç ã€‚</p></blockquote><h4 id="CSSå±æ€§å€¼å®šä¹‰è¯­æ³•è¯¦è§£"><a href="#CSSå±æ€§å€¼å®šä¹‰è¯­æ³•è¯¦è§£" class="headerlink" title="CSSå±æ€§å€¼å®šä¹‰è¯­æ³•è¯¦è§£"></a>CSSå±æ€§å€¼å®šä¹‰è¯­æ³•è¯¦è§£</h4><blockquote><p>CSSå±æ€§å€¼å®šä¹‰è¯­æ³•æ˜¯ä¸“é—¨ç”¨æ¥é™å®šCSSå±æ€§åˆæ³•å–å€¼çš„è¯­æ³•ï¼Œè¿™ç§è¯­æ³•åŒ…å«ä»¥ä¸‹3ç§åŸºæœ¬ç»„æˆå…ƒç´ ï¼š</p><ul><li>å…³é”®å­—</li><li>æ•°æ®ç±»å‹</li><li>ç¬¦å·</li></ul></blockquote><p>çº¿æ€§æ¸å˜è¯­æ³•ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">linear-gradient(<span class="selector-attr">[&lt;angle&gt; | to &lt;side-or-corner&gt;, ]</span>? &lt;<span class="attribute">color</span>-stop-list&gt;)</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¯­æ³•ä¸­ï¼Œ to ä¸ºå…³é”®å­—ï¼Œ &lt;angle&gt;,&lt;side-or-corner&gt;,&lt;color-stop-list&gt;æ˜¯æ•°æ®ç±»å‹ï¼Œ[] | ? ä¸ºç¬¦å·</p><ol><li><p>å…³é”®å­—</p><p> å…³é”®å­—åˆ†ä¸ºé€šç”¨å…³é”®å­—å’Œå…¨å±€å…³é”®å­—ï¼š</p><p> â— autoã€noneã€easeç­‰å…³é”®å­—æ˜¯é€šç”¨å…³é”®å­—ï¼Œæˆ–è€…å¯ä»¥ç§°ä¸ºæ™®é€šå…³é”®å­—ï¼Œè¿™äº›å…³é”®å­—å‡åªè¢«éƒ¨åˆ†CSSå±æ€§æ”¯æŒï¼›</p><p> â— inheritã€initialã€unsetå’Œrevertæ˜¯å…¨å±€å…³é”®å­—ï¼Œå±äºè¢«æ‰€æœ‰CSSå±æ€§æ”¯æŒçš„ç‰¹æ®Šå…³é”®å­—</p></li><li><p>æ•°æ®ç±»å‹</p><p> æ•°æ®ç±»å‹å¤–é¢æœ‰ä¸€å¯¹å°–æ‹¬å·ï¼ˆâ€œ&lt;â€å’Œâ€œ&gt;â€ï¼‰ã€‚æœ‰äº›æ•°æ®ç±»å‹æ˜¯CSSè§„èŒƒä¸­ä¸“é—¨å®šä¹‰çš„ï¼Œå®ƒä»¬è¢«ç§°ä¸ºåŸºæœ¬ç±»å‹ï¼Œå…¶ä»–æ•°æ®ç±»å‹å°±è¢«ç§°ä¸ºå…¶ä»–ç±»å‹ã€‚</p></li><li><p>ç¬¦å·</p><p> ç¬¦å·æ˜¯CSSè¯­æ³•ä¸­çš„é‡ç‚¹å’Œéš¾ç‚¹ã€‚CSSè¯­æ³•ä¸­çš„ç¬¦å·åˆ†ä¸ºå­—é¢ç¬¦å·ã€ç»„åˆç¬¦å·å’Œæ•°é‡ç¬¦å·è¿™3ç±»</p><ul><li><p>å­—é¢ç¬¦å·æŒ‡çš„æ˜¯CSSå±æ€§å€¼ä¸­åŸæœ¬å°±æ”¯æŒçš„åˆæ³•ç¬¦å·ï¼Œè¿™äº›ç¬¦å·åœ¨CSSè¯­æ³•ä¸­ä¼šæŒ‰ç…§å…¶åŸæœ¬çš„å­—é¢æ„ä¹‰å‘ˆç°ã€‚ç›®å‰å­—é¢ç¬¦å·å°±ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯é€—å·ï¼ˆ,ï¼‰ï¼Œå¦ä¸€ä¸ªæ˜¯æ–œæ ï¼ˆ/ï¼‰</p><p>  <img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221021095011386.png" alt="image-20221021095011386"></p></li><li><p>ç»„åˆç¬¦å·ç”¨æ¥è¡¨ç¤ºæ•°ä¸ªåŸºæœ¬å…ƒç´ ä¹‹é—´çš„ç»„åˆå…³ç³»ã€‚ç›®å‰å…±æœ‰5ä¸ªç»„åˆç¬¦å·ï¼Œå…¶ä¸­å¤§å¤šæ•°ç»„åˆç¬¦å·çš„å«ä¹‰ä¸€ç›®äº†ç„¶ï¼Œé™¤äº†â€œ|â€è¿™ä¸ªç»„åˆç¬¦å·ã€‚å› ä¸ºâ€œ|â€è¡¨ç¤ºäº’æ–¥ï¼Œè¿™åœ¨ç¼–ç¨‹è¯­è¨€ä¸­æ¯”è¾ƒå°‘è§ï¼Œå¤§å®¶å¯ä»¥ç‰¹åˆ«å…³æ³¨ä¸€ä¸‹ã€‚</p><p>  <img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221021095120238.png" alt="image-20221021095120238"></p></li><li><p>æ•°é‡ç¬¦å·ç”¨æ¥æè¿°ä¸€ä¸ªå…ƒç´ å¯ä»¥å‡ºç°å¤šå°‘æ¬¡ï¼Œæ•°é‡ç¬¦å·ä¸èƒ½å åŠ å‡ºç°ï¼Œå¹¶ä¸”ä¼˜å…ˆçº§é«˜äºç»„åˆç¬¦å·ã€‚ç›®å‰å…±æœ‰6ä¸ªæ•°é‡ç¬¦å·ï¼Œå¤§å¤šæ•°çš„æ•°é‡ç¬¦å·çš„å«ä¹‰å’Œåœ¨æ­£åˆ™è¡¨è¾¾å¼ä¸­çš„å«ä¹‰æ˜¯ä¸€æ ·çš„</p><p>  <img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221021095233527.png" alt="image-20221021095233527"></p></li></ul></li></ol><blockquote><p>æ¥ä¸‹æ¥åªè¦å¼„æ¸…æ¥š&lt;angle&gt;ã€&lt;side-or-corner&gt;å’Œ&lt;color-stop-list&gt;è¿™å‡ ä¸ªæ•°æ®ç±»å‹çš„å«ä¹‰å’Œè¯­æ³•ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç†è§£çº¿æ€§æ¸å˜çš„è¯­æ³•äº†ã€‚</p></blockquote><h4 id="äº†è§£CSSå…¨å±€å…³é”®å­—"><a href="#äº†è§£CSSå…¨å±€å…³é”®å­—" class="headerlink" title="äº†è§£CSSå…¨å±€å…³é”®å­—"></a>äº†è§£CSSå…¨å±€å…³é”®å­—</h4><blockquote><p>inheritã€initialã€unsetå’Œrevertéƒ½æ˜¯CSSå…¨å±€å…³é”®å­—å±æ€§å€¼ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰CSSå±æ€§éƒ½å¯ä»¥ä½¿ç”¨è¿™å‡ ä¸ªå…³é”®å­—ä½œä¸ºå±æ€§å€¼ã€‚</p></blockquote><table><thead><tr><th align="center">å…³é”®å­—å±æ€§å€¼</th><th align="center">å®ç”¨æ€§</th><th align="center">å…¼å®¹æ€§</th><th align="center">æ•´ä½“è®¾è®¡</th></tr></thead><tbody><tr><td align="center">inherit</td><td align="center">A</td><td align="center">A+</td><td align="center">A+</td></tr><tr><td align="center">initial</td><td align="center">B</td><td align="center">B+</td><td align="center">B</td></tr><tr><td align="center">unset</td><td align="center">B-</td><td align="center">B-</td><td align="center">B-</td></tr><tr><td align="center">revert</td><td align="center">B</td><td align="center">C</td><td align="center">B-</td></tr></tbody></table><p><strong>ç”¨è¿‡éƒ½è¯´å¥½çš„ç»§æ‰¿å…³é”®å­—inherit</strong></p><blockquote><p>inheritè¿™ä¸ªå…³é”®å­—æ˜¯ç»§æ‰¿çš„æ„æ€ã€‚IEæµè§ˆå™¨ä»IE8ï¼ˆæ ‡å‡†ç‰ˆï¼‰å¼€å§‹å°±å·²ç»æ”¯æŒè¯¥å…³é”®å­—äº†ï¼Œè€Œä¸æ˜¯ä»IE9æµè§ˆå™¨å¼€å§‹æ”¯æŒçš„ã€‚è¯·è®°ä½ï¼Œä¸æ˜¯ä»IE9å¼€å§‹æ”¯æŒçš„ï¼Œç½‘ç»œä¸Šçš„æŸäº›åœ¨çº¿æ–‡æ¡£æ˜¯é”™è¯¯çš„ã€‚</p></blockquote><p><strong>å¯ä»¥ä¸€ç”¨çš„åˆå§‹å€¼å…³é”®å­—initial</strong></p><blockquote><p>initialæ˜¯åˆå§‹å€¼å…³é”®å­—ï¼Œå¯ä»¥æŠŠå½“å‰çš„CSSå±æ€§çš„è®¡ç®—å€¼è¿˜åŸæˆ<strong>CSSè¯­æ³•ä¸­è§„å®šçš„åˆå§‹å€¼</strong>ã€‚ã€<strong>ä¸æ˜¯æµè§ˆå™¨å†…ç½®çš„æ ·å¼</strong>ã€‘</p></blockquote><p><a href="https://demo.cssworld.cn/new/2/3-1.php">ç¤ºä¾‹</a></p><p><strong>å¾ˆå¤šäººæœ‰è¿™æ ·ä¸€ä¸ªè¯¯åŒºï¼šæŠŠ initial å…³é”®å­—ç†è§£ä¸ºæµè§ˆå™¨è®¾ç½®çš„å…ƒç´ çš„åˆå§‹å€¼ã€‚å®é™…ä¸Šä¸¤è€…æ˜¯ä¸ä¸€æ ·çš„ã€‚</strong></p><blockquote><p>ä¸¾ä¸ªä¾‹å­ï¼Œå®é™…å¼€å‘çš„æ—¶å€™ï¼Œ&lt;ul&gt;å…ƒç´ æˆ– &lt;ol&gt;å…ƒç´ é»˜è®¤çš„list-style-typeæ ·å¼ä¼šè¢«CSSé‡ç½®ã€‚ä½†æ˜¯å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„åœºæ™¯ï¼Œå³æŸäº›åŒºåŸŸéœ€è¦å¢åŠ ä¸€äº›æè¿°ä¿¡æ¯ï¼Œå› æ­¤éœ€è¦é‡æ–°ä½¿ç”¨list-style-typeæ ·å¼ï¼ˆå°åœ†ç‚¹æˆ–è€…æ•°å­—ï¼‰ï¼Œæ­¤æ—¶æœ‰äº›å¼€å‘è€…å°±ä¼šä½¿ç”¨initialå…³é”®å­—å¯¹è¯¥æ ·å¼è¿›è¡Œè¿˜åŸï¼š</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ol</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: initial;</span><br><span class="line">    <span class="attribute">list-style-type</span>: initial;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯æ²¡æœ‰ç”¨ï¼åº”ä¸ºä¸Šè¾¹ç­‰åŒå¦‚ä¸‹è®¾ç½®</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ol</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">list-style-type</span>: disc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è€Œä¸æ˜¯é¢„æƒ³çš„</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ol</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">list-style-type</span>: decimal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ­¤æ—¶éœ€è¦çš„å…¨å±€å…³é”®å­—å±æ€§å€¼å…¶å®æ˜¯ revertï¼Œè€Œä¸æ˜¯initialã€‚</p></blockquote><blockquote><p>å…¼å®¹æ€§</p><p>é™¤IEæµè§ˆå™¨ä¹‹å¤–ï¼Œå…¶ä»–æµè§ˆå™¨éƒ½å¾ˆæ—©å°±æ”¯æŒäº†initialï¼Œå› æ­¤ï¼Œè‡³å°‘åœ¨ç§»åŠ¨ç«¯é¡¹ç›®ï¼ˆåŒ…æ‹¬å¾®ä¿¡å°ç¨‹åºï¼‰ä¸­å¤§å®¶å¯ä»¥ç™¾åˆ†ä¹‹ç™¾æ”¾å¿ƒä½¿ç”¨è¿™ä¸ªå…³é”®å­—å±æ€§å€¼ã€‚</p></blockquote><p><strong>äº†è§£ä¸€ä¸‹ä¸å›ºå®šå€¼å…³é”®å­—unset</strong></p><blockquote><p>unsetæ˜¯ä¸å›ºå®šå€¼å…³é”®å­—ï¼Œå…¶ç‰¹æ€§å¦‚ä¸‹ï¼šå¦‚æœå½“å‰ä½¿ç”¨çš„CSSå±æ€§æ˜¯å…·æœ‰ç»§æ‰¿ç‰¹æ€§çš„ï¼Œå¦‚colorå±æ€§ï¼Œåˆ™ç­‰åŒäºä½¿ç”¨inheritå…³é”®å­—ï¼›å¦‚æœå½“å‰ä½¿ç”¨çš„CSSå±æ€§æ˜¯æ²¡æœ‰ç»§æ‰¿ç‰¹æ€§çš„ï¼Œå¦‚background-colorï¼Œåˆ™ç­‰åŒäºä½¿ç”¨initialå…³é”®å­—ã€‚</p><p>unsetè¿™ä¸ªå…³é”®å­—åªæœ‰é…åˆallå±æ€§ä½¿ç”¨æ‰æœ‰æ„ä¹‰ï¼Œå› ä¸ºå¯¹äºæŸä¸ªå…·ä½“çš„CSSå±æ€§ï¼Œæƒ³è¦ç»§æ‰¿æŸä¸ªå±æ€§ï¼Œé‚£å°±ä½¿ç”¨inheritå…³é”®å­—ï¼›æƒ³è¦ä½¿ç”¨åˆå§‹å€¼ï¼Œé‚£å°±ä½¿ç”¨initialå…³é”®å­—ï¼Œæ²¡æœ‰ä»»ä½•ç†ç”±ä½¿ç”¨unsetå…³é”®å­—ã€‚</p></blockquote><p>å¦‚æŸå…ƒç´ å¾ˆå¤šé»˜è®¤å±æ€§ä¸æ˜¯æˆ‘ä»¬éœ€è¦çš„ï¼Œä½†æ˜¯æˆ‘ä»¬åˆä¸æƒ³ä¸€ä¸ªå±æ€§æ¥ä¸€ä¸ªå±æ€§åœ°è¿›è¡Œé‡ç½®ï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿæ­¤æ—¶å°±å¯ä»¥å…ˆä½¿ç”¨all:unsetè¿›è¡Œæ‰¹é‡é‡ç½®ï¼Œå†è®¾ç½®æˆ‘ä»¬éœ€è¦çš„CSSå±æ€§ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dialog &#123;</span><br><span class="line">    <span class="attribute">all</span>: unset;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><dialog>å…ƒç´ çš„æ ·å¼é‡ç½®æ˜¯å¾ˆéš¾å¾—çš„unsetä½¿ç”¨åœºæ™¯ï¼Œç”±äºæ”¯æŒ<dialog>å…ƒç´ çš„æµè§ˆå™¨ä¸€å®šæ”¯æŒunsetï¼Œå› æ­¤ä¹Ÿä¸ç”¨æ‹…å¿ƒå…¼å®¹æ€§çš„é—®é¢˜ã€‚</blockquote><p><strong>ä¸ªäººå¾ˆå–œæ¬¢çš„æ¢å¤å…³é”®å­—revert</strong></p><blockquote><p>revert å…³é”®å­—å¯ä»¥è®©å½“å‰å…ƒç´ çš„æ ·å¼è¿˜åŸæˆæµè§ˆå™¨å†…ç½®çš„æ ·å¼ã€‚ä¾‹å¦‚ï¼š</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ol</span> &#123;</span><br><span class="line">    <span class="attribute">padding</span>: revert;</span><br><span class="line">    <span class="attribute">list-style-type</span>: revert;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>é‚£ä¹ˆ &lt;ol&gt;ä¸­çš„æ¯ä¸€ä¸ª &lt;li&gt;é¡¹éƒ½ä¼šæœ‰æ•°å­—æ•ˆæœå‘ˆç°ï¼Œå½“ç„¶ï¼Œå‰ææ˜¯ä½ æ²¡æœ‰å¯¹å­å…ƒç´  &lt;li&gt;çš„list-style-typeå±æ€§åšè¿‡æ ·å¼é‡ç½®ã€‚è¿™é‡Œæœ‰å¿…è¦æ’ä¸€å¥ï¼Œè¯·è®°ä½ï¼šæ²¡æœ‰ä»»ä½•ç†ç”±å¯¹ &lt;li&gt;å…ƒç´ è¿›è¡Œä»»ä½•æ ·å¼é‡ç½®ã€‚å› ä¸ºæ‰€æœ‰æµè§ˆå™¨çš„<li>å…ƒç´ é»˜è®¤éƒ½æ²¡æœ‰marginå¤–é—´è·ï¼Œä¹Ÿæ²¡æœ‰paddingå†…é—´è·ï¼Œlist-style-typeä¹Ÿæ˜¯ç»§æ‰¿ &lt;ul&gt;æˆ– &lt;ol&gt;å…ƒç´ ï¼Œæ‰€ä»¥å¯¹ &lt;li&gt;å…ƒç´ è¿›è¡Œä»»ä½•æ ·å¼é‡ç½®ï¼Œæ—¢æµªè´¹CSSä»£ç ï¼Œä¹Ÿä¸åˆ©äºåˆ—è¡¨åºå·çš„æ ·å¼è®¾ç½®ã€‚æ­¤åˆ»ï¼Œä½ å°±å¯ä»¥çœ‹çœ‹æ‰‹ä¸­çš„é¡¹ç›®ä¸­çš„ä»£ç æœ‰æ²¡æœ‰å¯¹ &lt;li&gt;å…ƒç´ åšè¿‡æ ·å¼é‡ç½®ï¼Œå¦‚æœæœ‰ï¼Œèµ¶å¿«åˆ æ‰</p></blockquote><p><a href="https://demo.cssworld.cn/new/2/3-2.php">åœ¨æ”¯æŒ revert æ ·å¼çš„ æµè§ˆå™¨ä¸­ è®¾ç½®æ¢å¤</a></p><ul><li><h5 id="HTMLï¼š"><a href="#HTMLï¼š" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ol</span> <span class="attr">class</span>=<span class="string">&quot;revert-ol&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>inheritå…³é”®å­—å®ç”¨<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>initialå…³é”®å­—å¯ç”¨<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>unsetå…³é”®å­—é…åˆallä½¿ç”¨<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>revertå…³é”®å­—æœ‰ç”¨<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ol</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š"><a href="#CSSï¼š" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.revert-ol</span> &#123;</span><br><span class="line">    <span class="attribute">list-style</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@supports</span> (<span class="attribute">padding</span>: revert) &#123;</span><br><span class="line">    <span class="selector-class">.revert-ol</span> &#123;</span><br><span class="line">        <span class="attribute">padding</span>: revert;</span><br><span class="line">        <span class="attribute">list-style-type</span>: revert;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>æŒ‡ä»£æ‰€æœ‰CSSå±æ€§çš„allå±æ€§</strong></p><blockquote><p>allå±æ€§å¯ä»¥é‡ç½®é™¤unicode-bidiã€directionä»¥åŠCSSè‡ªå®šä¹‰å±æ€§ä»¥å¤–çš„æ‰€æœ‰CSSå±æ€§ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">    <span class="attribute">all</span>: inherit;</span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><blockquote><p>è¯¥æ®µä»£ç è¡¨ç¤º &lt;input&gt;å…ƒç´ ä¸­æ‰€æœ‰CSSå±æ€§éƒ½ä½¿ç”¨inheritå…³é”®å­—ä½œä¸ºå±æ€§å€¼</p></blockquote><blockquote><p>all:inheritæ²¡æœ‰ä»»ä½•å®ç”¨ä»·å€¼ï¼Œall:initialä¹Ÿæ²¡æœ‰ä»»ä½•å®ç”¨ä»·å€¼ã€‚æœ‰å®ç”¨ä»·å€¼çš„æ˜¯all:unsetå’Œall:revertã€‚all:unsetå¯ä»¥è®©ä»»æ„ä¸€ä¸ªå…ƒç´ æ ·å¼è¡¨ç°å’Œ&lt;span&gt;å…ƒç´ ä¸€æ ·ã€‚all:revertå¯ä»¥è®©å…ƒç´ æ¢å¤æˆæµè§ˆå™¨é»˜è®¤çš„æ ·å¼ï¼Œä¹Ÿæ˜¯å¾ˆæœ‰ç”¨çš„ã€‚</p></blockquote><blockquote><p>ä¸ºä»€ä¹ˆunicode-bidiå’Œdirectionè¿™ä¸¤ä¸ªCSSå±æ€§ä¸å—allå±æ€§å½±å“?</p><p>æˆ‘ä»¬ä¸å¦¨åé—®ä¸€ä¸‹ï¼Œå¦‚æœunicode-bidiå’Œdirectionè¿™ä¸¤ä¸ªCSSå±æ€§ä¼šå—åˆ°allå±æ€§å½±å“ï¼Œé‚£ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿé˜¿æ‹‰ä¼¯æ–‡çš„å‘ˆç°å½¢å¼æ˜¯ä»å³å¾€å·¦çš„ï¼Œä½†æ˜¯ï¼Œdirectionå±æ€§çš„åˆå§‹å€¼å´æ˜¯ltrï¼Œå³ä»å·¦å¾€å³ã€‚å¦‚æœallå±æ€§å¯ä»¥å½±å“directionå±æ€§ï¼Œé‚£ä¹ˆæ‰§è¡Œall:initialçš„æ—¶å€™ï¼Œè¿™äº›é˜¿æ‹‰ä¼¯æ–‡çš„ç½‘é¡µæ–‡å­—å…¨éƒ¨éƒ½ä¼šå˜æˆä»å·¦å¾€å³å‘ˆç°ã€‚å¤§å®¶å¯ä»¥æƒ³è±¡ä¸€ä¸‹æˆ‘ä»¬çš„ä¸­æ–‡ç½‘é¡µä¸Šçš„ä¸­æ–‡å†…å®¹å…¨éƒ¨ä»å³å¾€å·¦æ˜¾ç¤ºæ˜¯ä»€ä¹ˆæ ·çš„ï¼Œæˆ‘æ•¢ä¿è¯ï¼Œä½¿ç”¨é˜¿æ‹‰ä¼¯æ–‡çš„å‰ç«¯å¼€å‘è€…ç»å¯¹ä¸ä¼šä½¿ç”¨è¿™ä¸ªallå±æ€§çš„ï¼Œallå±æ€§åœ¨é˜¿æ‹‰ä¼¯æ–‡ä¸­ä»æ­¤åå­˜å®äº¡ã€‚</p><p>äºæ˜¯ç­”æ¡ˆå°±å‡ºæ¥äº†ï¼Œä¹‹æ‰€ä»¥directionå±æ€§ä¸å—allå½±å“ï¼Œæ˜¯å› ä¸ºå½“å¹´directionå±æ€§è®¾è®¡å¤±è¯¯ï¼Œå°†å…¶åˆå§‹å€¼è®¾ä¸ºäº†ltrï¼Œè€Œä¸æ˜¯autoã€‚ç°åœ¨ä¸ºäº†ç…§é¡¾ä»å³å¾€å·¦é˜…è¯»çš„åœºæ™¯ï¼Œdirectionå±æ€§å°±è¢«è®¾è®¡æˆä¸å—allå±æ€§å½±å“ã€‚unicode-bidiå±æ€§æ˜¯directionå±æ€§çš„â€œè·Ÿå±è™«â€ï¼Œè€Œä¸”å®ƒçš„åŠŸèƒ½è¿˜æŒºå¼ºå¤§çš„ï¼Œå¯ä»¥ç²¾ç¡®æ§åˆ¶æ¯ä¸€ä¸ªæ–‡å­—çš„å‘ˆç°æ–¹å‘ï¼Œåªæ˜¯ç¦»å¼€äº†directionå±æ€§å°±æ²¡ç”¨ã€‚æ—¢ç„¶è¿™ä¸¤ä¸ªCSSå±æ€§å½¢å½±ä¸ç¦»ï¼Œé‚£å°±æŠŠunicode-bidiå±æ€§åŠ å…¥ä¸ä¼šå—allå±æ€§å½±å“çš„å±æ€§é˜Ÿåˆ—å§ã€‚</p></blockquote><h4 id="css-æ–°ç‰¹æ€§çš„æ¸è¿›å¼å¢å¼ºå¤„ç†æŠ€å·§"><a href="#css-æ–°ç‰¹æ€§çš„æ¸è¿›å¼å¢å¼ºå¤„ç†æŠ€å·§" class="headerlink" title="css æ–°ç‰¹æ€§çš„æ¸è¿›å¼å¢å¼ºå¤„ç†æŠ€å·§"></a>css æ–°ç‰¹æ€§çš„æ¸è¿›å¼å¢å¼ºå¤„ç†æŠ€å·§</h4><blockquote><p>æœ‰å¾ˆå¤šCSSæ–°ç‰¹æ€§æ˜¯å¯¹ç°æœ‰Webç‰¹æ€§çš„ä½“éªŒå‡çº§ï¼Œæˆ‘ä»¬ç›´æ¥ä½¿ç”¨è¿™äº›CSSæ–°ç‰¹æ€§å°±å¥½äº†ï¼Œä¸è¦æ‹…å¿ƒå…¼å®¹æ€§é—®é¢˜ã€‚å› ä¸ºåœ¨æ”¯æŒçš„æµè§ˆå™¨ä¸­ä½“éªŒæ›´å¥½ï¼Œåœ¨ä¸æ”¯æŒçš„æµè§ˆå™¨ä¸­ä¹Ÿå°±æ˜¯ä¿æŒåŸæ¥çš„æ ·å­è€Œå·²ã€‚</p><p>åšWebå¼€å‘æ˜¯æ²¡æœ‰å¿…è¦è®©æ‰€æœ‰æµè§ˆå™¨éƒ½æ˜¾ç¤ºå¾—ä¸€æ¨¡ä¸€æ ·çš„ï¼Œå¥½çš„æµè§ˆå™¨æœ‰æ›´å¥½çš„æ˜¾ç¤ºï¼Œç³Ÿç³•çš„æµè§ˆå™¨å°±åªæœ‰æ™®é€šçš„æ˜¾ç¤ºï¼Œè¿™æ‰æ˜¯å¯¹ç”¨æˆ·æ›´è´Ÿè´£ä»»çš„åšæ³•ã€‚</p></blockquote><blockquote><p>ä¸¾ä¸ªä¾‹å­ï¼ŒIE10+æµè§ˆå™¨æ”¯æŒCSSåŠ¨ç”»å±æ€§animationï¼Œæˆ‘ä»¬è¦å®ç°åŠ è½½æ•ˆæœå°±å¯ä»¥ä½¿ç”¨ä¸€ä¸ªå¾ˆå°çš„PNGå›¾ç‰‡ï¼Œå†å€ŸåŠ©æ—‹è½¬åŠ¨ç”»ã€‚è¿™ä¸ªæ–¹æ³•çš„ä¼˜ç‚¹æ˜¯èµ„æºå ç”¨å°‘ï¼ŒåŠ¨ç”»æ•ˆæœç»†è…»ã€‚äºæ˜¯ï¼Œæˆ‘ä»¬çš„éœ€æ±‚æ¥äº†ï¼ŒIE9åŠå…¶ä»¥ä¸‹ç‰ˆæœ¬æµè§ˆå™¨è¿˜æ˜¯ä½¿ç”¨ä¼ ç»Ÿçš„GIFåŠ¨å›¾ä½œä¸ºèƒŒæ™¯ï¼ŒIE10+æµè§ˆå™¨åˆ™ä½¿ç”¨PNGèƒŒæ™¯å›¾å¤–åŠ animationå±æ€§å®ç°åŠ è½½æ•ˆæœã€‚</p></blockquote><p>è¿™ä¸ªéœ€æ±‚çš„éš¾ç‚¹åœ¨äºæˆ‘ä»¬è¯¥å¦‚ä½•åŒºåˆ†IE9å’ŒIE10æµè§ˆå™¨ã€‚å¤§å®¶åƒä¸‡ä¸è¦å†å»æ‰¾ä»€ä¹ˆCSS Hackäº†ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨å±æ€§å€¼çš„è¯­æ³•å·®å¼‚å®ç°æ¸è¿›å¢å¼ºæ•ˆæœã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.icon-loading</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">30px</span>; <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">../images/loading.gif</span>);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">../images/loading.png</span>), <span class="built_in">linear-gradient</span>(transparent, transparent);</span><br><span class="line">    <span class="attribute">animation</span>: spin <span class="number">1s</span> linear infinite;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/2/5-2.php">background-blend-modeçº¹ç†èƒŒæ™¯æ¸è¿›å¢å¼ºå®ç°å®ä¾‹é¡µé¢</a></p><p><strong>@supportsè§„åˆ™ä¸‹çš„æ¸è¿›å¢å¼ºå¤„ç†</strong></p><blockquote><p>@supportsæ˜¯CSSä¸­çš„å¸¸è§çš„@è§„åˆ™ï¼Œå¯ä»¥ç”¨æ¥æ£€æµ‹å½“å‰æµè§ˆå™¨æ˜¯å¦æ”¯æŒæŸä¸ªCSSæ–°ç‰¹æ€§ï¼Œè¿™æ˜¯æœ€è§„èŒƒã€æœ€æ­£ç»Ÿçš„CSSæ¸è¿›å¢å¼ºå¤„ç†æ–¹æ³•ï¼Œå°¤å…¶é€‚åˆå¤šä¸ªCSSå±æ€§éœ€è¦åŒæ—¶å¤„ç†çš„åœºæ™¯ã€‚</p><p>ä½†æ˜¯åœ¨å®é™…å¼€å‘çš„æ—¶å€™ï¼Œ@supportsè§„åˆ™å¹¶æ²¡æœ‰åœ¨IEæµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜ä¸Šåšå‡ºä»€ä¹ˆå¤§çš„è´¡çŒ®ã€‚åŸå› å¾ˆç®€å•ï¼Œ@supportsè§„åˆ™çš„æ”¯æŒæ˜¯ä»Edge12æµè§ˆå™¨å¼€å§‹çš„ï¼Œæ ¹æœ¬å°±æ²¡æœ‰IEæµè§ˆå™¨ä»€ä¹ˆäº‹æƒ…ã€‚</p></blockquote><p><strong>@supportsè§„åˆ™å¸¸ç”¨çš„è¯­æ³•</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.icon-loading</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">30px</span>; <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./loading.gif</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*Edge12+æµè§ˆå™¨*/</span></span><br><span class="line"><span class="keyword">@supports</span> (<span class="attribute">animation</span>: none) &#123;</span><br><span class="line">    <span class="selector-class">.icon-loading</span> &#123;</span><br><span class="line">        <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./loading.png</span>);</span><br><span class="line">        <span class="attribute">animation</span>: spin <span class="number">1s</span> linear infinite;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> spin &#123;</span><br><span class="line">    <span class="selector-tag">from</span> &#123; <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">360deg</span>) &#125;;</span><br><span class="line">    <span class="selector-tag">to</span> &#123; <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">0deg</span>) &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>@supportsè§„åˆ™è¿˜æ”¯æŒä½¿ç”¨æ“ä½œç¬¦è¿›è¡Œåˆ¤æ–­ï¼Œè¿™äº›æ“ä½œç¬¦æ˜¯<strong>not</strong>ã€<strong>and</strong>å’Œ<strong>or</strong>ï¼Œåˆ†åˆ«è¡¨ç¤ºâ€œå¦å®šâ€â€œå¹¶ä¸”â€â€œæˆ–è€…â€ã€‚</p><p>ç”šè‡³è¿ç»­åˆ¤æ–­3ä¸ªä»¥ä¸Šçš„CSSå£°æ˜ä¹Ÿæ²¡é—®é¢˜è¿˜æ”¯æŒåµŒå¥—è¯­æ³•</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@supports</span> (<span class="attribute">display</span>: flex) <span class="keyword">and</span> (<span class="attribute">display</span>: <span class="attribute">grid</span>) <span class="keyword">and</span> (<span class="attribute">gap</span>: <span class="number">0</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">@supports</span> (<span class="attribute">display</span>: flex) <span class="keyword">and</span> (<span class="keyword">not</span> (<span class="attribute">display</span>: <span class="attribute">grid</span>)) &#123;&#125;</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/2/5-3.php">@supportsåµŒå¥—è¯­æ³•æµ‹è¯•å®ä¾‹é¡µé¢</a></p><blockquote><p>@supportsè§„åˆ™æ”¯æŒCSSè‡ªå®šä¹‰å±æ€§çš„æ£€æµ‹å’ŒCSSé€‰æ‹©å™¨è¯­æ³•çš„æ£€æµ‹ã€‚ä¾‹å¦‚ï¼š</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@supports</span> (<span class="attribute">--var</span>: blue) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@supports</span> selector(:default) &#123;&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­ï¼ŒCSSè‡ªå®šä¹‰å±æ€§çš„æ£€æµ‹æ²¡æœ‰ä»»ä½•å®ç”¨ä»·å€¼ï¼Œæœ¬ä¹¦ä¸å±•å¼€è®²è§£ï¼›è€ŒCSSé€‰æ‹©å™¨è¯­æ³•çš„æ£€æµ‹å±äºCSS Conditional Rules Module Level 4è§„èŒƒä¸­çš„å†…å®¹ï¼Œç›®å‰æµè§ˆå™¨å°šæœªå¤§è§„æ¨¡æ”¯æŒï¼Œæš‚æ—¶æ²¡æœ‰å®ç”¨ä»·å€¼ï¼Œå› æ­¤æœ¬ä¹¦æš‚ä¸è®²è§£ã€‚</p></blockquote><p><strong>æµè§ˆå™¨è¿˜æä¾›äº†CSS.supports()æ¥å£ï¼Œè®©æˆ‘ä»¬å¯ä»¥åœ¨JavaScriptä»£ç ä¸­æ£€æµ‹å½“å‰æµè§ˆå™¨æ˜¯å¦æ”¯æŒæŸä¸ªCSSç‰¹æ€§ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable constant_">CSS</span>.<span class="title function_">supports</span>(propertyName, value);</span><br><span class="line"><span class="variable constant_">CSS</span>.<span class="title function_">supports</span>(supportCondition);</span><br></pre></td></tr></table></figure><p><strong>@supportsè§„åˆ™çš„èŠ±æ‹¬å·å¯ä»¥åŒ…å«å…¶ä»–ä»»æ„@è§„åˆ™ï¼Œç”šè‡³æ˜¯åŒ…å«@supportsè§„åˆ™è‡ªèº«</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@supports</span> (<span class="attribute">display</span>: flex) <span class="keyword">and</span> (<span class="keyword">not</span> (<span class="attribute">display</span>: <span class="attribute">grid</span>)) &#123;</span><br><span class="line">    <span class="keyword">@supports</span> (<span class="attribute">animation</span>: none) &#123;</span><br><span class="line">        <span class="selector-class">.icon-loading</span> &#123;</span><br><span class="line">            <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./loading.png</span>);</span><br><span class="line">            <span class="attribute">animation</span>: spin <span class="number">1s</span> linear infinite;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/2/5-4.php">@supports @è§„åˆ™åµŒå¥—æµ‹è¯•å®ä¾‹é¡µé¢</a></p><blockquote><p>æˆ‘è§‰å¾—å¤§å®¶åœ¨æ—¥å¸¸å·¥ä½œä¸­ï¼Œåº”è¯¥å¤§èƒ†ä½¿ç”¨CSSæ–°ç‰¹æ€§ï¼ŒåŒæ—¶å†å¤šèŠ±ä¸€ç‚¹é¢å¤–çš„æ—¶é—´å¯¹è¿™äº›æ–°ç‰¹æ€§åšä¸€äº›å…¼å®¹æ€§æ–¹é¢çš„å·¥ä½œã€‚è¿™ç»å¯¹æ˜¯ä¸€ä»¶éå¸¸åˆ’ç®—çš„äº‹æƒ…ï¼Œæ— è®ºæ˜¯å¯¹ç”¨æˆ·è¿˜æ˜¯å¯¹è‡ªèº«çš„æˆé•¿éƒ½éå¸¸æœ‰å¸®åŠ©ã€‚</p></blockquote><h2 id="ä»å¢å¼ºå·²æœ‰çš„CSSå±æ€§å¼€å§‹"><a href="#ä»å¢å¼ºå·²æœ‰çš„CSSå±æ€§å¼€å§‹" class="headerlink" title="ä»å¢å¼ºå·²æœ‰çš„CSSå±æ€§å¼€å§‹"></a>ä»å¢å¼ºå·²æœ‰çš„CSSå±æ€§å¼€å§‹</h2><h3 id="å°ºå¯¸ä½“ç³»"><a href="#å°ºå¯¸ä½“ç³»" class="headerlink" title="å°ºå¯¸ä½“ç³»"></a>å°ºå¯¸ä½“ç³»</h3><blockquote><p>å°ºå¯¸ä½“ç³»ï¼Œå¦‚æœç”¨ä¸€ä¸ªé‡‘å­—å¡”æ¥è¡¨ç¤ºï¼Œé‚£ä¹ˆåœ¨æœ€ä¸Šå±‚çš„æ¦‚å¿µå°±æ˜¯â€œIntrinsic Sizingâ€å’Œâ€œExtrinsic Sizingâ€ã€‚â€œIntrinsic Sizingâ€è¢«ç§°ä¸ºâ€œå†…åœ¨å°ºå¯¸â€ï¼Œè¡¨ç¤ºå…ƒç´ æœ€ç»ˆçš„å°ºå¯¸è¡¨ç°æ˜¯ç”±å†…å®¹å†³å®šçš„ï¼›â€œExtrinsic Sizingâ€è¢«ç§°ä¸ºâ€œå¤–åœ¨å°ºå¯¸â€ï¼Œè¡¨ç¤ºå…ƒç´ æœ€ç»ˆçš„å°ºå¯¸è¡¨ç°æ˜¯ç”±ä¸Šä¸‹æ–‡å†³å®šçš„ã€‚</p></blockquote><h4 id="width-fit-contentå£°æ˜"><a href="#width-fit-contentå£°æ˜" class="headerlink" title="width:fit-contentå£°æ˜"></a>width:fit-contentå£°æ˜</h4><blockquote><p>fit-contentå…³é”®å­—æ˜¯æ–°çš„å°ºå¯¸ä½“ç³»å…³é”®å­—ä¸­ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„å…³é”®å­—ã€‚ä½ å¯ä»¥æŠŠfit-contentå…³é”®å­—çš„å°ºå¯¸è¡¨ç°æƒ³è±¡æˆâ€œç´§èº«è£¤â€ï¼Œå¤§è…¿çš„è‚‰å¯¹åº”çš„å°±æ˜¯å…ƒç´ é‡Œé¢çš„å†…å®¹ï¼Œå¦‚æœæ˜¯å®½æ¾çš„è£¤å­ï¼Œé‚£è‚‰çœ¼æ‰€è§çš„å°ºå¯¸å°±æ¯”è¾ƒå¤§ï¼Œä½†æ˜¯å¦‚æœæ˜¯ç´§èº«è£¤ï¼Œåˆ™å‘ˆç°çš„å°ºå¯¸å°±æ˜¯å¤§è…¿å®é™…çš„å°ºå¯¸ã€‚</p><p>å®é™…ä¸Šï¼Œfit-contentå…³é”®å­—çš„æ ·å¼è¡¨ç°å°±æ˜¯CSS2.1è§„èŒƒä¸­çš„â€œshrink-to-fitâ€ï¼Œæˆ‘ç§°å…¶ä¸ºâ€œåŒ…è£¹æ€§â€ã€‚è¿™ç§å°ºå¯¸è¡¨ç°å’Œå…ƒç´ åº”ç”¨display:inline-blockã€position:absoluteç­‰CSSå£°æ˜ç±»ä¼¼ï¼Œå°ºå¯¸æ”¶ç¼©ä½†ä¸ä¼šè¶…å‡ºåŒ…å«å—çº§å…ƒç´ çš„å°ºå¯¸é™åˆ¶ã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/3/1-1.php">æ–‡å­—å±…ä¸­å’Œå·¦å¯¹é½è‡ªåŠ¨å¸ƒå±€å®ä¾‹é¡µé¢</a></p><blockquote><p>å¦‚æœæ˜¯å†…è”å…ƒç´ è¦æ”¶ç¼©ï¼Œå¯ä»¥ä½¿ç”¨display:inline-blockå£°æ˜ï¼›å¦‚æœæ˜¯å—çº§å…ƒç´ è¦æ”¶ç¼©ï¼Œå¯ä»¥ä½¿ç”¨display:tableå£°æ˜ã€‚è¿™ä¸¤ç§æ–¹å¼æ•ˆæœä¸€æ ·ï¼Œå…¼å®¹æ€§è¿˜æ›´å¥½ï¼ŒIE8+æµè§ˆå™¨éƒ½æä¾›äº†æ”¯æŒã€‚è¿™ä¹ˆä¸€çœ‹ï¼Œfit-contentå…³é”®å­—å²‚ä¸æ˜¯æ²¡ä»€ä¹ˆç”¨ï¼Ÿ</p></blockquote><p><strong>ä½¿ç”¨fit-contentå…³é”®å­—æœ‰ä¸¤å¤§ä¼˜ç‚¹ã€‚</strong></p><ul><li>ä¿æŠ¤äº†å…ƒç´ åŸå§‹çš„displayè®¡ç®—å€¼ï¼Œä¾‹å¦‚&lt;li&gt;å…ƒç´ è¦æ˜¯è®¾ç½®æˆäº†display:tableï¼Œå‰é¢çš„é¡¹ç›®ç¬¦å·å°±ä¸ä¼šå‡ºç°ï¼Œ::markerä¼ªå…ƒç´ ä¹Ÿä¼šå¤±æ•ˆã€‚</li><li>è®©å…ƒç´ çš„å°ºå¯¸æœ‰äº†ç¡®å®šçš„å€¼ï¼Œè¿™æ˜¯fit-contentå…³é”®å­—æœ€é‡è¦ä¹Ÿæœ€å¯è´µçš„ä¼˜ç‚¹ã€‚</li></ul><p><strong>è®©å…ƒç´ çš„å°ºå¯¸æœ‰äº†ç¡®å®šçš„å€¼è¿™ç‚¹å±•å¼€ä¸€ä¸‹</strong></p><p>CSSä¸­æœ‰ä¸å°‘å¸ƒå±€éœ€è¦æœ‰æ˜ç¡®çš„å…ƒç´ çš„å°ºå¯¸æ‰èƒ½å®ç°ï¼Œéå¸¸å…¸å‹çš„ä¾‹å­å°±æ˜¯ç»å¯¹å®šä½å…ƒç´ ä½¿ç”¨margin:autoå®ç°å±…ä¸­æ•ˆæœæ—¶éœ€è¦è®¾ç½®å…·ä½“çš„widthæˆ–heightçš„å±æ€§å€¼ï¼ŒCSSä»£ç ç¤ºæ„å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cw-dialog</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>; <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;<span class="attribute">top</span>: <span class="number">0</span>; <span class="attribute">right</span>: <span class="number">0</span>; <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">border</span>: solid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯å¾ˆå¤šæ—¶å€™ç»å¯¹å®šä½å…ƒç´ çš„å°ºå¯¸ä¸æ˜¯å›ºå®šçš„ï¼Œæœ€ç»ˆå°ºå¯¸ä¼šæ ¹æ®å†…å®¹è‡ªåŠ¨å˜åŒ–ï¼Œæ­¤æ—¶ä»¥ä¸ŠCSSå°±ä¸é€‚åˆäº†ã€‚æœ‰äººæƒ³åˆ°äº† translate åç§» 50%ã€‚è¿™ä¸ªæ–¹æ³•ä¸é”™ï¼Œä½†æ˜¯å¹¶ä¸å®Œç¾ï¼Œè€Œä¸”è¿™ä¸ªåœ°æ–¹å æ®äº† transform å±æ€§ï¼Œè¿™ä¼šå¯¼è‡´ç»å¯¹å®šä½å…ƒç´ æ— æ³•ä½¿ç”¨åŒ…å«transformå±æ€§çš„åŠ¨ç”»æ•ˆæœã€‚ æ­¤æ—¶å¦‚æœä½¿ç”¨ <strong>fit-content</strong> å…³é”®å­— ã€‚å°±ä¸ç”¨æ‹…å¿ƒåŒ…æ‹¬transformå±æ€§çš„åŠ¨ç”»å¸¦æ¥çš„å†²çªã€‚ </p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cw-dialog</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: fit-content;</span><br><span class="line">    <span class="attribute">height</span>: fit-content;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    ledt: <span class="number">0</span>; <span class="attribute">top</span>: <span class="number">0</span>; <span class="attribute">right</span>: <span class="number">0</span>; <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto;</span><br><span class="line">    <span class="attribute">border</span>: solid;</span><br><span class="line">    <span class="attribute">animation</span>: tinUp .<span class="number">2s</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/3/1-2.php">æ•ˆæœå±•ç¤º</a></p><h4 id="stretchã€availableå’Œfill-availableå…³é”®å­—ç©¶ç«Ÿç”¨å“ªä¸ª"><a href="#stretchã€availableå’Œfill-availableå…³é”®å­—ç©¶ç«Ÿç”¨å“ªä¸ª" class="headerlink" title="stretchã€availableå’Œfill-availableå…³é”®å­—ç©¶ç«Ÿç”¨å“ªä¸ª?"></a>stretchã€availableå’Œfill-availableå…³é”®å­—ç©¶ç«Ÿç”¨å“ªä¸ª?</h4><blockquote><p>æˆ‘ä»¬åœ¨é¡µé¢ä¸­æ”¾ç½®ä¸€ä¸ªæ²¡æœ‰æ ·å¼è®¾ç½®çš„&lt;div&gt;å…ƒç´ ï¼Œæ­¤æ—¶ï¼Œè¯¥&lt;div&gt;å…ƒç´ çš„å®½åº¦è‡ªåŠ¨å¡«æ»¡å¯ç”¨ç©ºé—´ã€‚</p><p>stretchã€availableå’Œfill-availableè¿™3ä¸ªå…³é”®å­—è™½ç„¶åç§°æœ‰æ‰€ä¸åŒï¼Œä½†æ˜¯ä½œç”¨éƒ½æ˜¯ä¸€è‡´çš„ï¼Œé‚£å°±æ˜¯è®©å…ƒç´ çš„å°ºå¯¸è‡ªåŠ¨å¡«æ»¡å¯ç”¨ç©ºé—´ï¼Œå°±å¦‚åŒ&lt;div&gt;å…ƒç´ çš„é»˜è®¤å°ºå¯¸è¡¨ç°ã€‚</p><p>ä¸‹é¢é—®é¢˜æ¥äº†ï¼Œç©¶ç«Ÿè¯¥ä½¿ç”¨stretchã€availableå’Œfill-availableè¿™3ä¸ªå…³é”®å­—ä¸­çš„å“ªä¸€ä¸ªå‘¢ï¼Ÿå…ˆç®€å•åˆ†æä¸€ä¸‹è¿™3ä¸ªå…³é”®å­—ã€‚</p></blockquote><p>â— stretchæŒ‡â€œå¼¹æ€§æ‹‰ä¼¸â€ï¼Œæ˜¯æœ€æ–°çš„è§„èŒƒä¸­å®šä¹‰çš„å…³é”®å­—ï¼Œæ›¿æ¢ä¹‹å‰çš„fill-availableå’Œavailableã€‚</p><p>â— availableæŒ‡â€œå¯ç”¨ç©ºé—´â€ï¼Œæ˜¯Firefoxæµè§ˆå™¨ä½¿ç”¨çš„å…³é”®å­—ï¼Œéœ€è¦é…åˆ-moz-ç§æœ‰å‰ç¼€ä½¿ç”¨ã€‚</p><p>â— fill-availableæŒ‡â€œå¡«å……å¯ç”¨ç©ºé—´â€ï¼Œæ˜¯webkitæµè§ˆå™¨ä½¿ç”¨çš„å…³é”®å­—ï¼Œéœ€è¦é…åˆ-webkit-ç§æœ‰å‰ç¼€ä½¿ç”¨ã€‚</p><blockquote><p>å®é™…å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°stretchå…³é”®å­—çš„åœºæ™¯å¹¶ä¸å¤šã€‚é¦–å…ˆï¼Œblockæ°´å¹³çš„å…ƒç´ ã€å¼¹æ€§å¸ƒå±€å’Œç½‘æ ¼å¸ƒå±€ä¸­çš„å­é¡¹é»˜è®¤éƒ½è‡ªå¸¦å¼¹æ€§æ‹‰ä¼¸ç‰¹æ€§ï¼›å…¶æ¬¡ï¼Œå¯¹äºæ›¿æ¢å…ƒç´ ã€è¡¨æ ¼å…ƒç´ ã€å†…è”å—çº§å…ƒç´ ç­‰è¿™äº›å…·æœ‰â€œåŒ…è£¹æ€§â€çš„å…ƒç´ ï¼Œå»ºè®®ä½¿ç”¨â€œå®½åº¦åˆ†ç¦»åŸåˆ™â€</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">15px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/3/1-3.php">stretchå…³é”®å­—ä¸buttonæŒ‰é’®çš„marginè‡ªé€‚åº”å®ä¾‹é¡µé¢</a></p><h4 id="min-contentå…³é”®å­—"><a href="#min-contentå…³é”®å­—" class="headerlink" title="min-contentå…³é”®å­—"></a>min-contentå…³é”®å­—</h4><blockquote><p>min-contentå…³é”®å­—å®é™…ä¸Šå°±æ˜¯CSS2.1è§„èŒƒä¸­æåˆ°çš„â€œpreferred minimum widthâ€æˆ–è€…â€œminimum content widthâ€ï¼Œå³â€œé¦–é€‰æœ€å°å®½åº¦â€æˆ–è€…â€œæœ€å°å†…å®¹å®½åº¦â€ã€‚</p><p>å…ƒç´ ç”±content-boxã€padding-boxã€border-boxå’Œmargin-boxç»„æˆï¼Œå…ƒç´ æœ€ç»ˆå æ®çš„å°ºå¯¸ç”±è¿™4ä¸ªç›’å­å æ®çš„å°ºå¯¸å†³å®šã€‚å…¶ä¸­padding-boxã€border-boxå’Œmargin-boxçš„å°ºå¯¸è¡¨ç°è§„åˆ™ä¸ä¼šå› ä¸ºå…ƒç´ çš„ä¸åŒè€Œæœ‰æ‰€ä¸åŒï¼Œä½†æ˜¯content-boxä¸ä¸€æ ·ï¼Œå®ƒéšç€å†…å®¹çš„ä¸åŒï¼Œé¦–é€‰æœ€å°å®½åº¦ä¹Ÿä¼šä¸åŒã€‚è¿™ä¸ªæœ‰å¿…è¦å¥½å¥½è®²ä¸€è®²ã€‚</p></blockquote><ol><li><p>æ›¿æ¢å…ƒç´ </p><p> æŒ‰é’®ã€è§†é¢‘å’Œå›¾ç‰‡ç­‰å…ƒç´ å±äºæ›¿æ¢å…ƒç´ ï¼Œæ›¿æ¢å…ƒç´ çš„é¦–é€‰æœ€å°å®½åº¦æ˜¯å½“å‰å…ƒç´ å†…å®¹è‡ªèº«çš„å®½åº¦</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./1.jpg&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br></pre></td></tr></table></figure><p> ä¸Šé¢è¿™æ®µHTMLä»£ç ä¸­çš„å›¾ç‰‡ï¼Œå¦‚æœåŸå§‹å°ºå¯¸æ˜¯256pxÃ—192pxï¼Œåˆ™<section>å…ƒç´ çš„é¦–é€‰æœ€å°å®½åº¦å°±æ˜¯256pxã€‚</p></li><li><p>CJKæ–‡å­—</p><p> CJKæ˜¯Chinese/Japanese/Koreançš„ç¼©å†™ï¼ŒæŒ‡çš„æ˜¯ä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡è¿™å‡ ç§æ–‡å­—ã€‚è¿™é‡Œä»¥ä¸­æ–‡ä¸ºä»£è¡¨åŠ ä»¥è¯´æ˜ã€‚å¦‚æœæ˜¯ä¸€æ®µæ²¡æœ‰æ ‡ç‚¹çš„ä¸­æ–‡æ–‡å­—ï¼Œåˆ™é¦–é€‰æœ€å°å®½åº¦æ˜¯å•ä¸ªæ±‰å­—çš„å®½åº¦ã€‚</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">p &#123;</span><br><span class="line">width: min-content;</span><br><span class="line">outline: 1px dotted;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    æ„Ÿè°¢æ‚¨çš„æ”¯æŒ</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><p>éCJKæ–‡å­—</p><blockquote><p>éCJKæ–‡å­—æŒ‡çš„æ˜¯é™¤ä¸­æ–‡ã€æ—¥æ–‡ã€éŸ©æ–‡ä¹‹å¤–çš„æ–‡å­—ï¼Œå¦‚è‹±æ–‡ã€æ•°å­—å’Œæ ‡ç‚¹ç­‰å­—ç¬¦ã€‚éCJKæ–‡å­—çš„é¦–é€‰æœ€å°å®½åº¦æ˜¯ç”±å­—ç¬¦å•å…ƒçš„å®½åº¦å†³å®šçš„ï¼Œæ‰€æœ‰è¿ç»­çš„è‹±æ–‡å­—æ¯ã€æ•°å­—å’Œæ ‡ç‚¹éƒ½è¢«è®¤ä¸ºæ˜¯ä¸€ä¸ªå­—ç¬¦å•å…ƒï¼Œç›´åˆ°é‡åˆ°ä¸­æ–­å­—ç¬¦ã€‚</p></blockquote><p> å“ªäº›å­—ç¬¦å¯ä»¥ä¸­æ–­å­—ç¬¦å•å…ƒå‘¢ï¼Ÿ</p><p> 1ã€Spaceç©ºæ ¼ï¼ˆU+0020ï¼‰æ— è®ºæ˜¯å“ªä¸ªæµè§ˆå™¨ï¼Œéƒ½èƒ½ä¸­æ–­å­—ç¬¦å•å…ƒï¼Œå¹¶ä¸”å¿½ç•¥Spaceç©ºæ ¼å‰åå­—ç¬¦çš„ç±»å‹</p><p> 2ã€çŸ­æ¨ªçº¿ï¼ˆU+002Dï¼‰ï¼Œåœ¨webkitæµè§ˆå™¨ä¸­å¯ä»¥ä¸­æ–­å­—ç¬¦å•å…ƒ</p><p> 3ã€åœ¨Firefoxæµè§ˆå™¨ä¸­ï¼Œè‹±æ–‡é—®å·ï¼ˆU+003Fï¼‰ä¸èƒ½ä¸­æ–­å­—ç¬¦å•å…ƒï¼Œè€ŒçŸ­æ¨ªçº¿ï¼ˆU+002Dï¼‰å¯ä»¥ï¼Œä¸è¿‡åé¢çš„å­—ç¬¦å¿…é¡»æ˜¯å­—æ¯è€Œä¸èƒ½æ˜¯æ•°å­—</p><p> 4ã€åœ¨IEæµè§ˆå™¨å’ŒEdgeæµè§ˆå™¨ä¸­ï¼Œè‹±æ–‡é—®å·ï¼ˆU+003Fï¼‰ä¸èƒ½ä¸­æ–­å­—ç¬¦å•å…ƒï¼Œè€ŒçŸ­æ¨ªçº¿ï¼ˆU+002Dï¼‰å¯ä»¥ï¼Œä½†æ˜¯è¦æ±‚çŸ­æ¨ªçº¿å‰åæ˜¯ç”±å­—æ¯ã€æ•°å­—æˆ–çŸ­æ¨ªçº¿ç»„æˆçš„å­—ç¬¦å•å…ƒï¼Œä¸”è¿™ä¸ªå­—ç¬¦å•å…ƒçš„é•¿åº¦è¦å¤§äº1</p></li><li><p>æœ€ç»ˆçš„é¦–é€‰æœ€å°å®½åº¦</p><p> <a href="https://demo.cssworld.cn/new/3/1-5.php">ä¸€ä¸ªå…ƒç´ æœ€ç»ˆçš„é¦–é€‰æœ€å°å®½åº¦æ˜¯æ‰€æœ‰å†…éƒ¨å­å…ƒç´ ä¸­æœ€å¤§çš„é‚£ä¸ªé¦–é€‰æœ€å°å®½åº¦å€¼</a></p></li></ol><h4 id="max-contentå…³é”®å­—"><a href="#max-contentå…³é”®å­—" class="headerlink" title="max-contentå…³é”®å­—"></a>max-contentå…³é”®å­—</h4><blockquote><p>max-contentå…³é”®å­—è¡¨ç¤ºæœ€å¤§å†…å®¹å®½åº¦ï¼Œmax-contentå…³é”®å­—çš„ä½œç”¨æ˜¯è®©å…ƒç´ å°½å¯èƒ½å¤§ï¼Œä¿è¯å›¾æ–‡å†…å®¹åœ¨ä¸€è¡Œæ˜¾ç¤ºï¼Œå“ªæ€•æœ€ç»ˆçš„å®½åº¦æº¢å‡ºå¤–éƒ¨å®¹å™¨å…ƒç´ </p></blockquote><p><a href="https://demo.cssworld.cn/new/3/1-6.php">ç¤ºä¾‹</a></p><blockquote><p>å¯¹CSSæ–°çš„å°ºå¯¸ä½“ç³»åšä¸€ä¸ªæ€»ç»“ã€‚å¸¦contentè¿™ä¸ªå•è¯çš„3ä¸ªå…³é”®å­—fit-contentã€min-contentå’Œmax-contentéƒ½æ˜¯â€œå†…åœ¨å°ºå¯¸â€ï¼ˆintrinsic sizingï¼‰ï¼Œå°ºå¯¸è¡¨ç°å’Œå†…å®¹ç›¸å…³ï¼›stretchå…³é”®å­—ï¼ˆä¹ŸåŒ…æ‹¬availableå…³é”®å­—å’Œfill-availableå…³é”®å­—ï¼‰æ˜¯â€œå¤–åœ¨å°ºå¯¸â€ï¼ˆextrinsic sizingï¼‰ï¼Œå°ºå¯¸è¡¨ç°å’Œä¸Šä¸‹æ–‡æœ‰å…³ã€‚è¿™4ä¸ªå…³é”®å­—ä¸€èµ·æ’‘èµ·äº†CSSä¸–ç•Œçš„å°ºå¯¸ä½“ç³»ã€‚</p></blockquote><h3 id="æ·±å…¥äº†è§£CSSé€»è¾‘å±æ€§"><a href="#æ·±å…¥äº†è§£CSSé€»è¾‘å±æ€§" class="headerlink" title="æ·±å…¥äº†è§£CSSé€»è¾‘å±æ€§"></a>æ·±å…¥äº†è§£CSSé€»è¾‘å±æ€§</h3><blockquote><p>æ•´ä¸ªCSSä¸–ç•Œå°±æ˜¯å›´ç»•â€œæµâ€æ¥æ„å»ºçš„ï¼ˆè¯¦è§ã€ŠCSSä¸–ç•Œã€‹ä¸€ä¹¦çš„ç¬¬6é¡µï¼Œ1.3.2èŠ‚ï¼‰ã€‚åœ¨CSS2.1æ—¶ä»£ï¼ŒCSSå±æ€§çš„å®šä½éƒ½æ˜¯åŸºäºæ–¹å‘çš„ï¼Œè€Œä¸æ˜¯â€œæµâ€ã€‚è¿™æ ·çš„è®¾è®¡å…¶å®æ˜¯æœ‰é—®é¢˜çš„ï¼ŒåŸºäºæ–¹å‘è¿›è¡Œå®šä½è™½ç„¶ç¬¦åˆç°å®ä¸–ç•Œè®¤çŸ¥ï¼Œä½†å’ŒCSSä¸–ç•ŒåŸºäºâ€œæµâ€çš„åº•å±‚è®¾è®¡ç†å¿µä¸ç¬¦ï¼Œè¿™æ ·å°±ä¼šäº§ç”Ÿä¸åˆç†çš„é—®é¢˜ã€‚</p></blockquote><p>ä¸¤ä¸ªæ°´å¹³æŒ‰é’®è¦ç»™å®ƒä»¬è®¾ç½®é—´è·ï¼Œmargin-right: 10px;ä½†æ˜¯å½“ æ–‡æ¡£æµæ–¹å‘å‘ç”Ÿå˜åŒ–æ—¶å³ direction:rtl; æ—¶ï¼Œåœ¨å³ä¾§ä¼šå‡ºç°ç©ºéš™ï¼Œæ­¤æ—¶åº”è¯¥æ˜¯è®¾ç½®æˆmargin-left: 10px;çš„æ•ˆæœã€‚.</p><p>å¦‚æœæˆ‘ä»¬ä¸€å¼€å§‹è®¾ç½®çš„ä¸æ˜¯ç¬¦åˆç°å®ä¸–ç•Œè®¤çŸ¥çš„margin-rightå±æ€§ï¼Œè€Œæ˜¯ç¬¦åˆCSSä¸–ç•Œâ€œæµâ€æ¦‚å¿µçš„é€»è¾‘å±æ€§margin-inline-endï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="attribute">margin-inline-end</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/3/2-1.php">æ•ˆæœå¯¹æ¯”</a></p><p><strong>CSSé€»è¾‘å±æ€§æœ‰é™çš„ä½¿ç”¨åœºæ™¯</strong></p><blockquote><p>CSSé€»è¾‘å±æ€§éœ€è¦é…åˆwriting-modeå±æ€§ã€directionå±æ€§æˆ–è€…text-orientationå±æ€§ä½¿ç”¨æ‰æœ‰æ„ä¹‰ã€‚</p><p>CSSä¸­è¿˜æœ‰å…¶ä»–ä¸€äº›CSSå±æ€§å€¼ä¹Ÿå¯ä»¥æ”¹å˜DOMå…ƒç´ çš„å‘ˆç°æ–¹å‘ï¼Œä¾‹å¦‚flex-directionå±æ€§ä¸­çš„å±æ€§å€¼row-reverseå’Œcolumn-reverseï¼Œä½†æ˜¯è¯·æ³¨æ„ï¼Œè¿™äº›å±æ€§å€¼å’ŒCSSé€»è¾‘å±æ€§ä¹‹é—´[æ²¡æœ‰ä»»ä½•å…³ç³»](<a href="https://demo/">https://demo</a>. cssworld.cn/new/3/2-2.php)</p><p><a href="https://demo.cssworld.cn/new/3/2-3.php">æ¨¡æ‹Ÿå¾®ä¿¡èŠå¤©ç•Œé¢</a></p></blockquote><p>[inline/blockä¸start/endå…ƒç´ ](<a href="https://demo.cssworld.cn/">https://demo.cssworld.cn/</a> new/3/2-4.php)</p><p><strong>width/heightå±æ€§ä¸inline-size/block-sizeé€»è¾‘å±æ€§</strong></p><h3 id="åœ¨CSSè¾¹æ¡†ä¸Šåšæ–‡ç« "><a href="#åœ¨CSSè¾¹æ¡†ä¸Šåšæ–‡ç« " class="headerlink" title="åœ¨CSSè¾¹æ¡†ä¸Šåšæ–‡ç« "></a>åœ¨CSSè¾¹æ¡†ä¸Šåšæ–‡ç« </h3><blockquote><p>ä¸€ä¸ªå›¾å½¢å…ƒç´ çš„è£…é¥°éƒ¨ä»¶ä¸»è¦æ˜¯è¾¹æ¡†å’ŒèƒŒæ™¯ã€‚åœ¨CSS2.1æ—¶ä»£ï¼Œè¾¹æ¡†åªèƒ½æ˜¯çº¯è‰²çš„ï¼Œæ•ˆæœå¤ªå•è°ƒäº†ã€‚äºæ˜¯CSSè§„èŒƒåˆ¶å®šè€…å°±å¼€å§‹ç¢ç£¨ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥åœ¨CSSè¾¹æ¡†ä¸Šåšæ–‡ç« ï¼Œé€šè¿‡æ”¯æŒå›¾ç‰‡æ˜¾ç¤ºæ¥å¢å¼ºè¾¹æ¡†çš„è¡¨ç°åŠ›å‘¢ï¼Ÿ</p></blockquote><h4 id="ç‹¬ä¸€æ— äºŒçš„border-imageå±æ€§"><a href="#ç‹¬ä¸€æ— äºŒçš„border-imageå±æ€§" class="headerlink" title="ç‹¬ä¸€æ— äºŒçš„border-imageå±æ€§"></a>ç‹¬ä¸€æ— äºŒçš„border-imageå±æ€§</h4><blockquote><p>æ‰€æœ‰ä¸è£…é¥°æœ‰å…³çš„CSSå±æ€§éƒ½èƒ½ä»å…¶ä»–è®¾è®¡è½¯ä»¶ä¸­æ‰¾åˆ°å¯¹åº”çš„åŠŸèƒ½ï¼Œå¦‚èƒŒæ™¯ã€æè¾¹ã€é˜´å½±ï¼Œç”šè‡³æ»¤é•œå’Œæ··åˆæ¨¡å¼ï¼Œä½†æ˜¯å”¯ç‹¬border-imageå±æ€§æ˜¯CSSè¿™é—¨è¯­è¨€ç‹¬æœ‰çš„ï¼Œå°±ç®—å…¶ä»–è½¯ä»¶æœ‰è¾¹æ¡†è£…é¥°ï¼Œä¹Ÿä¸æ˜¯border-imageè¿™ç§è¡¨ç°æœºåˆ¶ã€‚è¿™çœ‹èµ·æ¥æ˜¯ä»¶å¥½äº‹æƒ…ï¼Œä½ ç§ï¼Œborder-imageå¤šä¹ˆä¸ä¼—ä¸åŒï¼ä½†å®é™…ä¸Šï¼Œborder-imageå±æ€§å¾ˆå°‘å‡ºç°åœ¨é¡¹ç›®ä»£ç ä¸­ï¼Œå…¶ä¸­é‡è¦çš„åŸå› ä¹‹ä¸€å°±æ˜¯border-imageå±æ€§è¿‡äºç‰¹æ®Šã€‚</p></blockquote><p>ï¼ˆ1ï¼‰å¯¹å¼€å‘è€…è€Œè¨€ï¼Œborder-imageå±æ€§æ€ªå¼‚çš„æ¸²æŸ“æœºåˆ¶ï¼Œå¯¼è‡´å­¦ä¹ æˆæœ¬è¾ƒé«˜ï¼ŒæŒæ¡border-imageå±æ€§çš„äººå¹¶ä¸å¤šã€‚è€Œä¸”å¾ˆå¤šæ—¶å€™è¯¥å±æ€§å¯¹æºå›¾åƒçš„è§„æ ¼å’Œæ¯”ä¾‹ä¹Ÿæœ‰è¦æ±‚ï¼Œè¿™å¯¼è‡´ä½¿ç”¨æˆæœ¬ä¹Ÿæ¯”è¾ƒé«˜ã€‚</p><p>ï¼ˆ2ï¼‰å¯¹è®¾è®¡å¸ˆè€Œè¨€ï¼Œborder-imageå±æ€§çš„è§†è§‰è¡¨ç°å’Œç°å®è®¤çŸ¥æ˜¯ä¸ä¸€è‡´çš„ï¼Œè€Œè®¾è®¡å¸ˆçš„è§†è§‰è®¾è®¡å¤šåŸºäºç°å®è®¤çŸ¥ï¼Œå› æ­¤ï¼Œè®¾è®¡å¸ˆæ— æ³•ä¸ºborder-imageå±æ€§é‡èº«å®šåˆ¶å›¾å½¢è¡¨ç°ã€‚å¦å¤–ï¼Œå½“ä¸‹çš„è®¾è®¡è¶‹åŠ¿æ˜¯æ‰å¹³åŒ–è€Œéæ‹Ÿç‰©åŒ–ï¼Œè¾¹æ¡†è£…é¥°é€šå¸¸åœ¨é¡¹ç›®ä¸­ä¸ä¼šå‡ºç°ã€‚</p><p>ï¼ˆ3ï¼‰border-imageå±æ€§æ€ªå¼‚çš„æ¸²æŸ“æœºåˆ¶å¯¼è‡´å…ƒç´ çš„4ä¸ªè¾¹è§’æˆäº†4ä¸ªå°´å°¬çš„åœ°æ–¹ï¼Œå®ç°çš„è¾¹æ¡†æ•ˆæœå¾€å¾€ä¸ç¬¦åˆé¢„æœŸï¼Œæœ€ç»ˆå¯¼è‡´å¼€å‘è€…æ”¾å¼ƒä½¿ç”¨border-imageå±æ€§ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-image</span>: <span class="built_in">url</span>(<span class="string">./q.svg</span>) <span class="number">54</span>;</span><br><span class="line"></span><br><span class="line"><span class="attribute">border-image-source</span>: <span class="built_in">url</span>(<span class="string">./q.svg</span>);</span><br><span class="line"><span class="attribute">border-image-slice</span>: <span class="number">54</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>border-image-sliceå±æ€§çš„æ­£å¼è¯­æ³•å¦‚ä¸‹ï¼Œè¡¨ç¤ºæ”¯æŒ1ï½4ä¸ªæ•°å€¼æˆ–1ï½4ä¸ªç™¾åˆ†æ¯”å€¼ï¼Œåé¢å¯ä»¥å¸¦ä¸€ä¸ªå…³é”®å­—fill</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-image-slice</span>: &lt;number-percentage&gt;&#123;<span class="number">1</span>,<span class="number">4</span>&#125; &amp;&amp; fill?</span><br></pre></td></tr></table></figure><blockquote><p>border-image-sliceå±æ€§çš„ä½œç”¨æ˜¯å¯¹åŸå§‹çš„å›¾åƒè¿›è¡Œåˆ’åˆ†ï¼Œåˆ’åˆ†çš„æ–¹ä½å’Œé¡ºåºåŒmarginå±æ€§ã€paddingå±æ€§ä¸€æ ·ï¼Œéµå¾ªä¸Šã€å³ã€ä¸‹ã€å·¦çš„é¡ºåºã€‚ä¾‹å¦‚border-image-slice:20è¡¨ç¤ºåœ¨è·ç¦»æºå›¾åƒä¸Šæ–¹20pxã€è·ç¦»æºå›¾åƒå³ä¾§20pxã€è·ç¦»æºå›¾åƒä¸‹æ–¹20pxã€è·ç¦»æºå›¾åƒå·¦ä¾§20pxçš„åœ°æ–¹è¿›è¡Œåˆ’åˆ†</p></blockquote><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221024155122282.png" alt="image-20221024155122282"></p><blockquote><p>æ­¤æ—¶4ä¸ªè¾¹è§’åŒºåŸŸåªæœ‰å¾ˆå°çš„ä¸€éƒ¨åˆ†è¢«åˆ’åˆ†ï¼Œè€Œå‰©ä½™çš„ä¸Šã€ä¸‹ã€å·¦ã€å³åŒºåŸŸä¼šè¢«æ‹‰ä¼¸ï¼Œå› æ­¤ï¼Œä½œç”¨åœ¨.exampleå…ƒç´ ä¸Šçš„æ•ˆæœå°±ä¼šå¦‚å›¾3-22æ‰€ç¤ºï¼Œå…¶ä¸­å¢åŠ çš„å‡ æ ¹è¾…åŠ©çº¿å¯ä»¥æ–¹ä¾¿å¤§å®¶ç†è§£ã€‚</p></blockquote><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221024155150672.png" alt="image-20221024155150672"></p><p><a href="https://demo.cssworld.cn/new/3/3-1.php">ç¤ºä¾‹</a></p><blockquote><p>ç†è§£äº†border-image-sliceå±æ€§ï¼Œborder-imageå±æ€§çš„å­¦ä¹ å°±ç®—å®Œæˆäº†ä¸€åŠï¼Œå‰©ä¸‹çš„å°±æ˜¯å­¦ä¼šæ§åˆ¶ä¹å®«æ ¼çš„å°ºå¯¸äº†ï¼Œè€Œæ§åˆ¶ä¹å®«æ ¼å°ºå¯¸çš„CSSå±æ€§å°±æ˜¯border-image-widthå’Œborder-image-outsetã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/3/3-2.php">border-image-width</a></p><p><a href="https://demo.cssworld.cn/new/3/3-3.php">border-image-outset</a></p><p><a href="https://demo.cssworld.cn/new/3/3-4.php">border-image-repeat</a></p><blockquote><p>order-image-sliceå±æ€§ç”¨äºåˆ’åˆ†æºå›¾åƒï¼Œborder-image-widthç”¨äºæ§åˆ¶ä¹å®«æ ¼ç¬¬ä¸€åŒºåˆ°ç¬¬å…«åŒºçš„å°ºå¯¸ï¼Œborder-image-outsetå±æ€§ç”¨äºæ§åˆ¶ä¹å®«æ ¼æœ€ä¸­é—´ç¬¬ä¹åŒºçš„å°ºå¯¸ã€‚æŒæ¡è¿™3ä¸ªå±æ€§ï¼Œå°±ç®—å®Œå…¨ç†è§£border-imageå±æ€§äº†ã€‚</p></blockquote><p>border-imageå±æ€§çš„æ­£å¼è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">border-image</span>: &lt;<span class="string">&#x27;border-image-source&#x27;</span>&gt; || &lt;<span class="string">&#x27;border-image-slice&#x27;</span>&gt; [/&lt;border-image-width&gt;| /&lt;<span class="string">&#x27;border-image-width&#x27;</span>&gt;? /&lt;<span class="string">&#x27;border-image-outset&#x27;</span>&gt;]? || &lt;<span class="string">&#x27;border-image-repeat&#x27;</span>&gt;</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/3/3-5.php">ç¤ºä¾‹</a></p><p><a href="https://demo.cssworld.cn/new/3/3-6.php">border-imageå®ç°æ•ˆæœç¤ºæ„</a></p><p><a href="https://demo.cssworld.cn/new/3/3-7.php">çº¢è‰²æ¡çº¹æ¸å˜è¾¹æ¡†</a></p><p><a href="https://demo.cssworld.cn/new/3/3-8.php">åœ†è§’æ¸å˜è¾¹æ¡†</a></p><blockquote><p>CSSä¸­å…±æœ‰ 3 ä¸ªå±æ€§å¯ä»¥å®ç°å¯¹å¸ƒå±€æ²¡æœ‰ä»»ä½•å½±å“çš„è½®å»“æ‰©å±•ï¼Œåˆ†åˆ«æ˜¯outlineè½®å»“ã€box-shadowç›’é˜´å½±å’Œborder-imageè¾¹æ¡†å›¾ç‰‡</p></blockquote><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221024161943783.png" alt="image-20221024161943783"></p><p>â— å¦‚æœéœ€è¦è½®å»“å¸¦æœ‰æ¸å˜æ•ˆæœï¼Œä¸€å®šæ˜¯ä½¿ç”¨border-imageå±æ€§ã€‚</p><p>â— å¦‚æœéœ€è¦è½®å»“æ•ˆæœæ˜¯çº¯è‰²ï¼Œä¸”4ä¸ªè§’ä¸ºç›´è§’ï¼Œåˆ™ä¼˜å…ˆä½¿ç”¨outlineå±æ€§ï¼›å¦‚æœoutlineå±æ€§ä¸èƒ½ä½¿ç”¨ï¼ˆå¦‚æ— éšœç¢è®¿é—®éœ€è¦ï¼‰ï¼Œåˆ™ä½¿ç”¨box-shadowå±æ€§ï¼›å¦‚æœbox-shadowå±æ€§å·²ç»æœ‰äº†å…¶ä»–æ ·å¼ï¼Œåˆ™ä½¿ç”¨border-imageå±æ€§ã€‚</p><p>â— å¦‚æœéœ€è¦è½®å»“æœ‰åœ†è§’æ•ˆæœï¼Œåˆ™ä¸€å®šæ˜¯ä½¿ç”¨box-shadowå±æ€§ã€‚</p><p>â— å¦‚æœéœ€è¦è½®å»“å’Œå…ƒç´ ä¹‹é—´è¿˜æœ‰ä¸€æ®µé—´éš™ï¼Œåˆ™ä¼˜å…ˆä½¿ç”¨outlineå±æ€§ï¼›å¦‚æœoutlineå±æ€§ä¸èƒ½ä½¿ç”¨ï¼Œåˆ™ä½¿ç”¨border-imageå±æ€§ã€‚</p><p>â— å¦‚æœéœ€è¦è½®å»“åªæœ‰ä¸€ä¸ªæ–¹å‘ï¼Œåˆ™ä¸è€ƒè™‘outlineå±æ€§ã€‚</p><p>â— å¦‚æœéœ€è¦å…¼å®¹IEæµè§ˆå™¨ï¼Œåˆ™border-imageå±æ€§ä¸è€ƒè™‘ã€‚</p><h3 id="position-å±æ€§å¢å¼º"><a href="#position-å±æ€§å¢å¼º" class="headerlink" title="position å±æ€§å¢å¼º"></a>position å±æ€§å¢å¼º</h3><blockquote><p>å…¨æ–°çš„positionå±æ€§å€¼â€”â€”stickyï¼Œå•è¯â€œstickyâ€çš„ä¸­æ–‡æ„æ€æ˜¯â€œé»æ€§çš„â€ï¼Œposition:stickyå°±æ˜¯é»æ€§å®šä½ã€‚ä¸ºäº†è®©æ¥ä¸‹æ¥çš„æè¿°æ›´ç²¾å‡†ï¼Œæˆ‘ä»¬ä¸å¦¨åœ¨è¿™é‡Œå…ˆçº¦å®šï¼šé»æ€§å®šä½å°±æ˜¯æŒ‡å…ƒç´ åº”ç”¨äº†position:stickyå£°æ˜ï¼›ç›¸å¯¹å®šä½å°±æ˜¯æŒ‡å…ƒç´ åº”ç”¨äº†position:relativeå£°æ˜ï¼›ç»å¯¹å®šä½å°±æ˜¯æŒ‡å…ƒç´ åº”ç”¨äº†position:absoluteå£°æ˜ï¼›å›ºå®šå®šä½å°±æ˜¯æŒ‡å…ƒç´ åº”ç”¨äº†position:fixedå£°æ˜ã€‚</p></blockquote><blockquote><p>stickyå±æ€§å€¼åˆšå‡ºæ¥çš„æ—¶å€™ï¼Œåœ¨åœˆå­é‡Œæ˜¯å¼•å‘è¿‡ä¸€é˜µå°çƒ­åº¦çš„ã€‚ä½†æ˜¯ï¼Œåœ¨2014å¹´è‡³2016å¹´è¿™é•¿è¾¾3å¹´çš„æ—¶é—´é‡Œï¼ŒChromeæµè§ˆå™¨æ”¾å¼ƒäº†å¯¹å®ƒçš„æ”¯æŒï¼Œåæ¥è¿™ä¸ªæ–°ç‰¹æ€§å°±æ·¡å‡ºäº†å¤§ä¼—çš„è§†é‡ã€‚ä¸çŸ¥é“å‡ºäºä»€ä¹ˆåŸå› ï¼Œ2017å¹´ä¹‹åï¼ŒChromeæµè§ˆå™¨åˆé‡æ–°å¼€å§‹æ”¯æŒé»æ€§å®šä½äº†ã€‚ç›®å‰æ‰€æœ‰ä¸»æµæµè§ˆå™¨éƒ½å·²ç»æ”¯æŒé»æ€§å®šä½ã€‚</p></blockquote><blockquote><p>è¿‡å»ï¼Œé»æ€§å®šä½æ•ˆæœä¸€å®šæ˜¯é€šè¿‡JavaScriptä»£ç å®ç°çš„ã€‚è¿™ä¸ªæ•ˆæœå¸¸ç”¨åœ¨å¯¼èˆªå…ƒç´ ä¸Šï¼Œå…·ä½“è¡¨ç°ä¸ºï¼šå½“å¯¼èˆªå…ƒç´ åœ¨å±å¹•å†…çš„æ—¶å€™ï¼Œå¯¼èˆªå…ƒç´ æ»šåŠ¨è·Ÿéšï¼›å½“å¯¼èˆªå…ƒç´ å°±è¦æ»šå‡ºå±å¹•çš„æ—¶å€™ï¼Œå¯¼èˆªå…ƒç´ å›ºå®šå®šä½ã€‚</p><p>stickyå±æ€§å€¼çš„è®¾è®¡åˆè¡·å°±æ˜¯æŠŠåŸæ¥JavaScriptæ‰èƒ½å®ç°çš„é»æ€§æ•ˆæœæ”¹ç”±CSSå®ç°ã€‚ä¸‹é¢æ¥çœ‹ä¸€ä¸ªä¾‹å­ã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/3/4-1.php">æ•ˆæœé¢„è§ˆ</a></p><p><strong>é»æ€§å®šä½æ•ˆæœåº•å±‚çš„æ¸²æŸ“è§„åˆ™å’Œå›ºå®šå®šä½æ²¡æœ‰ä»»ä½•å…³ç³»ï¼Œè€Œæ˜¯ç›¸å¯¹å®šä½çš„å»¶ä¼¸ã€‚å…ˆè¯´è¯´é»æ€§å®šä½å’Œç›¸å¯¹å®šä½ç›¸ä¼¼çš„åœ°æ–¹ã€‚</strong></p><p>ï¼ˆ1ï¼‰å…ƒç´ å‘ç”Ÿåç§»çš„æ—¶å€™ï¼Œå…ƒç´ çš„åŸå§‹ä½ç½®æ˜¯ä¿ç•™çš„ã€‚</p><p>ï¼ˆ2ï¼‰åˆ›å»ºäº†æ–°çš„ç»å¯¹å®šä½åŒ…å«å—ï¼Œä¹Ÿå°±æ˜¯é»æ€§å®šä½å…ƒç´ é‡Œé¢å¦‚æœæœ‰ç»å¯¹å®šä½çš„å­å…ƒç´ ï¼Œé‚£è¿™ä¸ªå­å…ƒç´ è®¾ç½®leftå±æ€§ã€topå±æ€§ã€rightå±æ€§å’Œbottomå±æ€§æ—¶çš„åç§»è®¡ç®—æ˜¯ç›¸å¯¹äºå½“å‰é»æ€§å®šä½å…ƒç´ çš„ã€‚</p><p>ï¼ˆ3ï¼‰æ”¯æŒè®¾ç½®z-indexå±æ€§å€¼æ¥æ”¹å˜å…ƒç´ çš„å±‚å é¡ºåºã€‚</p><p><strong>å†è¯´è¯´é»æ€§å®šä½å’Œç›¸å¯¹å®šä½ä¸ä¸€æ ·çš„åœ°æ–¹ã€‚</strong></p><p>ï¼ˆ1ï¼‰åç§»è®¡ç®—å…ƒç´ ä¸ä¸€æ ·ã€‚ç›¸å¯¹å®šä½åç§»è®¡ç®—çš„å®¹å™¨æ˜¯çˆ¶å…ƒç´ ï¼Œè€Œé»æ€§å®šä½åç§»è®¡ç®—çš„å…ƒç´ æ˜¯å±‚çº§æœ€è¿‘çš„å¯æ»šåŠ¨å…ƒç´ ï¼ˆoverflowå±æ€§å€¼ä¸æ˜¯visibleçš„å…ƒç´ ï¼‰ã€‚å¦‚æœä¸€ä¸ªå¯æ»šåŠ¨å…ƒç´ éƒ½æ²¡æœ‰ï¼Œåˆ™ç›¸å¯¹æµè§ˆå™¨è§†çª—è¿›è¡Œä½ç½®åç§»ã€‚</p><p>ï¼ˆ2ï¼‰åç§»å®šä½è®¡ç®—è§„åˆ™ä¸ä¸€æ ·ã€‚é»æ€§å®šä½çš„è®¡ç®—è§„åˆ™æ¯”è¾ƒå¤æ‚ï¼Œæ¶‰åŠå¤šä¸ªé»æ€§å®šä½ä¸“æœ‰çš„æ¦‚å¿µã€‚</p><p>ï¼ˆ3ï¼‰é‡å è¡¨ç°ä¸ä¸€æ ·ã€‚ç›¸å¯¹å®šä½å…ƒç´ å½¼æ­¤ç‹¬ç«‹ï¼Œé‡å çš„æ—¶å€™è¡¨ç°ä¸ºå †å ï¼›ä½†æ˜¯é»æ€§å®šä½å…ƒç´ åœ¨ç‰¹å®šå¸ƒå±€ç»“æ„ä¸‹ï¼Œå…ƒç´ é‡å çš„æ—¶å€™å¹¶ä¸æ˜¯è¡¨ç°ä¸ºå †å ï¼Œè€Œæ˜¯ä¼šæœ‰Aé»æ€§å®šä½å…ƒç´ æ¨å¼€Bé»æ€§å®šä½å…ƒç´ çš„è§†è§‰è¡¨ç°ã€‚</p><p><strong>æ³¨æ„çš„ä¸‰ä¸ªç‚¹</strong></p><ol><li><p>å¯æ»šåŠ¨å…ƒç´ å¯¹é»æ€§å®šä½çš„å½±å“</p><blockquote><p>é€šå¸¸çš„Webé¡µé¢éƒ½æ˜¯çª—ä½“æ»šåŠ¨çš„ï¼Œè€Œé»æ€§å®šä½åç§»è®¡ç®—çš„å…ƒç´ æ˜¯å±‚çº§æœ€è¿‘çš„é‚£ä¸ªæ»šåŠ¨å…ƒç´ ã€‚å› æ­¤ï¼Œå¦‚æœé»æ€§å®šä½å…ƒç´ çš„æŸä¸ªç¥–å…ˆå…ƒç´ çš„overflowå±æ€§å€¼ä¸æ˜¯visibleï¼Œé‚£ä¹ˆçª—ä½“æ»šåŠ¨çš„æ—¶å€™å°±ä¸ä¼šæœ‰é»æ€§å®šä½æ•ˆæœï¼Œ</p></blockquote> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">div &#123;</span><br><span class="line">    overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line">nav &#123;</span><br><span class="line">    position: sticky;</span><br><span class="line">    top: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">nav</span>&gt;</span><span class="tag">&lt;/<span class="name">nav</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p> æ­¤æ—¶æ»šåŠ¨é¡µé¢ï¼Œ&lt;nav&gt;å…ƒç´ æ˜¯æ²¡æœ‰é»æ€§æ•ˆæœçš„ã€‚æ³¨æ„ï¼Œè¿™ä¸æ˜¯bugï¼Œä¹Ÿä¸æ˜¯stickyå±æ€§å€¼æ²¡æœ‰æ¸²æŸ“ï¼Œè€Œæ˜¯å› ä¸ºæ­¤æ—¶&lt;nav&gt;å…ƒç´ é»æ€§å®šä½çš„åç§»è®¡ç®—æ˜¯ç›¸å¯¹äºçˆ¶çº§&lt;div&gt;å…ƒç´ è®¡ç®—çš„ï¼Œé»æ€§æ•ˆæœä¹Ÿåªæœ‰åœ¨&lt;div&gt;å…ƒç´ æ»šåŠ¨çš„æ—¶å€™æ‰èƒ½å¤Ÿä½“ç°ã€‚</p><p> å¦‚æœå¸Œæœ›å‡ºç°æ»šåŠ¨ï¼Œå¯ä»¥è¿™æ ·è°ƒæ•´ä¸€ä¸‹</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line"><span class="attribute">height</span>: <span class="number">400px</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">    display: block;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">800px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¦‚æœä½ çš„ç½‘é¡µä½¿ç”¨çš„æ˜¯çª—ä½“æ»šåŠ¨ï¼Œåˆå¸Œæœ›æœ‰é»æ€§æ•ˆæœï¼Œé‚£åŠ¡å¿…ä¿è¯é»æ€§å®šä½å…ƒç´ çš„ç¥–å…ˆå…ƒç´ ä¸­æ²¡æœ‰å¯æ»šåŠ¨å…ƒç´ ã€‚</p></blockquote></li><li><p>æ·±å…¥ç†è§£é»æ€§å®šä½çš„è®¡ç®—è§„åˆ™</p><blockquote><p>å¦‚æœé»æ€§å®šä½å…ƒç´ çš„çˆ¶å…ƒç´ çš„é«˜åº¦å’Œé»æ€§å®šä½å…ƒç´ çš„é«˜åº¦ç›¸åŒï¼Œåˆ™å‚ç›´æ»šåŠ¨çš„æ—¶å€™ï¼Œé»æ€§å®šä½æ•ˆæœæ˜¯ä¸ä¼šå‡ºç°çš„ã€‚è¦è®²æ¸…æ¥šè¿™ä¸ªé—®é¢˜ï¼Œå°±å¿…é¡»æ·±å…¥ç†è§£é»æ€§å®šä½çš„è®¡ç®—è§„åˆ™ã€‚</p></blockquote><p> é»æ€§å®šä½ä¸­æœ‰ä¸€ä¸ªâ€œæµç›’â€ï¼ˆflow boxï¼‰çš„æ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯é»æ€§å®šä½å…ƒç´ æœ€è¿‘çš„å¯æ»šåŠ¨å…ƒç´ çš„å°ºå¯¸ç›’å­ï¼Œå¦‚æœæ²¡æœ‰å¯æ»šåŠ¨å…ƒç´ ï¼Œåˆ™è¡¨ç¤ºæµè§ˆå™¨è§†çª—ç›’å­ã€‚é»æ€§å®šä½ä¸­è¿˜æœ‰ä¸€ä¸ªåä¸ºâ€œé»æ€§çº¦æŸçŸ©å½¢â€çš„æ¦‚å¿µï¼ŒæŒ‡çš„æ˜¯é»æ€§å®šä½å…ƒç´ çš„åŒ…å«å—ï¼ˆé€šå¸¸æ˜¯çˆ¶å…ƒç´ ï¼‰åœ¨æ–‡æ¡£æµä¸­å‘ˆç°çš„çŸ©å½¢åŒºåŸŸå’Œæµç›’çš„4ä¸ªè¾¹ç¼˜åœ¨åº”ç”¨é»æ€§å®šä½å…ƒç´ çš„leftã€topã€rightå’Œbottomå±æ€§çš„åç§»è®¡ç®—å€¼åçš„æ–°çŸ©å½¢çš„äº¤é›†ã€‚ç”±äºæ»šåŠ¨çš„æ—¶å€™æµç›’ä¸å˜ï¼Œè€Œé»æ€§å®šä½å…ƒç´ çš„åŒ…å«å—è·Ÿç€æ»šåŠ¨ï¼Œå› æ­¤é»æ€§çº¦æŸçŸ©å½¢éšç€æ»šåŠ¨çš„è¿›è¡Œæ˜¯å®æ—¶å˜åŒ–çš„ã€‚å‡è®¾æˆ‘ä»¬çš„é»æ€§å®šä½å…ƒç´ åªè®¾ç½®äº†topå±æ€§å€¼ï¼Œåˆ™é»æ€§å®šä½å…ƒç´ ç¢°åˆ°é»æ€§çº¦æŸçŸ©å½¢çš„é¡¶éƒ¨æ—¶å°±å¼€å§‹å‘ä¸‹ç§»åŠ¨ï¼Œç›´åˆ°å®ƒå®Œå…¨è¢«åŒ…å«åœ¨é»æ€§çº¦æŸçŸ©å½¢ä¸­ã€‚<a href="https://demo.cssworld.cn/new/3/4-2.php">æ•ˆæœæŸ¥çœ‹</a></p><p> æ˜ç™½äº†é»æ€§å®šä½çš„è®¡ç®—è§„åˆ™ï¼Œä¹Ÿå°±æ˜ç™½äº†ä¸ºä»€ä¹ˆé»æ€§å®šä½å…ƒç´ çš„çˆ¶å…ƒç´ å’Œè‡ªèº«é«˜åº¦è®¡ç®—å€¼ä¸€æ ·çš„æ—¶å€™æ²¡æœ‰é»æ€§æ•ˆæœã€‚å› ä¸ºæ­¤æ—¶åŒ…å«å—é«˜åº¦å’Œé»æ€§å®šä½å…ƒç´ çš„é«˜åº¦ç›¸åŒï¼Œè¿™å¯¼è‡´é»æ€§çº¦æŸçŸ©å½¢çš„æœ€å¤§é«˜åº¦å’Œé»æ€§å®šä½å…ƒç´ çš„é«˜åº¦ç›¸åŒï¼Œé»æ€§å®šä½å…ƒç´ å·²ç»å®Œå…¨æ²¡æœ‰äº†å®ç°é»æ€§æ•ˆæœçš„ç©ºé—´ã€‚</p></li><li><p>ç†è§£é»æ€§å®šä½çš„å †å è§„åˆ™</p><blockquote><p>é»æ€§å®šä½å…ƒç´ çš„åç§»ç”±å®¹å™¨å†³å®šï¼Œå¦‚æœå¤šä¸ªé»æ€§å®šä½å…ƒç´ åœ¨åŒä¸€å®¹å™¨ä¸­ï¼Œåˆ™è¿™å‡ ä¸ªé»æ€§å®šä½å…ƒç´ ä¼šäº§ç”Ÿå…ƒç´ é‡å çš„æƒ…å†µï¼›å¦‚æœé»æ€§å®šä½å…ƒç´ åˆ†å¸ƒåœ¨ä¸åŒçš„å®¹å™¨ä¸­ï¼ŒåŒæ—¶è¿™äº›å®¹å™¨åœ¨å¸ƒå±€ä¸Šæ˜¯ä¸Šä¸‹ç´§å¯†ç›¸è¿çš„ï¼Œåˆ™è§†è§‰ä¸Šä¼šè¡¨ç°ä¸ºæ–°çš„é»æ€§å®šä½å…ƒç´ æŒ¤å¼€åŸæ¥çš„é»æ€§å®šä½å…ƒç´ ï¼Œå½¢æˆä¾æ¬¡å ä½çš„æ•ˆæœã€‚</p></blockquote><p> <a href="https://demo.cssworld.cn/new/3/4-3.php">æ•ˆæœæŸ¥çœ‹</a></p><blockquote><p>é»æ€§å®šä½å…ƒç´ åœ¨<strong>åŒä¸€ä¸ªå®¹å™¨ä¸‹ä¼šé‡å </strong>ï¼Œè€Œåœ¨<strong>ä¸åŒå®¹å™¨ä¸‹åˆ™ä¼šä¾æ¬¡æ¨å¼€</strong>ï¼Œè¿™å’Œä¸Šé¢ç­‰é«˜çˆ¶å…ƒç´ æ²¡æœ‰é»æ€§æ•ˆæœçš„åŸå› ä¸€æ ·ï¼Œéƒ½æ˜¯é»æ€§å®šä½è®¡ç®—è§„åˆ™ä¸‹çš„æ ·å¼è¡¨ç°ã€‚</p></blockquote><blockquote><p>Safariæµè§ˆå™¨ä¸­ä½¿ç”¨é»æ€§å®šä½éœ€è¦æ·»åŠ -webkit-ç§æœ‰å‰ç¼€ã€‚IEæµè§ˆå™¨å¯ä»¥ä½¿ç”¨Polyfillè¿›è¡Œæ”¯æŒï¼Œå¯ä»¥å…¼å®¹åˆ°IE9+ç‰ˆæœ¬ã€‚åŒæ—¶è®¾ç½®topå±æ€§ã€bottomå±æ€§çš„æ—¶å€™ï¼Œä¸Šä¸‹ä¸¤ä¸ªæ–¹ä½çš„é»æ€§æ•ˆæœä¼šåŒæ—¶ç”Ÿæ•ˆã€‚æ°´å¹³æ–¹å‘çš„leftå±æ€§ã€rightå±æ€§ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼Œä¸è¿‡ç”±äºæ°´å¹³æ»šåŠ¨åœºæ™¯ä¸å¸¸è§ï¼Œå› æ­¤ï¼Œleftå±æ€§ã€rightå±æ€§å¹¶ä¸å¸¸ç”¨ã€‚</p></blockquote><p> <a href="https://demo.cssworld.cn/new/3/4-4.php">å±‚æ¬¡æ»šåŠ¨æ•ˆæœ</a></p><blockquote></blockquote></li></ol><h3 id="font-familyå±æ€§å’Œ-font-faceè§„åˆ™æ–°ç‰¹æ€§"><a href="#font-familyå±æ€§å’Œ-font-faceè§„åˆ™æ–°ç‰¹æ€§" class="headerlink" title="font-familyå±æ€§å’Œ@font-faceè§„åˆ™æ–°ç‰¹æ€§"></a>font-familyå±æ€§å’Œ@font-faceè§„åˆ™æ–°ç‰¹æ€§</h3><blockquote><p>æœ¬èŠ‚ä¸»è¦ä»‹ç»ä¸å­—ä½“ç›¸å…³çš„ä¸€äº›æ–°ç‰¹æ€§ï¼ŒåŒ…æ‹¬font-familyå±æ€§çš„åŠŸèƒ½åŠ å¼ºï¼Œä»¥åŠ@font-faceè‡ªå®šä¹‰å­—ä½“ã€‚</p></blockquote><p>å…¨æ–°çš„é€šç”¨å­—ä½“æ—åŒ…æ‹¬ä»¥ä¸‹å‡ ç§ã€‚</p><p>â— system-uiï¼šç³»ç»ŸUIå­—ä½“ã€‚</p><p>â— emojiï¼šé€‚ç”¨äºemojiå­—ç¬¦çš„å­—ä½“å®¶æ—ã€‚</p><p>â— mathï¼šé€‚ç”¨äºæ•°å­¦è¡¨è¾¾å¼çš„å­—ä½“å®¶æ—ã€‚</p><p>â— fangsongï¼šä¸­æ–‡å­—ä½“ä¸­çš„ä»¿å®‹å­—ä½“å®¶æ—ã€‚</p><h4 id="system-ui"><a href="#system-ui" class="headerlink" title="system-ui"></a>system-ui</h4><blockquote><p>åœ¨è¿‡å»ï¼Œå¦‚æœæƒ³è¦ä½¿ç”¨ç³»ç»Ÿå­—ä½“ï¼Œåªèƒ½ä½¿ç”¨font:menuã€font:status-barç­‰CSSå£°æ˜ã€‚ä½†æ˜¯ï¼Œmenuã€status-barã€small-captionç­‰fontå…³é”®å­—å±æ€§å€¼æ˜¯åŒ…å«å­—å·çš„ï¼Œä¸åŒæ“ä½œç³»ç»Ÿä¸­çš„å­—å·ä¼šä¸ä¸€æ ·ï¼Œå› æ­¤æˆ‘ä»¬è¿˜éœ€è¦é€šè¿‡è®¾ç½®font-sizeå±æ€§å€¼é‡ç½®å­—å·å¤§å°ï¼Œæ¯”è¾ƒéº»çƒ¦ã€‚system-uiå­—ä½“æ—çš„å‡ºç°å¾ˆå¥½åœ°è§£å†³äº†ä½¿ç”¨ç³»ç»Ÿå­—ä½“çš„éœ€æ±‚ã€‚</p></blockquote><p><strong>ä¸ºå•¥è¦ä½¿ç”¨ç³»ç»Ÿå­—ä½“ï¼Ÿ</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line"><span class="attribute">font</span>-familly: system-ui;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸åŒå­—ä½“åœ¨ä¸åŒç³»ç»Ÿä¸‹æ˜¾ç¤ºæœ‰å·®å¼‚ï¼Œæ•ˆæœå¯èƒ½ä¸å¦‚ç³»ç»Ÿå­—ä½“ï¼Œè¿˜æœ‰å¯èƒ½å‘ç”Ÿç½‘é¡µè®¾ç½®çš„é€šç”¨å­—ä½“ä¸ç³»ç»Ÿå­—ä½“å†²çªçš„é—®é¢˜</p><h4 id="emoji"><a href="#emoji" class="headerlink" title="emoji"></a>emoji</h4><blockquote><p>å‰ä¸»æµçš„æ“ä½œç³»ç»Ÿéƒ½å·²ç»å†…ç½®emojiå­—ä½“ï¼Œå¦‚macOSã€iOSã€Androidæ“ä½œç³»ç»Ÿå’ŒWindows 10æ“ä½œç³»ç»Ÿç­‰ã€‚ç„¶è€Œï¼Œè™½ç„¶ä¸»æµçš„æ“ä½œç³»ç»Ÿå†…ç½®äº†emojiå­—ä½“ï¼Œä½†æ˜¯æœ‰äº›emojiå­—ç¬¦å¹¶ä¸ä¼šæ˜¾ç¤ºä¸ºå½©è‰²çš„å›¾å½¢ï¼Œéœ€è¦ä¸“é—¨æŒ‡å®šemojiå­—ä½“</p></blockquote><p><strong>emojiå­—ä½“è®¾ç½®åº”è¯¥æ”¾åœ¨ç³»ç»Ÿå­—ä½“è®¾ç½®åé¢</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.emoji</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: Apple Color Emoji, Segoe UI Emoji, Segoe UI Symbol, Noto Color Emoji;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â— Apple Color Emojiç”¨åœ¨Appleçš„äº§å“ä¸­çš„ï¼Œå¦‚iPhoneï¼ˆiOSï¼‰æˆ–è€…Mac Proï¼ˆmacOSï¼‰ç­‰ã€‚</p><p>â— Segoe UI Emojiæ˜¯ç”¨åœ¨Windowsæ“ä½œç³»ç»Ÿä¸­çš„emojiå­—ä½“ã€‚</p><p>â— Segoe UI Symbolæ˜¯åœ¨Windows 7æ“ä½œç³»ç»Ÿä¸­æ·»åŠ çš„ä¸€ç§æ–°å­—ä½“ï¼Œæ˜¯ä¸€ç§Unicodeç¼–ç å­—ä½“ï¼Œæ˜¾ç¤ºçš„æ˜¯å•è‰²å›¾æ¡ˆï¼Œéå½©è‰²å›¾å½¢ã€‚</p><p>â— Noto Color Emojiæ˜¯è°·æ­Œçš„emojiå­—ä½“ï¼Œç”¨åœ¨Androidå’ŒLinuxæ“ä½œç³»ç»Ÿä¸­ã€‚</p><p><strong>ä»¥ä¸Š4ç§å­—ä½“æ¶µç›–äº†æ‰€æœ‰ä¸»æµçš„æ“ä½œç³»ç»Ÿã€‚å¯ä»¥ä¸“é—¨å®šä¹‰ä¸€ä¸ªæ–°çš„emojiå­—ä½“æ¥ä¼˜åŒ–ä»£ç </strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: Emoji;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">&#x27;Apple Color Emoji&#x27;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&#x27;Segoe UI Emoji&#x27;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&#x27;Segoe UI Symbol&#x27;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&#x27;Noto Color Emoji&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.emoji</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: Emoji;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/3/5-1.php">Emojiå­—ä½“è®¾ç½®åçš„ä½œç”¨å®ä¾‹é¡µé¢</a></p><p><a href="https://demo.cssworld.cn/new/3/5-2.php">Emojiå­—ä½“è®¾ç½®æ”¾åœ¨æœ€åçš„æ•ˆæœå®ä¾‹é¡µé¢</a></p><p><a href="https://demo.cssworld.cn/new/3/5-3.php">Emojiå­—ä½“unicode-rangeèŒƒå›´é™å®šæ•ˆæœå®ä¾‹é¡µé¢</a></p><h4 id="mathé€šç”¨å­—ä½“æ—"><a href="#mathé€šç”¨å­—ä½“æ—" class="headerlink" title="mathé€šç”¨å­—ä½“æ—"></a>mathé€šç”¨å­—ä½“æ—</h4><blockquote><p>mathé€šç”¨å­—ä½“æ—çš„ä½œç”¨æ˜¯æ–¹ä¾¿åœ¨Webä¸­å±•ç°æ•°å­¦å…¬å¼ã€‚æ•°å­¦å…¬å¼åŒ…å«éå¸¸å¤šçš„å±‚æ¬¡å…³ç³»ï¼Œéœ€è¦ç‰¹æ®Šçš„å­—ä½“è¿›è¡Œæ”¯æŒ</p></blockquote><p>æœ‰ä¸€ç§åä¸ºMathMLçš„XMLè¯­è¨€ä¸“é—¨ç”¨æ¥å‘ˆç°å¯Œæœ‰å±‚çº§å…³ç³»çš„æ•°å­¦å…¬å¼ï¼ˆå¯¹MathMLçš„è¯¦ç»†ä»‹ç»è§<a href="https://www.zhangxinxu.com/wordpress/?p=8108%EF%BC%89">https://www.zhangxinxu.com/wordpress/?p=8108ï¼‰</a></p><p>ç†è®ºä¸Šåœ¨å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘ä»¬åªè¦ä½¿ç”¨MathMLè¯­è¨€è¿›è¡Œæ•°å­¦å…¬å¼ä¹¦å†™å°±å¥½äº†ï¼Œæ— é¡»å…³å¿ƒèƒŒåçš„å­—ä½“ã€‚ä½†æ˜¯ï¼Œåœ¨å®é™…æ“ä½œä¸­ï¼ŒChromeæµè§ˆå™¨å¹¶ä¸æ”¯æŒMathMLã€‚ä¸ºäº†å…¼å®¹Chromeæµè§ˆå™¨ï¼Œæˆ‘ä»¬éœ€è¦å¯¹æ•°å­¦æ ‡ç­¾è¿›è¡ŒCSSé‡å®šä¹‰ï¼Œæ­¤æ—¶å°±éœ€è¦ç”¨åˆ°mathé€šç”¨å­—ä½“æ—ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">math &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: Cambria Math, Latin Modern Math;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼ŒCambria Mathæ˜¯Windowsæ“ä½œç³»ç»Ÿä¸­çš„æ•°å­¦å­—ä½“ï¼ŒLatin Modern Mathæ˜¯macOSä¸­çš„æ•°å­¦å­—ä½“ã€‚</p><h4 id="fangsongé€šç”¨å­—ä½“æ—"><a href="#fangsongé€šç”¨å­—ä½“æ—" class="headerlink" title="fangsongé€šç”¨å­—ä½“æ—"></a>fangsongé€šç”¨å­—ä½“æ—</h4><blockquote><p>ä¸ªå­—ä½“æ—æ¥è‡ªä¸­æ–‡å­—ä½“â€œä»¿å®‹â€ï¼Œä»¿å®‹æ˜¯ä»‹äºå®‹ä½“ï¼ˆè¡¬çº¿å­—ä½“ï¼‰å’Œæ¥·ä½“ï¼ˆæ‰‹å†™å­—ä½“ï¼‰ä¹‹é—´çš„ä¸€ç§å­—ä½“ã€‚å’Œå®‹ä½“ç›¸æ¯”ï¼Œä»¿å®‹ç¬”ç”»çš„æ°´å¹³çº¿é€šå¸¸æ˜¯å€¾æ–œçš„ï¼Œç«¯ç‚¹ä¿®é¥°è¾ƒå°‘ï¼Œç¬”ç”»å®½åº¦å˜åŒ–è¾ƒå°ã€‚ä¸€èˆ¬éå¸¸æ­£å¼çš„å…¬å‘Šæ‰ä¼šç”¨åˆ°è¿™ä¸ªå­—ä½“ï¼Œå¹³å¸¸å¼€å‘é¡¹ç›®ä¸­å¾ˆå°‘ç”¨åˆ°</p></blockquote><h4 id="local-å‡½æ•°ä¸ç³»ç»Ÿå­—ä½“çš„è°ƒç”¨"><a href="#local-å‡½æ•°ä¸ç³»ç»Ÿå­—ä½“çš„è°ƒç”¨" class="headerlink" title="local()å‡½æ•°ä¸ç³»ç»Ÿå­—ä½“çš„è°ƒç”¨"></a>local()å‡½æ•°ä¸ç³»ç»Ÿå­—ä½“çš„è°ƒç”¨</h4><blockquote><p>ä»IE9æµè§ˆå™¨å¼€å§‹ï¼Œ@font-faceè§„åˆ™å¼€å§‹æ”¯æŒä½¿ç”¨local()å‡½æ•°è°ƒç”¨ç³»ç»Ÿå®‰è£…çš„å­—ä½“ã€‚ä½¿ç”¨local()å‡½æ•°ä¸»è¦æœ‰ä¸¤å¤§å¥½å¤„ã€‚</p></blockquote><p>ï¼ˆ1ï¼‰ç®€åŒ–å­—ä½“è°ƒç”¨ã€‚ä¾‹å¦‚æˆ‘ä»¬è¦ä½¿ç”¨ç­‰å®½å­—ä½“ï¼Œä½†æ˜¯ä¸åŒæ“ä½œç³»ç»Ÿä¸­çš„ç­‰å®½å­—ä½“ä¸ä¸€æ ·ã€‚ä¸ºäº†å…¼å®¹ï¼Œæˆ‘ä»¬éœ€è¦ä¸€é•¿ä¸²ä¸åŒçš„å­—ä½“åç§°ä½œä¸ºfont-familyå±æ€§å€¼ï¼Œä½†æ˜¯æ ¹æœ¬å°±è®°ä¸ä½è¿™ä¹ˆå¤šå­—ä½“ï¼Œæ²¡å…³ç³»ï¼Œæœ‰äº†local()å‡½æ•°ï¼Œä½¿ç”¨è¿™äº›å­—ä½“çš„æ–¹æ³•å°±ä¸€ä¸‹å­å˜å¾—ç®€å•äº†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: Mono;</span><br><span class="line">    <span class="comment">/*æ¯ä¸ªå•è¯å¯ä¸åŠ å¼•å·*/</span>ã€</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">&#x27;Menlo&#x27;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&#x27;Monaco&#x27;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&#x27;Consolas&#x27;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&#x27;Liberation Mono&#x27;</span>),</span><br><span class="line">        ...;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">code</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: Mono;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰åœ¨è‡ªå®šä¹‰å­—ä½“åœºæ™¯ä¸‹æé«˜æ€§èƒ½ã€‚ä¾‹å¦‚æˆ‘ä»¬å¸Œæœ›åœ¨å„ä¸ªå¹³å°éƒ½èƒ½ä½¿ç”¨Robotoå­—ä½“ï¼Œåˆ™å¯ä»¥åƒä¸‹é¢è¿™æ ·é‡æ–°å®šä¹‰ä¸‹Robotoå­—ä½“</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: Roboto;</span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">&quot;Roboto&quot;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&quot;Roboto-Regular&quot;</span>),</span><br><span class="line">        <span class="built_in">url</span>(<span class="string">&quot;./Roboto.woff2&quot;</span>) <span class="built_in">format</span>(<span class="string">&quot;woff2&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶local()å‡½æ•°å¯ä»¥è®©å·²ç»å®‰è£…äº†Robotoå­—ä½“çš„ç”¨æˆ·æ— é¡»å‘èµ·é¢å¤–çš„Robotoå­—ä½“è¯·æ±‚ï¼Œä¼˜åŒ–äº†è¿™éƒ¨åˆ†ç”¨æˆ·çš„ä½¿ç”¨ä½“éªŒã€‚</p><h4 id="unicode-rangeå±æ€§"><a href="#unicode-rangeå±æ€§" class="headerlink" title="unicode-rangeå±æ€§"></a>unicode-rangeå±æ€§</h4><blockquote><p>æˆ‘ä»¬åœ¨ä½¿ç”¨@font-faceè§„åˆ™è‡ªå®šä¹‰å­—ä½“çš„æ—¶å€™ï¼Œè¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨unicode-rangeå±æ€§æ¥å†³å®šè‡ªå®šä¹‰çš„å­—ä½“ä½œç”¨åœ¨å“ªäº›å­—ç¬¦ä¸Šã€‚ä¾‹å¦‚è®¾ç½®emojiå­—ä½“çš„ä½œç”¨èŒƒå›´</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: Emoji;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">&#x27;Apple Color Emoji&#x27;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&#x27;Segoe UI Emoji&#x27;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&#x27;Segoe UI Symbol&#x27;</span>),</span><br><span class="line">        <span class="built_in">local</span>(<span class="string">&#x27;Noto Color Emoji&#x27;</span>);</span><br><span class="line">    unicode-range: U+<span class="number">1</span>F000-<span class="number">1</span>F644,U+<span class="number">203</span>C-<span class="number">3299</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨å‰ç«¯é¢†åŸŸï¼Œä½¿ç”¨Unicodeç¼–ç æ˜¾ç¤ºå­—ç¬¦åœ¨å„ç§è¯­è¨€ä¸­éƒ½æ˜¯å¯ä»¥çš„ï¼Œä¸è¿‡å‰ç¼€å„æœ‰ä¸åŒã€‚</p><p>ï¼ˆ1ï¼‰åœ¨HTMLä¸­ï¼Œå­—ç¬¦è¾“å‡ºå¯ä»¥ä½¿ç”¨&amp;#xåŠ ä¸ŠUnicodeç¼–ç ã€‚</p><p>ï¼ˆ2ï¼‰åœ¨JavaScriptæ–‡ä»¶ä¸­ï¼Œä¸ºäº†é¿å…ä¸­æ–‡ä¹±ç éœ€è¦è½¬ä¹‰ï¼Œåº”ä½¿ç”¨\uåŠ ä¸ŠUnicodeç¼–ç ã€‚</p><p>ï¼ˆ3ï¼‰åœ¨CSSæ–‡ä»¶ä¸­ï¼Œå¦‚CSSä¼ªå…ƒç´ çš„contentå±æ€§ï¼Œå°±ç›´æ¥ä½¿ç”¨\åŠ ä¸Šå¯¹åº”å­—ç¬¦çš„Unicodeç¼–ç å€¼ã€‚</p><p>ï¼ˆ4ï¼‰unicode-rangeå±æ€§åˆ™æ˜¯ä½¿ç”¨U+åŠ ä¸ŠUnicodeç¼–ç ã€‚</p><p><strong>unicode-rangeå±æ€§å¸¸ç”¨çš„Unicodeç¼–ç å€¼å¯¹ä¸­æ–‡ç”¨æˆ·è€Œè¨€ï¼Œæœ€å¸¸ç”¨çš„Unicodeç¼–ç å€¼æœ‰ä¸‹é¢è¿™äº›ã€‚</strong></p><p>â— åŸºæœ¬äºŒæ¬¡æ±‰å­—ï¼š[0x4e00,0x9fa5]ï¼ˆæˆ–åè¿›åˆ¶[19968,40869]ï¼‰ã€‚</p><p>â— æ•°å­—ï¼š[0x30,0x39]ï¼ˆæˆ–åè¿›åˆ¶[48, 57]ï¼‰ã€‚</p><p>â— å°å†™å­—æ¯ï¼š[0x61,0x7a]ï¼ˆæˆ–åè¿›åˆ¶[97, 122]ï¼‰ã€‚</p><p>â— å¤§å†™å­—æ¯ï¼š[0x41,0x5a]ï¼ˆæˆ–åè¿›åˆ¶[65, 90]ï¼‰ã€‚</p><p>å¦‚æœæƒ³è·å–æŸä¸€ä¸ªå…·ä½“å­—ç¬¦çš„Unicodeç¼–ç å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">U = <span class="string">&#x27;â„ƒ&#x27;</span>.<span class="title function_">codePointAt</span>().<span class="title function_">toString</span>(<span class="number">16</span>) <span class="comment">// 2103</span></span><br></pre></td></tr></table></figure><h4 id="woff-woff2å­—ä½“"><a href="#woff-woff2å­—ä½“" class="headerlink" title="woff/woff2å­—ä½“"></a><strong>woff/woff2å­—ä½“</strong></h4><blockquote><p>ä¸ºäº†æ–¹ä¾¿åœ¨ç½‘é¡µä¸­é«˜æ•ˆä½¿ç”¨è‡ªå®šä¹‰å­—ä½“ï¼Œwoffå’Œwoff2åº”è¿è€Œç”Ÿï¼Œå®ƒä»¬æ˜¯ä¸¤ä¸ªä¸“é—¨ç”¨åœ¨Webä¸­çš„å­—ä½“ã€‚å…¶ä¸­ï¼Œwoffå­—ä½“åœ¨2012å¹´12æœˆè¢«World Wide Web Consortiumï¼ˆW3Cï¼‰æ¨èä½¿ç”¨ï¼ŒIE9+æµè§ˆå™¨æ”¯æŒè¯¥å­—ä½“ã€‚woff2å­—ä½“æœ€æ—©åœ¨2013å¹´7æœˆçš„Chrome Canaryç‰ˆæœ¬ä¸Šå°±å¯ä»¥ä½¿ç”¨äº†ï¼Œå‘å±•åˆ°ç°åœ¨ï¼Œå‡ ä¹å·²ç»æˆä¸ºè‡ªå®šä¹‰å›¾æ ‡å­—ä½“ä½¿ç”¨çš„æ ‡å‡†é…ç½®ï¼Œç›®å‰æµè§ˆå™¨å¯¹å®ƒçš„å…¼å®¹æ€§å·²ç»ç›¸å½“ä¸é”™äº†ã€‚</p><p>woff2å­—ä½“æ²¡æœ‰å¿…è¦å†å¼€å¯GZIPï¼Œå› ä¸ºè¿™ä¸ªå­—ä½“æ–‡æœ¬æœ¬èº«å°±æ˜¯å‹ç¼©è¿‡çš„ã€‚</p><p>æœ€åè¯´ä¸€ä¸‹woffå­—ä½“çš„MIME typeå€¼ã€‚å…³äºè¿™ä¸€ç‚¹æœ‰ç‚¹å°äº‰è®®ï¼Œæ‹¿woff2å­—ä½“ä¸¾ä¾‹ï¼ŒGoogleä½¿ç”¨çš„æ˜¯font/woff2ï¼Œè€ŒW3Cåˆ™æ¨èä½¿ç”¨application/font-woff2ã€‚æˆ‘ä¸ªäººçš„å»ºè®®æ˜¯ï¼Œåœ¨Webä¸­ä½¿ç”¨çš„æ—¶å€™é‡‡ç”¨font/woff2ï¼Œåœ¨æœåŠ¡å™¨ç«¯è¿›è¡ŒMIME typeé…ç½®çš„æ—¶å€™é‡‡ç”¨application/font- woff2ã€‚</p></blockquote><h4 id="font-display"><a href="#font-display" class="headerlink" title="font-display"></a>font-display</h4><blockquote><p>å‡è®¾æˆ‘ä»¬å®šä¹‰ä¸€ä¸ªåä¸ºMyFontçš„è‡ªå®šä¹‰å­—ä½“ï¼Œå¹¶ä¸”é‡‡ç”¨url()å‡½æ•°å¤–é“¾çš„æ–¹å¼å¼•å…¥..è¿™æ—¶æµè§ˆå™¨çš„å­—ä½“åŠ è½½è¡Œä¸ºè¡¨ç°ä¸ºï¼Œåº”ç”¨MyFontå­—ä½“çš„æ–‡æœ¬ä¼šå…ˆè¢«éšè—ï¼Œç›´åˆ°å­—ä½“åŠ è½½ç»“æŸæ‰ä¼šæ˜¾ç¤ºï¼Œä½†æ˜¯è¿™ä¸ªéšè—æœ€å¤šæŒç»­3sï¼Œ3såå­—ä½“ä»æœªåŠ è½½ç»“æŸåˆ™ä¼šä½¿ç”¨å…¶ä»–å­—ä½“ä»£æ›¿ã€‚è¿™ç§åŠ è½½ä½“éªŒåˆ©å¼Šå‚åŠã€‚</p></blockquote><blockquote><p><strong>å­—ä½“æ˜¾ç¤ºæ—¶é—´çº¿</strong></p><p>å­—ä½“æ˜¾ç¤ºæ—¶é—´çº¿å¼€å§‹äºæµè§ˆå™¨å°è¯•ä¸‹è½½å­—ä½“çš„é‚£ä¸€åˆ»ï¼Œæ•´ä¸ªæ—¶é—´çº¿åˆ†ä¸º3ä¸ªæ—¶æ®µï¼Œæµè§ˆå™¨ä¼šåœ¨è¿™3ä¸ªæ—¶æ®µè®©å…ƒç´ è¡¨ç°å‡ºä¸åŒçš„å­—ä½“æ¸²æŸ“è¡Œä¸ºã€‚</p><p>â— å­—ä½“é˜»å¡æ—¶æ®µï¼šå¦‚æœæœªåŠ è½½å­—ä½“ï¼Œä»»ä½•è¯•å›¾ä½¿ç”¨å®ƒçš„å…ƒç´ éƒ½å¿…é¡»ä»¥ä¸å¯è§çš„æ–¹å¼æ¸²æŸ“åå¤‡å­—ä½“ï¼›å¦‚æœåœ¨æ­¤æœŸé—´å­—ä½“æˆåŠŸåŠ è½½ï¼Œåˆ™æ­£å¸¸ä½¿ç”¨å®ƒã€‚</p><p>â— å­—ä½“äº¤æ¢æ—¶æ®µï¼šå¦‚æœæœªåŠ è½½å­—ä½“ï¼Œä»»ä½•è¯•å›¾ä½¿ç”¨å®ƒçš„å…ƒç´ éƒ½å¿…é¡»ä»¥å¯è§çš„æ–¹å¼æ¸²æŸ“åå¤‡å­—ä½“ï¼›å¦‚æœåœ¨æ­¤æœŸé—´å­—ä½“æˆåŠŸåŠ è½½ï¼Œåˆ™æ­£å¸¸ä½¿ç”¨å®ƒã€‚</p><p>â— å­—ä½“å¤±è´¥æ—¶æ®µï¼šå¦‚æœæœªåŠ è½½å­—ä½“ï¼Œåˆ™æµè§ˆå™¨å°†å…¶è§†ä¸ºåŠ è½½å¤±è´¥ï¼Œå¹¶ä½¿ç”¨æ­£å¸¸å­—ä½“è¿›è¡Œå›é€€æ¸²æŸ“ã€‚font-displayçš„å±æ€§å€¼å°±æ˜¯å›´ç»•å­—ä½“æ˜¾ç¤ºæ—¶é—´çº¿å±•å¼€çš„ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-display</span>: [auto | block | swap | fallback | optional]</span><br></pre></td></tr></table></figure><p>â— autoï¼šå­—ä½“æ˜¾ç¤ºç­–ç•¥ç”±æµè§ˆå™¨å†³å®šï¼Œå¤§å¤šæ•°æµè§ˆå™¨çš„å­—ä½“æ˜¾ç¤ºç­–ç•¥ç±»ä¼¼blockã€‚</p><p>â— blockï¼šå­—ä½“é˜»å¡æ—¶æ®µè¾ƒçŸ­ï¼ˆæ¨è3sï¼‰ï¼Œå­—ä½“äº¤æ¢æ—¶æ®µæ— é™ã€‚æ­¤å€¼é€‚åˆå›¾æ ‡å­—ä½“åœºæ™¯ã€‚</p><p>â— swapï¼šå­—ä½“é˜»å¡æ—¶æ®µæçŸ­ï¼ˆä¸è¶…è¿‡100msï¼‰ï¼Œå­—ä½“äº¤æ¢æ—¶æ®µæ— é™ã€‚æ­¤å€¼é€‚åˆç”¨åœ¨å°æ®µæ–‡æœ¬ï¼ŒåŒæ—¶æ–‡æœ¬å†…å®¹å¯¹é¡µé¢éå¸¸é‡è¦çš„åœºæ™¯ã€‚</p><p>â— fallbackï¼šå­—ä½“é˜»å¡æ—¶æ®µæçŸ­ï¼ˆä¸è¶…è¿‡100msï¼‰ï¼Œå­—ä½“äº¤æ¢æ—¶æ®µè¾ƒçŸ­ï¼ˆæ¨è3sï¼‰ã€‚æ­¤å€¼é€‚åˆç”¨äºå¤§æ®µæ–‡æœ¬ï¼Œä¾‹å¦‚æ–‡ç« æ­£æ–‡ï¼ŒåŒæ—¶å¯¹å­—ä½“æ•ˆæœæ¯”è¾ƒçœ‹é‡çš„åœºæ™¯ï¼Œä¾‹å¦‚å¹¿å‘Šé¡µé¢ã€ä¸ªäººç½‘ç«™ç­‰ã€‚</p><p>â— optionalï¼šå­—ä½“é˜»å¡æ—¶æ®µæçŸ­ï¼ˆä¸è¶…è¿‡100msï¼‰ï¼Œæ²¡æœ‰å­—ä½“äº¤æ¢æ—¶æ®µã€‚æ­¤å€¼çš„ä½œç”¨å¯ä»¥æè¿°ä¸ºï¼Œå¦‚æœå­—ä½“å¯ä»¥ç¬é—´è¢«åŠ è½½ï¼ˆä¾‹å¦‚å·²ç»è¢«ç¼“å­˜äº†ï¼‰ï¼Œåˆ™æµè§ˆå™¨ä½¿ç”¨è¯¥å­—ä½“ï¼Œå¦åˆ™ä½¿ç”¨å›é€€å­—ä½“ã€‚optionalæ˜¯æ—¥å¸¸Webäº§å“å¼€å‘æ›´æ¨èçš„å±æ€§å€¼ï¼Œå› ä¸ºæ— è®ºä»»ä½•æ—¶å€™ï¼Œç½‘é¡µå†…å®¹åœ¨ç”¨æˆ·ç¬¬ä¸€æ¬¡è®¿é—®æ—¶å¿«é€Ÿå‘ˆç°æ˜¯æœ€é‡è¦çš„ï¼Œä¸èƒ½è®©ç”¨æˆ·ç­‰å¾…å¾ˆé•¿æ—¶é—´åå†çœ‹åˆ°ä½ è®¤ä¸ºçš„å®Œç¾æ•ˆæœã€‚</p><blockquote><p>å¦‚æœè‡ªå®šä¹‰å­—ä½“çš„å¤§å°åœ¨30 KBä»¥å†…ï¼Œå»ºè®®ç›´æ¥ç”¨Base64å°†å…¶å†…è”åœ¨é¡µé¢ä¸­ã€‚ä¸è¿‡åªæœ‰woff2å­—ä½“é‡‡å–å†…è”å¤„ç†ï¼Œwoffå­—ä½“ä¾æ—§é‡‡ç”¨url()å‡½æ•°å¤–é“¾ä½“éªŒæœ€ä½³ï¼Œå› ä¸ºæ­¤æ—¶ç°ä»£æµè§ˆå™¨ä¸­çš„å­—ä½“éƒ½æ˜¯ç¬é—´æ¸²æŸ“ï¼Œæ ¹æœ¬æ— é¡»ä½¿ç”¨font-displayå±æ€§è¿›è¡Œå­—ä½“åŠ è½½ä¼˜åŒ–</p></blockquote><h3 id="å­—ç¬¦å•å…ƒçš„ä¸­æ–­ä¸æ¢è¡Œ"><a href="#å­—ç¬¦å•å…ƒçš„ä¸­æ–­ä¸æ¢è¡Œ" class="headerlink" title="å­—ç¬¦å•å…ƒçš„ä¸­æ–­ä¸æ¢è¡Œ"></a>å­—ç¬¦å•å…ƒçš„ä¸­æ–­ä¸æ¢è¡Œ</h3><p>å­—ç¬¦å•å…ƒé»˜è®¤çš„ä¸­æ–­ä¸æ¢è¡Œè§„åˆ™å¦‚ä¸‹ã€‚</p><p>â— Spaceæ™®é€šç©ºæ ¼ã€Enterï¼ˆå›è½¦ï¼‰ç©ºæ ¼å’ŒTabï¼ˆåˆ¶è¡¨ç¬¦ï¼‰ç©ºæ ¼è¿™3ç§ç©ºæ ¼æ— è®ºæ€æ ·ç»„åˆéƒ½ä¼šåˆå¹¶ä¸ºå•ä¸ªæ™®é€šç©ºæ ¼ã€‚</p><p>â— æ–‡å­—å¯ä»¥åœ¨CJKæ–‡æœ¬ã€æ™®é€šç©ºæ ¼å’ŒçŸ­æ¨ªçº¿è¿å­—ç¬¦å¤„æ¢è¡Œï¼Œè¿ç»­è‹±æ–‡å•è¯å’Œæ•°å­—ä¸æ¢è¡Œã€‚</p><p>word-break</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">word-break</span>: normal | break-all | keep-all | break-word;</span><br></pre></td></tr></table></figure><p>keep-allè¿™ä¸ªå±æ€§å€¼å¯ä»¥è®©CJKæ–‡æœ¬ä¸æ¢è¡Œæ’ç‰ˆï¼ŒåŒæ—¶åˆä¸å½±å“éCJKæ–‡æœ¬çš„æ’ç‰ˆè¡Œä¸º<a href="https://demo.cssworld.cn/new/3/6-1.php">æ•ˆæœé¢„è§ˆ</a></p><p><a href="https://demo.cssworld.cn/new/3/6-2.php">word-break å±æ€§æ•ˆæœ</a></p><p>hyphenså±æ€§ä¸è¿å­—ç¬¦</p><blockquote><p>hyphensæ˜¯ä¸“ä¸ºè‹±æ–‡åœºæ™¯è®¾è®¡çš„ä¸€ä¸ªå±æ€§ï¼Œè¿™ä¸ªå±æ€§å¯ä»¥è®©è‹±æ–‡å•è¯æ–­å¼€æ¢è¡Œçš„æ—¶å€™å¸¦ä¸Šè¿å­—ç¬¦ï¼ˆä¹Ÿå°±æ˜¯çŸ­æ¨ªçº¿ï¼‰ï¼Œè¿™æ ·å¯ä»¥è®©è¯»è€…çŸ¥é“ä¸Šä¸€è¡Œçš„å°¾éƒ¨å’Œä¸‹ä¸€è¡Œçš„å¤´éƒ¨è¿èµ·æ¥æ˜¯ä¸€ä¸ªå®Œæ•´çš„å•è¯</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hyphens</span>: none| manual|auto;</span><br></pre></td></tr></table></figure><blockquote><p>å±æ€§å€¼autoå¯ä»¥è®©è‹±æ–‡å•è¯åœ¨è¡Œå°¾è‡ªåŠ¨æ¢è¡Œï¼ŒåŒæ—¶å¸¦ä¸ŠçŸ­æ¨ªçº¿ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‹±æ–‡å•è¯æ¢è¡Œä¸éœ€è¦è®¾ç½®word-breakæˆ–è€…word-wrapå±æ€§ï¼Œhyphenså±æ€§è‡ªå¸¦æ¢è¡Œèƒ½åŠ›ã€‚å¦‚æœä½ è®¾ç½®äº†word-break:break-allå£°æ˜ï¼Œåè€Œä¸ä¼šæœ‰çŸ­æ¨ªçº¿æ•ˆæœã€‚</p></blockquote><blockquote><p>è¿å­—ç¬¦æ€»å…±åˆ†ä¸¤ç§ã€‚</p><p>ä¸€ç§æ˜¯â€œç¡¬è¿å­—ç¬¦â€ï¼ˆU+2010ï¼‰ï¼Œç§°ä¸ºå¯è§çš„æ¢è¡Œæœºä¼šã€‚è¿™ä¸ªå­—ç¬¦å°±æ˜¯æˆ‘ä»¬é”®ç›˜ä¸Šçš„çŸ­æ¨ªçº¿â€œ-â€ï¼Œæ˜¯å¯è§çš„ã€‚</p><p>å¦ä¸€ç§æ˜¯â€œè½¯è¿å­—ç¬¦â€ï¼ˆU+00ADï¼‰ï¼Œç§°ä¸ºä¸å¯è§çš„æ¢è¡Œæœºä¼šã€‚è¿™ä¸ªå­—ç¬¦å¾ˆæœ‰æ„æ€ï¼Œé€šå¸¸æƒ…å†µæ˜¯éšè—çš„ï¼Œä½†æ˜¯ï¼Œå¦‚æœæµè§ˆå™¨è§‰å¾—æœ‰å¿…è¦åœ¨è½¯è¿å­—ç¬¦æ‰€åœ¨ä½ç½®æ‰“æ–­å•è¯ï¼Œåˆ™è¿å­—ç¬¦åˆä¼šå˜ä¸ºå¯è§ã€‚</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>å¤§å®¶å¥½ï¼Œæˆ‘å«zhang<span class="symbol">&amp;shy;</span>xin<span class="symbol">&amp;shy;</span>xuï¼Œæ„Ÿè°¢å¤§å®¶è´­ä¹°æˆ‘çš„ä¹¦ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/3/6-3.php">hyphens:manualä¸è½¯è¿å­—ç¬¦ä¼˜åŒ–æ’ç‰ˆæ•ˆæœå®ä¾‹é¡µé¢</a></p><blockquote><p>ä¸è¿‡ç”±äºåœ¨<strong>Chromeæµè§ˆå™¨ä¸­ä¸æ”¯æŒhyphens:noneè¿™ä¸ªå£°æ˜</strong>ï¼Œå› æ­¤å…¶æ²¡æœ‰å®ç”¨ä»·å€¼ã€‚</p></blockquote><h4 id="lt-wbr-gt-ä¸ç²¾ç¡®æ¢è¡Œçš„æ§åˆ¶"><a href="#lt-wbr-gt-ä¸ç²¾ç¡®æ¢è¡Œçš„æ§åˆ¶" class="headerlink" title="&lt;wbr&gt;ä¸ç²¾ç¡®æ¢è¡Œçš„æ§åˆ¶"></a>&lt;wbr&gt;ä¸ç²¾ç¡®æ¢è¡Œçš„æ§åˆ¶</h4><blockquote><p>HTMLä¸­æœ‰ä¸€ä¸ª&lt;wbr&gt;å…ƒç´ æ ‡ç­¾ï¼Œå¯ä»¥å®ç°è¿ç»­è‹±æ–‡å’Œæ•°å­—çš„ç²¾å‡†æ¢è¡Œï¼Œå…·ä½“æ•ˆæœå¦‚ä¸‹ï¼šå¦‚æœå®½åº¦è¶³å¤Ÿï¼Œä¸æ¢è¡Œï¼›å¦‚æœå®½åº¦ä¸è¶³ï¼Œåˆ™åœ¨&lt;wbr&gt;å…ƒç´ æ‰€åœ¨çš„ä½ç½®è¿›è¡Œæ¢è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ&lt;wbr&gt;å…ƒç´ æä¾›äº†ä¸€ä¸ªæ¢è¡Œæœºä¼šã€‚</p></blockquote><p>[&lt;wbr&gt;æ ‡ç­¾ä¸æ’ç‰ˆæ•ˆæœä¼˜åŒ–å®ä¾‹é¡µé¢](<a href="https://demo.cssworld.cn/new/3/6-4">https://demo.cssworld.cn/new/3/6-4</a>. php)</p><p><strong>&lt;wbr&gt;å®ç°æ¢è¡ŒåŸç†</strong></p><blockquote><p>&lt;wbr&gt;ä¹‹æ‰€ä»¥èƒ½å¤Ÿåˆ›é€ æ–°çš„æ¢è¡Œæœºä¼šï¼Œæ˜¯å› ä¸ºå…¶åˆ›å»ºäº†ä¸€ä¸ªå¸¦æœ‰æ¢è¡Œç‰¹æ€§çš„å®½åº¦ä¸º0pxçš„ç©ºæ ¼ã€‚è¯¥ç©ºæ ¼çš„Unicodeç¼–ç æ˜¯U+200Bï¼Œå› æ­¤&lt;wbr&gt;æ ‡ç­¾ä¹Ÿå¯ä»¥æ›¿æ¢ä¸º&#x200b;ï¼Œä¾‹å¦‚ä¸‹é¢HTMLä»£ç å®ç°çš„æ•ˆæœå’Œæ ‡ç­¾çš„æ•ˆæœæ˜¯ä¸€æ ·çš„</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>å¤§å®¶å¥½ï¼Œæˆ‘å«zhang<span class="symbol">&amp;#x200B;</span>xin<span class="symbol">&amp;#x200B;</span>xuï¼Œæ„Ÿè°¢å¤§å®¶è´­ä¹°æˆ‘çš„ä¹¦ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>å¤§å®¶å¥½ï¼Œæˆ‘å«zhang<span class="tag">&lt;<span class="name">wbr</span>&gt;</span>xin<span class="tag">&lt;<span class="name">wbr</span>&gt;</span>xuï¼Œæ„Ÿè°¢å¤§å®¶è´­ä¹°æˆ‘çš„ä¹¦ã€‚<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>IEä¸å…¼å®¹å¤„ç†</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wbr<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line"><span class="attribute">content</span>: <span class="string">&#x27;\00200B&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>&lt;wbr&gt;ä¸&lt;br&gt;æ¢è¡Œçš„åŒºåˆ«</strong></p><blockquote><p>&lt;wbr&gt;æ˜¯â€œWord Break Opportunityâ€çš„ç¼©å†™ï¼Œè¡¨ç¤ºæœ‰æœºä¼šå°±æ–­å¼€æ¢è¡Œï¼›è€Œ&lt;br&gt;åˆ™æ˜¯ç›´æ¥æ¢è¡Œæ˜¾ç¤ºï¼Œæ— è®ºå®½åº¦æ˜¯å¦è¶³å¤Ÿã€‚</p></blockquote><blockquote><p>â— åŠ¨æ€æ–‡æœ¬å†…å®¹æ¢è¡Œä½¿ç”¨word-break:break-allå’Œword-wrap:break-wordç»„åˆä»£ç ï¼Œå¦‚æœè¦å½»åº•æ¢è¡Œï¼Œè¿˜å¯ä»¥ä½¿ç”¨line-break:anywhereã€‚</p><p>â— é™æ€å†…å®¹æ’ç‰ˆä¸å»ºè®®ä½¿ç”¨word-breakå±æ€§ã€word-wrapå±æ€§æˆ–è€…line-breakå±æ€§ï¼Œå¦‚æœæ˜¯è‹±æ–‡å•è¯ï¼Œåˆ™ä½¿ç”¨&shy;è½¯è¿å­—ç¬¦ä¼˜åŒ–æ’ç‰ˆï¼›å¦‚æœæ˜¯éè‹±æ–‡å•è¯ï¼Œåˆ™ä½¿ç”¨&lt;wbr&gt;æ ‡ç­¾ä¼˜åŒ–æ’ç‰ˆã€‚</p></blockquote><h4 id="overflow-wrap-anywhereå£°æ˜æœ‰ä»€ä¹ˆç”¨"><a href="#overflow-wrap-anywhereå£°æ˜æœ‰ä»€ä¹ˆç”¨" class="headerlink" title="overflow-wrap:anywhereå£°æ˜æœ‰ä»€ä¹ˆç”¨"></a>overflow-wrap:anywhereå£°æ˜æœ‰ä»€ä¹ˆç”¨</h4><blockquote><p>è¿™é‡Œä¸»è¦è®²ä¸€ä¸‹å±æ€§å€¼anywhereçš„ä½œç”¨ã€‚åœ¨å±•å¼€è®²è§£ä¹‹å‰ï¼Œå…ˆç»™å¤§å®¶è®²è§£ä¸€ä¸ªæ¦‚å¿µï¼Œå…³äºâ€œç¡¬æ¢è¡Œâ€å’Œâ€œè½¯æ¢è¡Œâ€ã€‚ç¡¬æ¢è¡Œä¼šåœ¨æ–‡æœ¬çš„æ¢è¡Œç‚¹å¤„æ’å…¥å®é™…æ¢è¡Œç¬¦ï¼›è€Œè½¯æ¢è¡Œçš„æ–‡æœ¬å®é™…ä¸Šä»åœ¨åŒä¸€è¡Œï¼Œä½†çœ‹èµ·æ¥å®ƒè¢«åˆ†æˆäº†å¤šè¡Œï¼Œä¾‹å¦‚é€šè¿‡word-break:break-allè®©é•¿è‹±æ–‡å•è¯æ¢è¡Œå°±å±äºè½¯æ¢è¡Œã€‚</p><p>å±æ€§å€¼anywhereæ­£å¸¸çŠ¶æ€ä¸‹çš„æ•ˆæœå’Œå±æ€§å€¼break-wordç±»ä¼¼ï¼Œå…·ä½“æè¿°ä¸ºï¼šå¦‚æœè¡Œä¸­æ²¡æœ‰å…¶ä»–å¯æ¥å—çš„æ–­ç‚¹ï¼Œåˆ™å¯ä»¥åœ¨ä»»ä½•ç‚¹æ–­å¼€åŸæœ¬ä¸å¯æ–­å¼€çš„å­—ç¬¦ä¸²ï¼ˆå¦‚é•¿å•è¯æˆ–URLï¼‰ï¼Œå¹¶ä¸”åœ¨æ–­ç‚¹å¤„ä¸æ’å…¥è¿å­—ç¬¦ã€‚</p><p>å±æ€§å€¼anywhereå’Œå±æ€§å€¼break-wordçš„ä¸åŒä¹‹å¤„åœ¨äºï¼Œoverflow-wrap:anywhereåœ¨è®¡ç®—æœ€å°å†…å®¹å°ºå¯¸çš„æ—¶å€™ä¼šè€ƒè™‘è½¯æ¢è¡Œï¼Œè€Œoverflow-wrap:break-wordåˆ™ä¸ä¼šè€ƒè™‘è½¯æ¢è¡Œ</p></blockquote><p>overflow-wrapå±æ€§çš„æ­£å¼è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">overflow-wrap</span>: normal | break-word | anywhere;</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/3/6-5.php">overflow-wrap:anywhereå’Œbreak-wordçš„åŒºåˆ«å®ä¾‹é¡µé¢</a></p><blockquote><p>ç”±äºoverflow-wrap:anywhereçš„å…¼å®¹æ€§ä¸ä½³ï¼Œå› æ­¤å®ƒç›®å‰çš„å®ç”¨æ€§è¿œä¸åŠline- break:anywhereï¼Œå¤§å®¶äº†è§£å³å¯ã€‚</p></blockquote><h4 id="text-alignå±æ€§ç›¸å…³çš„æ–°ç‰¹æ€§"><a href="#text-alignå±æ€§ç›¸å…³çš„æ–°ç‰¹æ€§" class="headerlink" title="text-alignå±æ€§ç›¸å…³çš„æ–°ç‰¹æ€§"></a>text-alignå±æ€§ç›¸å…³çš„æ–°ç‰¹æ€§</h4><blockquote><p>text-alignå±æ€§æ”¯æŒå¸¸ç”¨çš„å±æ€§å€¼leftã€rightã€centerã€justifyï¼Œä¹Ÿæ”¯æŒé€»è¾‘å±æ€§å€¼startã€endï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œè¿˜æ–°å¢äº†å¤šä¸ªå…¶ä»–å±æ€§å€¼ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">text-align</span>: match-parent| justify-all| &lt;string&gt;;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸è¿‡è¿™å‡ ä¸ªæ–°å¢çš„å±æ€§å€¼çš„å…¼å®¹æ€§éƒ½ä¸å¤ªå¥½ï¼Œå› æ­¤ä¸é€‚åˆåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä½¿ç”¨ï¼Œå¤§å®¶å…ˆç®€å•äº†è§£ä¸€ä¸‹å³å¯ã€‚</p></blockquote><p>match-parent</p><blockquote><p>match-parentè§†è§‰è¡¨ç°ç±»ä¼¼inheritï¼Œç”±äºtext-alignå±æ€§æœ¬èº«å°±å…·æœ‰ç»§æ‰¿æ€§ï¼Œå› æ­¤ï¼Œmatch-parentä¸æ˜¯ç”¨æ¥æ”¹å˜è§†è§‰ä¸Šçš„å¯¹é½æ•ˆæœçš„ï¼Œè€Œæ˜¯ç”¨æ¥æ”¹å˜â€œçœ‹ä¸è§â€çš„å¯¹é½è®¡ç®—å€¼ã€‚</p></blockquote><p>justify-allå±æ€§</p><blockquote><p>å®ƒå’Œjustifyå±æ€§å€¼çš„åŒºåˆ«åœ¨äºjustify-allå±æ€§å€¼å¯ä»¥è®©æœ€åä¸€è¡Œä¹Ÿè¡¨ç°ä¸ºä¸¤ç«¯å¯¹é½ã€‚å¯æƒœç›®å‰è¿˜æ²¡æœ‰æµè§ˆå™¨æ”¯æŒjustify-allå±æ€§å€¼</p></blockquote><p><strong>CSS Text Module Level 4è§„èŒƒä¸­ï¼Œtext-alignå±æ€§è¿˜æ–°å¢äº†å¯¹å­—ç¬¦å±æ€§å€¼çš„æ”¯æŒã€‚</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">td</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: <span class="string">&#x27;.&#x27;</span> center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">table</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">col</span> <span class="attr">width</span>=<span class="string">&quot;40&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">th</span>&gt;</span>é•¿é€”ç”µè¯è´¹<span class="tag">&lt;/<span class="name">th</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>ï¿¥1.30<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>ï¿¥2.50<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>ï¿¥10.80<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>ï¿¥111.02<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>ï¿¥85<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">tr</span>&gt;</span><span class="tag">&lt;<span class="name">td</span>&gt;</span>ï¿¥.30<span class="tag">&lt;/<span class="name">td</span>&gt;</span><span class="tag">&lt;/<span class="name">tr</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">table</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ï¼Œå•å…ƒæ ¼çš„æ•°å€¼ä¼šæŒ‰ç…§å­—ç¬¦â€œ.â€è¿›è¡Œå¯¹é½</p><h4 id="text-decorationå±æ€§å…¨æ–°å‡çº§"><a href="#text-decorationå±æ€§å…¨æ–°å‡çº§" class="headerlink" title="text-decorationå±æ€§å…¨æ–°å‡çº§"></a>text-decorationå±æ€§å…¨æ–°å‡çº§</h4><blockquote><p>text-decorationå±æ€§åˆ™æ˜¯ä¸€ä¸ªCSSç¼©å†™å±æ€§ï¼Œå®Œæ•´çš„CSSå±æ€§åŒ…æ‹¬text-decoration-lineã€text-decoration- styleã€text-decoration-colorå’Œtext-decoration-thicknessã€‚</p></blockquote><ul><li><p>text-decoration-line</p><p>  è¡¨ç¤ºè£…é¥°çº¿çš„ç±»å‹ã€‚æ”¯æŒå¤šä¸ªå€¼ä¸€èµ·ä½¿ç”¨</p><ol><li>none æ²¡æœ‰è£…é¥°çº¿</li><li>underline ä¸‹åˆ’çº¿</li><li>overline ä¸Šåˆ’çº¿</li><li>line-through è´¯ç©¿çº¿</li></ol></li><li><p>text-decoration-style</p><p>  è¡¨ç¤ºè£…é¥°çº¿çš„æ ·å¼é£æ ¼ï¼Œ</p><ol><li>solid    å®çº¿</li><li>double åŒå®çº¿</li><li>dotted ç‚¹çº¿</li><li>dashed è™šçº¿</li><li>wavy æ³¢æµªçº¿</li></ol></li><li><p>text-decoration-colorï¼šè¡¨ç¤ºè£…é¥°çº¿çš„é¢œè‰²ã€‚</p></li><li><p>text-decoration-thicknessï¼šè¡¨ç¤ºè£…é¥°çº¿çš„ç²—ç»†</p></li></ul><p>æ­£å¼è¯­æ³•ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">text-decoration</span>: &lt;text-decoration-line&gt; || &lt;text-decoration-style&gt; || &lt;text-decoration-color&gt; || &lt;text-decoration-thinckness&gt;</span><br></pre></td></tr></table></figure><p>æ„æ€å°±æ˜¯ï¼Œ4ä¸ªå­å±æ€§å€¼ä½ç½®éšæœºã€ç»„åˆéšæœº</p><p><a href="https://demo.cssworld.cn/new/3/8-1.php">text-decoration å±æ€§å åŠ </a></p><p><a href="https://demo.cssworld.cn/new/3/8-2.php">å®½åº¦100%è‡ªé€‚åº”çš„æ³¢æµªçº¿æ•ˆæœå®ç°å®ä¾‹é¡µé¢</a></p><p><strong>text-underline-position:underå£°æ˜</strong></p><p>text-underline-positionå±æ€§å¯ä»¥ç”¨æ¥è®¾ç½®ä¸‹åˆ’çº¿çš„ä½ç½®ã€‚</p><p><a href="https://demo.cssworld.cn/new/3/8-3.php">text-underline-positionå±æ€§å®ä¾‹é¡µé¢</a></p><blockquote><p>text-underline-positionå±æ€§é™¤äº†æ”¯æŒunderï¼Œè¿˜æ”¯æŒleftã€rightå’Œfrom-fontè¿™å‡ ä¸ªCSSè§„èŒƒå®šä¹‰çš„å±æ€§å€¼ã€‚</p><p>â— leftå’Œrightè¿™ä¸¤ä¸ªå±æ€§å€¼å¹³å¸¸æ ¹æœ¬ç”¨ä¸åˆ°ï¼Œåªæœ‰åœ¨ä½¿ç”¨writing-modeå±æ€§è®©æ–‡å­—å‚ç›´æ’ç‰ˆï¼Œå¹¶ä¸”éœ€è¦æ§åˆ¶ä¸‹åˆ’çº¿å·¦å³ä½ç½®çš„æ—¶å€™æ‰ä¼šç”¨åˆ°ã€‚</p><p>â— from-fontæ˜¯CSSæ–‡æœ¬è£…é¥°è§„èŒƒLevel 4æ–°å¢çš„å±æ€§å€¼ï¼Œè¡¨ç¤ºä¼˜å…ˆä½¿ç”¨å­—ä½“æ–‡ä»¶ä¸­è®¾ç½®çš„ä¸‹åˆ’çº¿ä½ç½®ï¼Œå¦‚æœå­—ä½“æ²¡æœ‰è®¾ç½®ä¸‹åˆ’çº¿å¯¹é½ä¿¡æ¯ï¼Œå°±ä½¿ç”¨autoæ•ˆæœã€‚å¤§å®¶ç›®å‰å¯ä»¥æ— è§†from-fontè¿™ä¸ªå±æ€§å€¼ï¼Œå› ä¸ºå°±ç®—ä¸è€ƒè™‘å…¶ç›®å‰ç³Ÿç³•çš„å…¼å®¹æ€§ï¼Œè¿™ä¸ªå±æ€§å€¼ä¹Ÿæ˜¯éå¸¸ä¸å®ç”¨çš„ï¼Œé™åˆ¶å¤ªå¤šäº†ã€‚</p><p>æ€»è€Œè¨€ä¹‹ï¼Œå¦‚æœä½¿ç”¨äº†æ–‡å­—çš„ä¸‹åˆ’çº¿æ•ˆæœï¼Œä½ å¯èƒ½éœ€è¦text-underline-position: underæ¥ä¼˜åŒ–ä¸‹åˆ’çº¿çš„æ˜¾ç¤ºä½ç½®ã€‚</p></blockquote><p><strong>text-underline-offsetå±æ€§</strong></p><blockquote><p>text-underline-positionå±æ€§è™½ç„¶å¯ä»¥è°ƒæ•´ä¸‹åˆ’çº¿çš„ä½ç½®ï¼Œä½†æ˜¯è°ƒæ•´çš„ä½ç½®éƒ½æ˜¯å›ºå®šçš„ï¼Œä¸èƒ½æ»¡è¶³å¤šå˜çš„å¼€å‘éœ€æ±‚ã€‚æ­¤æ—¶ï¼Œä½ æ›´éœ€è¦text-underline-offsetå±æ€§ã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/3/8-4.php">text-underline-offsetå±æ€§å®ä¾‹é¡µé¢</a></p><blockquote><p>ç™¾åˆ†æ¯”å€¼è¡¨ç¤ºåç§»é‡ç›¸å¯¹äº1emçš„å¤§å°ã€‚å› æ­¤ï¼Œtext-underline-offset: 100%ç­‰åŒäºtext-underline-offset:1emã€‚text-underline-offsetæ”¯æŒè´Ÿå€¼ï¼Œæ­¤æ—¶ä¸‹åˆ’çº¿å°±ä¼šå‘ä¸Šåç§»ã€‚text-underline-offsetå±æ€§åªå¯¹ä¸‹åˆ’çº¿ç±»å‹çš„è£…é¥°çº¿æœ‰æ•ˆï¼Œå¯¹åˆ é™¤çº¿å’Œä¸Šåˆ’çº¿éƒ½æ— æ•ˆ</p></blockquote><p><strong>text-decoration-skipå±æ€§</strong></p><blockquote><p>text-decoration-skipå±æ€§å¯ä»¥ç”¨æ¥æ§åˆ¶è£…é¥°çº¿å’Œæ–‡å­—ä¹‹é—´çš„é‡å å…³ç³»ï¼Œè¿™é‡Œçš„è£…é¥°çº¿ä¸“æŒ‡ä¸‹åˆ’çº¿ã€‚å› ä¸ºä¸€äº›è‹±æ–‡å­—ç¬¦ï¼ˆå¦‚â€œgâ€â€œqâ€ï¼‰çš„â€œå°å°¾å·´â€ä¼šå’Œä¸‹åˆ’çº¿é‡å ï¼Œæ‰€ä»¥éœ€è¦ä½¿ç”¨text -decoration-skipå±æ€§è®¾ç½®è£…é¥°çº¿æ˜¯è·³è¿‡æ–‡å­—ï¼Œè¿˜æ˜¯å’Œæ–‡å­—è¿åœ¨ä¸€èµ·ã€‚è™½ç„¶åˆ é™¤çº¿ï¼ˆtext-decoration:line-throughï¼‰ä¹Ÿä¼šå’Œæ–‡å­—é‡å ï¼Œä½†æ˜¯å®ƒå¹¶ä¸æ˜¯text-decoration- skipå±æ€§çš„ç›®æ ‡è£…é¥°çº¿ï¼Œå› ä¸ºåˆ é™¤çº¿å¿…é¡»è´¯ç©¿æ–‡å­—ã€‚</p></blockquote><h3 id="colorå±æ€§ä¸é¢œè‰²è®¾ç½®"><a href="#colorå±æ€§ä¸é¢œè‰²è®¾ç½®" class="headerlink" title="colorå±æ€§ä¸é¢œè‰²è®¾ç½®"></a>colorå±æ€§ä¸é¢œè‰²è®¾ç½®</h3><p>148<strong>ä¸ªé¢œè‰²å…³é”®å­—</strong></p><blockquote><p><a href="https://demo.cssworld.cn/new/3/9-1.php">æŸ¥çœ‹</a></p></blockquote><p>ï¼ˆ1ï¼‰HTMLä¸­colorå±æ€§ç®—æ³•å’ŒCSSä¸­çš„colorå±æ€§ç®—æ³•æ˜¯ä¸ä¸€æ ·çš„ã€‚åŒæ ·æ˜¯ä¸€ä¸ªæ— æ³•è¯†åˆ«çš„é¢œè‰²å…³é”®å­—ï¼Œåœ¨HTMLä¸­è¿™ä¸ªæ— æ³•è¯†åˆ«çš„é¢œè‰²å…³é”®å­—ä¼šæ¸²æŸ“æˆå¦å¤–ä¸€ä¸ªé¢œè‰²ï¼Œè€Œåœ¨CSSä¸­ä¼šç›´æ¥å¿½ç•¥è¿™ä¸ªé¢œè‰²å…³é”®å­—ã€‚å…·ä½“æ¡ˆä¾‹å‚è§ã€ŠCSSä¸–ç•Œã€‹ä¸€ä¹¦çš„9.1.1èŠ‚ã€‚</p><p>ï¼ˆ2ï¼‰é¢œè‰²å…³é”®å­—è®¾ç½®çš„é¢œè‰²éƒ½æ˜¯å®è‰²ï¼Œä¸å¸¦é€æ˜åº¦ã€‚ç›®å‰æ²¡æœ‰CSSè¯­æ³•å¯ä»¥ç›´æ¥è®©é¢œè‰²å…³é”®å­—å¸¦æœ‰é€æ˜åº¦ï¼Œå”¯ä¸€å¯è¡Œçš„æ–¹å¼æ˜¯å€ŸåŠ©animation-delayè´Ÿå€¼å®ç°ã€‚</p><p>ï¼ˆ3ï¼‰é¢œè‰²å…³é”®å­—ä¸åŒºåˆ†å¤§å°å†™ã€‚ä¾‹å¦‚ä¸‹é¢è¯­æ³•ä¹Ÿæ˜¯å¯ä»¥æ­£å¸¸è§£æçš„</p><p>ï¼ˆ4ï¼‰æœ‰ä¸€äº›é¢œè‰²å…³é”®å­—æ˜¯äº’ç›¸ç­‰åŒçš„</p><p>ï¼ˆ5ï¼‰æ‰€æœ‰é¢œè‰²å…³é”®å­—ä¸­ï¼Œåªæœ‰ä¸¤ä¸ªé¢œè‰²å…³é”®å­—æ˜¯ä»¥â€œdeepâ€å¼€å¤´çš„ï¼Œåˆ†åˆ«æ˜¯æ·±å¤©è“è‰²deepskyblueå’Œæ·±ç²‰è‰²deeppinkï¼Œè¿™æ˜¯æˆ‘æœ€å–œçˆ±çš„ä¸¤ä¸ªé¢œè‰²å…³é”®å­—ã€‚</p><p>ï¼ˆ6ï¼‰æš—ç°è‰²darkgrayçš„é¢œè‰²è¦æ¯”ç°è‰²grayæ›´æµ…ï¼Œå› æ­¤ï¼Œå¹¶ä¸æ˜¯æœ‰â€œdarkâ€å‰ç¼€çš„é¢œè‰²å…³é”®å­—æ§åˆ¶çš„é¢œè‰²å°±æ›´æ·±ã€‚</p><p>ï¼ˆ7ï¼‰åœ¨148ä¸ªé¢œè‰²å…³é”®å­—ä¸­ï¼Œåªæœ‰CSS Color Level 4æ–°å¢çš„é¢œè‰²å…³é”®å­—rebeccapurpleä¸æ˜¯è§„èŒƒçš„é¢œè‰²åè¯ï¼Œæœ‰äººæˆ–è®¸ä¼šå¥‡æ€ªä¸ºä»€ä¹ˆä¼šæœ‰è¿™æ ·â€œä¸è§„èŒƒâ€çš„å‘½åï¼Œå®é™…ä¸Šï¼Œè¿™ä¸ªå‘½åçš„èƒŒåæœ‰ä¸€æ®µä½ ä¸çŸ¥é“çš„æ¸©æƒ…æ•…äº‹</p><h4 id="transparentå…³é”®å­—"><a href="#transparentå…³é”®å­—" class="headerlink" title="transparentå…³é”®å­—"></a><strong>transparentå…³é”®å­—</strong></h4><blockquote><p>é€æ˜è‰²</p></blockquote><h4 id="currentColorå…³é”®å­—"><a href="#currentColorå…³é”®å­—" class="headerlink" title="currentColorå…³é”®å­—"></a><strong>currentColorå…³é”®å­—</strong></h4><blockquote><p>currentColorå…³é”®å­—éå¸¸å®ç”¨ï¼Œä¸”æ— å¯æ›¿ä»£ï¼Œå®ƒè¡¨ç¤ºå½“å‰å…ƒç´ ï¼ˆæˆ–ä¼ªå…ƒç´ ï¼‰æ‰€ä½¿ç”¨çš„colorå±æ€§çš„è®¡ç®—å€¼ï¼ŒcurrentColorå…³é”®å­—ä»IE9æµè§ˆå™¨å¼€å§‹è¢«æ”¯æŒã€‚æ¯”è¾ƒå¸¸ç”¨çš„å…¨å±€è®¾ç½®æ˜¯ï¼š</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">fill: currentColor;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼ŒCSSä¸­å¾ˆå¤šå±æ€§çš„é»˜è®¤é¢œè‰²å°±æ˜¯colorå±æ€§å€¼ï¼Œæ²¡æœ‰å¿…è¦ä¸“é—¨æŒ‡å®šcurrentColorå…³é”®å­—ï¼ŒåŒ…æ‹¬border-colorã€outline-colorã€caret-colorã€text-shadowã€box-shadowç­‰CSSå±æ€§</p></blockquote><h4 id="RGBé¢œè‰²å’ŒHSLé¢œè‰²çš„æ–°è¯­æ³•"><a href="#RGBé¢œè‰²å’ŒHSLé¢œè‰²çš„æ–°è¯­æ³•" class="headerlink" title="RGBé¢œè‰²å’ŒHSLé¢œè‰²çš„æ–°è¯­æ³•"></a><strong>RGBé¢œè‰²å’ŒHSLé¢œè‰²çš„æ–°è¯­æ³•</strong></h4><p><strong>HSLé¢œè‰²</strong></p><blockquote><p>HSLé¢œè‰²æ˜¯ç”±è‰²è°ƒï¼ˆHueï¼‰ã€é¥±å’Œåº¦ï¼ˆSaturationï¼‰å’Œäº®åº¦ï¼ˆLightnessï¼‰è¿™3ä¸ªå…ƒç´ ç»„æˆçš„ã€‚HSLå°±æ˜¯ç”±è¿™3ä¸ªå…ƒç´ å¯¹åº”çš„è‹±æ–‡å•è¯çš„é¦–å­—æ¯ç»„æˆçš„ã€‚è‰²è°ƒå€¼çš„å¤§å°æ˜¯ä»»æ„çš„ï¼Œå› ä¸ºCSSä¸–ç•Œä¸­ä¸è‰²è°ƒç›¸å…³çš„æ•°å€¼éƒ½æ˜¯è§’åº¦å€¼ï¼Œå…¶å•ä½æ˜¯degï¼Œæ‰€ä»¥æ— è®ºè®¾ç½®ä»€ä¹ˆå€¼ï¼Œæœ€ç»ˆéƒ½ä¼šåœ¨0ï½360degè¿™ä¸ªèŒƒå›´ä¸­è§£æï¼Œä¾‹å¦‚âˆ’120deg=240degã€480deg=120degã€‚</p></blockquote><p><strong>RGBAé¢œè‰²</strong></p><blockquote><p>ä»IE9æµè§ˆå™¨å¼€å§‹ï¼Œæ”¯æŒè®¾ç½®é¢œè‰²çš„é€æ˜åº¦äº†ï¼ŒRGBAå’ŒHSLAä¸­çš„å­—æ¯AæŒ‡çš„å°±æ˜¯Alphaé€æ˜é€šé“ï¼Œé€æ˜åº¦å–å€¼èŒƒå›´ä»»æ„ï¼Œä½†æ˜¯æ¸²æŸ“èŒƒå›´æ˜¯0ï½1ï¼Œä¹Ÿå°±æ˜¯å°äº0çš„é€æ˜åº¦ä¼šå½“ä½œ0æ¸²æŸ“ï¼Œå¤§äº1çš„é€æ˜åº¦ä¼šå½“ä½œ1æ¸²æŸ“</p></blockquote><p><strong>#RRGGBBAAé¢œè‰²</strong></p><blockquote><p>ç›®å‰ç°ä»£æµè§ˆå™¨å·²ç»å…¨é¢æ”¯æŒ#RRGGBBAAé¢œè‰²ã€‚å…¶ä¸­Rã€Gã€Bè¿˜æ˜¯åŸæ¥çš„åå…­è¿›åˆ¶è¡¨ç¤ºçš„RGBè‰²å€¼ï¼ŒèŒƒå›´ä»00ï½FFï¼Œè‡³äºè¿™é‡Œæ–°å‡ºç°çš„AAï¼Œåˆ™è¡¨ç¤ºé€æ˜åº¦ï¼ŒèŒƒå›´ä¹Ÿæ˜¯00ï½FFã€‚</p><p>#RRGGBBAAé¢œè‰²è™½ç„¶å¾ˆå®ç”¨ï¼Œä½†æ˜¯é€æ˜åº¦çš„è½¬æ¢å´æ²¡æœ‰RGBè‰²å€¼é‚£ä¹ˆæ–¹ä¾¿ï¼Œå› ä¸ºé€æ˜åº¦èŒƒå›´æ˜¯0%ï½100%ï¼Œè€Œ00ï½FFçš„åè¿›åˆ¶èŒƒå›´æ˜¯0ï½255ï¼Œæ‰€ä»¥éœ€è¦è½¬æ¢</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Alpha èŒƒå›´ 0~1</span></span><br><span class="line"><span class="variable constant_">AA</span> = (<span class="title class_">Alpha</span> * <span class="number">255</span>).<span class="title function_">toString</span>(<span class="number">16</span>)</span><br></pre></td></tr></table></figure><p>é€æ˜åº¦50%å°±ç­‰äº(0.5*255).toString(16)ï¼Œç»“æœæ˜¯7f.8ï¼Œçº¦ç­‰äº80ã€‚å› æ­¤#FF000080å°±è¡¨ç¤ºé€æ˜åº¦çº¦ä¸º50%çš„çº¢è‰²ã€‚</p><blockquote><p>åŒæ ·ï¼Œ#RRGGBBAAé¢œè‰²ä¹Ÿæ”¯æŒç¼©å†™ï¼Œä¾‹å¦‚#f308ç­‰åŒäº#ff330088</p></blockquote><h3 id="å¿…å­¦å¿…ä¼šçš„backgroundå±æ€§æ–°ç‰¹æ€§"><a href="#å¿…å­¦å¿…ä¼šçš„backgroundå±æ€§æ–°ç‰¹æ€§" class="headerlink" title="å¿…å­¦å¿…ä¼šçš„backgroundå±æ€§æ–°ç‰¹æ€§"></a>å¿…å­¦å¿…ä¼šçš„backgroundå±æ€§æ–°ç‰¹æ€§</h3><h4 id="background-sizeå±æ€§"><a href="#background-sizeå±æ€§" class="headerlink" title="background-sizeå±æ€§"></a>background-sizeå±æ€§</h4><ol><li><p>coverå’Œcontain</p><p> coverå’Œcontainæ˜¯ä¸¤ä¸ªå…³é”®å­—å±æ€§å€¼ï¼Œä¸¤è€…éƒ½ä¸ä¼šæ”¹å˜èƒŒæ™¯å›¾çš„åŸå§‹æ¯”ä¾‹ï¼Œéå¸¸é€‚åˆèƒŒæ™¯å›¾åƒé«˜å®½ä¸ç¡®å®šçš„åœºæ™¯ã€‚</p><p> <a href="https://demo.cssworld.cn/new/3/10-1.php">æ•ˆæœç¤ºä¾‹</a></p></li><li><p>ç†è§£autoå…³é”®å­—ä¸‹çš„å°ºå¯¸æ¸²æŸ“è§„åˆ™</p><blockquote><p>åœ¨æ·±å…¥ç†è§£autoå…³é”®å­—çš„å°ºå¯¸æ¸²æŸ“è§„åˆ™ä¹‹å‰ï¼Œæˆ‘ä»¬éœ€è¦å…ˆäº†è§£ä¸€ä¸‹å¸¸è§å›¾åƒçš„å†…åœ¨å°ºå¯¸å’Œå†…åœ¨æ¯”ä¾‹ã€‚åœ¨CSSä¸–ç•Œä¸­ï¼Œå¸¸è§çš„å›¾åƒæœ‰ä»¥ä¸‹å‡ ç§ã€‚</p></blockquote><p> â— ä½å›¾ã€‚ä¾‹å¦‚JPGæˆ–è€…PNGå›¾ç‰‡éƒ½å±äºä½å›¾ï¼Œè¿™äº›å›¾åƒæ€»æ˜¯æœ‰è‡ªå·±çš„<strong>å†…åœ¨å°ºå¯¸ï¼ˆåŸå§‹å›¾åƒå¤§å°ï¼‰</strong>å’Œ<strong>å†…åœ¨æ¯”ä¾‹ï¼ˆåŸå§‹å›¾åƒæ¯”ä¾‹ï¼‰</strong>ã€‚</p><p> â— çŸ¢é‡å›¾ã€‚ä¾‹å¦‚SVGå›¾åƒå°±å±äºçŸ¢é‡å›¾ï¼Œè¿™äº›å›¾åƒä¸ä¸€å®šå…·æœ‰å†…åœ¨å°ºå¯¸ã€‚å¦‚æœæ°´å¹³å°ºå¯¸å’Œå‚ç›´å°ºå¯¸éƒ½è®¾ç½®äº†ï¼Œé‚£ä¹ˆå®ƒå°±å…·æœ‰å†…åœ¨çš„æ¯”ä¾‹ï¼›å¦‚æœæ²¡æœ‰è®¾ç½®å°ºå¯¸ï¼Œæˆ–è€…åªè®¾ç½®äº†ä¸€ä¸ªæ–¹å‘çš„å°ºå¯¸ï¼Œå®ƒå¯èƒ½æœ‰æ¯”ä¾‹ï¼Œä¹Ÿå¯èƒ½æ²¡æœ‰æ¯”ä¾‹ï¼Œè¦è§†SVGå†…éƒ¨ä»£ç è€Œå®šï¼Œå¦‚æœ‰äº›SVGå…ƒç´ å†…éƒ¨åªæœ‰&lt;defs&gt;å…ƒç´ ï¼Œæ­¤æ—¶çŸ¢é‡å›¾å°±æ²¡æœ‰æ¯”ä¾‹ã€‚</p><p> â— æ¸å˜å›¾åƒã€‚å°±æ˜¯ä½¿ç”¨CSSæ¸å˜è¯­æ³•ç»˜åˆ¶çš„å›¾åƒï¼Œè¿™äº›å›¾åƒæ˜¯æ²¡æœ‰å†…åœ¨å°ºå¯¸å’Œå†…åœ¨æ¯”ä¾‹çš„ã€‚</p><p> â— å…ƒç´ å›¾åƒã€‚ä¾‹å¦‚ä½¿ç”¨element()å‡½æ•°æŠŠDOMå…ƒç´ ä½œä¸ºèƒŒæ™¯å›¾ï¼Œæ­¤æ—¶çš„å†…åœ¨å°ºå¯¸å°±æ˜¯è¿™ä¸ªDOMå…ƒç´ çš„å°ºå¯¸ã€‚</p><p> <strong>autoå…³é”®å­—çš„å°ºå¯¸æ¸²æŸ“è§„åˆ™</strong></p><p> ï¼ˆ1ï¼‰å¦‚æœå›¾åƒæ°´å¹³å’Œå‚ç›´æ–¹å‘åŒæ—¶å…·æœ‰å†…åœ¨å°ºå¯¸ï¼Œåˆ™æŒ‰ç…§å›¾åƒåŸå§‹å¤§å°è¿›è¡Œæ¸²æŸ“ã€‚ä¾‹å¦‚ä¸€ä¸ªPNGå›¾ç‰‡å°ºå¯¸æ˜¯800pxÃ—600pxï¼Œé‚£ä¹ˆèƒŒæ™¯å›¾çš„å°ºå¯¸å°±æ˜¯800pxÃ—600pxï¼Œè¿™å°±æ˜¯å¤šå€å›¾ä¸€å®šè¦è®¾ç½®background-sizeå±æ€§çš„åŸå› ï¼Œå¦åˆ™åªèƒ½æ˜¾ç¤ºéƒ¨åˆ†å›¾åƒå†…å®¹ã€‚</p><p> ï¼ˆ2ï¼‰å¦‚æœå›¾åƒæ²¡æœ‰å†…åœ¨å°ºå¯¸ï¼Œä¹Ÿæ²¡æœ‰å†…åœ¨æ¯”ä¾‹ï¼Œåˆ™æŒ‰ç…§èƒŒæ™¯å®šä½åŒºåŸŸçš„å¤§å°è¿›è¡Œæ¸²æŸ“ï¼Œç­‰åŒäºè®¾ç½®å±æ€§å€¼ä¸º100%ã€‚æ‰€ä»¥ï¼ŒCSSæ¸å˜å›¾åƒé»˜è®¤éƒ½æ˜¯è¦†ç›–æ•´ä¸ªèƒŒæ™¯å®šä½åŒºåŸŸçš„ï¼Œ</p><p> ï¼ˆ3ï¼‰å¦‚æœå›¾åƒæ²¡æœ‰å†…åœ¨å°ºå¯¸ï¼Œä½†å…·æœ‰å†…åœ¨æ¯”ä¾‹ï¼Œåˆ™æ¸²æŸ“æ•ˆæœç­‰åŒäºè®¾ç½®å±æ€§å€¼ä¸ºcontain <a href="https://demo.cssworld.cn/new/3/10-2.php">æ•ˆæœç¤ºä¾‹</a></p><blockquote><p>preserveAspectRatio=â€noneâ€å¯ä»¥å»é™¤SVGå›¾åƒçš„å†…åœ¨æ¯”ä¾‹ï¼Œæ ¹æ®æˆ‘çš„æµ‹è¯•ï¼Œé™¤Firefoxæµè§ˆå™¨çš„æ¸²æŸ“æœ‰é—®é¢˜å¤–ï¼ŒIEã€Edgeå’ŒChromeæµè§ˆå™¨éƒ½å¯ä»¥è¾¾åˆ°é¢„æœŸæ•ˆæœã€‚</p></blockquote><p> ï¼ˆ4ï¼‰å¦‚æœå›¾åƒåªæœ‰ä¸€ä¸ªæ–¹å‘æœ‰å†…åœ¨å°ºå¯¸ï¼Œä½†åˆå…·æœ‰å†…åœ¨æ¯”ä¾‹ï¼Œåˆ™å›¾åƒä¼šæ‹‰ä¼¸åˆ°è¯¥å†…åœ¨å°ºå¯¸çš„å¤§å°ï¼ŒåŒæ—¶å®½é«˜æ¯”ç¬¦åˆå†…åœ¨æ¯”ä¾‹</p><p> ï¼ˆ5ï¼‰å¦‚æœå›¾åƒåªæœ‰ä¸€ä¸ªæ–¹å‘æœ‰å†…åœ¨å°ºå¯¸è€Œæ²¡æœ‰å†…åœ¨æ¯”ä¾‹ï¼Œåˆ™å›¾åƒæœ‰å†…åœ¨å°ºå¯¸çš„ä¸€ä¾§ä¼šæ‹‰ä¼¸åˆ°è¯¥å†…åœ¨å°ºå¯¸å¤§å°ï¼Œæ²¡æœ‰è®¾ç½®å†…åœ¨å°ºå¯¸çš„ä¸€ä¾§ä¼šæ‹‰ä¼¸åˆ°èƒŒæ™¯å®šä½åŒºåŸŸå¤§å°ã€‚</p></li><li><p>æ•°å€¼æˆ–ç™¾åˆ†æ¯”å€¼</p><p> background-sizeå±æ€§å€¼æ— è®ºæ˜¯æ•°å€¼è¿˜æ˜¯ç™¾åˆ†æ¯”å€¼ï¼Œéƒ½ä¸èƒ½æ˜¯è´Ÿå€¼ï¼Œå…¶ä¸­ç™¾åˆ†æ¯”å€¼æ˜¯ç›¸å¯¹äºå…ƒç´ çš„èƒŒæ™¯å®šä½åŒºåŸŸè®¡ç®—çš„ã€‚èƒŒæ™¯å®šä½åŒºåŸŸæ˜¯ç”±background-originå±æ€§å†³å®šçš„ï¼Œé»˜è®¤å€¼æ˜¯padding boxã€‚<a href="https://demo.cssworld.cn/new/3/10-3.php">æ•ˆæœå±•ç¤º</a></p></li></ol><h4 id="backgroundå±æ€§æœ€æˆåŠŸçš„è®¾è®¡â€”â€”å¤šèƒŒæ™¯"><a href="#backgroundå±æ€§æœ€æˆåŠŸçš„è®¾è®¡â€”â€”å¤šèƒŒæ™¯" class="headerlink" title="backgroundå±æ€§æœ€æˆåŠŸçš„è®¾è®¡â€”â€”å¤šèƒŒæ™¯"></a>backgroundå±æ€§æœ€æˆåŠŸçš„è®¾è®¡â€”â€”å¤šèƒŒæ™¯</h4><p>è¯­æ³•å¾ˆç®€å•ï¼Œå°±æ˜¯ä½¿ç”¨é€—å·åˆ†éš”å¤šä¸ªç‹¬ç«‹çš„èƒŒæ™¯å®šä½è¯­æ³•ã€‚</p><p>ã€</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.multiple-backgrounds</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">1.jpg</span>) no-repeat top,<span class="built_in">url</span>(<span class="string">1.jpg</span>) no-repeat bottom;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>CSSæ¸å˜æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§å›¾åƒï¼Œå®ƒä¹Ÿå¯ä»¥ä½œä¸ºbackground-imageçš„å±æ€§å€¼ã€‚ä¸ºä»€ä¹ˆCSSæ¸å˜çš„å‡ºç°è®©å¤šèƒŒæ™¯é‡è·æ–°ç”Ÿäº†å‘¢ï¼Ÿ</strong></p><p>ï¼ˆ1ï¼‰CSSæ¸å˜å¯ä»¥å®ç°çº¯è‰²æ•ˆæœï¼Œåªè¦æ¸å˜èµ·æ­¢é¢œè‰²ä¸€æ ·å³å¯ã€‚</p><p>ï¼ˆ2ï¼‰background-sizeå±æ€§ä¹Ÿæ”¯æŒå¤šèƒŒæ™¯ï¼Œä¸”å¯ä»¥ä»»æ„æ§åˆ¶å°ºå¯¸ã€‚</p><p>[cssæ¸å˜å’Œå¤šèƒŒæ™¯å®ç°åŠ å‡å›¾æ ‡æŒ‰é’®æ•ˆæœ](<a href="https://demo.cssworld.cn/new/3/10-">https://demo.cssworld.cn/new/3/10-</a> 4.php)</p><p><a href="https://demo.cssworld.cn/new/3/10-5.php">å¤šèƒŒæ™¯å®ç°ç°ç™½ç½‘æ ¼æ•ˆæœ</a></p><p>æ›´å¤æ‚ã€æ›´â€œç‚«é…·â€çš„èƒŒæ™¯å›¾æ¡ˆå’Œçº¹ç†æ•ˆæœå¯ä»¥è®¿é—®Css3 Patterns Galleryç½‘ç«™</p><p>å¦‚æœæƒ³è®©è¯­å¥åˆæ³•ï¼Œåˆ™éœ€è¦ä½¿ç”¨CSSå¤šèƒŒæ™¯è¯­æ³•ï¼Œå¹¶ä¸”é¢œè‰²å€¼å¿…é¡»æ”¾åœ¨æœ€å</p><h4 id="background-clip"><a href="#background-clip" class="headerlink" title="background-clip"></a>background-clip</h4><p>æ”¯æŒä»¥ä¸‹å±æ€§</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-clip</span>:border-box|padding-box|content-box|text;</span><br><span class="line"></span><br></pre></td></tr></table></figure><blockquote><p>å…¶ä¸­border-boxæ˜¯é»˜è®¤å€¼ï¼Œè¡¨ç¤ºèƒŒæ™¯å›¾åƒæˆ–è€…èƒŒæ™¯é¢œè‰²çš„æ˜¾ç¤ºåŒºåŸŸæ˜¯æ•´ä¸ªborder-boxï¼Œä¹Ÿå°±æ˜¯è¾¹æ¡†çš„ä¸‹æ–¹ä¹Ÿä¼šæ˜¾ç¤ºèƒŒæ™¯å†…å®¹ã€‚</p></blockquote><p>background-clipå±æ€§æœ€å®ç”¨çš„åº”ç”¨åœºæ™¯ä¹‹ä¸€å°±æ˜¯æ§åˆ¶èƒŒæ™¯é¢œè‰²çš„æ˜¾ç¤ºèŒƒå›´</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬æƒ³è¦æ¨¡æ‹Ÿä¸€ä¸ªå¤é€‰æ¡†æ•ˆæœï¼Œè®¾è®¡å¸ˆè®¾è®¡çš„å¤é€‰æ¡†å°ºå¯¸åªæœ‰18pxÃ—18pxï¼ŒåŒºåŸŸå¤ªå°äº†ï¼Œä¸å®¹æ˜“ç‚¹ä¸­ï¼Œå°¤å…¶æ˜¯åœ¨ç§»åŠ¨ç«¯ï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥å€ŸåŠ©é€æ˜è¾¹æ¡†å¢å¤§ç‚¹å‡»åŒºåŸŸçš„èŒƒå›´ï¼Œ</p><ul><li><h5 id="HTMLï¼š-1"><a href="#HTMLï¼š-1" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">é»˜è®¤ï¼š<span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;checkbox&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span> </span><br><span class="line">é€‰ä¸­ï¼š<span class="tag">&lt;<span class="name">label</span> <span class="attr">class</span>=<span class="string">&quot;checkbox checked&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-1"><a href="#CSSï¼š-1" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.checkbox</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">18px</span>; <span class="attribute">height</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">3px</span> solid transparent;</span><br><span class="line">    <span class="attribute">box-shadow</span>: inset <span class="number">0</span> <span class="number">1px</span>, inset -<span class="number">1px</span> <span class="number">0</span>, inset <span class="number">0</span> -<span class="number">1px</span>, inset <span class="number">1px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">color</span>: gray;</span><br><span class="line">    user-select: none;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.checkbox</span><span class="selector-class">.checked</span> &#123;</span><br><span class="line">    <span class="attribute">color</span>: deepskyblue;</span><br><span class="line">    <span class="attribute">background</span>: currentColor;</span><br><span class="line">    <span class="attribute">background-clip</span>: padding-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.checkbox</span><span class="selector-class">.checked</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">10px</span>; <span class="attribute">height</span>: <span class="number">3px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">5px</span> auto <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">border-width</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span> <span class="number">2px</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">45deg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><a href="https://demo.cssworld.cn/new/3/10-6.php">æ•ˆæœå±•ç¤º</a></p><h4 id="background-clip-textå£°æ˜ä¸æ¸å˜æ–‡å­—æ•ˆæœ"><a href="#background-clip-textå£°æ˜ä¸æ¸å˜æ–‡å­—æ•ˆæœ" class="headerlink" title="background-clip:textå£°æ˜ä¸æ¸å˜æ–‡å­—æ•ˆæœ"></a>background-clip:textå£°æ˜ä¸æ¸å˜æ–‡å­—æ•ˆæœ</h4><blockquote><p>background-clip:textåŸæœ¬æ˜¯webkitå†…æ ¸æµè§ˆå™¨çš„ç§æœ‰å£°æ˜ï¼Œåªåœ¨Safariæµè§ˆå™¨å’ŒChromeæµè§ˆå™¨ä¸­æœ‰æ•ˆã€‚åæ¥ï¼Œå› ä¸ºè¿™ä¸ªç‰¹æ€§è¿˜æŒºå®ç”¨ï¼Œæ‰€ä»¥å…¶è¢«åŠ å…¥äº†æœ€æ–°çš„CSSè¾¹æ¡†å’ŒèƒŒæ™¯æ¨¡å—è§„èŒƒï¼Œç›®å‰Firefoxæµè§ˆå™¨å’ŒEdge15+æµè§ˆå™¨ä¹Ÿæä¾›äº†æ”¯æŒã€‚background-clip:textå¯ä»¥è®©èƒŒæ™¯å›¾åƒæŒ‰ç…§å­—ç¬¦å½¢çŠ¶è¿›è¡Œå‰ªè£ï¼Œæ­¤æ—¶æˆ‘ä»¬åªè¦éšè—æ–‡å­—ï¼Œå°±å¯ä»¥çœ‹åˆ°å­—ç¬¦å½¢çŠ¶çš„èƒŒæ™¯æ•ˆæœäº†ã€‚è¿™ä¸ªç‰¹æ€§å¯ä»¥ç”¨æ¥å®ç°æ–‡å­—çº¹ç†æ•ˆæœå’Œæ›´å¸¸è§çš„æ–‡å­—æ¸å˜æ•ˆæœ</p></blockquote><p>[æ–‡å­—æ¸å˜æ•ˆæœ](<a href="https://demo.cssworld.cn/">https://demo.cssworld.cn/</a> new/3/10-7.php)</p><blockquote><p>å¦å¤–ï¼Œå¦‚æœä½¿ç”¨background-clip:textå£°æ˜å®ç°æ¸å˜æ–‡å­—æ•ˆæœï¼Œé‚£ä¹ˆåŸæœ¬å½©è‰²çš„emojiå­—ç¬¦çš„é¢œè‰²ä¼šä¸¢å¤±ã€‚</p></blockquote><h4 id="background-originå±æ€§ä¸èƒŒæ™¯å®šä½åŸç‚¹æ§åˆ¶"><a href="#background-originå±æ€§ä¸èƒŒæ™¯å®šä½åŸç‚¹æ§åˆ¶" class="headerlink" title="background-originå±æ€§ä¸èƒŒæ™¯å®šä½åŸç‚¹æ§åˆ¶"></a><strong>background-originå±æ€§ä¸èƒŒæ™¯å®šä½åŸç‚¹æ§åˆ¶</strong></h4><p>background-originå±æ€§æ”¯æŒä¸‹é¢å‡ ä¸ªå±æ€§å€¼ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: border-box|padding-box|content-box;</span><br></pre></td></tr></table></figure><h4 id="background-repeatå±æ€§æ–°å¢äº†spaceå’Œroundè¿™ä¸¤ä¸ªå…³é”®å­—å±æ€§å€¼"><a href="#background-repeatå±æ€§æ–°å¢äº†spaceå’Œroundè¿™ä¸¤ä¸ªå…³é”®å­—å±æ€§å€¼" class="headerlink" title="background-repeatå±æ€§æ–°å¢äº†spaceå’Œroundè¿™ä¸¤ä¸ªå…³é”®å­—å±æ€§å€¼"></a>background-repeatå±æ€§æ–°å¢äº†spaceå’Œroundè¿™ä¸¤ä¸ªå…³é”®å­—å±æ€§å€¼</h4><ol><li><p>space å¹³é“º</p><p> è®©èƒŒæ™¯å›¾åƒå°½å¯èƒ½åœ°é‡å¤ï¼Œè€Œä¸è¿›è¡Œå‰ªè£ï¼Œæ¯ä¸ªé‡å¤å•å…ƒçš„å°ºå¯¸ä¸ä¼šå˜åŒ–ã€‚å…¶ä¸­ç¬¬ä¸€å¼ å’Œæœ€åä¸€å¼ å›¾åƒå›ºå®šåœ¨å…ƒç´ çš„ä¸¤è¾¹ï¼Œç„¶åé€šè¿‡æ‹‰ä¼¸ç©ºç™½åŒºåŸŸè®©å‰©ä½™çš„å›¾åƒå‡åŒ€åˆ†å¸ƒ</p></li><li><p>round æ‹‰ä¼¸</p><p> èƒŒæ™¯å›¾åƒä¼šè¢«æ‹‰ä¼¸ï¼Œå¹¶ä¿è¯ä¸ç•™é—´éš™ã€‚éšç€å®šä½åŒºåŸŸç©ºé—´çš„å¢åŠ ï¼Œå¦‚æœï¼ˆå‡è®¾å›¾åƒéƒ½æ˜¯åŸå§‹å°ºå¯¸ä¸‹çš„ï¼‰å‰©ä½™ç©ºé—´å¤§äºå›¾åƒå®½åº¦çš„ä¸€åŠï¼Œåˆ™æ·»åŠ å¦å¤–ä¸€å¼ å›¾åƒã€‚åœ¨æ·»åŠ ä¸‹ä¸€å¼ å›¾åƒæ—¶ï¼Œå½“å‰çš„æ‰€æœ‰å›¾åƒéƒ½ä¼šå‹ç¼©ä»¥ç•™å‡ºç©ºé—´æ”¾ä¸‹è¿™ä¸ªæ–°æ·»åŠ çš„å›¾åƒ</p></li></ol><p><a href="https://demo.cssworld.cn/new/3/10-8.php">æ•ˆæœå±•ç¤º</a></p><h4 id="å¯ä»¥æŒ‡å®šbackground-positionçš„èµ·å§‹æ–¹ä½äº†"><a href="#å¯ä»¥æŒ‡å®šbackground-positionçš„èµ·å§‹æ–¹ä½äº†" class="headerlink" title="å¯ä»¥æŒ‡å®šbackground-positionçš„èµ·å§‹æ–¹ä½äº†"></a>å¯ä»¥æŒ‡å®šbackground-positionçš„èµ·å§‹æ–¹ä½äº†</h4><blockquote><p>ç”±äºbackground-positionçš„ç™¾åˆ†æ¯”å®šä½çš„è®¡ç®—æ¯”è¾ƒç‰¹æ®Šï¼ˆè¯¦è§ã€ŠCSSä¸–ç•Œã€‹ä¸€ä¹¦çš„9.2.2èŠ‚ï¼‰ï¼Œå› æ­¤ï¼Œåœ¨è¿‡å»ï¼Œæˆ‘ä»¬æƒ³è¦å®ç°ä¸€ä¸ªè·ç¦»å…ƒç´ å³ä¸‹æ–¹ç‰¹å®šè·ç¦»çš„å®šä½å°±ä¸å¤ªå®¹æ˜“ï¼Œå”¯ä¸€çš„æ–¹æ³•å°±æ˜¯å€ŸåŠ©é€æ˜è¾¹æ¡†å¸®åŠ©å®šä½ã€‚å¥½åœ¨IE9æµè§ˆå™¨å·²ç»å¼€å§‹æ”¯æŒæŒ‡å®šbackground-positionçš„èµ·å§‹ä½ç½®äº†ï¼Œäºæ˜¯æˆ‘ä»¬æƒ³è¦è®©èƒŒæ™¯å›¾åƒåœ¨è·ç¦»å³ä¸‹æ–¹20pxçš„ä½ç½®å°±éå¸¸ç®€å•äº†ï¼š</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.example</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>; <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">border</span>: solid deepskyblue;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">1.jpg</span>) no-repeat right <span class="number">20px</span> bottom <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/3/10-9.php">æ•ˆæœå±•ç¤º</a></p><p>ä¹Ÿæœ‰è¿™ç§å†™æ³•</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.example</span> &#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">1.jpg</span>) no-repeat <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">20px</span>) <span class="built_in">calc</span>(<span class="number">100%</span> - <span class="number">20px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è™½ç„¶è¿™ç§å†™æ³•ä¹Ÿæœ‰æ•ˆæœï¼Œä½†æ˜¯æ€§èƒ½ä¸å¤Ÿå¥½ï¼Œè€Œä¸”è¿™ç§å†™æ³•å¯èƒ½ä¼šè®©IE9æµè§ˆå™¨å´©æºƒ</p></blockquote><blockquote><p><strong>å¦‚æœåªæœ‰1ä¸ªå€¼</strong>ï¼Œæ— è®ºæ˜¯å…·ä½“çš„æ•°å€¼ã€ç™¾åˆ†æ¯”å€¼ï¼Œè¿˜æ˜¯å…³é”®å­—å±æ€§å€¼ï¼Œ<strong>åˆ™å¦å¤–ä¸€ä¸ªå€¼ä¸€å®šæ˜¯center</strong></p></blockquote><blockquote><p>æ€»ç»“ä¸€ä¸‹ï¼ŒIEæµè§ˆå™¨ä»IE9ç‰ˆæœ¬å¼€å§‹å°±å·²ç»æ”¯æŒbackground-positionå±æ€§çš„3å€¼å’Œ4å€¼è¯­æ³•ï¼Œå› æ­¤ä¸è¦å†ä½¿ç”¨calc()å‡½æ•°å®ç°ç›¸å¯¹äºå³ä¸‹æ–¹çš„å®šä½äº†ã€‚</p></blockquote><h3 id="outlineç›¸å…³æ–°å±æ€§outline-offset"><a href="#outlineç›¸å…³æ–°å±æ€§outline-offset" class="headerlink" title="outlineç›¸å…³æ–°å±æ€§outline-offset"></a>outlineç›¸å…³æ–°å±æ€§outline-offset</h3><p>outline-offsetå±æ€§ç”¨äºæ”¹å˜outlineå±æ€§è®¾ç½®çš„è½®å»“çš„åç§»ä½ç½®ã€‚</p><p>ä»¥æˆ‘çš„ç»éªŒæ¥çœ‹ï¼Œoutline-offsetå±æ€§ä½¿ç”¨è´Ÿå€¼æ¥ç¼©å°è½®å»“çš„é¢‘ç‡è¦æ¯”ä½¿ç”¨æ­£å€¼æ¥æ‰©å¤§è½®å»“çš„é¢‘ç‡é«˜å¾ˆå¤šã€‚</p><p><a href="https://demo.cssworld.cn/new/3/11-1.php">outlineè½®å»“è¢«è¦†ç›–out-offsetä¼˜åŒ–ç¤ºä¾‹</a></p><p>è®©åˆé€‚çš„outlineå°ºå¯¸é…åˆåˆé€‚çš„outline-offsetè´Ÿå€¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é¢œè‰²è¦†ç›–çš„æ–¹å¼å®ç°æ¸å˜è¾¹æ¡†æ•ˆæœï¼Œæˆ–è€…ç»˜åˆ¶ä¸€ä¸ªåŠ å·å›¾æ¡ˆ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.example</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">120px</span>; <span class="attribute">height</span>: <span class="number">120px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(deepskyblue, deeppink);</span><br><span class="line">    <span class="attribute">outline</span>: <span class="number">40px</span> solid <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">outline-offset</span>: -<span class="number">92px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="cursorå±æ€§æ–°å¢çš„æ‰‹å½¢æ•ˆæœ"><a href="#cursorå±æ€§æ–°å¢çš„æ‰‹å½¢æ•ˆæœ" class="headerlink" title="cursorå±æ€§æ–°å¢çš„æ‰‹å½¢æ•ˆæœ"></a>cursorå±æ€§æ–°å¢çš„æ‰‹å½¢æ•ˆæœ</h3><blockquote></blockquote><h4 id="æ”¾å¤§æ‰‹å½¢zoom-inå’Œç¼©å°æ‰‹å½¢zoom-outç®€ä»‹"><a href="#æ”¾å¤§æ‰‹å½¢zoom-inå’Œç¼©å°æ‰‹å½¢zoom-outç®€ä»‹" class="headerlink" title="æ”¾å¤§æ‰‹å½¢zoom-inå’Œç¼©å°æ‰‹å½¢zoom-outç®€ä»‹"></a>æ”¾å¤§æ‰‹å½¢zoom-inå’Œç¼©å°æ‰‹å½¢zoom-outç®€ä»‹</h4><p>cursor:zoom-inçš„é¼ æ ‡æŒ‡é’ˆæ˜¯[æ’å›¾]å½¢çŠ¶ï¼Œcursor:zoom-outçš„é¼ æ ‡æŒ‡é’ˆæ˜¯[æ’å›¾]å½¢çŠ¶ï¼Œå¤šç”¨äºåœ¨æ¡Œé¢ç«¯çš„ç½‘é¡µä¸­æŸ¥çœ‹å¤§å›¾çš„äº¤äº’åœºæ™¯ä¸­</p><p><a href="https://demo.cssworld.cn/new/3/12-1.php">æ•ˆæœå±•ç¤º</a></p><h4 id="æŠ“å–æ‰‹å½¢grabå’Œæ”¾æ‰‹æ‰‹å½¢grabbing"><a href="#æŠ“å–æ‰‹å½¢grabå’Œæ”¾æ‰‹æ‰‹å½¢grabbing" class="headerlink" title="æŠ“å–æ‰‹å½¢grabå’Œæ”¾æ‰‹æ‰‹å½¢grabbing"></a>æŠ“å–æ‰‹å½¢grabå’Œæ”¾æ‰‹æ‰‹å½¢grabbing</h4><p>cursor:grabçš„é¼ æ ‡æŒ‡é’ˆæ˜¯ä¸€ä¸ªäº”æŒ‡å¼ å¼€çš„æ‰‹çš„å½¢çŠ¶[æ’å›¾]ï¼Œcursor:grabbingçš„é¼ æ ‡æŒ‡é’ˆæ˜¯ä¸€ä¸ªäº”æŒ‡æ”¶èµ·çš„æ‰‹çš„å½¢çŠ¶[æ’å›¾]ï¼Œå®ƒä»¬å¤šç”¨åœ¨å…ƒç´ é¢„è§ˆç©ºé—´ä¸è¶³å¹¶éœ€è¦æ‹–åŠ¨å…ƒç´ çš„äº¤äº’åœºæ™¯ä¸­</p><p>[æ•ˆæœå±•ç¤º](<a href="https://demo.cssworld.cn/new/">https://demo.cssworld.cn/new/</a> 3/12-2.php)</p><blockquote></blockquote><h2 id="å…¨æ–°çš„å¸ƒå±€æ–¹å¼"><a href="#å…¨æ–°çš„å¸ƒå±€æ–¹å¼" class="headerlink" title="å…¨æ–°çš„å¸ƒå±€æ–¹å¼"></a>å…¨æ–°çš„å¸ƒå±€æ–¹å¼</h2><h3 id="åˆ†æ å¸ƒå±€"><a href="#åˆ†æ å¸ƒå±€" class="headerlink" title="åˆ†æ å¸ƒå±€"></a>åˆ†æ å¸ƒå±€</h3><blockquote><p>åˆ†æ å¸ƒå±€ä¹Ÿè¢«ç§°ä¸ºå¤šåˆ—å¸ƒå±€ã€å¤šæ å¸ƒå±€ï¼Œè¿™ç§å¸ƒå±€å¯ä»¥å°†å†…å®¹å¸ƒå±€åˆ°å¤šä¸ªåˆ—æ¡†ä¸­ï¼Œç±»ä¼¼æŠ¥çº¸ä¸Šçš„æ’ç‰ˆã€‚</p><p>åˆ†æ å¸ƒå±€æ¯”è¾ƒç‰¹æ®Šï¼Œæœ‰åˆ«äºä¼ ç»Ÿå¸ƒå±€ï¼Œå®ƒå°†å­å…ƒç´ åœ¨å†…çš„æ‰€æœ‰å†…å®¹æ‹†åˆ†ä¸ºåˆ—ï¼Œè¿™ä¸æ‰“å°ç½‘é¡µçš„æ—¶å€™å°†ç½‘é¡µå†…å®¹åˆ†æˆå¤šä¸ªé¡µé¢çš„æ–¹å¼ç±»ä¼¼ã€‚åˆ†æ å¸ƒå±€ä¸»è¦é’ˆå¯¹å›¾æ–‡æ’ç‰ˆå¸ƒå±€ï¼Œåº”ç”¨åœ¨æ¨ªå‘æ’ç‰ˆåœºæ™¯ä¸­ï¼Œæ–‡æ¡£æµæ˜¯å€’Næ–¹å‘ã€‚æœ‰ä¸ªåˆ«å¸ƒå±€åªèƒ½ä½¿ç”¨åˆ†æ å¸ƒå±€å®ç°ï¼Œåˆ†æ å¸ƒå±€è™½ç„¶åœ¨æ—¥å¸¸å¼€å‘ä¸­ç”¨å¾—ä¸å¤šï¼Œä½†æ˜¯é‡åˆ°åˆé€‚çš„åœºæ™¯æ—¶æ˜¯ä¸€ç§éå¸¸æœ‰ç”¨çš„å¸ƒå±€æ–¹å¼ã€‚</p></blockquote><ul><li><h5 id="HTMLï¼š-2"><a href="#HTMLï¼š-2" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>é‡åº†å¸‚<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>å“ˆå°”æ»¨å¸‚<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>é•¿æ˜¥å¸‚<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>å…°å·å¸‚<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>åŒ—äº¬å¸‚<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ­å·å¸‚<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>é•¿æ²™å¸‚<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>æ²ˆé˜³å¸‚<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>æˆéƒ½å¸‚<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>åˆè‚¥å¸‚<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¤©æ´¥å¸‚<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>è¥¿å®‰å¸‚<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-2"><a href="#CSSï¼š-2" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">ul</span> &#123;</span><br><span class="line">    <span class="attribute">columns</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><a href="https://demo.cssworld.cn/new/6/1-1.php">æ•ˆæœå±•ç¤º</a></p><blockquote><p>ç›¸æ¯”å…¶ä»–å¸ƒå±€æ–¹æ³•ï¼Œåˆ†æ å¸ƒå±€æœ€å¤§çš„ä¼˜ç‚¹æ˜¯ä¸ä¼šæ”¹å˜å…ƒç´ åŸæœ¬çš„displayè®¡ç®—å€¼ã€‚ä¾‹å¦‚ï¼Œåœ¨é»˜è®¤çŠ¶æ€ä¸‹ï¼Œ<li>å…ƒç´ ä¼šå‡ºç°é¡¹ç›®ç¬¦å·ï¼Œå¦‚åœ†ç‚¹æˆ–æ•°å­—åºå·ã€‚æ­¤æ—¶ï¼Œå¦‚æœå¯¹<li>å…ƒç´ ä½¿ç”¨å¼¹æ€§å¸ƒå±€æˆ–ç½‘æ ¼å¸ƒå±€ï¼Œåˆ™é¡¹ç›®ç¬¦å·å°±ä¼šæ¶ˆå¤±ï¼Œå› ä¸ºdisplay:flexæˆ–display:gridä¼šé‡ç½®<li>å…ƒç´ å†…ç½®çš„display:list-itemå£°æ˜</p></blockquote><p><strong>åˆ†æ å¸ƒå±€ç›¸å…³çš„CSSå±æ€§</strong></p><p>â— columnsï¼›</p><p>â— column-widthï¼›</p><p>â— column-countï¼›</p><p>â— column-ruleï¼›</p><p>â— column-rule-colorï¼›</p><p>â— column-rule-styleï¼›</p><p>â— column-rule-widthï¼›</p><p>â— column-spanï¼›</p><p>â— column-fillï¼›</p><p>â— column-gapã€‚</p><blockquote><p>è™½ç„¶è¿™10ä¸ªCSSå±æ€§éƒ½æœ‰å„è‡ªçš„ä½œç”¨ï¼Œä½†æ˜¯åœ¨å®ç”¨ç¨‹åº¦ä¸Šå´æœ‰æ˜æ˜¾çš„å·®å¼‚ã€‚æ ¹æ®æˆ‘çš„å¼€å‘ç»éªŒï¼Œè¶…è¿‡80%çš„åˆ†æ å¸ƒå±€åªéœ€è¦ä½¿ç”¨columnså±æ€§å°±è¶³å¤Ÿï¼Œå› æ­¤ï¼Œå¤§å®¶çš„å­¦ä¹ é‡å¿ƒå¯ä»¥æ”¾åœ¨columnså±æ€§ä¸Šï¼Œcolumn-gapå±æ€§æœ‰æ—¶å€™ä¹Ÿä¼šç”¨åˆ°ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥å…³æ³¨ä¸‹ï¼Œè‡³äºå‰©ä¸‹çš„å±æ€§ï¼Œå¤§å®¶äº†è§£ä¸€ä¸‹åŸºæœ¬ä½œç”¨å³å¯ã€‚</p></blockquote><h4 id="é‡ç‚¹å…³æ³¨columnså±æ€§"><a href="#é‡ç‚¹å…³æ³¨columnså±æ€§" class="headerlink" title="é‡ç‚¹å…³æ³¨columnså±æ€§"></a>é‡ç‚¹å…³æ³¨columnså±æ€§</h4><blockquote><p>columnså±æ€§æ˜¯column-widthå’Œcolumn-countå±æ€§çš„ç¼©å†™ï¼Œä¸¾å‡ ä¸ªä½¿ç”¨columnså±æ€§çš„ä¾‹å­ï¼š</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ ç›®å®½åº¦*/</span></span><br><span class="line">colums: <span class="number">18em</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æ ç›®æ•°ç›®*/</span></span><br><span class="line"><span class="attribute">columns</span>: auto;</span><br><span class="line">columnsL <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* åŒæ—¶å®šä¹‰å®½åº¦å’Œæ•°ç›®ï¼Œé¡ºåºä»»æ„ */</span></span><br><span class="line"><span class="attribute">columns</span>: <span class="number">2</span> auto;</span><br><span class="line"><span class="attribute">columns</span>: auto <span class="number">2</span>;</span><br><span class="line"><span class="attribute">columns</span>: auto <span class="number">12em</span>;</span><br><span class="line"><span class="attribute">columns</span>: auto auto;</span><br></pre></td></tr></table></figure><p><strong>å…³äºcolumn-width</strong></p><blockquote><p>column-widthè¡¨ç¤ºæ¯ä¸€æ /åˆ—çš„æœ€ä½³å®½åº¦ï¼Œæ³¨æ„ï¼Œæ˜¯â€œæœ€ä½³å®½åº¦â€ï¼Œå®é™…æ¸²æŸ“å®½åº¦å¤šåŠå’ŒæŒ‡å®šçš„å®½åº¦æ˜¯æœ‰å‡ºå…¥çš„.ã€‚å®ƒä¸æ”¯æŒ % è¯­æ³•</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">column-width</span>: <span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œå®¹å™¨å®½åº¦ä¸º300pxï¼Œè®¾å®šæ¯ä¸€æ çš„å®½åº¦æ˜¯200pxï¼Œä¸è¶³ä»¥åˆ†æ ï¼Œæ­¤æ—¶å®¹å™¨é‡Œé¢çš„å†…å®¹ä¼šæ— è§†column-width:200pxå£°æ˜ï¼Œå¹¶æŒ‰ç…§å®¹å™¨çš„300pxå®½åº¦æ’ç‰ˆã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">column-width</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œå®¹å™¨å®½åº¦ä¸º200pxï¼Œè®¾å®šçš„æ¯ä¸€æ å®½åº¦æ˜¯300pxï¼Œæ¯”å®¹å™¨å®½åº¦è¿˜è¦å®½ï¼Œæ­¤æ—¶å®¹å™¨é‡Œé¢çš„å†…å®¹ä¼šæ— è§†column-width:300pxå£°æ˜ï¼Œå¹¶æŒ‰ç…§å®¹å™¨çš„200pxå®½åº¦æ’ç‰ˆã€‚</p></blockquote><p>é‚£ä¹ˆï¼Œä»€ä¹ˆæƒ…å†µä¸‹column-widthè®¾ç½®çš„å®½åº¦å€¼å’Œå®é™…æ¸²æŸ“çš„å®½åº¦å€¼ä¸€è‡´å‘¢ï¼Ÿ</p><p>è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆå¯èƒ½ä¼šå‡ºä¹å¤§å®¶çš„æ„æ–™ï¼š<strong>å‡ ä¹ä¸å­˜åœ¨åˆ†æ å¸ƒå±€çš„æ ç›®å®½åº¦å°±æ˜¯column-widthè®¾ç½®çš„å®½åº¦è¿™æ ·çš„åœºæ™¯ã€‚</strong></p><blockquote><p>å› ä¸ºcolumn-widthå’Œä¼ ç»Ÿçš„widthå±æ€§ä¸åŒï¼Œcolumn-widthæ›´åƒæ˜¯ä¸€ä¸ªæœŸæœ›å°ºå¯¸ï¼Œæµè§ˆå™¨ä¼šæ ¹æ®è¿™ä¸ªæœŸæœ›å°ºå¯¸ç¡®å®šåˆ†æ æ•°ç›®ï¼Œä¸€æ—¦åˆ†æ æ•°ç›®ç¡®å®šäº†ï¼Œcolumn-widthå±æ€§çš„ä½¿å‘½ä¹Ÿå°±å®Œæˆäº†ï¼Œæ¥ä¸‹æ¥æ ¹æ®åˆ†æ æ•°ç›®å¯¹å®¹å™¨è¿›è¡Œçš„åˆ†æ å¸ƒå±€å°±å’Œcolumn-widthå±æ€§æ²¡æœ‰ä»»ä½•å…³ç³»äº†ã€‚</p></blockquote><p><strong>å…³äºcolumn-count</strong></p><blockquote><p>column-countè¡¨ç¤ºç†æƒ³çš„åˆ†æ æ•°ç›®ï¼Œåˆå‡ºç°äº†å¾ˆå¾®å¦™çš„è¯â€”â€”â€œç†æƒ³çš„â€ï¼Œä¹Ÿå°±æ˜¯æ„å‘³ç€æœ€ç»ˆçš„åˆ†æ æ•°ç›®å¯èƒ½ä¸å—column-countå±æ€§å€¼çš„æ§åˆ¶ã€‚</p><p>åœ¨åˆ†æ å¸ƒå±€ä¸­ï¼Œæœ€ç»ˆåˆ†æ çš„æ•°é‡è¦ä¹ˆç”±column-countå±æ€§å†³å®šï¼Œè¦ä¹ˆç”±column-widthå±æ€§å†³å®šï¼Œè¿™ä¸¤ä¸ªCSSå±æ€§éƒ½å¯èƒ½æœ‰æ›´é«˜çš„å†³å®šæƒï¼Œè‡³äºå“ªä¸ªCSSå±æ€§çš„å†³å®šæƒæ›´é«˜ï¼Œæ˜¯è¦çœ‹å…·ä½“åœºæ™¯çš„ã€‚</p><p>å†³å®šæƒä¼˜å…ˆçº§çš„è®¡ç®—è¯€çªå¯ä»¥ç”¨ä¸€å¥è¯æ¦‚æ‹¬ï¼š<strong>ç»Ÿä¸€è½¬æ¢column-countå€¼ï¼Œå“ªä¸ªå€¼å°å°±ä½¿ç”¨å“ªä¸€ä¸ªã€‚</strong></p></blockquote><ul><li><h5 id="HTMLï¼š-3"><a href="#HTMLï¼š-3" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container-1&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container-2&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-3"><a href="#CSSï¼š-3" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤å®¹å™¨è®¾ç½®2åˆ—</span></span><br><span class="line"><span class="comment">å®¹å™¨å®½/æœŸæœ›å®½ = 360/100 â‰ˆ 3 åˆ—</span></span><br><span class="line"><span class="comment">å–æœ€å°åˆ—2</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.container-1</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">360px</span>;</span><br><span class="line">    <span class="attribute">column-count</span>: <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">column-width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ­¤å®¹å™¨è®¾ç½®4åˆ—</span></span><br><span class="line"><span class="comment">å®¹å™¨å®½/æœŸæœ›å®½ = 360/100 â‰ˆ 3 åˆ—</span></span><br><span class="line"><span class="comment">å–æœ€å°åˆ—3</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="selector-class">.container-2</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">360px</span>;</span><br><span class="line">    <span class="attribute">column-count</span>: <span class="number">4</span>;</span><br><span class="line">    <span class="attribute">column-width</span>: <span class="number">100px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><a href="https://demo.cssworld.cn/new/6/1-2.php">æ•ˆæœå±•ç¤º</a></p><h4 id="column-gapå’Œgapå±æ€§çš„å…³ç³»"><a href="#column-gapå’Œgapå±æ€§çš„å…³ç³»" class="headerlink" title="column-gapå’Œgapå±æ€§çš„å…³ç³»"></a>column-gapå’Œgapå±æ€§çš„å…³ç³»</h4><blockquote><p>column-gapå±æ€§è¡¨ç¤ºæ¯ä¸€æ ä¹‹é—´çš„ç©ºç™½é—´éš™çš„å¤§å°ï¼Œå¯ä»¥æ˜¯é•¿åº¦å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ç™¾åˆ†æ¯”å€¼</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å…³é”®å­—*/</span></span><br><span class="line">coulmn-<span class="attribute">gap</span>: normal;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*é•¿åº¦å€¼*/</span></span><br><span class="line">coulmn-<span class="attribute">gap</span>: <span class="number">3px</span>;</span><br><span class="line">coulmn-<span class="attribute">gap</span>: <span class="number">3em</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç™¾åˆ†æ¯”*/</span></span><br><span class="line">coulmn-<span class="attribute">gap</span>: <span class="number">3%</span>;</span><br></pre></td></tr></table></figure><p>å®é™…ä¸Šï¼Œåœ¨åˆ†æ å¸ƒå±€ä¸­ï¼Œå¦‚æœä¸è€ƒè™‘IEæµè§ˆå™¨ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨gapå±æ€§è®¾ç½®åˆ†æ é—´éš™å¤§å°ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">columns</span>: <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">gap</span>: <span class="number">1rem</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è‡³äºåŸå› ï¼Œç”¨ä¸€å¥è¯è§£é‡Šå°±æ˜¯ï¼š<strong>column-gapæ˜¯gapå±æ€§çš„å­å±æ€§ã€‚</strong></p><blockquote><p>åœ¨ç½‘æ ¼å¸ƒå±€è§„èŒƒåˆ¶å®šä¹‹åçš„ä¸€æ®µæ—¶é—´ï¼ŒCSSä¸–ç•Œä¸­çš„è¡Œä¸åˆ—ä¹‹é—´çš„é—´éš™ä½¿ç”¨äº†gapå±æ€§è¿›è¡Œäº†ç»Ÿä¸€ï¼Œä¹Ÿå°±æ˜¯åˆ†æ å¸ƒå±€ã€å¼¹æ€§å¸ƒå±€å’Œç½‘æ ¼å¸ƒå±€çš„é—´éš™éƒ½å…¨éƒ¨ç»Ÿä¸€ä½¿ç”¨gapå±æ€§è¡¨ç¤ºï¼Œè€Œgapå±æ€§å®é™…ä¸Šæ˜¯column-gapå±æ€§å’Œrow-gapå±æ€§çš„ç¼©å†™ã€‚</p></blockquote><h4 id="äº†è§£column-ruleã€column-spanå’Œcolumn-fillå±æ€§"><a href="#äº†è§£column-ruleã€column-spanå’Œcolumn-fillå±æ€§" class="headerlink" title="äº†è§£column-ruleã€column-spanå’Œcolumn-fillå±æ€§"></a>äº†è§£column-ruleã€column-spanå’Œcolumn-fillå±æ€§</h4><blockquote><p>å¹³å¸¸ä¸å¤ªç”¨å¾—åˆ°ï¼Œå¤šå‡ºç°åœ¨å¯¹åˆ†æ å¸ƒå±€æ•ˆæœè¦æ±‚æ›´é«˜çš„åœºæ™¯ä¸­ã€‚</p></blockquote><p><strong>äº†è§£column-ruleå±æ€§</strong></p><blockquote><p>column-ruleå±æ€§æ˜¯column-rule-widthã€column-rule-styleå’Œcolumn-rule- colorè¿™3ä¸ªCSSå±æ€§çš„ç¼©å†™ã€‚</p><p>column-ruleå±æ€§å’Œborderå±æ€§çš„è¯­æ³•å’Œè§„åˆ™æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œåªæ˜¯column-ruleæ˜¯è®¾ç½®å„ä¸ªåˆ†æ çš„åˆ†éš”çº¿æ ·å¼ï¼Œborderæ˜¯è®¾ç½®å…ƒç´ çš„è¾¹æ¡†æ ·å¼</p></blockquote><ul><li><h5 id="CSSï¼š-4"><a href="#CSSï¼š-4" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">320px</span>;</span><br><span class="line">    <span class="attribute">border</span>: solid deepskyblue;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">column-count</span>: <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">column-rule</span>: dashed deepskyblue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><a href="https://demo.cssworld.cn/new/6/1-3.php">æ•ˆæœå±•ç¤º</a></p><p><strong>äº†è§£column-spanå±æ€§</strong></p><blockquote><p>column-spanå±æ€§æœ‰ç‚¹ç±»ä¼¼è¡¨æ ¼å¸ƒå±€ä¸­çš„HTMLå±æ€§colspanï¼Œè¡¨ç¤ºæŸä¸€ä¸ªå†…å®¹æ˜¯å¦è·¨å¤šæ æ˜¾ç¤ºã€‚è¿™ä¸ªCSSå±æ€§æ˜¯ä½œç”¨åœ¨åˆ†æ å¸ƒå±€çš„å­å…ƒç´ ä¸Šçš„ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">column-span</span>: none| all;</span><br></pre></td></tr></table></figure><p>â— noneè¡¨ç¤ºä¸æ¨ªè·¨å¤šæ ï¼Œé»˜è®¤å€¼ã€‚</p><p>â— allè¡¨ç¤ºæ¨ªè·¨æ‰€æœ‰å‚ç›´åˆ—ã€‚</p><p><strong>ã€ä¸æ”¯æŒæ•°å­—</strong>ã€‘</p><p><a href="https://demo.cssworld.cn/new/6/1-4.php">allå±æ€§æ•ˆæœå±•ç¤º</a></p><p><strong>äº†è§£column-fillå±æ€§</strong></p><blockquote><p>column-fillçš„ä½œç”¨æ˜¯å½“<strong>å†…å®¹åˆ†æ çš„æ—¶å€™å¹³è¡¡æ¯ä¸€æ å¡«å……çš„å†…å®¹</strong></p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">column-fill</span>: auto | balance | balance-all;</span><br></pre></td></tr></table></figure><p>â— autoçš„ä½œç”¨æ˜¯æŒ‰é¡ºåºå¡«å……æ¯ä¸€åˆ—ï¼Œå†…å®¹åªå ç”¨å®ƒéœ€è¦çš„ç©ºé—´ã€‚</p><p>â— balanceæ˜¯é»˜è®¤å€¼ï¼Œä½œç”¨æ˜¯å°½å¯èƒ½åœ¨åˆ—ä¹‹é—´å¹³è¡¡å†…å®¹ã€‚åœ¨åˆ†éš”æ–­å¼€çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œåªæœ‰æœ€åä¸€ä¸ªç‰‡æ®µæ˜¯å¹³è¡¡çš„ã€‚ä¾‹å¦‚ï¼Œæœ‰å¤šä¸ª<p>å…ƒç´ ï¼Œæ­£å¥½æœ€åä¸€ä¸ª&lt;p&gt;æ¢è¡Œäº†ï¼Œé‚£è¿™ä¸ª&lt;p&gt;å…ƒç´ çš„å†…å®¹å‰åç­‰åˆ†ï¼Œä¿æŒå¹³è¡¡ã€‚è¿™ä¼šé€ æˆæœ€åä¸€æ å†…å®¹è¾ƒå°‘çš„é—®é¢˜ã€‚</p><p>â— balance-allçš„ä½œç”¨æ˜¯å°½å¯èƒ½åœ¨åˆ—ä¹‹é—´å¹³è¡¡å†…å®¹ã€‚åœ¨åˆ†éš”æ–­å¼€çš„ä¸Šä¸‹æ–‡ä¸­ï¼Œæ‰€æœ‰ç‰‡æ®µéƒ½æ˜¯å¹³è¡¡çš„ã€‚è¯¥å±æ€§å€¼ç›®å‰æ²¡æœ‰ä»»ä½•æµè§ˆå™¨æ”¯æŒï¼Œå¯ä»¥å¿½ç•¥ã€‚</p><p><a href="https://demo.cssworld.cn/new/6/1-5.php">æ•ˆæœå±•ç¤º</a></p><p>ï¼ˆ1ï¼‰æ‰€æœ‰æµè§ˆå™¨éƒ½èƒ½è¯†åˆ«column-fill:autoï¼Œä½†æ˜¯ï¼Œéœ€è¦å®¹å™¨æœ‰å›ºå®šçš„é«˜åº¦æ‰èƒ½å‡†ç¡®æ¸²æŸ“ã€‚å¦‚æœå®¹å™¨æ²¡æœ‰è®¾ç½®å…·ä½“çš„é«˜åº¦å€¼ï¼Œåˆ™ä»…åœ¨Firefoxæµè§ˆå™¨ä¸­æœ‰æ¯”è¾ƒç¬¦åˆé¢„æœŸçš„æ¸²æŸ“ã€‚å› æ­¤ï¼Œåœ¨å®é™…å¼€å‘çš„æ—¶å€™ï¼Œcolumn-fill:autoå£°æ˜çš„ä½¿ç”¨ä¸€å®šè¦é…åˆå®¹å™¨å…ƒç´ çš„heightå±æ€§ã€‚</p><p>ï¼ˆ2ï¼‰æ‰€æœ‰æµè§ˆå™¨éƒ½ä¸èƒ½è¯†åˆ«column-fill:balance-all</p><p><a href="">åˆ†æ å¸ƒå±€å®ç°ä¸¤ç«¯å¯¹é½å¸ƒå±€</a></p><ul><li><h5 id="HTMLï¼š-4"><a href="#HTMLï¼š-4" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>åˆ†æ å¸ƒå±€å®ç°ä¸¤ç«¯å¯¹é½<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-5"><a href="#CSSï¼š-5" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">border</span>: solid deepskyblue;</span><br><span class="line">    <span class="attribute">column-count</span>: <span class="number">3</span>;</span><br><span class="line">    <span class="attribute">column-gap</span>: <span class="number">5%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: deeppink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>break-insideå±æ€§ä¸å…ƒç´ æ–­ç‚¹ä½ç½®çš„æ§åˆ¶</strong></p><blockquote><p>break-insideå±æ€§å¯ä»¥å®šä¹‰é¡µé¢æ‰“å°ã€åˆ†æ å¸ƒå±€æˆ–Regionså¸ƒå±€ï¼ˆå·²åºŸå¼ƒï¼‰å‘ç”Ÿä¸­æ–­æ—¶å…ƒç´ çš„è¡¨ç°å½¢å¼ã€‚å¦‚æœæ²¡æœ‰å‘ç”Ÿä¸­æ–­ï¼Œåˆ™å¿½ç•¥è¯¥å±æ€§ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">break-inside</span>: auto| avoid | avoid-page | avoid-column | avoid-region;</span><br></pre></td></tr></table></figure><p>åªéœ€å…³æ³¨ä¸‹é¢ä¸¤ä¸ª</p><p>â— autoè¡¨ç¤ºå…ƒç´ å¯ä»¥ä¸­æ–­ã€‚</p><p>â— avoidè¡¨ç¤ºå…ƒç´ ä¸èƒ½ä¸­æ–­ã€‚</p><p><a href="https://demo.cssworld.cn/new/6/1-7.php">æ•ˆæœå±•ç¤º</a></p><p><strong>box-decoration-breakå±æ€§ä¸å…ƒç´ æ–­ç‚¹è£…é¥°çš„æ§åˆ¶</strong></p><blockquote><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œå…ƒç´ ç‰‡æ®µåœ¨è·¨è¡Œã€è·¨åˆ—æˆ–è·¨é¡µï¼ˆå¦‚æ‰“å°ï¼‰æ—¶å€™çš„æ ·å¼æ˜¯åˆ†å‰²æ¸²æŸ“çš„ï¼Œä¾‹å¦‚è¾¹æ¡†æˆ–è€…åœ†è§’éƒ½æ˜¯åˆ†å‰²å¼€çš„</p></blockquote><h3 id="å¼¹æ€§å¸ƒå±€"><a href="#å¼¹æ€§å¸ƒå±€" class="headerlink" title="å¼¹æ€§å¸ƒå±€"></a>å¼¹æ€§å¸ƒå±€</h3><blockquote><p>ä¸“é—¨ä¸ºç°ä»£Webåº”ç”¨è®¾è®¡çš„å¸ƒå±€æ–¹å¼ï¼Œä»£ç ç®€å•ï¼Œæ ·å¼ä¸°å¯Œï¼Œç›®å‰å·²ç»é€æ¸æˆä¸ºä¸»æµçš„å¸ƒå±€æ–¹å¼ï¼Œæ˜¯æ‰€æœ‰å‰ç«¯å¼€å‘è€…éœ€è¦é‡ç‚¹å­¦ä¹ çš„å¸ƒå±€æ–¹å¼ã€‚</p></blockquote><p>å¼¹æ€§å¸ƒå±€ç›¸å…³å±æ€§åˆ†ä¸º4ä¸ªå¤§çš„ç±»ç›®ï¼Œåˆ†åˆ«æ˜¯æµå‘æ§åˆ¶ã€å¯¹é½è®¾ç½®ã€é¡ºåºæ§åˆ¶å’Œå¼¹æ€§è®¾ç½®ã€‚</p><p>æµå‘æ§åˆ¶å¯¹åº”flex-flowå±æ€§åŠå…¶ç›¸å…³å±æ€§ã€‚ä¸å¯¹é½è®¾ç½®ç›¸å…³çš„CSSå±æ€§åœ¨å¼¹æ€§å¸ƒå±€å’Œç½‘æ ¼å¸ƒå±€ä¸­æ˜¯é€šç”¨çš„ã€‚é¡ºåºæ§åˆ¶å¯¹åº”orderå±æ€§ï¼Œå¹³å¸¸ç”¨å¾—ä¸å¤šã€‚å¼¹æ€§è®¾ç½®å¯¹åº”flexå±æ€§åŠå…¶ç›¸å…³å±æ€§ã€‚</p><h4 id="è®¾ç½®display-flexå£°æ˜å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"><a href="#è®¾ç½®display-flexå£°æ˜å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ" class="headerlink" title="è®¾ç½®display:flexå£°æ˜å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ"></a>è®¾ç½®display:flexå£°æ˜å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ</h4><blockquote><p>ç»™ä»»æ„å…ƒç´ è®¾ç½®display:flexå£°æ˜æˆ–è€…display:inline-flexå£°æ˜ï¼Œå¼¹æ€§å¸ƒå±€å°±ä¼šè¢«åˆ›å»ºã€‚</p><p>display:inline-flexå£°æ˜å¯ä»¥è®©flexå®¹å™¨ä¿æŒå†…è”ç‰¹æ€§ï¼Œä¹Ÿå°±æ˜¯å¯ä»¥è®©å›¾ç‰‡å’Œæ–‡å­—åœ¨ä¸€è¡Œæ˜¾ç¤ºï¼Œå¤šç”¨åœ¨ç²¾è‡´çš„å°æ§ä»¶å¸ƒå±€ä¸­ï¼Œè‡³äºå…¶ä»–ç‰¹æ€§è¡¨ç°åˆ™å’Œdisplay:flexå£°æ˜ä¸€æ¨¡ä¸€æ ·ã€‚</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">content</span>&gt;</span>1<span class="tag">&lt;/<span class="name">content</span>&gt;</span></span><br><span class="line">    è£¸éœ²çš„æ–‡æœ¬å…ƒç´ </span><br><span class="line">    <span class="tag">&lt;<span class="name">content</span>&gt;</span>2<span class="tag">&lt;/<span class="name">content</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">content</span>&gt;</span>3<span class="tag">&lt;/<span class="name">content</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">.container &#123;</span><br><span class="line">display: flex;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><p>flexå­é¡¹å—çŠ¶åŒ–</p><p> é»˜è®¤çŠ¶æ€ä¸‹ï¼Œ&lt;content&gt;å…ƒç´ çš„displayè®¡ç®—å€¼æ˜¯inlineï¼Œè€Œåœ¨ä¸Šé¢è¿™ä¸ªä¾‹å­ä¸­ï¼Œ&lt;content&gt;å…ƒç´ çš„displayè®¡ç®—å€¼æ˜¯blockï¼Œå…¶å˜æˆäº†å—çº§å…ƒç´ ã€‚</p><p> flexå­é¡¹éƒ½æ˜¯å—çº§æ°´å¹³å…ƒç´ ï¼Œå› æ­¤ï¼Œåœ¨flexå­é¡¹å…ƒç´ ä¸­ä½¿ç”¨vertial-alignå±æ€§ä¸€å®šæ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„ã€‚</p><p> æ­¤æ—¶å­—ç¬¦<strong>è£¸éœ²çš„æ–‡æœ¬å…ƒç´ </strong>ä¼šå˜æˆ<strong>åŒ¿åå—çº§å…ƒç´ </strong>ï¼Œå’Œå‰åä¸¤ä¸ª&lt;content&gt;å…ƒç´ å¹¶æ’æ˜¾ç¤ºï¼Œå¦‚å›¾6-15æ‰€ç¤ºã€‚ä½†æ˜¯ï¼Œå¦‚æœä»…æ˜¯ç©ºæ ¼å­—ç¬¦ï¼ˆEnterç©ºæ ¼ã€Spaceç©ºæ ¼æˆ–Tabç©ºæ ¼ï¼‰ï¼Œåˆ™ä¸ä¼šæ¸²æŸ“ï¼Œå³ä½¿è®¾ç½®white- space:preæˆ–è€…white-space:pre-wrapä¹Ÿæ˜¯å¦‚æ­¤</p></li><li><p>flexå­é¡¹æµ®åŠ¨å¤±æ•ˆ</p><p> æ§åˆ¶flexå­é¡¹å·¦å³å¯¹é½æ˜¯æœ‰ä¸“é—¨çš„CSSå±æ€§çš„</p></li><li><p>flexå­é¡¹æ”¯æŒz-indexå±æ€§</p><p> å³ä½¿flexå­é¡¹çš„positionå±æ€§çš„è®¡ç®—å€¼æ˜¯staticï¼Œflexå­é¡¹ä¹Ÿæ˜¯æ”¯æŒz-indexå±æ€§çš„ã€‚å¦‚æœz-indexå±æ€§å€¼ä¸æ˜¯autoï¼Œåˆ™ä¼šåˆ›å»ºæ–°çš„å±‚å ä¸Šä¸‹æ–‡</p></li><li><p>flexå­é¡¹çš„marginå€¼ä¸ä¼šåˆå¹¶</p><p> è¿™ä¸€ç‚¹å’Œæ™®é€šçš„å—çº§å…ƒç´ ä¸ä¸€æ ·ã€‚</p></li><li><p>flexå­é¡¹æ˜¯æ ¼å¼åŒ–çš„å°ºå¯¸</p><p> å°±æ˜¯è¯´flexå­é¡¹çš„å°ºå¯¸åœ¨åº•å±‚æ˜¯æœ‰å…·ä½“çš„è®¡ç®—å€¼çš„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨margin:autoè¿›è¡Œå‰©ä½™ç©ºé—´çš„æ™ºèƒ½åˆ†é…</p></li><li><p>å…¶ä»–</p><ul><li>flexå­é¡¹å¦‚æœè¢«è®¾ç½®ä¸ºç»å¯¹å®šä½ï¼Œåˆ™ä¼šè„±ç¦»å¼¹æ€§å¸ƒå±€</li><li>flexå­é¡¹çš„å°ºå¯¸é»˜è®¤è¡¨ç°ä¸ºæ”¶ç¼©ï¼Œå¦‚æœè¦è®¾ç½®å»ºè®®çš„å°ºå¯¸ï¼Œå¯ä»¥ç»™flexå­é¡¹ä½¿ç”¨flex-basiså±æ€§ï¼Œæˆ–è€…ä½¿ç”¨ç¼©å†™çš„flexå±æ€§ã€‚</li><li>flexå­é¡¹é»˜è®¤æ˜¯æ°´å¹³æ’åˆ—çš„ï¼Œè¿™ä¸ªç‰¹æ€§è¡¨ç°æ˜¯ç”±flex-directionå±æ€§å†³å®šçš„</li><li>è€Œä¸”å°±ç®—flexå­é¡¹çš„å®½åº¦ä¹‹å’Œè¶…è¿‡flexå®¹å™¨ï¼Œflexå­é¡¹ä¹Ÿä¸ä¼šæ¢è¡Œï¼Œè¿™ä¸ªç‰¹æ€§è¡¨ç°æ˜¯ç”±flex-wrapå±æ€§å†³å®šçš„</li></ul></li></ol><h4 id="flex-directionå±æ€§ä¸æ•´ä½“å¸ƒå±€æ–¹å‘"><a href="#flex-directionå±æ€§ä¸æ•´ä½“å¸ƒå±€æ–¹å‘" class="headerlink" title="flex-directionå±æ€§ä¸æ•´ä½“å¸ƒå±€æ–¹å‘"></a>flex-directionå±æ€§ä¸æ•´ä½“å¸ƒå±€æ–¹å‘</h4><blockquote><p>flex-directionå±æ€§ç”¨æ¥æ§åˆ¶flexå­é¡¹æ•´ä½“å¸ƒå±€æ–¹å‘ï¼Œå†³å®šæ˜¯ä»å·¦å¾€å³æ’åˆ—è¿˜æ˜¯ä»å³å¾€å·¦æ’åˆ—ï¼Œæ˜¯ä»ä¸Šå¾€ä¸‹æ’åˆ—è¿˜æ˜¯ä»ä¸‹å¾€ä¸Šæ’åˆ—</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex-direction</span>: row | row-reverse | column | column-reverse;</span><br></pre></td></tr></table></figure><p>â— rowæ˜¯é»˜è®¤å€¼ï¼Œè¡¨ç¤ºflexå­é¡¹æ˜¾ç¤ºä¸ºæ°´å¹³æ’åˆ—ã€‚</p><p>â— row-reverseè¡¨ç¤ºflexå­é¡¹æ˜¾ç¤ºä¸ºæ°´å¹³æ’åˆ—</p><p>â— columnè¡¨ç¤ºflexå­é¡¹æ˜¾ç¤ºä¸ºå‚ç›´æ’åˆ—</p><p>â— column-reverseè¡¨ç¤ºflexå­é¡¹æ˜¾ç¤ºä¸ºå‚ç›´æ’åˆ—ï¼Œä½†æ–¹å‘å’Œcolumnå±æ€§å€¼ç›¸å</p><p><a href="https://demo.cssworld.cn/new/6/2-1.php">æ•ˆæœå±•ç¤º</a></p><h4 id="flex-wrapå±æ€§ä¸æ•´ä½“å¸ƒå±€çš„æ¢è¡Œè¡¨ç°"><a href="#flex-wrapå±æ€§ä¸æ•´ä½“å¸ƒå±€çš„æ¢è¡Œè¡¨ç°" class="headerlink" title="flex-wrapå±æ€§ä¸æ•´ä½“å¸ƒå±€çš„æ¢è¡Œè¡¨ç°"></a>flex-wrapå±æ€§ä¸æ•´ä½“å¸ƒå±€çš„æ¢è¡Œè¡¨ç°</h4><blockquote><p>flex-wrapå±æ€§ç”¨æ¥æ§åˆ¶flexå­é¡¹æ˜¯å•è¡Œæ˜¾ç¤ºè¿˜æ˜¯æ¢è¡Œæ˜¾ç¤ºï¼Œä»¥åŠåœ¨æ¢è¡Œæƒ…å†µä¸‹ï¼Œæ¯ä¸€è¡Œå†…å®¹æ˜¯å¦åœ¨å‚ç›´æ–¹å‘çš„åæ–¹å‘æ˜¾ç¤ºã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex-wrap</span>: nowarp | wrap | wrap-reverse;</span><br></pre></td></tr></table></figure><p>â— nowrapæ˜¯é»˜è®¤å€¼ï¼Œè¡¨ç¤ºflexå­é¡¹æ˜¯å•è¡Œæ˜¾ç¤ºï¼Œä¸”ä¸æ¢è¡Œ</p><p>â— wrapè¡¨ç¤ºflexå®¹å™¨å®½åº¦ä¸è¶³çš„æ—¶å€™ï¼Œflexå­é¡¹ä¼šæ¢è¡Œæ˜¾ç¤º</p><p>â— wrap-reverseè¡¨ç¤ºå®½åº¦ä¸è¶³çš„æ—¶å€™ï¼Œflexå­é¡¹ä¼šæ¢è¡Œæ˜¾ç¤ºï¼Œä½†æ˜¯flexå­é¡¹æ˜¯ä»ä¸‹å¾€ä¸Šå¼€å§‹æ’åˆ—çš„ï¼Œä¹Ÿå°±æ˜¯åŸæœ¬æ¢è¡Œåˆ°ä¸‹é¢ä¸€è¡Œçš„flexå­é¡¹ç°åœ¨æ¢è¡Œåˆ°ä¸Šé¢ä¸€è¡Œ</p><p><a href="https://demo.cssworld.cn/new/6/2-2.php">æ•ˆæœå±•ç¤º</a></p><h4 id="ç†Ÿç»ƒä½¿ç”¨flex-flowå±æ€§"><a href="#ç†Ÿç»ƒä½¿ç”¨flex-flowå±æ€§" class="headerlink" title="ç†Ÿç»ƒä½¿ç”¨flex-flowå±æ€§"></a>ç†Ÿç»ƒä½¿ç”¨flex-flowå±æ€§</h4><blockquote><p>flex-flowå±æ€§æ˜¯flex-directionå±æ€§å’Œflex-wrapå±æ€§çš„ç¼©å†™ï¼Œè¡¨ç¤ºå¼¹æ€§å¸ƒå±€çš„æµåŠ¨ç‰¹æ€§ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex-flow</span>: &lt;flex-direction&gt; || &lt;flex-wrap&gt;;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨æ—¶ä¸åŒºåˆ†æ–¹å‘ï¼Œå¯ä»¥éšæ„çœç•¥ä¸€ä¸ªå€¼</p><h4 id="å¯¹é½ç‰¹æ€§ç»¼è¿°"><a href="#å¯¹é½ç‰¹æ€§ç»¼è¿°" class="headerlink" title="å¯¹é½ç‰¹æ€§ç»¼è¿°"></a>å¯¹é½ç‰¹æ€§ç»¼è¿°</h4><p>åœ¨æ•´ä¸ªCSSä¸–ç•Œä¸­æ˜¯æœ‰é€šç”¨çš„å«ä¹‰çš„ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><p>â— justifyè¡¨ç¤ºæ°´å¹³æ–¹å‘çš„æ ·å¼è®¾ç½®ï¼›</p><p>â— alignè¡¨ç¤ºå‚ç›´æ–¹å‘çš„æ ·å¼è®¾ç½®ï¼›</p><p>â— itemsè¡¨ç¤ºå…¨ä½“å…ƒç´ çš„æ ·å¼è®¾ç½®ï¼›</p><p>â— contentè¡¨ç¤ºæ•´ä½“å¸ƒå±€çš„æ ·å¼è®¾ç½®ï¼›</p><p>â— selfè¡¨ç¤ºå…ƒç´ è‡ªèº«çš„æ ·å¼è®¾ç½®ï¼Œå…¶ä¸€å®šæ˜¯åº”ç”¨åœ¨å­å…ƒç´ ä¸Šçš„ã€‚</p><p>å› æ­¤ï¼Œjustify-contentå±æ€§å°±è¡¨ç¤ºæ•´ä½“å¸ƒå±€çš„æ°´å¹³å¯¹é½è®¾ç½®ï¼Œalign-itemså°±è¡¨ç¤ºå…¨ä½“å…ƒç´ çš„å‚ç›´å¯¹é½æ ·å¼è®¾ç½®ã€‚</p><h4 id="justify-contentå±æ€§ä¸æ•´ä½“å¸ƒå±€çš„æ°´å¹³å¯¹é½"><a href="#justify-contentå±æ€§ä¸æ•´ä½“å¸ƒå±€çš„æ°´å¹³å¯¹é½" class="headerlink" title="justify-contentå±æ€§ä¸æ•´ä½“å¸ƒå±€çš„æ°´å¹³å¯¹é½"></a>justify-contentå±æ€§ä¸æ•´ä½“å¸ƒå±€çš„æ°´å¹³å¯¹é½</h4><p>å¸¸ç”¨è¯­æ³•</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">justify-content</span>: normal | flex-start | flex-end | center | space-between| space-evenly| space-around;</span><br></pre></td></tr></table></figure><p>â— normalæ˜¯åˆå§‹å€¼ï¼Œè¡¨ç¤ºæ ¹æ®ç¯å¢ƒä¸åŒï¼Œå¯ä»¥é‡‡ç”¨ä¸åŒçš„å¯¹é½è¡¨ç°ã€‚flexé»˜è®¤è¡¨ç°ç±»ä¼¼äºstart</p><p>â— flex-startå¯ä»¥çœ‹æˆé»˜è®¤å€¼ï¼Œå®ƒæ˜¯ä¸€ä¸ªé€»è¾‘CSSå±æ€§å€¼ï¼Œä¸æ–‡æ¡£æµæ–¹å‘ç›¸å…³ï¼Œé»˜è®¤è¡¨ç°ä¸ºæ•´ä½“å¸ƒå±€å·¦å¯¹é½ã€‚</p><p>â— flex-endæ˜¯é€»è¾‘CSSå±æ€§å€¼ï¼Œä¸æ–‡æ¡£æµæ–¹å‘ç›¸å…³ï¼Œé»˜è®¤è¡¨ç°ä¸ºæ•´ä½“å¸ƒå±€å³å¯¹é½ã€‚<strong>æ³¨æ„ï¼Œå¦‚æœflexå®¹å™¨è®¾ç½®äº†overflowæ»šåŠ¨ï¼ŒåŒæ—¶åº”ç”¨justify-content:flex-endï¼Œæ»šåŠ¨æ•ˆæœä¼šå¤±æ•ˆã€‚</strong></p><p>â— centerè¡¨ç°ä¸ºæ•´ä½“å¸ƒå±€å±…ä¸­å¯¹é½ã€‚</p><p>â— space-betweenè¡¨ç¤ºå¤šä½™çš„ç©ºç™½é—´è·åªåœ¨å…ƒç´ ä¸­é—´åŒºåŸŸåˆ†é…</p><p>â— space-aroundè¡¨ç¤ºæ¯ä¸ªflexå­é¡¹ä¸¤ä¾§éƒ½ç¯ç»•äº’ä¸å¹²æ‰°çš„ç­‰å®½çš„ç©ºç™½é—´è·ï¼Œæœ€ç»ˆåœ¨è§†è§‰è¡¨ç°ä¸Šè¾¹ç¼˜ä¸¤ä¾§çš„ç©ºç™½åªæœ‰ä¸­é—´ç©ºç™½å®½åº¦çš„ä¸€åŠ</p><p>â— space-evenlyè¡¨ç¤ºæ¯ä¸ªflexå­é¡¹ä¸¤ä¾§ç©ºç™½é—´è·å®Œå…¨ç›¸ç­‰</p><p><a href="https://demo.cssworld.cn/new/6/2-4.php">æ•ˆæœå±•ç¤º</a></p><h4 id="å‚ç›´å¯¹é½å±æ€§align-itemsä¸align-self"><a href="#å‚ç›´å¯¹é½å±æ€§align-itemsä¸align-self" class="headerlink" title="å‚ç›´å¯¹é½å±æ€§align-itemsä¸align-self"></a>å‚ç›´å¯¹é½å±æ€§align-itemsä¸align-self</h4><blockquote><p>align-itemså±æ€§å’Œalign-selfå±æ€§çš„ä¸€ä¸ªåŒºåˆ«æ˜¯align-selfå±æ€§æ˜¯è®¾ç½®åœ¨å…·ä½“çš„æŸä¸€ä¸ªflexå­é¡¹ä¸Šçš„ï¼Œè€Œalign-itemså±æ€§æ˜¯è®¾ç½®åœ¨flexå®¹å™¨å…ƒç´ ä¸Šçš„ï¼Œæ§åˆ¶æ‰€æœ‰flexå­é¡¹çš„å‚ç›´å¯¹é½æ–¹å¼ï¼›å¦ä¸€ä¸ªåŒºåˆ«æ˜¯align-selfå±æ€§çš„åˆå§‹å€¼æ˜¯autoï¼Œå…¶ä½™çš„å±æ€§å€¼align-itemså±æ€§å’Œalign-selfå±æ€§çš„æ˜¯ä¸€æ ·çš„ï¼Œå«ä¹‰ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p></blockquote><p>å¸¸ç”¨è¯­æ³•ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">align-items</span>: stretch | flex-start | flex-end | center | baseline;</span><br><span class="line"></span><br><span class="line"><span class="attribute">align-self</span>: auto | stretch | flex-start | flex-end | center | baseline;</span><br></pre></td></tr></table></figure><p>â— stretchå¯ä»¥çœ‹æˆå¼¹æ€§å¸ƒå±€ä¸­align-itemså±æ€§çš„é»˜è®¤å€¼ï¼Œè¡¨ç¤ºflexå­é¡¹åœ¨å‚ç›´æ–¹å‘ä¸Šæ‹‰ä¼¸ã€‚</p><p>â— autoæ˜¯align-selfå±æ€§çš„é»˜è®¤å€¼ï¼Œè¡¨ç¤ºflexå­é¡¹çš„å‚ç›´å¯¹é½æ–¹å¼æ˜¯ç”±flexå®¹å™¨çš„align-itemså±æ€§å€¼å†³å®šçš„ã€‚</p><p>â— flex-startæ˜¯é€»è¾‘CSSå±æ€§å€¼ï¼Œä¸æ–‡æ¡£æµæ–¹å‘ç›¸å…³ï¼Œé»˜è®¤è¡¨ç°ä¸ºflexå­é¡¹é¡¶éƒ¨å¯¹é½</p><p>â— flex-endæ˜¯é€»è¾‘CSSå±æ€§å€¼ï¼Œä¸æ–‡æ¡£æµæ–¹å‘ç›¸å…³ï¼Œé»˜è®¤è¡¨ç°ä¸ºflexå­é¡¹åº•éƒ¨å¯¹é½</p><p>â— centerè¡¨ç¤ºflexå­é¡¹éƒ½æ˜¯å‚ç›´å±…ä¸­å¯¹é½</p><p>â— baselineè¡¨ç¤ºflexå­é¡¹å‚ä¸åŸºçº¿å¯¹é½ã€‚æ³¨æ„è¿™é‡Œçš„æªè¾æ˜¯â€œå‚ä¸åŸºçº¿å¯¹é½â€ï¼Œå¹¶ä¸æ˜¯æŒ‡flexå­é¡¹å’ŒåŸºçº¿å¯¹é½ï¼Œè€Œæ˜¯è®©æ‰€æœ‰flexå­é¡¹çš„å†…å¤–åŸºçº¿éƒ½åœ¨ä¸€æ¡æ°´å¹³çº¿ä¸Šï¼Œæ¢å¥è¯è¯´ï¼Œå°±æ˜¯ç»™æ¯ä¸ªflexå­é¡¹é‡Œé‡Œå¤–å¤–å†™ä¸Šå¤šä¸ªå­—æ¯â€œxâ€ï¼Œè¿™äº›å­—æ¯â€œxâ€çš„ä¸‹è¾¹ç¼˜ä¿æŒå¯¹é½</p><p><a href="https://demo.cssworld.cn/new/6/2-5.php">æ•ˆæœå±•ç¤º</a></p><blockquote><p>è¡¥å……ä¸€ä¸ªå°çŸ¥è¯†ç‚¹ï¼Œå¦‚æœflex-directionå±æ€§çš„å€¼æ˜¯columnæˆ–æ˜¯column-reverseï¼Œåˆ™flexå­é¡¹çš„å‚ç›´å¯¹é½ä¸åº”ä½¿ç”¨align-itemså±æ€§æ§åˆ¶ï¼Œè€Œæ˜¯åº”è¯¥ä½¿ç”¨justify-contentå±æ€§æ§åˆ¶</p></blockquote><blockquote><p>align-selfå±æ€§çš„å„ä¸ªå±æ€§å€¼çš„è¡¨ç°å’Œalign-itemså±æ€§çš„å„ä¸ªå±æ€§å€¼ä¸€æ ·ï¼ŒåŒºåˆ«åœ¨äºalign-selfå±æ€§è®¾ç½®çš„æ˜¯å…·ä½“æŸä¸ªflexå­é¡¹çš„å‚ç›´å¯¹é½æ–¹å¼</p><p><a href="https://demo.cssworld.cn/new/6/2-6.php">æ•ˆæœå±•ç¤º</a></p></blockquote><h4 id="align-contentå±æ€§ä¸æ•´ä½“å¸ƒå±€çš„å‚ç›´å¯¹é½"><a href="#align-contentå±æ€§ä¸æ•´ä½“å¸ƒå±€çš„å‚ç›´å¯¹é½" class="headerlink" title="align-contentå±æ€§ä¸æ•´ä½“å¸ƒå±€çš„å‚ç›´å¯¹é½"></a>align-contentå±æ€§ä¸æ•´ä½“å¸ƒå±€çš„å‚ç›´å¯¹é½</h4><blockquote><p>lign-contentå±æ€§å’Œalign-itemså±æ€§çš„åŒºåˆ«åœ¨äºalign-itemså±æ€§è®¾ç½®çš„æ˜¯æ¯ä¸€ä¸ªflexå­é¡¹çš„å‚ç›´å¯¹é½æ–¹å¼ï¼Œè€Œalign-contentå±æ€§å°†æ‰€æœ‰flexå­é¡¹ä½œä¸ºä¸€ä¸ªæ•´ä½“è¿›è¡Œå‚ç›´å¯¹é½è®¾ç½®ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">align-content</span>: stretch | flex-start | flex-end | center | space-between | space-around | space-evenly;</span><br></pre></td></tr></table></figure><p>â— stretchå¯ä»¥çœ‹æˆå¼¹æ€§å¸ƒå±€ä¸­align-contentå±æ€§çš„é»˜è®¤å€¼ï¼Œè¡¨ç¤ºæ¯ä¸€è¡Œflexå­é¡¹éƒ½ç­‰æ¯”ä¾‹æ‹‰ä¼¸ã€‚ä¾‹å¦‚ï¼Œå¦‚æœå…±ä¸¤è¡Œflexå­é¡¹ï¼Œåˆ™æ¯ä¸€è¡Œæ‹‰ä¼¸çš„é«˜åº¦æ˜¯50%ã€‚</p><p>â— flex-startæ˜¯é€»è¾‘CSSå±æ€§å€¼ï¼Œä¸æ–‡æ¡£æµæ–¹å‘ç›¸å…³ï¼Œé»˜è®¤è¡¨ç°ä¸ºé¡¶éƒ¨å †ç Œã€‚</p><p>â— flex-endæ˜¯é€»è¾‘CSSå±æ€§å€¼ï¼Œä¸æ–‡æ¡£æµæ–¹å‘ç›¸å…³ï¼Œé»˜è®¤è¡¨ç°ä¸ºåº•éƒ¨å †æ”¾ã€‚</p><p>â— centerè¡¨ç°ä¸ºæ•´ä½“å‚ç›´å±…ä¸­å¯¹é½ã€‚</p><p>â— space-betweenè¡¨ç°ä¸ºä¸Šä¸‹ä¸¤è¡Œä¸¤ç«¯å¯¹é½ï¼Œå‰©ä¸‹çš„æ¯ä¸€è¡Œå…ƒç´ ç­‰åˆ†å‰©ä½™ç©ºé—´ã€‚</p><p>â— space-aroundè¡¨ç°ä¸ºæ¯ä¸€è¡Œå…ƒç´ ä¸Šä¸‹éƒ½äº«æœ‰ç‹¬ç«‹ä¸é‡å çš„ç©ºç™½ç©ºé—´ã€‚</p><p>â— space-evenlyè¡¨ç°ä¸ºæ¯ä¸€è¡Œå…ƒç´ ä¸Šä¸‹çš„ç©ºç™½ç©ºé—´çš„å¤§å°éƒ½æ˜¯ä¸€è‡´çš„ã€‚</p><p><a href="https://demo.cssworld.cn/new/6/2-7.php">æ•ˆæœå±•ç¤º</a></p><h4 id="orderå±æ€§ä¸å•ä¸ªå­é¡¹çš„é¡ºåºæ§åˆ¶"><a href="#orderå±æ€§ä¸å•ä¸ªå­é¡¹çš„é¡ºåºæ§åˆ¶" class="headerlink" title="orderå±æ€§ä¸å•ä¸ªå­é¡¹çš„é¡ºåºæ§åˆ¶"></a>orderå±æ€§ä¸å•ä¸ªå­é¡¹çš„é¡ºåºæ§åˆ¶</h4><blockquote><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®orderå±æ€§æ¥æ”¹å˜æŸä¸€ä¸ªflexå­é¡¹çš„æ’åºä½ç½®ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">order</span>: &lt;integer&gt;; <span class="comment">/*æ•´æ•°å€¼ï¼Œé»˜è®¤æ˜¯ 0*/</span></span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/6/2-8.php">æ•ˆæœå±•ç¤º</a></p><h4 id="æ·±å…¥ç†è§£flexå±æ€§"><a href="#æ·±å…¥ç†è§£flexå±æ€§" class="headerlink" title="æ·±å…¥ç†è§£flexå±æ€§"></a>æ·±å…¥ç†è§£flexå±æ€§</h4><p><strong>éšè—çš„å‹å–„ç»†èŠ‚</strong></p><blockquote><p>flexå±æ€§æ˜¯flex-growã€flex-shrinkå’Œflex-basisè¿™3ä¸ªCSSå±æ€§çš„ç¼©å†™ï¼Œè¿™ä¸ªå¾ˆå¤šäººéƒ½çŸ¥é“ï¼Œä½†æ˜¯ï¼Œæˆ‘ç›¸ä¿¡å¾ˆå¤šäººå¹¶ä¸çŸ¥é“flexå±æ€§æ‚„æ‚„åšäº†å¾ˆå¤šå…¶ä»–CSSç¼©å†™å±æ€§éƒ½æ²¡æœ‰çš„ä¼˜åŒ–ã€‚</p><p>border, background ä¹Ÿæ˜¯å¦‚æ­¤</p></blockquote><p>border ï¼š</p><p>â— border:2pxç­‰åŒäºborder:2px none currentColorï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶border-styleçš„å€¼æ˜¯é»˜è®¤å€¼noneï¼Œborder-colorçš„è®¡ç®—å€¼æ˜¯å½“å‰çš„è‰²å€¼ã€‚</p><p>â— border:#fffç­‰åŒäºborder:medium none #fffï¼Œä¹Ÿå°±æ˜¯æ­¤æ—¶border-widthçš„å€¼æ˜¯é»˜è®¤å€¼mediumã€‚</p><p>â— border:solidç­‰åŒäºborder:medium solid currentColorã€‚</p><p>flexï¼š</p><p>â— flex:1ç­‰åŒäºflex:1 1 0%ï¼Œflex:1 2ç­‰åŒäºflex:1 2 0%ï¼Œå³flex-basisä½¿ç”¨çš„ä¸æ˜¯é»˜è®¤å€¼autoï¼Œè€Œæ˜¯ä½¿ç”¨çš„0%ã€‚</p><p>â— flex:100pxç­‰åŒäºflex:1 1 100pxï¼Œå³flex-growä½¿ç”¨çš„ä¸æ˜¯é»˜è®¤å€¼0ï¼Œè€Œæ˜¯ä½¿ç”¨çš„1ã€‚</p><p>â— flex:autoç­‰åŒäºè®¾ç½®flex: 1 1 autoï¼Œå…¶ä½œç”¨å°±å’Œå®ƒçš„åç§°ä¸€æ ·ï¼Œè¡¨ç¤ºâ€œè‡ªåŠ¨â€ï¼Œå³flexå­é¡¹è‡ªåŠ¨å¡«æ»¡å‰©ä½™ç©ºé—´æˆ–è‡ªåŠ¨æ”¶ç¼©ã€‚</p><p>â— flex:noneç­‰åŒäºè®¾ç½®flex: 0 0 autoï¼Œä½œç”¨å°±å’Œåç§°ä¸€æ ·ï¼Œè¡¨ç¤ºâ€œæ²¡æœ‰â€ï¼Œå³flexå­é¡¹æ²¡æœ‰å¼¹æ€§ï¼Œé€‚åˆå›ºå®šå°ºå¯¸å…ƒç´ ï¼ˆæ— é¡»è®¾ç½®widthå±æ€§ï¼‰ã€‚</p><p><strong>flexå±æ€§çš„è¯­æ³•</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex</span>: auto;</span><br><span class="line"><span class="attribute">flex</span>: none;</span><br><span class="line"><span class="attribute">flex</span>: &lt;flex-grow&gt; &lt;flex-shrink&gt; || &lt;flex-basis&gt;</span><br></pre></td></tr></table></figure><p>1ï¼‰å¦‚æœflexçš„å±æ€§å€¼åªæœ‰1ä¸ªå€¼ï¼Œåˆ™å…·ä½“è§„åˆ™å¦‚ä¸‹ã€‚</p><p>â— å¦‚æœæ˜¯æ•°å€¼ï¼Œå¦‚flex: 1ï¼Œåˆ™è¿™ä¸ª1ä¸ºflex-growå±æ€§çš„å€¼ï¼Œæ­¤æ—¶flex-shrinkå±æ€§å’Œflex-basiså±æ€§çš„å€¼åˆ†åˆ«æ˜¯1å’Œ0%ã€‚æ³¨æ„ï¼Œè¿™é‡Œçš„flex-basiså±æ€§çš„å€¼æ˜¯0%ï¼Œè€Œä¸æ˜¯é»˜è®¤å€¼autoã€‚</p><p>â— å¦‚æœæ˜¯é•¿åº¦å€¼ï¼Œå¦‚flex:100pxï¼Œåˆ™è¿™ä¸ª100pxæ˜¾ç„¶ä¸ºflex-basiså±æ€§çš„å€¼ï¼Œå› ä¸º3ä¸ªç¼©å†™CSSå±æ€§ä¸­åªæœ‰flex-basisçš„å±æ€§å€¼æ”¯æŒé•¿åº¦å€¼ã€‚æ­¤æ—¶flex-growå±æ€§å’Œflex- shrinkå±æ€§çš„å€¼éƒ½æ˜¯1ï¼Œæ³¨æ„ï¼Œè¿™é‡Œçš„flex-growå±æ€§çš„å€¼æ˜¯1ï¼Œè€Œä¸æ˜¯é»˜è®¤å€¼0ã€‚</p><p>2ï¼‰å¦‚æœflexçš„å±æ€§å€¼æœ‰2ä¸ªå€¼ï¼Œåˆ™ç¬¬ä¸€ä¸ªå€¼ä¸€å®šæ˜¯flex-growå±æ€§å€¼ï¼ˆå› ä¸ºè¡¨ç¤º0ä¸ªæˆ–1ä¸ªçš„é—®å·â€œ?â€åœ¨flex-shrinkçš„åé¢ï¼‰ï¼Œç¬¬äºŒä¸ªå€¼æ ¹æ®å€¼çš„ç±»å‹ä¸åŒå¯¹åº”ä¸åŒçš„CSSå±æ€§ï¼Œå…·ä½“è§„åˆ™å¦‚ä¸‹ã€‚</p><p>â— å¦‚æœç¬¬äºŒä¸ªå€¼æ˜¯æ•°å€¼ï¼Œä¾‹å¦‚flex: 1 2ï¼Œåˆ™è¿™ä¸ª2æ˜¯flex-shrinkå±æ€§çš„å€¼ï¼Œæ­¤æ—¶flex-basiså±æ€§è®¡ç®—å€¼æ˜¯0%ï¼Œå¹¶éé»˜è®¤å€¼autoã€‚</p><p>â— å¦‚æœç¬¬äºŒä¸ªå€¼æ˜¯é•¿åº¦å€¼ï¼Œä¾‹å¦‚flex: 1 100pxï¼Œåˆ™è¿™ä¸ª100pxä¸ºflex-basiså±æ€§å€¼ã€‚</p><p>3ï¼‰å¦‚æœflexçš„å±æ€§å€¼æœ‰3ä¸ªå€¼ï¼Œåˆ™é•¿åº¦å€¼ä¸ºflex-basiså±æ€§å€¼ï¼Œå…¶ä½™2ä¸ªæ•°å€¼åˆ†åˆ«ä¸ºflex-growå’Œflex-shrinkçš„å±æ€§å€¼ã€‚</p><p><strong>ç†è§£flex-growå±æ€§ã€flex-shrinkå±æ€§å’Œflex-basiså±æ€§</strong></p><blockquote><p>ä¸ºäº†è®©è¿™3ä¸ªå±æ€§æ›´å®¹æ˜“è¢«ç†è§£ï¼Œæˆ‘ä»¬ä¸å¦¨æŠŠå¼¹æ€§å¸ƒå±€ä¸­çš„å°ºå¯¸åˆ†é…çœ‹æˆåˆ†é…å®¶äº§ã€‚</p><p>æ•…äº‹æ˜¯è¿™æ ·çš„ï¼Œæœ‰ä¸€ä¸ªå§“èŒƒçš„äººå®¶ç”Ÿäº†5ä¸ªå­©å­ï¼Œåˆ†åˆ«å«ä½œèŒƒå¼ ã€èŒƒé‘«ã€èŒƒæ—­ã€èŒƒå¸…å’ŒèŒƒå“¥ã€‚è¦æ˜¯åªæœ‰ä¸€ä¸ªå­©å­ï¼Œé‚£è¿™ä¸ªå­©å­å°±ç»§æ‰¿100%çš„å®¶äº§ï¼Œä½†æ˜¯ç°åœ¨æœ‰5ä¸ªå­©å­ï¼Œå®¶é•¿èŒƒæŸéœ€è¦ææ—©å®šå¥½å®¶äº§åˆ†é…è§„åˆ™ã€‚è€Œflexå±æ€§çš„ä½œç”¨å°±å¦‚åŒåˆ¶å®šåˆ†é…å®¶äº§çš„è§„åˆ™ã€‚</p><p>â— flex-basiså±æ€§ç”¨æ¥åˆ†é…åŸºç¡€æ•°é‡çš„å®¶äº§ã€‚</p><p>â— flex-growå±æ€§ç”¨æ¥å®¶äº§ä»æœ‰å¯Œä½™çš„æ—¶å€™è¯¥å¦‚ä½•åˆ†é…ã€‚</p><p>â— flex-shrinkå±æ€§ç”¨æ¥å®¶äº§ä¸è¶³çš„æ—¶å€™è¯¥å¦‚ä½•åˆ†é…ã€‚</p></blockquote><ol><li><p>flex-growå±æ€§æŒ‡å®šäº†å®¹å™¨å‰©ä½™ç©ºé—´å¤šä½™æ—¶å€™çš„åˆ†é…è§„åˆ™ï¼Œé»˜è®¤å€¼æ˜¯0ï¼Œè¡¨ç¤ºå¤šä½™ç©ºé—´ä¸åˆ†é…ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex-grow</span>: &lt;number&gt;; // å¯ä»¥æ˜¯å°æ•°é»˜è®¤æ˜¯<span class="number">0</span></span><br></pre></td></tr></table></figure><blockquote><p>å…·ä½“è§„åˆ™å¦‚ä¸‹ã€‚</p><p>â— æ‰€æœ‰å‰©ä½™ç©ºé—´æ€»é‡æ˜¯1ã€‚</p><p>â— å¦‚æœåªæœ‰1ä¸ªflexå­é¡¹è®¾ç½®äº†flex-growå±æ€§å€¼ï¼Œåˆ™æœ‰ä¸¤ç§åˆ†é…æƒ…å†µã€‚</p><p>â— å¦‚æœflex-growå±æ€§å€¼å°äº1ï¼Œåˆ™flexå­é¡¹æ‰©å±•çš„ç©ºé—´å°±æ˜¯æ€»å‰©ä½™ç©ºé—´å’Œè¿™ä¸ªæ¯”ä¾‹çš„è®¡ç®—å€¼ã€‚</p><p>â— å¦‚æœflex-growå±æ€§å€¼å¤§äº1ï¼Œåˆ™flexå­é¡¹ç‹¬äº«æ‰€æœ‰å‰©ä½™ç©ºé—´ã€‚</p><p>â— å¦‚æœæœ‰å¤šä¸ªå­é¡¹flexè®¾ç½®äº†flex-growå±æ€§å€¼ï¼Œåˆ™æœ‰ä¸¤ç§åˆ†é…æƒ…å†µã€‚</p><p>â— å¦‚æœflex-growå±æ€§å€¼çš„æ€»å’Œå°äº1ï¼Œåˆ™æ¯ä¸ªflexå­é¡¹æ‰©å±•çš„ç©ºé—´å°±æ˜¯æ€»å‰©ä½™ç©ºé—´å’Œå½“å‰flexå­é¡¹è®¾ç½®çš„flex-growæ¯”ä¾‹çš„è®¡ç®—å€¼ã€‚</p><p>â— å¦‚æœflex-growå±æ€§å€¼çš„æ€»å’Œå¤§äº1ï¼Œåˆ™æ‰€æœ‰å‰©ä½™ç©ºé—´è¢«åˆ©ç”¨ï¼Œåˆ†é…æ¯”ä¾‹å°±æ˜¯å„ä¸ªflexå­é¡¹çš„flex-growå±æ€§å€¼çš„æ¯”ä¾‹ã€‚</p><p>ä¾‹å¦‚ï¼Œæ‰€æœ‰flexå­é¡¹éƒ½è®¾ç½®flex-grow:1ï¼Œåˆ™è¡¨ç¤ºå‰©ä½™ç©ºé—´ç­‰åˆ†ï¼›å¦‚æœè®¾ç½®çš„flex-growæ¯”ä¾‹æ˜¯1:2:1ï¼Œåˆ™ä¸­é—´çš„flexå­é¡¹å æ®ä¸€åŠçš„å‰©ä½™ç©ºé—´ï¼Œå‰©ä¸‹å¦å¤–ä¸€åŠçš„å‰©ä½™ç©ºé—´ç”±å‰åä¸¤ä¸ªflexå­é¡¹ç­‰åˆ†ã€‚</p></blockquote></li><li><p>flex-shrinkå±æ€§æŒ‡å®šäº†å®¹å™¨å‰©ä½™ç©ºé—´ä¸è¶³æ—¶å€™çš„åˆ†é…è§„åˆ™ï¼Œé»˜è®¤å€¼æ˜¯1ï¼Œè¡¨ç¤ºç©ºé—´ä¸è¶³è¦åˆ†é…ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex-shrink</span>: &lt;number&gt; // é»˜è®¤<span class="number">1</span></span><br></pre></td></tr></table></figure><blockquote><p>å…·ä½“è§„åˆ™å¦‚ä¸‹ã€‚</p><p>â— å¦‚æœåªæœ‰1ä¸ªflexå­é¡¹è®¾ç½®äº†flex-shrinkå±æ€§å€¼ï¼Œåˆ™æœ‰ä¸¤ç§åˆ†é…æƒ…å†µã€‚</p><p>â— å¦‚æœflex-shrinkå±æ€§å€¼å°äº1ï¼Œåˆ™æ”¶ç¼©ä¸å®Œå…¨ï¼Œä¼šæœ‰ä¸€éƒ¨åˆ†å†…å®¹æº¢å‡ºflexå®¹å™¨ã€‚</p><p>â— å¦‚æœflex-shrinkå±æ€§å€¼å¤§äºç­‰äº1ï¼Œåˆ™æ”¶ç¼©å®Œå…¨ï¼Œå…ƒç´ æ­£å¥½å¡«æ»¡flexå®¹å™¨ã€‚</p><p>â— å¦‚æœå¤šä¸ªflexå­é¡¹è®¾ç½®äº†flex-shrinkå±æ€§ï¼Œåˆ™æœ‰ä¸¤ç§åˆ†é…æƒ…å†µã€‚</p><p>â— å¦‚æœflex-shrinkå±æ€§å€¼çš„æ€»å’Œå°äº1ï¼Œåˆ™æ”¶ç¼©ä¸å®Œå…¨ï¼Œæ¯ä¸ªå…ƒç´ æ”¶ç¼©å°ºå¯¸å’Œâ€œå®Œå…¨æ”¶ç¼©çš„å°ºå¯¸â€çš„æ¯”ä¾‹å°±æ˜¯è¯¥å…ƒç´ çš„flex-shrinkå±æ€§çš„å€¼ã€‚</p><p>â— å¦‚æœflex-shrinkå±æ€§å€¼çš„æ€»å’Œå¤§äº1ï¼Œåˆ™æ”¶ç¼©å®Œå…¨ï¼Œæ¯ä¸ªå…ƒç´ æ”¶ç¼©å°ºå¯¸çš„æ¯”ä¾‹å’Œflex-shrinkå±æ€§å€¼çš„æ¯”ä¾‹ä¸€æ ·ã€‚</p></blockquote></li><li><p>flex-basiså±æ€§åˆ™æ˜¯æŒ‡å®šçš„åˆ†é…åŸºç¡€å°ºå¯¸ï¼Œé»˜è®¤å€¼æ˜¯autoï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex-basis</span>: &lt;length&gt; | auto; // é»˜è®¤å€¼æ˜¯ auto</span><br></pre></td></tr></table></figure></li></ol><blockquote><p>èŒƒæŸçš„å®¶äº§åˆ†é…é—å˜±æ˜¯åœ¨è‡ªå·±50å²æ—¶å€™åˆ¶å®šçš„ã€‚ç”±äºèŒƒå¼ ã€èŒƒé‘«å’ŒèŒƒæ—­éƒ½å·²ç»æˆå®¶ç«‹ä¸šï¼Œå„è‡ªåœ¨å¤–ç‹¬ç«‹ç”Ÿæ´»ï¼Œå› æ­¤ï¼Œç»™è¿™3ä¸ªäººåˆ†é…äº†å›ºå®šæ•°ç›®çš„å®¶äº§ï¼Œæ¯äºº100ä¸‡å…ƒï¼›è€ŒèŒƒå¸…å’ŒèŒƒå“¥å°šæœªæˆå¹´ï¼Œå’ŒèŒƒæŸè¿˜ä½åœ¨ä¸€èµ·ï¼Œæ‰€ä»¥ï¼Œé—å˜±å°±æ˜¯å‰©ä¸‹çš„å®¶äº§ç”±èŒƒå¸…å’ŒèŒƒå“¥ä¸¤äººå¹³åˆ†ï¼ŒæŒ‰ç…§èŒƒæŸ50å²æ—¶å€™çš„èµ„äº§ï¼ŒèŒƒå¸…å’ŒèŒƒå“¥ä¹Ÿåˆ†å¾—äººå‡100ä¸‡å…ƒçš„å®¶äº§ã€‚ä½†æ˜¯ä¸–äº‹éš¾æ–™ï¼Œæ²¡è¿‡å‡ å¹´èŒƒå®¶å®¶é“ä¸­è½ï¼ŒèŒƒæŸæ€»èµ„äº§å·²ç»ä¸è¶³300ä¸‡å…ƒï¼Œæ­¤æ—¶ï¼Œæ‰£é™¤ç­”åº”èŒƒå¼ ã€èŒƒé‘«å’ŒèŒƒæ—­çš„300ä¸‡å…ƒï¼Œå·²ç»æ²¡æœ‰å¤šä½™å®¶äº§äº†ï¼ŒèŒƒå¸…å’ŒèŒƒå“¥å°±æ²¡æœ‰å®¶äº§å¯ç»§æ‰¿äº†ï¼Œè¿™å°±ç›¸å½“äºå®¹å™¨å‰©ä½™ç©ºé—´ä¸è¶³ã€‚å› æ­¤ï¼Œä¸ºäº†åº”å¯¹å„ç§çŠ¶å†µå‡ºç°ï¼Œåœ¨å®¶äº§åˆ†é…è§„åˆ™åˆ¶å®šçš„æ—¶å€™ï¼Œä¸€å®šè¦æ˜ç¡®å¥½åŸºç¡€å®¶äº§æ•°é‡flex-basisï¼Œå®¶äº§å……è¶³æ—¶å€™çš„åˆ†é…è§„åˆ™flex-growï¼Œä»¥åŠå®¶äº§ä¸è¶³æ—¶å€™çš„åˆ†é…è§„åˆ™flex-shrinkã€‚</p><p>å®ç°èŒƒå¼ ã€èŒƒé‘«å’ŒèŒƒæ—­æ¯äººæœ‰100ä¸‡å…ƒå›ºå®šå®¶äº§ï¼ŒèŒƒå¸…å’ŒèŒƒå“¥æœ‰20ä¸‡å…ƒä¿åº•å®¶äº§ã€‚å¦‚æœèŒƒæŸå»ä¸–é‚£å¤©å®¶äº§è¿˜æœ‰å¯Œä½™ï¼Œåˆ™èŒƒå¸…å’ŒèŒƒå“¥æŒ‰ç…§3:2æ¯”ä¾‹åˆ†é…ï¼›å¦‚æœæ²¡æœ‰å‰©ä½™å®¶äº§ï¼Œåˆ™èŒƒå¼ ã€èŒƒé‘«å’ŒèŒƒæ—­æŒ‰ç…§2:1:1çš„æ¯”ä¾‹åˆ†åˆ«ç»™èŒƒå¸…å’ŒèŒƒå“¥åŒ€20ä¸‡å…ƒä¿åº•å®¶äº§</p></blockquote><ul><li><h5 id="HTMLï¼š-5"><a href="#HTMLï¼š-5" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">class</span>=<span class="string">&quot;zhang&quot;</span>&gt;</span>èŒƒå¼ <span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">class</span>=<span class="string">&quot;xin&quot;</span>&gt;</span>èŒƒé‘«<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">class</span>=<span class="string">&quot;xu&quot;</span>&gt;</span>èŒƒæ—­<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">class</span>=<span class="string">&quot;shuai&quot;</span>&gt;</span>èŒƒå¸…<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span> <span class="attr">class</span>=<span class="string">&quot;ge&quot;</span>&gt;</span>èŒƒå“¥<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-6"><a href="#CSSï¼š-6" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> dashed crimson;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> item &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">2px</span> solid deepskyblue;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.zhang</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">2</span> <span class="number">100px</span>;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.xin</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">1</span> <span class="number">100px</span>;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.xu</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">0</span> <span class="number">1</span> <span class="number">100px</span>;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.shuai</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">3</span> <span class="number">0</span> <span class="number">20px</span>;    </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.ge</span> &#123;</span><br><span class="line">    <span class="attribute">flex</span>: <span class="number">2</span> <span class="number">0</span> <span class="number">20px</span>;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><a href="https://demo.cssworld.cn/new/6/2-9.php">ç¤ºä¾‹æ•ˆæœ</a></p><h4 id="åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨flex-0-1-none-auto"><a href="#åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨flex-0-1-none-auto" class="headerlink" title="åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨flex:0/1/none/auto"></a>åº”è¯¥åœ¨ä»€ä¹ˆæ—¶å€™ä½¿ç”¨flex:0/1/none/auto</h4><blockquote><p>å¸¸è§çš„flexå±æ€§å•å€¼è¯­æ³•å¯¹åº”çš„è®¡ç®—å€¼</p></blockquote><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221031150458362.png" alt="image-20221031150458362"></p><ol><li><p>flex:initialçš„åŸºæœ¬è¡¨ç°</p><p> åº”ç”¨flex:initialçš„å…ƒç´ åœ¨flexå®¹å™¨æœ‰å‰©ä½™ç©ºé—´æ—¶å…¶å°ºå¯¸ä¸ä¼šå¢é•¿ï¼ˆflex-grow:0ï¼‰ï¼Œåœ¨flexå®¹å™¨å°ºå¯¸ä¸è¶³æ—¶å°ºå¯¸ä¼šæ”¶ç¼©å˜å°ï¼ˆflex-shrink:1ï¼‰ï¼ŒåŒæ—¶å½“å‰åº”ç”¨flex:initialçš„å…ƒç´ çš„å°ºå¯¸è‡ªé€‚åº”äºå†…å®¹ï¼ˆflex-basis:autoï¼‰ã€‚</p><p> <strong>é€‚ç”¨çš„åœºæ™¯</strong></p><blockquote><p>å°±æ˜¯åœ¨é‚£äº›å¸Œæœ›å…ƒç´ å°ºå¯¸æ”¶ç¼©ï¼ŒåŒæ—¶å…ƒç´ å†…å®¹è¾ƒå¤šåˆèƒ½è‡ªåŠ¨æ¢è¡Œçš„åœºæ™¯ä¸­å¯ä»¥ä¸åšä»»ä½•flexå±æ€§è®¾ç½®</p></blockquote></li><li><p>flex:0å’Œflex:noneçš„åŒºåˆ«</p><p> flex:0ç­‰åŒäºè®¾ç½®flex: 0 1 0%</p><p> flex:noneç­‰åŒäºè®¾ç½®flex: 0 0 auto</p><blockquote><p><strong>flex:0</strong>å…ƒç´ å°ºå¯¸ä¸ä¼šå¼¹æ€§å¢å¤§ï¼ˆflex-grow:0ï¼‰,ä½†æ˜¯ä¼šå¼¹æ€§æ”¶ç¼©(flex-shrink:1ï¼‰ï¼Œè€ƒè™‘åˆ°æ­¤æ—¶flex-basiså±æ€§å€¼æ˜¯0%ï¼Œè¡¨ç¤ºåŸºç¡€å°ºå¯¸æ˜¯0ï¼Œå› æ­¤è®¾ç½®flex:0çš„å…ƒç´ å°ºå¯¸è¡¨ç°ä¸ºæœ€å°å†…å®¹å®½åº¦ï¼Œä¹Ÿå°±æ˜¯æ–‡å­—ä¼šå‘ˆç°â€œä¸€æŸ±æ“å¤©â€çš„</p><p><strong>flex:none</strong>çš„å°ºå¯¸åŒæ ·ä¸ä¼šå¼¹æ€§å¢å¤§ï¼ˆflex-grow:0ï¼‰ï¼Œä½†æ˜¯ä¹Ÿä¸ä¼šå¼¹æ€§æ”¶ç¼©ï¼ˆflex-shrink:0ï¼‰ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºå…ƒç´ çš„å°ºå¯¸æ²¡æœ‰å¼¹æ€§å˜åŒ–ï¼Œè€ƒè™‘åˆ°æ­¤æ—¶flex-basiså±æ€§å€¼æ˜¯autoï¼Œå³åŸºç¡€å°ºå¯¸ç”±å†…å®¹å†³å®šï¼Œå› æ­¤è®¾ç½®flex:noneçš„å…ƒç´ æœ€ç»ˆå°ºå¯¸é€šå¸¸è¡¨ç°ä¸ºæœ€å¤§å†…å®¹å®½åº¦ã€‚</p></blockquote></li><li><p>flex:1å’Œflex:autoçš„åŒºåˆ«</p><p> flex:1ç­‰åŒäºè®¾ç½®flex: 1 1 0%</p><p> flex:autoç­‰åŒäºè®¾ç½®flex: 1 1 auto</p><blockquote><p>å…ƒç´ å°ºå¯¸å¯ä»¥å¼¹æ€§å¢å¤§ï¼Œä¹Ÿå¯ä»¥å¼¹æ€§å‡å°ï¼Œä½†æ˜¯flex:1åœ¨å®¹å™¨å°ºå¯¸ä¸è¶³æ—¶ä¼šä¼˜å…ˆæœ€å°åŒ–å†…å®¹å°ºå¯¸ï¼Œflex:autoåœ¨å®¹å™¨å°ºå¯¸ä¸è¶³æ—¶ä¼šä¼˜å…ˆæœ€å¤§åŒ–å†…å®¹å°ºå¯¸ã€‚</p><p>å½“å¸Œæœ›å…ƒç´ å……åˆ†åˆ©ç”¨å‰©ä½™ç©ºé—´ï¼ŒåŒæ—¶ä¸ä¼šä¾µå å…¶ä»–å…ƒç´ åº”æœ‰çš„å®½åº¦çš„æ—¶å€™ï¼Œé€‚åˆä½¿ç”¨flex:1ï¼Œè¿™æ ·çš„åœºæ™¯åœ¨å¼¹æ€§å¸ƒå±€ä¸­éå¸¸å¤š</p><p><a href="https://demo.cssworld.cn/new/6/2-10.php">æ•ˆæœå±•ç¤º</a></p><p>å½“å¸Œæœ›å…ƒç´ å……åˆ†åˆ©ç”¨å‰©ä½™ç©ºé—´ï¼Œä½†æ˜¯å…ƒç´ å„è‡ªçš„å°ºå¯¸åˆéœ€è¦æŒ‰ç…§å„è‡ªå†…å®¹è¿›è¡Œåˆ†é…çš„æ—¶å€™ï¼Œå°±é€‚åˆä½¿ç”¨flex:autoã€‚</p><p>[å®½åº¦è‡ªåŠ¨åˆ†é…çš„å¯¼èˆªæ ](<a href="https://demo/">https://demo</a>. cssworld.cn/new/6/2-11.php)</p></blockquote></li></ol><p>æœ€åå†æ€»ç»“ä¸€ä¸‹ã€‚</p><p>â— flex:initialè¡¨ç¤ºé»˜è®¤çš„å¼¹æ€§å¸ƒå±€çŠ¶æ€ï¼Œæ— é¡»ä¸“é—¨è®¾ç½®ï¼Œé€‚åˆå°æ§ä»¶å…ƒç´ çš„åˆ†å¸ƒå¸ƒå±€ï¼ˆå…¶ä¸­æŸä¸€ä¸ªflexå­é¡¹çš„å†…å®¹åŠ¨æ€å˜åŒ–ä¹Ÿæ²¡æœ‰å…³ç³»ï¼‰ã€‚</p><p>â— flex:0é€‚ç”¨åœºæ™¯è¾ƒå°‘ï¼Œé€‚åˆè®¾ç½®åœ¨æ›¿æ¢å…ƒç´ çš„çˆ¶å…ƒç´ ä¸Šã€‚</p><p>â— flex:noneé€‚åˆè®¾ç½®åœ¨å†…å®¹ä¸èƒ½æ¢è¡Œæ˜¾ç¤ºçš„å°æ§ä»¶å…ƒç´ ä¸Šï¼Œå¦‚æŒ‰é’®ã€‚</p><p>â— flex:1é€‚åˆç­‰åˆ†å¸ƒå±€ã€‚</p><p>â— flex:autoé€‚åˆåŸºäºå†…å®¹åŠ¨æ€é€‚é…çš„å¸ƒå±€ã€‚</p><h4 id="è¯¦ç»†äº†è§£flex-basiså±æ€§ä¸å°ºå¯¸è®¡ç®—è§„åˆ™"><a href="#è¯¦ç»†äº†è§£flex-basiså±æ€§ä¸å°ºå¯¸è®¡ç®—è§„åˆ™" class="headerlink" title="è¯¦ç»†äº†è§£flex-basiså±æ€§ä¸å°ºå¯¸è®¡ç®—è§„åˆ™"></a>è¯¦ç»†äº†è§£flex-basiså±æ€§ä¸å°ºå¯¸è®¡ç®—è§„åˆ™</h4><blockquote><p>åœ¨å¼¹æ€§å¸ƒå±€ä¸­ï¼Œä¸€ä¸ªflexå­é¡¹çš„æœ€ç»ˆå°ºå¯¸æ˜¯åŸºç¡€å°ºå¯¸ï¼ˆæˆ–å†…å®¹å°ºå¯¸ï¼‰ã€å¼¹æ€§å¢é•¿æˆ–æ”¶ç¼©ã€æœ€å¤§æœ€å°å°ºå¯¸å…±åŒä½œç”¨çš„ç»“æœã€‚</p><p><strong>æœ€ç»ˆå°ºå¯¸è®¡ç®—çš„ä¼˜å…ˆçº§æ˜¯ï¼š</strong></p><p>æœ€å¤§æœ€å°å°ºå¯¸é™åˆ¶ &gt; å¼¹æ€§å¢é•¿æˆ–æ”¶ç¼© &gt; åŸºç¡€å°ºå¯¸</p><p>â— åŸºç¡€å°ºå¯¸ç”±flex-basiså±æ€§æˆ–widthå±æ€§ï¼Œä»¥åŠbox-sizingç›’æ¨¡å‹å…±åŒå†³å®šï¼›</p><p>â— å†…å®¹å°ºå¯¸æŒ‡æœ€å¤§å†…å®¹å®½åº¦ï¼Œå½“æ²¡æœ‰è®¾ç½®åŸºç¡€å°ºå¯¸æ—¶ä¼šé¡¶æ›¿åŸºç¡€å°ºå¯¸çš„è§’è‰²ï¼›</p><p>â— å¼¹æ€§å¢é•¿æŒ‡çš„æ˜¯flex-growå±æ€§ï¼Œå¼¹æ€§æ”¶ç¼©æŒ‡çš„æ˜¯flex-shrinkå±æ€§ï¼›</p><p>â— æœ€å¤§å°ºå¯¸ä¸»è¦å—max-widthå±æ€§é™åˆ¶ï¼›æœ€å°å°ºå¯¸åˆ™æ¯”è¾ƒå¤æ‚ï¼Œå—æœ€å°å†…å®¹å®½åº¦ã€widthå±æ€§å’Œmin-widthå±æ€§å…±åŒå½±å“ã€‚</p></blockquote><p><strong>flex-basiså±æ€§ä¸ç›’æ¨¡å‹</strong></p><blockquote><p>flex-basiså±æ€§çš„å°ºå¯¸æ˜¯ä½œç”¨åœ¨content-boxä¸Šçš„ï¼Œè¿™ä¸€ç‚¹å’Œwidthå±æ€§æ˜¯ä¸€æ ·çš„</p><p>flexå­é¡¹é‡Œé¢çš„æ–‡æœ¬å†…å®¹å­˜åœ¨è¿ç»­è‹±æ–‡å•è¯å¯¼è‡´æœ€å°å°ºå¯¸æ¯”è¾ƒå¤§ï¼Œæœ€ç»ˆå°ºå¯¸å¤§äº120px</p></blockquote><p><a href="https://demo.cssworld.cn/new/6/2-12.php">word-break:break-allå¯¹flex-basiså°ºå¯¸æ¸²æŸ“çš„å½±å“</a></p><p><strong>ç†è§£flex-basiså±æ€§ã€widthå±æ€§å’ŒåŸºç¡€å°ºå¯¸ä¹‹é—´çš„å…³ç³»</strong></p><blockquote><p>å¼¹æ€§å¸ƒå±€ä¸­çš„å°ºå¯¸è¡¨ç°å‡ ä¹éƒ½æ˜¯å›´ç»•åŸºç¡€å°ºå¯¸å±•å¼€çš„ã€‚å…¶ä¸­flex-basiså±æ€§å’Œwidthå±æ€§éƒ½å¯ä»¥ç”¨æ¥è®¾ç½®flexå­é¡¹çš„åŸºç¡€å°ºå¯¸ï¼Œå¯¹åŸºç¡€å°ºå¯¸çš„å½±å“å…³ç³»å¦‚ä¸‹ã€‚</p><ul><li>å¦‚æœflex-basiså±æ€§å’Œwidthå±æ€§åŒæ—¶è®¾ç½®äº†å…·ä½“çš„æ•°å€¼ï¼Œwidthå±æ€§å€¼ä¼šè¢«å¿½ç•¥ï¼Œä¼˜å…ˆä½¿ç”¨flex-basisçš„å±æ€§å€¼ä½œä¸ºåŸºç¡€å°ºå¯¸</li><li>å¦‚æœflex-basisçš„å±æ€§å€¼æ˜¯åˆå§‹å€¼autoï¼Œåˆ™ä¼šä½¿ç”¨widthå±æ€§è®¾ç½®çš„é•¿åº¦å€¼ä½œä¸ºåŸºç¡€å°ºå¯¸ã€‚</li><li>å¦‚æœflex-basiså’Œwidthçš„å±æ€§å€¼éƒ½æ˜¯autoï¼Œåˆ™ä¼šä½¿ç”¨flexå­é¡¹çš„æœ€å¤§å†…å®¹å®½åº¦ä½œä¸ºåŸºç¡€å°ºå¯¸ï¼Œæ­¤æ—¶ç§°ä¸ºâ€œå†…å®¹å°ºå¯¸â€ã€‚</li></ul></blockquote><h4 id="æ·±å…¥ç†è§£æœ€å°å°ºå¯¸"><a href="#æ·±å…¥ç†è§£æœ€å°å°ºå¯¸" class="headerlink" title="æ·±å…¥ç†è§£æœ€å°å°ºå¯¸"></a><strong>æ·±å…¥ç†è§£æœ€å°å°ºå¯¸</strong></h4><blockquote><p>åœ¨å¼¹æ€§å¸ƒå±€ä¸­ï¼Œè™½ç„¶flex-basiså±æ€§å’Œwidthå±æ€§çš„è¯­æ³•ç±»ä¼¼ï¼ˆä¾‹å¦‚ç™¾åˆ†æ¯”å€¼çš„è®¡ç®—è§„åˆ™æ˜¯ä¸€æ ·çš„ï¼‰ï¼Œæ€§è´¨ä¹Ÿç±»ä¼¼ï¼ˆä¾‹å¦‚éƒ½å¯ä»¥ä½œä¸ºåŸºç¡€å°ºå¯¸ï¼‰ï¼Œä½†æ˜¯å¦‚æœæ¶‰åŠæœ€å°å°ºå¯¸ï¼Œä¸¤è€…çš„å·®å¼‚å°±ä½“ç°å‡ºæ¥äº†ã€‚</p><p>flex-basiså±æ€§ä¸‹çš„æœ€å°å°ºå¯¸æ˜¯ç”±å†…å®¹å†³å®šçš„ï¼Œè€Œwidthå±æ€§ä¸‹çš„æœ€å°å°ºå¯¸æ˜¯ç”±widthå±æ€§çš„è®¡ç®—å€¼å†³å®šçš„ã€‚è¿™é‡Œå‡ºç°çš„â€œæœ€å°å°ºå¯¸â€è¡¨ç¤ºæœ€ç»ˆå°ºå¯¸çš„æœ€å°å€¼ï¼Œè¿™ä¸ªâ€œæœ€å°å°ºå¯¸â€æ˜¯æœ€å°å†…å®¹å®½åº¦ã€widthå±æ€§å’Œmin-widthå±æ€§å…±åŒä½œç”¨çš„ç»“æœã€‚</p></blockquote><p>å…·ä½“è§„åˆ™å¦‚ä¸‹ï¼Œå¦‚æœflex-shrinkå±æ€§ä¸ä¸º0ï¼Œåˆ™ï¼š</p><p>â— å¦‚æœmin-widthå±æ€§å€¼ä¸æ˜¯autoï¼Œåˆ™å…ƒç´ çš„æœ€å°å°ºå¯¸å°±æ˜¯min-widthçš„å±æ€§å€¼ï¼Œæ­¤æ—¶widthå±æ€§æ— æ³•å½±å“æœ€å°å°ºå¯¸ï¼Œå“ªæ€•widthçš„å±æ€§å€¼å¤§äºmin-widthçš„å±æ€§å€¼ï¼›</p><p>â— æ¯”è¾ƒwidthå±æ€§çš„è®¡ç®—å€¼å’Œæœ€å°å†…å®¹å®½åº¦çš„å¤§å°ï¼Œè¾ƒå°çš„å€¼å°±æ˜¯å…ƒç´ çš„æœ€å°å°ºå¯¸ï¼›</p><p>â— å¦‚æœwidthçš„å±æ€§å€¼å’Œmin-widthçš„å±æ€§å€¼å‡ä¸ºautoï¼Œåˆ™å…ƒç´ çš„æœ€å°å°ºå¯¸å°±æ˜¯æœ€å°å†…å®¹å®½åº¦ï¼›</p><p>â— å¦‚æœflexå­é¡¹è®¾ç½®äº†overflow:hiddenï¼Œä¸”æœ€å°å°ºå¯¸æ˜¯ç”±æœ€å°å†…å®¹å®½åº¦å†³å®šçš„ï¼Œåˆ™æœ€å°å°ºå¯¸æ— æ•ˆã€‚</p><p><a href="https://demo.cssworld.cn/new/6/2-13.php">flex-basicã€widthä¸æœ€å°å†…å®¹å®½åº¦åŒæ—¶ä½œç”¨</a></p><blockquote><p>æœ€åæ€»ç»“ä¸‹æœ¬èŠ‚å…³äºflex-basiså±æ€§çš„ä¸€äº›è¦ç‚¹ã€‚</p><p>â— flex-basiså±æ€§é»˜è®¤ä½œç”¨åœ¨content boxä¸Šï¼ŒIE11æµè§ˆå™¨ä¼šå¿½ç•¥box-sizingå±æ€§ã€‚</p><p>â— flex-basiså±æ€§ä¼˜å…ˆçº§æ¯”widthå±æ€§é«˜ï¼ŒåŒæ—¶è®¾ç½®çš„æ—¶å€™ï¼Œwidthå±æ€§æ— æ³•å½±å“åŸºç¡€å°ºå¯¸ï¼Œä½†æ˜¯ä¼šå½±å“æœ€å°å°ºå¯¸ï¼ˆIE11é™¤å¤–ï¼‰ã€‚</p><p>â— æœ€å°å°ºå¯¸ä¸flex-basiså±æ€§æ— å…³ï¼Œè€Œä¸æœ€å°å†…å®¹å®½åº¦ã€widthå±æ€§å’Œmin-widthå±æ€§æœ‰å…³ã€‚</p><p>â— flex-basiså±æ€§ä½¿ç”¨å¾—å½“å¯ä»¥å®ç°ç±»ä¼¼min-widthå±æ€§æˆ–max-widthå±æ€§çš„æ•ˆæœï¼Œmin-widthå±æ€§å¯ä»¥åœ¨ä¸å½±å“åŸºç¡€å°ºå¯¸çš„å‰æä¸‹è®¾ç½®æœ€å°å°ºå¯¸ï¼Œä»è€Œè§£å†³å¼¹æ€§å¸ƒå±€ä¸­æ‰“ç‚¹æ— æ•ˆçš„é—®é¢˜ã€‚</p><p>â— flex-basiså±æ€§è¿˜æ”¯æŒå¾ˆå¤šå…³é”®å­—å±æ€§å€¼ï¼Œåªä¸è¿‡ç›®å‰å…¼å®¹æ€§ä¸å¤ªå¥½ã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/6/2-15.php">å®½åº¦ä¸ç¡®å®šæ—¶è®¾ç½®æ–‡å­—è¶…å‡ºéšè—</a></p><p><strong>flex-basiså±æ€§è¿˜æ”¯æŒå…³é”®å­—å±æ€§å€¼</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">flex-basis</span>: content | fill | max-content | min-content | fit-content;</span><br></pre></td></tr></table></figure><h4 id="å¼¹æ€§å¸ƒå±€æœ€åä¸€è¡Œä¸å¯¹é½çš„å¤„ç†"><a href="#å¼¹æ€§å¸ƒå±€æœ€åä¸€è¡Œä¸å¯¹é½çš„å¤„ç†" class="headerlink" title="å¼¹æ€§å¸ƒå±€æœ€åä¸€è¡Œä¸å¯¹é½çš„å¤„ç†"></a>å¼¹æ€§å¸ƒå±€æœ€åä¸€è¡Œä¸å¯¹é½çš„å¤„ç†</h4><ul><li><p>è¡¥é½æœ€åä¸€è¡Œçš„å…ƒç´ </p></li><li><p>ç†è®ºä¸Šæœ€å¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨gapå±æ€§è®¾ç½®é—´éš™</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">gap</span>: <span class="built_in">calc</span>(<span class="number">4%</span> / <span class="number">3</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">24%</span>; <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: skyblue;</span><br><span class="line">    <span class="attribute">margin-top</span>: <span class="number">15px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸è¿‡ç”±äºç›®å‰ä»…æœ‰Firefoxæµè§ˆå™¨å’ŒChromeæµè§ˆå™¨æœ€æ–°çš„å‡ ä¸ªç‰ˆæœ¬æ”¯æŒgapå±æ€§ï¼Œå› æ­¤ç›®å‰è¿™ä¸ªæ–¹æ³•æ— æ³•åº”ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒã€‚</p></blockquote></li><li><p>æœ€åä¸€ä¸ªå…ƒç´ è®¾ç½®åŠ¨æ€marginå€¼</p><blockquote><p>ç”±äºæ¯ä¸€åˆ—çš„æ•°ç›®éƒ½æ˜¯å›ºå®šçš„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥è®¡ç®—å‡ºä¸åŒå…ƒç´ ä¸ªæ•°çš„åˆ—è¡¨åº”å½“è®¾ç½®å¤šå¤§çš„marginå€¼æ‰èƒ½ä¿è¯å®Œå…¨å·¦å¯¹é½ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æ¯è¡Œå¯ä»¥å­˜æ”¾4ä¸ªå…ƒç´ ï¼Œç»“æœæœ€åä¸€è¡Œåªæœ‰3ä¸ªå…ƒç´ ï¼Œå¦‚æœæœ€åä¸€ä¸ªå…ƒç´ çš„margin-rightå¤§å°æ˜¯â€œåˆ—è¡¨å®½åº¦+é—´éš™å¤§å°â€ï¼Œé‚£æœ€åä¸€è¡Œçš„3ä¸ªå…ƒç´ ä¹Ÿæ˜¯å¯ä»¥å®Œç¾å·¦å¯¹é½çš„ã€‚</p></blockquote>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æœ€åä¸€è¡Œæœ‰3ä¸ªï¼Œæˆ–è€…7ä¸ªå…ƒç´ */</span></span><br><span class="line"><span class="selector-class">.last</span><span class="selector-pseudo">:last-child</span><span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>n -<span class="number">2</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æœ€åä¸€è¡Œæœ‰2ä¸ªæˆ–è€…6ä¸ªå…ƒuæ€’è¯‰*/</span></span><br><span class="line"><span class="selector-class">.last</span><span class="selector-pseudo">:last-child</span><span class="selector-pseudo">:nth-child</span>(<span class="number">4</span>n -<span class="number">2</span>) &#123;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="built_in">calc</span>(<span class="number">48%</span> + <span class="number">8%</span> / <span class="number">3</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>å¦‚æœflex<strong>å­é¡¹å®½åº¦ä¸å›ºå®š</strong></p><blockquote><p>æœ‰æ—¶å€™ï¼Œæ¯ä¸€ä¸ªflexå­é¡¹çš„å®½åº¦éƒ½æ˜¯ä¸å›ºå®šçš„ï¼Œè¿™ä¸ªæ—¶å€™å¸Œæœ›è®©æœ€åä¸€è¡Œå·¦å¯¹é½å¦‚ä½•å®ç°å‘¢ï¼Ÿç”±äºè¿™ç§æƒ…å†µä¸‹é—´éš™çš„å¤§å°ä¸å›ºå®šï¼Œå¯¹é½ä¸ä¸¥æ ¼ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç›´æ¥è®©æœ€åä¸€è¡Œå·¦å¯¹é½ï¼Œå…·ä½“å®ç°æ–¹æ³•æœ‰ä¸¤ç§ã€‚</p></blockquote><ol><li><p>ç»™æœ€åä¸€é¡¹è®¾ç½®margin-right:auto</p></li><li><p>ä½¿ç”¨ä¼ªå…ƒç´ åœ¨åˆ—è¡¨çš„æœ«å°¾åˆ›å»ºä¸€ä¸ªflexå­é¡¹ï¼Œå¹¶è®¾ç½®flex:autoæˆ–è®¾ç½®flex:1</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">flex</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><p><strong>å¦‚æœæ¯ä¸€è¡Œåˆ—æ•°ä¸å›ºå®š</strong></p><blockquote><p>å¦‚æœæ¯ä¸€è¡Œçš„åˆ—æ•°ä¸å›ºå®šï¼Œåˆ™ä¸Šé¢çš„è¿™äº›æ–¹æ³•å‡ä¸é€‚ç”¨ï¼Œéœ€è¦ä½¿ç”¨å…¶ä»–æ–¹æ³•æ¥å®ç°æœ€åä¸€è¡Œå·¦å¯¹é½ã€‚</p><p>è¿™ä¸ªæ–¹æ³•å…¶å®å¾ˆç®€å•ï¼Œä¹Ÿå¾ˆå¥½ç†è§£ï¼Œå°±æ˜¯ä½¿ç”¨è¶³å¤Ÿçš„ç©ºç™½æ ‡ç­¾è¿›è¡Œå¡«å……å ä½ï¼Œå…·ä½“çš„å ä½æ•°é‡æ˜¯ç”±æœ€å¤šåˆ—æ•°çš„ä¸ªæ•°å†³å®šçš„ã€‚ä¾‹å¦‚å¸ƒå±€æœ€å¤šæœ‰7åˆ—ï¼Œé‚£æˆ‘ä»¬å¯ä»¥ä½¿ç”¨7ä¸ªç©ºç™½æ ‡ç­¾è¿›è¡Œå¡«å……å ä½ï¼›å¸ƒå±€æœ€å¤š10åˆ—ï¼Œé‚£æˆ‘ä»¬éœ€è¦ä½¿ç”¨10ä¸ªç©ºç™½æ ‡ç­¾è¿›è¡Œå¡«å……å ä½</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;list&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span><span class="tag">&lt;<span class="name">i</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å®ç°è¯¥æ–¹æ³•çš„å…³é”®æ˜¯è¦å°†å ä½çš„&lt;i&gt;å…ƒç´ å®½åº¦å’Œmarginå€¼è®¾ç½®å¾—ä¸.liståˆ—è¡¨å…ƒç´ ä¸€æ ·ï¼Œå…¶ä»–æ ·å¼éƒ½ä¸éœ€è¦è®¾ç½®ï¼Œç›¸å…³CSSä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: flex;</span><br><span class="line">    <span class="attribute">justify-content</span>: space-between;</span><br><span class="line">    <span class="attribute">flex-wrap</span>: wrap;</span><br><span class="line">    <span class="attribute">margin-right</span>: -<span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>; <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: skyblue;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">15px</span> <span class="number">10px</span> <span class="number">0</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &gt; <span class="selector-tag">i</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äº&lt;i&gt;å…ƒç´ é«˜åº¦ä¸º0ï¼Œå› æ­¤ï¼Œå¦‚æ­¤è®¾ç½®å¹¶ä¸ä¼šå½±å“å‚ç›´æ–¹å‘ä¸Šçš„å¸ƒå±€å‘ˆç°ï¼Œæœ€ç»ˆå¯ä»¥å®ç°ä¸å›¾6-72æ‰€ç¤ºä¸€æ ·çš„æ•ˆæœã€‚</p><p><strong>å¦‚æœåˆ—æ•°ä¸å›ºå®šï¼ŒHTMLåˆä¸èƒ½è°ƒæ•´</strong></p><blockquote><p>æœ‰æ—¶å€™ï¼Œç”±äºå®¢è§‚åŸå› ï¼Œå‰ç«¯é‡æ„äººå‘˜æ²¡æœ‰åŠæ³•å»è°ƒæ•´HTMLä»£ç ç»“æ„ï¼ŒåŒæ—¶å¸ƒå±€çš„åˆ—è¡¨ä¸ªæ•°åˆä¸å›ºå®šï¼Œè¿™æ—¶å€™è¯¥å¦‚ä½•å®ç°æœ€åä¸€è¡Œå·¦å¯¹é½æ•ˆæœå‘¢ï¼Ÿ</p></blockquote><p>é‚£å°±ä½¿ç”¨ç½‘æ ¼å¸ƒå±€</p><h3 id="ç½‘æ ¼å¸ƒå±€"><a href="#ç½‘æ ¼å¸ƒå±€" class="headerlink" title="ç½‘æ ¼å¸ƒå±€"></a>ç½‘æ ¼å¸ƒå±€</h3><blockquote><p>ç»™HTMLå…ƒç´ è®¾ç½®display:gridæˆ–è€…display:inline-gridï¼Œç½‘æ ¼å¸ƒå±€å°±åˆ›å»ºå®Œæˆäº†ï¼</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span>&gt;</span>1<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span>&gt;</span>2<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span>&gt;</span>3<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">item</span>&gt;</span>4<span class="tag">&lt;/<span class="name">item</span>&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">div &#123;</span><br><span class="line">    display: grid;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ­¤æ—¶è¯¥divå°±æ˜¯â€œgridå®¹å™¨â€ï¼Œå…¶å­å…ƒç´ è¢«ç§°ä¸ºâ€œgridå­é¡¹â€ã€‚</p><p>display:gridå’Œdisplay:inline-gridçš„åŒºåˆ«æ˜¯ï¼šinline-gridå®¹å™¨å¤–éƒ¨ç›’å­ä¿æŒå†…è”ç‰¹æ€§ï¼Œå› æ­¤å¯ä»¥å’Œå›¾ç‰‡æ–‡å­—åœ¨åŒä¸€è¡Œæ˜¾ç¤ºï¼›gridå®¹å™¨ä¿æŒå—çŠ¶ç‰¹æ€§ï¼Œå®½åº¦é»˜è®¤ä¸º100%ï¼Œä¸å’Œå†…è”å…ƒç´ åœ¨ä¸€è¡Œæ˜¾ç¤ºã€‚</p></blockquote><h4 id="grid-template-columnså’Œgrid-template-rowså±æ€§ç®€ä»‹"><a href="#grid-template-columnså’Œgrid-template-rowså±æ€§ç®€ä»‹" class="headerlink" title="grid-template-columnså’Œgrid-template-rowså±æ€§ç®€ä»‹"></a><strong>grid-template-columnså’Œgrid-template-rowså±æ€§ç®€ä»‹</strong></h4><blockquote><p>grid-template-columnså’Œgrid-template-rowså±æ€§ä¸»è¦ç”¨æ¥æŒ‡å®šç½‘æ ¼çš„æ•°é‡å’Œå°ºå¯¸ç­‰ä¿¡æ¯ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="number">80px</span> auto <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">grid-template-rows</span>: <span class="number">25%</span> <span class="number">100px</span> auto <span class="number">60px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>â— grid-template-columnså±æ€§å«3ä¸ªå€¼ï¼Œè¡¨ç¤ºç½‘æ ¼åˆ†ä¸º3åˆ—ï¼Œä»å·¦å¾€å³æ¯åˆ—çš„å°ºå¯¸åˆ†åˆ«æ˜¯80pxã€autoï¼ˆè‡ªåŠ¨ï¼‰å’Œ100pxã€‚</p><p>â— grid-template-rowså±æ€§å«4ä¸ªå€¼ï¼Œè¡¨ç¤ºç½‘æ ¼åˆ†ä¸ºäº†4è¡Œï¼Œä»ä¸Šå¾€ä¸‹æ¯è¡Œçš„é«˜åº¦åˆ†åˆ«æ˜¯25%ã€100pxã€autoï¼ˆè‡ªåŠ¨ï¼‰å’Œ60pxã€‚</p></blockquote><ol><li><p>ç½‘æ ¼çº¿çš„å‘½å</p><blockquote><p>ä¸¤å±æ€§è¯­æ³•åŸºæœ¬ä¸€è‡´ï¼Œ ä»¥ grid-template-columns ä¸ºä¾‹ï¼Œ</p></blockquote> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-template-columns</span>: &lt;line-name&gt; &lt;track-size&gt;;</span><br><span class="line"><span class="comment">/* ä¸­æ–‡ç¤ºæ„ */</span></span><br><span class="line"><span class="attribute">grid-template-columns</span>: &lt;é“è·¯åç§°&gt; &lt;å°åŒºå åœ°&gt;;</span><br></pre></td></tr></table></figure><p> â— &lt;track-size&gt;è¡¨ç¤ºåˆ’åˆ†å‡ºæ¥çš„å°åŒºçš„å°ºå¯¸ï¼Œå¯ä»¥æ˜¯é•¿åº¦å€¼ã€ç™¾åˆ†æ¯”å€¼ã€frå•ä½ï¼ˆç½‘æ ¼å‰©ä½™ç©ºé—´æ¯”ä¾‹å•ä½ï¼‰å’Œå°ºå¯¸å…³é”®å­—ç­‰å¤šç§ç±»å‹çš„å±æ€§å€¼ã€‚</p><p> â— &lt;line-name&gt;è¡¨ç¤ºåˆ’åˆ†çš„è¡—é“çš„åç§°ï¼Œå‘½åè§„åˆ™å’ŒCSSåŠ¨ç”»çš„å‘½åè§„åˆ™ä¸€æ ·ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-template-columns</span>: [é“è·¯åç§°-èµ·å§‹] <span class="number">80px</span> [é“è·¯åç§°<span class="number">2</span>] auto [é“è·¯åç§°<span class="number">3</span>] <span class="number">100px</span> [é“è·¯åç§°-ç»“æŸ];</span><br></pre></td></tr></table></figure></li><li><p>èŠèŠ &lt;track-size&gt;</p><blockquote><p>grid-template-columnså±æ€§çš„é»˜è®¤å€¼æ˜¯noneï¼Œå¯ä»¥ä½¿ç”¨grid-auto-columnså±æ€§è®¾å®šç½‘æ ¼å°ºå¯¸ã€‚</p></blockquote></li></ol><p>grid-template-columnså±æ€§æ”¯æŒçš„å…¶ä»–å€¼å…¨éƒ½å±äº&lt;track-size&gt;æ•°æ®ç±»å‹ï¼Œå…±æ”¯æŒ9ç§æ•°æ®ç±»å‹ï¼Œåˆ†åˆ«å¦‚ä¸‹ï¼š</p><p>â— é•¿åº¦å€¼ï¼›</p><p>â— ç™¾åˆ†æ¯”å€¼ï¼›</p><p>â— å…³é”®å­—å±æ€§å€¼ï¼ŒåŒ…æ‹¬min-contentã€max-contentå’Œautoï¼›</p><p>â—&lt;flex&gt;æ•°æ®ç±»å‹ï¼Œä¹Ÿå°±æ˜¯ä»¥frä¸ºå•ä½çš„å€¼ï¼›</p><p>â— å‡½æ•°å€¼ï¼ŒåŒ…æ‹¬repeat()ã€minmax()å’Œfit-content()ã€‚</p><ol><li><p>min-content</p><p> ç½‘æ ¼å¸ƒå±€ä¸­çš„åŒä¸€è¡Œgridå­é¡¹çš„é«˜åº¦å’ŒåŒä¸€åˆ—gridå­é¡¹çš„å®½åº¦éƒ½æ˜¯ä¸€è‡´çš„ï¼Œå› æ­¤min-contentæŒ‡çš„å¹¶ä¸æ˜¯æŸä¸€ä¸ªæ ¼å­çš„æœ€å°å†…å®¹å°ºå¯¸ï¼Œè€Œæ˜¯ä¸€æ’æˆ–è€…ä¸€åˆ—æ ¼å­ä¸­æ‰€æœ‰æœ€å°å†…å®¹å°ºå¯¸ä¸­æœ€å¤§çš„é‚£ä¸ªæœ€å°å†…å®¹å°ºå¯¸å€¼</p></li><li><p>max-content</p><p> max-contentå…³é”®å­—å’Œmin-contentå…³é”®å­—ç±»ä¼¼ï¼Œåªæ˜¯æœ€ç»ˆçš„å°ºå¯¸æ˜¯æœ€å¤§å†…å®¹å®½åº¦ä¸­æœ€å¤§çš„é‚£ä¸€ä¸ªå€¼ã€‚</p></li><li><p>auto</p><p> autoå…³é”®å­—çš„è®¡ç®—è§„åˆ™æœ‰äº›å¤æ‚ï¼ŒW3Cè§„èŒƒä¸­æ˜¯è¿™æ ·æè¿°çš„ï¼šå°ºå¯¸çš„ä¸Šé™æ˜¯æœ€å¤§å†…å®¹å°ºå¯¸çš„æœ€å¤§å€¼ï¼Œä½†æ˜¯ä¸åŒäºmax-contentå…³é”®å­—ï¼Œmax-contentå…³é”®å­—çš„å°ºå¯¸æ˜¯å›ºå®šçš„ï¼Œè¿™é‡Œçš„å°ºå¯¸æ˜¯ä¼šå—åˆ°justify-contentå±æ€§å’Œalign-contentå±æ€§å½±å“çš„ã€‚</p><p> å¦å¤–ï¼Œå½“å¤šåˆ—çš„å®½åº¦åŒæ—¶è®¾ç½®ä¸ºautoçš„æ—¶å€™ï¼Œè¿™äº›åˆ—çš„å®½åº¦å¹¶ä¸æ˜¯ç­‰åˆ†çš„ï¼Œè€Œæ˜¯åœ¨max-contentå°ºå¯¸çš„åŸºç¡€ä¸Šå¢åŠ åŒæ ·å¤§å°çš„å°ºå¯¸ã€‚</p></li></ol><h4 id="äº†è§£ç½‘æ ¼å¸ƒå±€ä¸“ç”¨å•ä½fr"><a href="#äº†è§£ç½‘æ ¼å¸ƒå±€ä¸“ç”¨å•ä½fr" class="headerlink" title="äº†è§£ç½‘æ ¼å¸ƒå±€ä¸“ç”¨å•ä½fr"></a>äº†è§£ç½‘æ ¼å¸ƒå±€ä¸“ç”¨å•ä½fr</h4><blockquote><p>fræ˜¯å•è¯fractionçš„ç¼©å†™ï¼Œè¡¨ç¤ºåˆ†æ•°ã€‚</p><p>æ˜¯è¿™æ ·çš„ï¼Œç½‘æ ¼å¸ƒå±€å¾€å¾€æœ‰å¤šåˆ—æˆ–è€…å¤šè¡Œï¼Œå…¶ä¸­æœ‰äº›åˆ—æœ‰å›ºå®šçš„å®½åº¦ï¼Œæœ‰äº›åˆ—çš„å®½åº¦å°±ç”±é¡µé¢è‡ªåŠ¨åˆ†é…ï¼Œè€Œfrå°±è¡¨ç¤ºè¿™äº›è‡ªåŠ¨åˆ†é…åˆ—çš„å°ºå¯¸åˆ’åˆ†æ¯”ä¾‹ã€‚</p><p>frå•ä½å€¼çš„è®¡ç®—è§„åˆ™å¦‚ä¸‹ã€‚</p><p>â— å¦‚æœæ‰€æœ‰frå€¼ä¹‹å’Œå¤§äº1ï¼Œåˆ™æŒ‰frå€¼çš„æ¯”ä¾‹åˆ’åˆ†å¯è‡ªåŠ¨åˆ†é…å°ºå¯¸ã€‚</p><p>â— å¦‚æœæ‰€æœ‰frå€¼ä¹‹å’Œå°äº1ï¼Œæœ€ç»ˆçš„å°ºå¯¸æ˜¯å¯è‡ªåŠ¨åˆ†é…å°ºå¯¸å’Œfrå€¼çš„ä¹˜æ³•è®¡ç®—å€¼ã€‚</p></blockquote><p>å’Œautoå…³é”®å­—æ··åˆä½¿ç”¨</p><blockquote><p>å¦‚æœéƒ¨åˆ†åˆ—ä½¿ç”¨çš„æ˜¯autoå…³é”®å­—ï¼Œåˆ™frå€¼çš„è®¡ç®—è§„åˆ™å°±ä¸è®¾ç½®autoè¿™ä¸€åˆ—çš„å†…å®¹å¯†åˆ‡ç›¸å…³ã€‚<strong>frå€¼çš„å¯è‡ªåŠ¨åˆ†é…å°ºå¯¸æ˜¯å®¹å™¨å°ºå¯¸å‡å»è®¾ç½®autoå…³é”®å­—çš„åˆ—çš„fit-contentå°ºå¯¸</strong></p></blockquote><h4 id="minmax-å’Œfit-content-å‡½æ•°"><a href="#minmax-å’Œfit-content-å‡½æ•°" class="headerlink" title="minmax()å’Œfit-content()å‡½æ•°"></a>minmax()å’Œfit-content()å‡½æ•°</h4><ol><li><p>minmax()å‡½æ•°</p><p> minmax()å‡½æ•°æ”¯æŒä¸¤ä¸ªå‚æ•°å€¼ï¼Œä¾‹å¦‚ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">minmax(min, max)</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æ­£å¼è¯­æ³•å¦‚ä¸‹*/</span></span><br><span class="line">minmax(<span class="selector-attr">[&lt;length&gt; | &lt;percentage&gt; | min-content | max-content | auto]</span>, <span class="selector-attr">[&lt;length&gt; | &lt;percentage&gt; | &lt;flex&gt; | min-content | max-content | auto]</span>)</span><br></pre></td></tr></table></figure><p> <strong>æ³¨æ„flexç±»å‹å¦‚frä¸ºå•ä½çš„å€¼åªèƒ½ä½œä¸ºç¬¬äºŒä¸ªå€¼å‡ºç°</strong></p></li><li><p>fit-content()å‡½æ•°</p><p> fit-content()å‡½æ•°çš„ä½œç”¨ç”¨ä¸€å¥è¯è§£é‡Šå°±æ˜¯ï¼šè®©å°ºå¯¸é€‚åº”äºå†…å®¹ï¼Œä½†ä¸è¶…è¿‡è®¾å®šçš„å°ºå¯¸ã€‚åº•å±‚è®¡ç®—å…¬å¼å¦‚ä¸‹ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fit-<span class="attribute">content</span>(limit) = max(minimum, min(limit, max-<span class="attribute">content</span>))</span><br></pre></td></tr></table></figure><p> minimumæ˜¯å°ºå¯¸ä¸‹é™ï¼Œå¦‚æœä¸è€ƒè™‘min-width/min-heightå±æ€§ï¼Œè¿™ä¸ªå°ºå¯¸å°±æ˜¯æœ€å°å†…å®¹å°ºå¯¸</p></li></ol><h4 id="repeat-å‡½æ•°"><a href="#repeat-å‡½æ•°" class="headerlink" title="repeat()å‡½æ•°"></a>repeat()å‡½æ•°</h4><blockquote><p>repeat()å‡½æ•°åªèƒ½ä½œç”¨åœ¨grid-template-columnså’Œgrid-template -rowsè¿™ä¸¤ä¸ªCSSå±æ€§ä¸Šã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">repeat(<span class="selector-attr">[&lt;positive-integer&gt;| auto-fill | auto-fit]</span>, &lt;track-list&gt;)</span><br></pre></td></tr></table></figure><ul><li><p>&lt;positive-integer&gt;ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯æ­£æ•´æ•°çš„æ„æ€ï¼Œè¡¨ç¤ºå°ºå¯¸é‡å¤çš„æ¬¡æ•°</p></li><li><p>auto-fillå’Œauto-fitç›¸å½“äºä¸€ä¸ªå˜é‡ï¼Œè¡¨ç¤ºä¸€ä¸ªä¸ç¡®å®šçš„é‡å¤æ¬¡æ•°ï¼Œç©¶ç«Ÿé‡å¤å¤šå°‘æ¬¡ï¼Œæ˜¯ç”±gridå®¹å™¨å’Œæ¯ä¸€ä¸ªgridå­é¡¹çš„å°ºå¯¸è®¡ç®—å¾—åˆ°çš„ã€‚</p><p>  ä¸€ä¸€èˆ¬é…åˆå…¶ä»–å‡½æ•°ä¸€èµ·ä½¿ç”¨</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fill, <span class="built_in">minmax</span>(<span class="number">100px</span>, <span class="number">1</span>fr))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  è¿™å°±å®ç°äº†æ— è®ºgridå®¹å™¨å¤šå®½ï¼Œgridå­é¡¹éƒ½ä¼šç­‰æ¯”ä¾‹å……æ»¡gridå®¹å™¨ï¼ˆå› ä¸ºè®¾ç½®äº†1frï¼‰ï¼ŒåŒæ—¶ä¿è¯å®½åº¦ä¸å°äº100pxï¼Œç½‘æ ¼å¸ƒå±€çš„<a href="https://demo.cssworld.cn/new/6/3-1.php">åˆ—æ•°è‡ªåŠ¨è®¡ç®—åˆ†é…çš„æ™ºèƒ½å¼¹æ€§å¸ƒå±€æ•ˆæœ</a>ã€‚</p><blockquote><p>å½“æˆ‘ä»¬ä½¿ç”¨auto-fillå…³é”®å­—è‡ªåŠ¨å¡«å……çš„æ—¶å€™ï¼Œrepeat()å‡½æ•°æ˜¯ä¸èƒ½å’Œautoä¸€èµ·ä½¿ç”¨çš„ã€‚</p></blockquote></li><li><p>ï¼auto-fitå…³é”®å­—</p><p>  auto-fitå’Œauto-fillå…³é”®å­—çš„ä½œç”¨æ˜¯ç›¸ä¼¼çš„ï¼ŒåŒºåˆ«åœ¨äºauto-fitå…³é”®å­—ä¼šæŠŠç©ºç™½åŒ¿åç½‘æ ¼è¿›è¡ŒæŠ˜å åˆå¹¶ï¼Œè€Œè¿™ä¸ªåˆå¹¶çš„0pxå¤§å°çš„æ ¼å­å¯ä»¥è¢«è®¤ä¸ºå…·æœ‰å•ä¸ªæ ¼å­è½¨é“å¤§å°è°ƒæ•´çš„åŠŸèƒ½ï¼ŒåŒæ—¶ï¼Œç©ºç™½åŒ¿åæ ¼å­ä¸¤ä¾§çš„è¿‡é“ï¼ˆgrid-gapè®¾ç½®çš„é—´éš™ï¼‰ä¹Ÿä¼šåˆå¹¶ã€‚</p><p>  ï¼Œauto-fitå…³é”®å­—æŠŠç©ºç™½åŒ¿åç½‘æ ¼è¿åŒå·¦ä¾§çš„é—´éš™ä¹Ÿä¸€èµ·åˆå¹¶äº†ã€‚è¿™ç§åˆå¹¶è®¾è®¡æœ‰ä»€ä¹ˆå¥½å¤„å‘¢ï¼Ÿå¥½å¤„å°±åœ¨äºï¼Œå¦‚æœé…åˆfrå€¼ä¸€èµ·ä½¿ç”¨ï¼Œå¯ä»¥ä¿è¯<a href="https://demo.cssworld.cn/new/6/3-2.php">æ— è®ºgridå®¹å™¨å®½åº¦å¤šå¤§ï¼Œgridå­é¡¹éƒ½å¯ä»¥å¡«æ»¡gridå®¹å™¨</a></p></li></ul><h4 id="grid-template-areaså±æ€§"><a href="#grid-template-areaså±æ€§" class="headerlink" title="grid-template-areaså±æ€§"></a>grid-template-areaså±æ€§</h4><blockquote><p>grid-template-areaså±æ€§ç”¨æ¥æŒ‡å®šç½‘æ ¼åŒºåŸŸçš„åˆ’åˆ†ï¼Œæ³¨æ„æ˜¯areasï¼Œä¸æ˜¯areaï¼Œåé¢æœ‰ä¸ªsã€‚ç½‘æ ¼åŒºåŸŸçš„åˆ’åˆ†æ€§è´¨å’ŒåŸå¸‚çš„è¡Œæ”¿åŒºåˆ’åˆ†ã€å°åŒºçš„åˆ’åˆ†ã€å†œç”°çš„åˆ’åˆ†éƒ½å¾ˆæ¥è¿‘ï¼Œåˆ’åˆ†ç½‘æ ¼åŒºåŸŸå¯ä»¥æ›´æ–¹ä¾¿ç½‘æ ¼çš„ç®¡ç†ä¸ç»´æŠ¤ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">grid-template-areas</span>: <span class="string">&quot;</span></span><br><span class="line"><span class="string">        &lt;gride-area-name&gt; | . | none | ...&quot;</span> </span><br><span class="line">        <span class="string">&quot;...&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â— &lt;grid-area-name&gt;è¡¨ç¤ºå¯¹åº”ç½‘æ ¼åŒºåŸŸçš„åç§°ï¼Œå‘½åè§„åˆ™å’Œanimation-nameå±æ€§å€¼ä¸€æ ·ã€‚</p><p>â—.è¡¨ç¤ºç©ºçš„ç½‘æ ¼å•å…ƒæ ¼ã€‚</p><p>â—noneè¡¨ç¤ºæ²¡æœ‰å®šä¹‰ç½‘æ ¼åŒºåŸŸã€‚</p><p><a href="https://demo.cssworld.cn/new/6/3-3.php">æ•ˆæœå±•ç¤º</a></p><blockquote><p>ï¼ˆ1ï¼‰å¦‚æœæˆ‘ä»¬ç»™ç½‘æ ¼åŒºåŸŸå‘½åäº†ï¼Œä½†æ˜¯æ²¡æœ‰ç»™ç½‘æ ¼çº¿å‘½åï¼Œåˆ™ç³»ç»Ÿä¼šè‡ªåŠ¨æ ¹æ®ç½‘æ ¼åŒºåŸŸåç§°ç”Ÿæˆç½‘æ ¼çº¿åç§°ï¼Œè§„åˆ™æ˜¯åœ¨åŒºåŸŸåç§°åé¢åŠ -startå’Œ-endã€‚ä¾‹å¦‚ï¼ŒæŸç½‘æ ¼åŒºåŸŸåç§°æ˜¯â€œè‘¡è„â€ï¼Œåˆ™å·¦ä¾§ç½‘æ ¼çº¿åç§°å°±æ˜¯â€œè‘¡è„-startâ€ï¼Œå³ä¾§ç½‘æ ¼çº¿åç§°å°±æ˜¯â€œè‘¡è„-endâ€ã€‚</p><p>ï¼ˆ2ï¼‰ç½‘æ ¼åŒºåŸŸä¸€å®šè¦å½¢æˆè§„æ•´çš„çŸ©å½¢åŒºåŸŸï¼Œæ— è®ºæ˜¯Lå½¢ï¼Œè¿˜æ˜¯å‡¹çš„æˆ–å‡¸çš„å½¢çŠ¶éƒ½ä¼šè®¤ä¸ºæ˜¯æ— æ•ˆçš„å±æ€§å€¼ã€‚</p></blockquote><h4 id="ç¼©å†™å±æ€§grid-template"><a href="#ç¼©å†™å±æ€§grid-template" class="headerlink" title="ç¼©å†™å±æ€§grid-template"></a><strong>ç¼©å†™å±æ€§grid-template</strong></h4><blockquote><p>grid-templateå±æ€§æ˜¯grid-template-rowsã€grid-template-columnså’Œgrid- template-areaså±æ€§çš„ç¼©å†™</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line"><span class="attribute">grid-template</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line"><span class="attribute">grid-template</span>: &lt;grid-template-rows&gt; / &lt;grid-template-columns&gt;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line"><span class="attribute">grid-template</span>: [ &lt;line-name&gt;?&lt;string&gt; &lt;track-size&gt;? &lt;line-names&gt;? ]+ [/ &lt;explicit-track-list&gt;]?;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œå‰ä¸¤ç§ç¼©å†™ç›¸å¯¹ç®€å•ï¼Œæœ€åä¸€ç§ç¼©å†™ç•¥å¤æ‚ï¼Œå…·ä½“å¦‚ä¸‹ã€‚</p><p>ï¼ˆ1ï¼‰å±æ€§å€¼noneè¡¨ç¤ºå°†3ä¸ªCSSå±æ€§éƒ½è®¾ç½®ä¸ºåˆå§‹å€¼noneã€‚</p><p>ï¼ˆ2ï¼‰&lt;grid-template-rows&gt; / &lt;grid-template-columns&gt;è¡¨ç¤ºè¡Œå°ºå¯¸æˆ–åˆ—å°ºå¯¸çš„è®¾ç½®</p><p>ï¼ˆ3ï¼‰ç¬¬ä¸‰ç§ç¼©å†™æ˜¯åŒ…å«grid-template-areaså±æ€§çš„è¯­æ³•ï¼Œå…¶ä¸­&lt;string&gt;æŒ‡çš„å°±æ˜¯grid-template-areaså±æ€§å€¼ï¼Œæ›´å‡†ç¡®åœ°è¯´æ˜¯æ¯ä¸€è¡Œç½‘æ ¼çš„åŒºåŸŸåç§°ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">grid-template</span>:</span><br><span class="line">        <span class="string">&quot;è‘¡è„ è‘¡è„ è‘¡è„&quot;</span> <span class="number">1</span>fr</span><br><span class="line">        <span class="string">&quot;é¾™è™¾ å…»é±¼ å…»é±¼&quot;</span> <span class="number">1</span>fr</span><br><span class="line">        <span class="string">&quot;é¾™è™¾ å…»é±¼ å…»é±¼&quot;</span> <span class="number">1</span>fr</span><br><span class="line">        <span class="string">&quot;è¥¿ç“œ è¥¿ç“œ è¥¿ç“œ&quot;</span> <span class="number">1</span>fr</span><br><span class="line">        / <span class="number">1</span>fr <span class="number">1</span>fr <span class="number">1</span>fr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä»è¯­æ³•å¯ä»¥çœ‹å‡ºï¼Œåªæœ‰&lt;string&gt;æ•°æ®ç±»å‹æ˜¯å¿…éœ€çš„ï¼Œå…¶ä»–æ•°æ®ç±»å‹éƒ½å¯ä»¥çœç•¥ã€‚ä¾‹å¦‚&lt;track-size&gt;ï¼ˆä¹Ÿå°±æ˜¯å°ºå¯¸ï¼‰å¯ä»¥çœç•¥ï¼ˆä¼šä½¿ç”¨autoä»£æ›¿è®¡ç®—ï¼‰</p><h4 id="äº†è§£grid-auto-columnså’Œgrid-auto-rowså±æ€§"><a href="#äº†è§£grid-auto-columnså’Œgrid-auto-rowså±æ€§" class="headerlink" title="äº†è§£grid-auto-columnså’Œgrid-auto-rowså±æ€§"></a>äº†è§£grid-auto-columnså’Œgrid-auto-rowså±æ€§</h4><blockquote><p>grid-auto-columnså’Œgrid-auto-rowså±æ€§çš„ä½œç”¨æ˜¯æŒ‡å®šä»»ä½•è‡ªåŠ¨ç”Ÿæˆçš„ç½‘æ ¼ï¼ˆä¹Ÿç§°ä¸ºéšå¼ç½‘æ ¼ï¼‰çš„å°ºå¯¸å¤§å°ã€‚</p><p>â€œ<strong>éšå¼ç½‘æ ¼</strong>â€æ˜¯éæ­£å¸¸ç½‘æ ¼ï¼Œå…¶åœ¨gridå­é¡¹å¤šäºè®¾ç½®çš„å•å…ƒæ ¼æ•°é‡ï¼Œæˆ–gridå­é¡¹çš„ä½ç½®å‡ºç°åœ¨è®¾å®šçš„ç½‘æ ¼èŒƒå›´ä¹‹å¤–æ—¶å‡ºç°ï¼Œè€Œåœ¨è§„å®šå®¹å™¨å†…æ˜¾ç¤ºçš„ç½‘æ ¼ç§°ä¸ºâ€œ<strong>æ˜¾å¼ç½‘æ ¼</strong>â€</p><p>grid-auto-columnså±æ€§å’Œgrid-auto-rowså±æ€§å°±æ˜¯ç”¨æ¥æ§åˆ¶â€œéšå¼ç½‘æ ¼â€çš„å°ºå¯¸çš„</p></blockquote><h4 id="grid-auto-flowå±æ€§"><a href="#grid-auto-flowå±æ€§" class="headerlink" title="grid-auto-flowå±æ€§"></a>grid-auto-flowå±æ€§</h4><blockquote><p>grid-auto-flowå±æ€§ç”¨æ¥å®šä¹‰å­é¡¹ç›®å…ƒç´ çš„è‡ªåŠ¨æµåŠ¨çŠ¶æ€ï¼Œgrid-auto-flowå±æ€§åœ¨ç½‘æ ¼å¸ƒå±€ä¸­çš„åœ°ä½éå¸¸ç±»ä¼¼äºå¼¹æ€§å¸ƒå±€ä¸­çš„flex-directionå±æ€§ã€‚</p><p>é»˜è®¤å€¼ï¼ˆrowï¼‰</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-auto-flow</span>: [row | column] || dense</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*åˆæ³•å†™æ³•ç¤ºä¾‹ */</span></span><br><span class="line"><span class="attribute">grid-auto-flow</span>: row;</span><br><span class="line"><span class="attribute">grid-auto-flow</span>: column;</span><br><span class="line"><span class="attribute">grid-auto-flow</span>: dense;</span><br><span class="line"><span class="attribute">grid-auto-flow</span>: row dense;</span><br><span class="line"><span class="attribute">grid-auto-flow</span>: column dense;</span><br></pre></td></tr></table></figure><ul><li>rowæ˜¯é»˜è®¤å€¼ï¼Œè¡¨ç¤ºæ²¡æœ‰æŒ‡å®šä½ç½®çš„ç½‘æ ¼åœ¨æ°´å¹³ï¼ˆè¡Œï¼‰æ–¹å‘ä¸Šè‡ªç„¶æ’åˆ—ã€‚</li><li>denseè¡¨ç¤ºç½‘æ ¼çš„è‡ªç„¶æ’åˆ—å¯ç”¨â€œå¯†é›†â€æ‰“åŒ…ç®—æ³•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœç¨åå‡ºç°çš„ç½‘æ ¼æ¯”è¾ƒå°ï¼Œåˆ™å°è¯•çœ‹çœ‹å…¶å‰é¢æœ‰æ²¡æœ‰åˆé€‚çš„åœ°æ–¹æ”¾ç½®è¯¥ç½‘æ ¼ï¼Œä½¿ç½‘æ ¼å°½å¯èƒ½æ’åˆ—ç´§å‡‘ã€‚</li><li>columnè¡¨ç¤ºæ²¡æœ‰æŒ‡å®šä½ç½®çš„ç½‘æ ¼åœ¨å‚ç›´ï¼ˆåˆ—ï¼‰æ–¹å‘ä¸Šè‡ªç„¶æ’åˆ—ã€‚</li></ul><h4 id="denseå…³é”®å­—"><a href="#denseå…³é”®å­—" class="headerlink" title="denseå…³é”®å­—"></a>denseå…³é”®å­—</h4><blockquote><p>denseå…³é”®å­—å•ä»å­—é¢å«ä¹‰æ˜¯ä¸å¤ªå¥½ç†è§£ï¼Œdenseçš„æ„æ€æ˜¯â€œå¯†é›†çš„â€â€œç¨ å¯†çš„â€â€œæµ“å¯†çš„â€ã€‚ç©ºç½‘æ ¼ä¼šè¢«åé¢çš„ç½‘æ ¼é¡¶ä¸Šå»</p></blockquote><h4 id="ç¼©å†™å±æ€§grid"><a href="#ç¼©å†™å±æ€§grid" class="headerlink" title="ç¼©å†™å±æ€§grid"></a>ç¼©å†™å±æ€§grid</h4><blockquote><p>gridå±æ€§çš„ç¼©å†™è§„åˆ™æ¯”è¾ƒå¤æ‚ã€‚gridæ˜¯è¿™äº›CSSå±æ€§çš„ç¼©å†™é›†åˆï¼šgrid-template- rowsã€grid-template-columnsã€grid-template-areasã€grid-auto-rowsã€grid- auto-columnså’Œgrid-auto-flowã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>ã€gird: none;</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>ã€<span class="attribute">grid</span>: &lt;grid-template&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*é”®å­—æ˜¯ä¸€ä¸ªåªåœ¨gridç¼©å†™å±æ€§ä¸­å‡ºç°çš„å…³é”®*/</span></span><br><span class="line"><span class="comment">/*3ã€auto-flowåœ¨åé¢*/</span></span><br><span class="line">grid: &lt;grid-template-rows&gt;/ [auto-flow &amp;&amp; dense?] &lt;grid-auto-columns&gt;?</span><br><span class="line"></span><br><span class="line"><span class="comment">/*4ã€auto-flowåœ¨å‰é¢*/</span></span><br><span class="line">grid:  [auto-flow &amp;&amp; dense?] &lt;grid-auto-rows&gt;ï¼Ÿ / &lt;grid-template-columns&gt;?</span><br></pre></td></tr></table></figure><blockquote><p>æ¢³ç†ä¸€ä¸‹gridç¼©å†™çš„è¯­æ³•ã€‚</p><p>â— grid:noneå¾ˆç®€å•ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ã€‚</p><p>â— å¦‚æœæ²¡æœ‰éšå¼ç½‘æ ¼ï¼Œä¸”æ— é¡»æ”¹å˜ç½‘æ ¼å¸ƒå±€çš„è‡ªç„¶æµå‘ï¼Œåˆ™ä½¿ç”¨grid-templateå±æ€§ã€‚</p><p>â— æœ€åä¸¤ä¸ªè¯­æ³•æ˜¯åœ¨å‡ºç°éšå¼ç½‘æ ¼ï¼Œæˆ–è€…éœ€è¦æ”¹å˜ç½‘æ ¼å¸ƒå±€çš„è‡ªç„¶æµå‘çš„æ—¶å€™ä½¿ç”¨ï¼Œè¦ä¹ˆä½¿ç”¨grid-template/auto-flowï¼Œè¦ä¹ˆä½¿ç”¨auto-flow/grid-templateï¼Œå°±è¿™ä¹ˆç®€å•ã€‚</p></blockquote><h4 id="è®¾ç½®å±æ€§-column-gap-å’Œ-row-gap"><a href="#è®¾ç½®å±æ€§-column-gap-å’Œ-row-gap" class="headerlink" title="è®¾ç½®å±æ€§ column-gap å’Œ row-gap"></a>è®¾ç½®å±æ€§ column-gap å’Œ row-gap</h4><blockquote><p>ä»¥å‰æ˜¯ä½¿ç”¨grid-column-gapå±æ€§å’Œgrid-row-gapå±æ€§æ¥å¯¹ç½‘æ ¼å¸ƒå±€ä¸­å„ä¸ªç½‘æ ¼ä¹‹é—´çš„é—´éš™è¿›è¡Œè®¾ç½®çš„</p><p>éšç€CSS Box Alignment Module Level 3çš„åˆ¶å®šï¼Œæ— è®ºæ˜¯åˆ†æ å¸ƒå±€ã€å¼¹æ€§å¸ƒå±€è¿˜æ˜¯ç½‘æ ¼å¸ƒå±€ï¼Œå…¨éƒ¨ç»Ÿä¸€ä½¿ç”¨column-gapå±æ€§å’Œrow-gapå±æ€§æ¥è®¾ç½®ã€‚</p></blockquote><p>ä»¥column-gapå±æ€§ä¸¾ä¾‹ï¼Œå„å¤§å¸ƒå±€å…¼å®¹æ€§æ’åºå¦‚ä¸‹ï¼š</p><p>åˆ†æ å¸ƒå±€ &gt; ç½‘æ ¼å¸ƒå±€ &gt; å¼¹æ€§å¸ƒå±€å„ä¸ªå¸ƒå±€çš„æµè§ˆå™¨å…¼å®¹æ€§å¦‚ä¸‹ã€‚</p><p>â— åˆ†æ å¸ƒå±€ä¸­ï¼Œcolumn-gapå±æ€§åœ¨IE10+æµè§ˆå™¨ä¸­å…¨å…¼å®¹ã€‚</p><p>â— ç½‘æ ¼å¸ƒå±€ä¸­ï¼Œcolumn-gapå±æ€§åœ¨Edge16+æµè§ˆå™¨ä¸­éƒ½æä¾›æ”¯æŒã€‚</p><p>â— å¼¹æ€§å¸ƒå±€ä¸­ï¼Œcolumn-gapå±æ€§ç›®å‰ä»…æœ‰Chromeæµè§ˆå™¨å’ŒFirefoxæµè§ˆå™¨æä¾›ä¸é”™çš„æ”¯æŒã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">column-gap</span>: &lt;line-size&gt;;</span><br><span class="line">    <span class="attribute">row-gap</span>: &lt;line-size&gt;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* å¯ä»¥æ˜¯é•¿åº¦å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ç™¾åˆ†æ¯”å€¼ */</span></span><br><span class="line"><span class="attribute">row-gap</span>: <span class="number">20px</span>| <span class="number">1em</span> | <span class="number">3vmin</span> | <span class="number">10%</span>;</span><br></pre></td></tr></table></figure><p><strong>ç¼©å†™ gap</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">gap</span>: &lt;row-gap&gt; &lt;column-gap&gt;;</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ç¼©å†™å‰*/</span></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid</span>: <span class="number">1</span>fr <span class="number">2</span>fr / <span class="number">2</span>fr <span class="number">1</span>fr;</span><br><span class="line">    <span class="attribute">column-gap</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">row-gap</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid</span>: <span class="number">1</span>fr <span class="number">2</span>fr / <span class="number">2</span>fr <span class="number">1</span>fr;</span><br><span class="line">    <span class="attribute">gap</span>: <span class="number">10px</span> <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…ƒç´ å¯¹é½å±æ€§-justify-itemså’Œalign-items"><a href="#å…ƒç´ å¯¹é½å±æ€§-justify-itemså’Œalign-items" class="headerlink" title="å…ƒç´ å¯¹é½å±æ€§ justify-itemså’Œalign-items"></a>å…ƒç´ å¯¹é½å±æ€§ justify-itemså’Œalign-items</h4><blockquote><p>åœ¨ç½‘æ ¼å¸ƒå±€ä¸­ï¼Œä»¥-itemsç»“å°¾çš„å¯¹é½å±æ€§è¡¨ç¤ºæ§åˆ¶æ¯ä¸€ä¸ªå…ƒç´ åœ¨è‡ªå·±æ‰€åœ¨çš„ç½‘æ ¼ä¸­çš„å¯¹é½è¡¨ç°ã€‚justify-itemså±æ€§ç”¨æ¥å®šä¹‰å…ƒç´ åœ¨ç½‘æ ¼ä¸­çš„æ°´å¹³å¯¹é½è¡¨ç°ï¼Œalign-itemså±æ€§åˆ™æ˜¯ç”¨æ¥å®šä¹‰å…ƒç´ åœ¨ç½‘æ ¼ä¸­çš„å‚ç›´å¯¹é½è¡¨ç°ã€‚</p></blockquote><ol><li><p>justify-items</p><p> è¯­æ³•å¦‚ä¸‹ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    justify-items: stretch | start | end | center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> â— stretchè¡¨ç°ä¸ºå…ƒç´ æ°´å¹³å°ºå¯¸æ‹‰ä¼¸ï¼Œå¡«æ»¡æ•´ä¸ªç½‘æ ¼çš„æ°´å¹³ç©ºé—´ã€‚</p><p> â— startè¡¨ç°ä¸ºå…ƒç´ çš„æ°´å¹³å°ºå¯¸æ”¶ç¼©ä¸ºå†…å®¹å¤§å°ï¼ŒåŒæ—¶æ²¿ç€ç½‘æ ¼çº¿å·¦ä¾§å¯¹é½æ˜¾ç¤º</p><p> â— endè¡¨ç°ä¸ºå…ƒç´ çš„æ°´å¹³å°ºå¯¸æ”¶ç¼©ä¸ºå†…å®¹å¤§å°ï¼ŒåŒæ—¶æ²¿ç€ç½‘æ ¼çº¿å³ä¾§å¯¹é½æ˜¾ç¤º</p><p> â— centerè¡¨ç°ä¸ºå…ƒç´ çš„æ°´å¹³å°ºå¯¸æ”¶ç¼©ä¸ºå†…å®¹å¤§å°ï¼ŒåŒæ—¶åœ¨å½“å‰ç½‘æ ¼åŒºåŸŸå†…éƒ¨æ°´å¹³å±…ä¸­å¯¹é½æ˜¾ç¤º</p></li><li><p>align-items</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">align-items</span>: normal | stretch | start | end | center | baseline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> â— normalæ˜¯é»˜è®¤å€¼ï¼Œä¼šæ ¹æ®ä½¿ç”¨åœºæ™¯çš„ä¸åŒè¡¨ç°ä¸ºstretchæˆ–è€…startã€‚</p><p> â— stretchè¡¨ç°ä¸ºå…ƒç´ çš„å°ºå¯¸åœ¨å‚ç›´æ–¹å‘è¿›è¡Œæ‹‰ä¼¸ï¼Œä»¥å¡«æ»¡æ•´ä¸ªç½‘æ ¼çš„å‚ç›´ç©ºé—´ã€‚</p><p> â— startè¡¨ç°ä¸ºå…ƒç´ çš„å‚ç›´å°ºå¯¸æ”¶ç¼©ä¸ºå†…å®¹å¤§å°ï¼ŒåŒæ—¶æ²¿ç€ä¸Šç½‘æ ¼çº¿å¯¹é½æ˜¾ç¤º</p><p> â— endè¡¨ç°ä¸ºå…ƒç´ çš„å‚ç›´å°ºå¯¸æ”¶ç¼©ä¸ºå†…å®¹å¤§å°ï¼ŒåŒæ—¶æ²¿ç€ä¸‹ç½‘æ ¼çº¿å¯¹é½æ˜¾ç¤º</p><p> â— centerè¡¨ç°ä¸ºå…ƒç´ çš„å‚ç›´å°ºå¯¸æ”¶ç¼©ä¸ºå†…å®¹å¤§å°ï¼ŒåŒæ—¶åœ¨å½“å‰ç½‘æ ¼åŒºåŸŸå†…éƒ¨å‚ç›´å±…ä¸­å¯¹é½æ˜¾ç¤º</p><p> â— baselineè¡¨ç°ä¸ºæ¯ä¸€è¡Œçš„å„ä¸ªgridå­é¡¹æ²¿ç€åŸºçº¿å¯¹é½</p></li></ol><p><a href="https://demo.cssworld.cn/new/6/3-5.php">å…ƒç´ å¯¹é½æ•ˆæœ</a></p><p><a href="https://demo.cssworld.cn/new/6/3-6.php">align-itemsé»˜è®¤å€¼å›¾ç‰‡å’ŒæŒ‰é’®çš„æ ·å¼è¡¨ç°</a></p><p><strong>ç¼©å†™å±æ€§place-items</strong></p><blockquote><p>ä½¿ç”¨place-itemså±æ€§å¯ä»¥è®©align-itemså’Œjustify-itemså±æ€§å†™åœ¨å•ä¸ªå£°æ˜ä¸­ã€‚è¯­æ³•å¦‚ä¸‹ï¼š</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-items: &lt;align-items&gt; &lt;justify-items&gt;?</span><br></pre></td></tr></table></figure><blockquote><p>å‚ç›´å¯¹é½å†™åœ¨å‰é¢ï¼Œæ°´å¹³å¯¹é½å†™åœ¨åé¢ï¼Œä¸è¿‡è¿™ç§ç¼©å†™é¡ºåºåªé€‚åˆCSSå¯¹é½å±æ€§ï¼Œç½‘æ ¼å¸ƒå±€ç›¸å…³å±æ€§è¿˜æ˜¯è¡Œåœ¨å‰ã€åˆ—åœ¨å</p></blockquote><p><strong>æ•´ä½“å¯¹é½å±æ€§justify-contentå’Œalign-content</strong></p><blockquote><p>justify-contentå±æ€§å’Œalign-contentå±æ€§åˆ†åˆ«æŒ‡å®šäº†ç½‘æ ¼å…ƒç´ æ•´ä½“æ°´å¹³æ–¹å‘å’Œå‚ç›´æ–¹å‘ä¸Šçš„åˆ†å¸ƒå¯¹é½æ–¹å¼ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">justify-content</span>: normal | stretch | start | end | center | space-between | space-around | space-evenly;</span><br><span class="line"></span><br><span class="line"><span class="attribute">align-content</span>: normal | stretch | start | end | center | space-between | space-around | space-evenly;</span><br></pre></td></tr></table></figure><p>â— normalæ˜¯é»˜è®¤å€¼ï¼Œæ•ˆæœå’Œstretchä¸€æ ·ã€‚</p><p>â— stretchå¯ä»¥çœ‹æˆjustify-contentå±æ€§å’Œalign-contentå±æ€§çš„é»˜è®¤å€¼ï¼Œè¡¨ç¤ºæ‹‰ä¼¸ï¼Œè¡¨ç°ä¸ºå°ºå¯¸å¡«æ»¡gridå®¹å™¨ã€‚æ‹‰ä¼¸æ•ˆæœéœ€è¦åœ¨ç½‘æ ¼ç›®æ ‡å°ºå¯¸è®¾ä¸ºautoçš„æ—¶å€™æ‰æœ‰æ•ˆï¼Œå¦‚æœå›ºå®šäº†å®½é«˜ï¼Œåˆ™æ— æ³•æ‹‰ä¼¸ã€‚</p><p>â— startæ˜¯é€»è¾‘CSSå±æ€§å€¼ï¼Œä¸æ–‡æ¡£æµæ–¹å‘ç›¸å…³ã€‚æ°´å¹³æ–¹å‘ä¸Šé»˜è®¤è¡¨ç°ä¸ºå·¦å¯¹é½ï¼Œå‚ç›´æ–¹å‘ä¸Šé»˜è®¤è¡¨ç°ä¸ºé¡¶å¯¹é½</p><p>â— endæ˜¯é€»è¾‘CSSå±æ€§å€¼ï¼Œä¸æ–‡æ¡£æµæ–¹å‘ç›¸å…³ã€‚æ°´å¹³æ–¹å‘ä¸Šé»˜è®¤è¡¨ç°ä¸ºå³å¯¹é½ï¼Œå‚ç›´æ–¹å‘ä¸Šé»˜è®¤è¡¨ç°ä¸ºåº•å¯¹é½</p><p>â— centerè¡¨ç°ä¸ºæ°´å¹³å±…ä¸­å¯¹é½æˆ–å‚ç›´å±…ä¸­å¯¹é½</p><p>â— space-betweenè¡¨ç°ä¸ºgridå­é¡¹ä¸¤ç«¯å¯¹é½ï¼Œä¸­é—´å‰©ä½™ç©ºé—´ç­‰åˆ†</p><p>â— space-aroundè¡¨ç°ä¸ºæ¯ä¸ªgridå­é¡¹çš„ä¸Šä¸‹æˆ–å·¦å³ä¸¤ä¾§éƒ½ç¯ç»•äº’ä¸å¹²æ‰°çš„ç›¸åŒå°ºå¯¸çš„ç©ºç™½é—´è·ï¼Œåœ¨è§†è§‰ä¸Šè¡¨ç°ä¸ºgridå­é¡¹è¾¹ç¼˜å¤„çš„ç©ºç™½å°ºå¯¸åªæœ‰ä¸­é—´ç©ºç™½å°ºå¯¸çš„ä¸€åŠ</p><p>â— space-evenlyè¡¨ç°ä¸ºæ¯ä¸ªgridå­é¡¹ä¸Šä¸‹æˆ–å·¦å³ä¸¤ä¾§çš„ç©ºç™½é—´è·å®Œå…¨ç›¸ç­‰</p><p><a href="https://demo.cssworld.cn/new/6/3-7.php">æ•ˆæœé¢„è§ˆ</a></p><p><strong>ç¼©å†™å±æ€§place-content</strong></p><blockquote><p>ä½¿ç”¨place-contentå±æ€§å¯ä»¥è®©align-contentå±æ€§å’Œjustify-contentå±æ€§å†™åœ¨åŒä¸€ä¸ªCSSå£°æ˜ä¸­</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-<span class="attribute">content</span>: &lt;align-content&gt; &lt;justify-content&gt;?</span><br></pre></td></tr></table></figure><blockquote><p>place-contentå±æ€§åœ¨å¼¹æ€§å¸ƒå±€ä¸­ä¹Ÿæ˜¯æœ‰æ•ˆçš„ï¼Œä¸è¿‡éœ€è¦æ³¨æ„ä¸€ä¸‹å…¼å®¹æ€§ï¼ŒIEæµè§ˆå™¨å’ŒEdgeæµè§ˆå™¨éƒ½ä¸æ”¯æŒplace-contentç¼©å†™ã€‚</p></blockquote><h4 id="åŒºé—´èŒƒå›´è®¾ç½®å±æ€§grid-column-start-grid-column-endå’Œgrid-row-start-grid-row-end"><a href="#åŒºé—´èŒƒå›´è®¾ç½®å±æ€§grid-column-start-grid-column-endå’Œgrid-row-start-grid-row-end" class="headerlink" title="åŒºé—´èŒƒå›´è®¾ç½®å±æ€§grid-column-start/grid-column-endå’Œgrid-row-start/ grid-row-end"></a>åŒºé—´èŒƒå›´è®¾ç½®å±æ€§grid-column-start/grid-column-endå’Œgrid-row-start/ grid-row-end</h4><blockquote><p>åˆ—èŒƒå›´è®¾ç½®å±æ€§grid-column-start/grid-column-endå’Œè¡ŒèŒƒå›´è®¾ç½®å±æ€§grid- row-start/grid-row-endæ˜¯åº”ç”¨åœ¨gridå­é¡¹ä¸Šçš„ï¼Œé€šè¿‡æŒ‡å®šgridå­é¡¹è¡Œå’Œåˆ—çš„èµ·æ­¢ä½ç½®æ¥è¡¨æ˜å½“å‰gridå­é¡¹æ‰€å æ®çš„èŒƒå›´</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column-start</span>: &lt;integer&gt; | &lt;name&gt; | &lt;integer&gt; &lt;name&gt; | span &lt;number&gt; | span &lt;name&gt; | auto;</span><br><span class="line">    <span class="attribute">grid-column-end</span>: ... ;</span><br><span class="line">    <span class="attribute">grid-row-start</span>: ... ;</span><br><span class="line">    <span class="attribute">grid-row-end</span>: ... ;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ1ï¼‰&lt;integer&gt;æŒ‡èµ·æ­¢äºç¬¬å‡ æ¡ç½‘æ ¼çº¿ï¼Œå¯ä»¥æ˜¯è´Ÿæ•´æ•°ï¼Œä½†æ˜¯ä¸èƒ½æ˜¯0ï¼Œè´Ÿæ•´æ•°è¡¨ç¤ºä»å³ä¾§å¼€å§‹è®¡æ•°ç½‘æ ¼çº¿</p><p>ï¼ˆ2ï¼‰&lt;name&gt;æ˜¯è‡ªå®šä¹‰çš„ç½‘æ ¼çº¿çš„åç§°ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„åç§°æœ‰ä¸€ä¸ªè‡ªåŠ¨è¡¥å…¨-startåç¼€å’Œ-endåç¼€çš„ç‰¹æ€§</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: grid;</span><br><span class="line">    <span class="attribute">grid-template-columns</span>: [A-start] <span class="number">100px</span> [A-end B-start] auto [B-end] auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column-start</span>: A;</span><br><span class="line">    <span class="attribute">grid-column-end</span>: B;</span><br><span class="line">    <span class="attribute">background</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è™½ç„¶grid-column-startçš„å€¼æ˜¯Aï¼Œä½†æ˜¯ï¼Œæµè§ˆå™¨åœ¨æ‰¾ä¸åˆ°åç§°ä¸ºAçš„ç½‘æ ¼çº¿çš„æ—¶å€™ï¼Œä¼šè‡ªåŠ¨è¡¥å…¨-startç»§ç»­å¯»æ‰¾ï¼›åŒæ ·ï¼Œgrid-column-end:Bä¼šä¾æ¬¡å¯»æ‰¾åç§°ä¸ºBå’ŒB-endçš„ç½‘æ ¼çº¿ã€‚äºæ˜¯.itemå…ƒç´ åŒºé—´å°±æ˜¯ä»[A-start]åˆ°[B-end]ï¼Œè·¨åº¦æ˜¯2ä¸ªæ˜¾å¼ç½‘æ ¼</p></blockquote><p>ï¼ˆ3ï¼‰&lt;integer&gt; &lt;name&gt;è¿™ä¸ªè¯­æ³•éå¸¸éš¾ç†è§£ï¼Œå±äºé«˜é˜¶åº”ç”¨ï¼Œå¹³å¸¸å®è·µä¸­çš„ç½‘æ ¼å¸ƒå±€æ˜¯ç”¨ä¸åˆ°çš„ã€‚</p><blockquote><p>è¿™ä¸ªè¯­æ³•è¡¨ç¤ºå½“å‰åç§°ä¸º &lt;name&gt;çš„ç¬¬ &lt;integer&gt;ä¸ªç½‘æ ¼çº¿ï¼Œä»å®šä¹‰ä¸Šçœ‹ï¼Œç½‘æ ¼å¸ƒå±€ä¸­éœ€è¦æœ‰å¾ˆå¤šä¸ªåç§°ä¸€æ ·çš„ç½‘æ ¼çº¿æ‰èƒ½åŒ¹é…å¯¹åº”çš„ç½‘æ ¼çº¿ï¼Œä½†å¦‚æœæ²¡æœ‰è¿™ä¹ˆå¤šåŒæ ·åç§°çš„ç½‘æ ¼çº¿ä¼šæ€æ ·å‘¢ï¼Ÿæ­¤æ—¶ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨åˆ›å»ºç¬¦åˆæ•°é‡çš„éšå¼ç½‘æ ¼ï¼Œè¿™äº›éšå¼ç½‘æ ¼çš„ç½‘æ ¼çº¿éƒ½æ˜¯æŒ‡å®šçš„è¿™ä¸ªåç§°ã€‚</p></blockquote><p>ï¼ˆ4ï¼‰span &lt;number&gt;è¡¨ç¤ºå½“å‰ç½‘æ ¼ä¼šè‡ªåŠ¨è·¨è¶ŠæŒ‡å®šçš„ç½‘æ ¼æ•°é‡ã€‚</p><p>ï¼ˆ5ï¼‰span &lt;name&gt;è¡¨ç¤ºå½“å‰ç½‘æ ¼ä¼šè‡ªåŠ¨æ‰©å±•ï¼Œç›´åˆ°é€‰ä¸­æŒ‡å®šçš„ç½‘æ ¼çº¿åç§°ã€‚ä¸spanå…³é”®å­—ç›¸å…³çš„è¯­æ³•åœ¨åé¢ä¼šä¸“é—¨ä»‹ç»ã€‚</p><p>ï¼ˆ6ï¼‰autoæ˜¯é»˜è®¤å€¼ï¼Œè¡¨ç¤ºè‡ªåŠ¨ï¼Œé»˜è®¤è·¨åº¦æ˜¯1ä¸ªæ ¼å­ã€‚</p><h4 id="spanå…³é”®å­—çš„æ ·å¼è¡¨ç°"><a href="#spanå…³é”®å­—çš„æ ·å¼è¡¨ç°" class="headerlink" title="spanå…³é”®å­—çš„æ ·å¼è¡¨ç°"></a>spanå…³é”®å­—çš„æ ·å¼è¡¨ç°</h4><blockquote><p>spanå…³é”®å­—å’Œä¼ ç»Ÿçš„ &lt;table&gt;å…ƒç´ ä¸­å•å…ƒæ ¼ä½¿ç”¨çš„HTMLä¸­çš„colspanå±æ€§å’Œrowspanå±æ€§çš„ä½œç”¨æ˜¯ç±»ä¼¼çš„ï¼Œè¡¨ç¤ºåˆå¹¶å•å…ƒæ ¼ï¼ˆç½‘æ ¼ï¼‰ã€‚</p><p>span &lt;number&gt;ä¸­çš„ &lt;number&gt;ä¸èƒ½æ˜¯è´Ÿå€¼ï¼Œä¹Ÿä¸èƒ½æ˜¯0ï¼Œä¹Ÿä¸èƒ½æ˜¯å°æ•°ã€‚</p></blockquote><p>å¦‚æœç½‘æ ¼å¸ƒå±€ä¸­æœ‰å¤šä¸ªç½‘æ ¼çº¿çš„å‘½åæ˜¯Bæˆ–è€…æ˜¯B-startï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.container &#123;</span><br><span class="line">display: grid;</span><br><span class="line">grid-template-columns: [B] 80px [B] auto [B] 100px [D] auto auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åˆ™span Bè¡¨ç¤ºç¦»grid-column-endä½ç½®æœ€è¿‘çš„ä¸€ä¸ªç½‘æ ¼çº¿Bï¼Œè€Œå¦‚æœå±æ€§å€¼æ˜¯Bè€Œä¸æ˜¯span Bï¼Œåˆ™èµ·å§‹ä½ç½®ä¼šæ˜¯ç¦»grid-column-endä½ç½®æœ€è¿œçš„ä¸€ä¸ªç½‘æ ¼çº¿Bã€‚</p><p><a href="https://demo.cssworld.cn/new/6/3-8.php">spanå’Œä¸åŒæ•°é‡ç½‘æ ¼çº¿å‘½åæ•ˆæœ</a></p><p><strong>ç¼©å†™å±æ€§grid-columnå’Œgrid-row</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-column</span>: &lt;grid-line&gt; [/ &lt;grid-line&gt;]?</span><br><span class="line"></span><br><span class="line">grid-row: &lt;grid-line&gt; [/ &lt;grid-line&gt;]?</span><br></pre></td></tr></table></figure><blockquote><p>å…¶å®å°±æ˜¯ä½¿ç”¨æ–œæ æŠŠåŸå§‹CSSå±æ€§çš„å€¼åŸå°ä¸åŠ¨åœ°åŒºåˆ†å¼€ï¼Œä¸”ä¸è®²ç©¶é¡ºåºï¼Œå½“ç„¶ï¼Œå¼€å‘çš„æ—¶å€™è¿˜æ˜¯å»ºè®®æŠŠèµ·å§‹èŒƒå›´å†™åœ¨å‰é¢ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*ç¼©å†™å‰*/</span></span><br><span class="line"><span class="selector-class">.item-b</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column-start</span>: <span class="number">2</span>;</span><br><span class="line">    <span class="attribute">grid-column-end</span>: span çºµçº¿<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">grid-row-start</span>: ç¬¬ä¸€è¡Œå¼€å§‹;</span><br><span class="line">    <span class="attribute">grid-row-end</span>: span <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç¼©å†™*/</span></span><br><span class="line"><span class="selector-class">.item-b</span> &#123;</span><br><span class="line">    <span class="attribute">grid-column</span>: <span class="number">2</span> / span çºµçº¿<span class="number">3</span>;</span><br><span class="line">    <span class="attribute">grid-row</span>: ç¬¬ä¸€è¡Œå¼€å§‹ / span <span class="number">3</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç¼©å†™å±æ€§grid-areaå¤–åŠ åŒºåŸŸèŒƒå›´è®¾ç½®"><a href="#ç¼©å†™å±æ€§grid-areaå¤–åŠ åŒºåŸŸèŒƒå›´è®¾ç½®" class="headerlink" title="ç¼©å†™å±æ€§grid-areaå¤–åŠ åŒºåŸŸèŒƒå›´è®¾ç½®"></a>ç¼©å†™å±æ€§grid-areaå¤–åŠ åŒºåŸŸèŒƒå›´è®¾ç½®</h4><blockquote><p>grid-areaæ˜¯ä¸€ä¸ªç¼©å†™å±æ€§ï¼Œå®ƒæ˜¯grid-row-startã€grid-column-startã€grid-row-endå’Œgrid-column-endè¿™4ä¸ªCSSå±æ€§çš„ç¼©å†™ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-area</span>: &lt;area-name&gt; | &lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt;/ &lt;column-end&gt;</span><br></pre></td></tr></table></figure><p>â— &lt;area-name&gt;æŒ‡åŒºåŸŸåç§°ï¼Œç”±grid-template-areaså±æ€§åˆ›å»ºã€‚</p><p>â— &lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; /&lt;column-end&gt;æŒ‡å æ®ç½‘æ ¼åŒºåŸŸçš„è¡Œåˆ—èµ·æ­¢ä½ç½®ã€‚</p><p>ï¼ˆ1ï¼‰å¦‚æœgrid-areaå±æ€§æœ‰å®Œæ•´çš„4ä¸ªå€¼ï¼Œåˆ™è¿™4ä¸ªå€¼ä¾æ¬¡è¡¨ç¤ºgrid-row-startã€grid-column-startã€grid-row-endå’Œgrid-column-endè¿™4ä¸ªå±æ€§</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-area</span>: <span class="number">4</span> A/ span <span class="number">4</span> / B / D</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰å¦‚æœgrid-areaå±æ€§æœ‰3ä¸ªå€¼ï¼Œä¹Ÿå°±æ˜¯æŠŠgrid-column-endå€¼çœç•¥äº†ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-area</span>: A / B / C;</span><br></pre></td></tr></table></figure><p>ï¼ˆ3ï¼‰å¦‚æœgrid-areaå±æ€§æ˜¯2ä¸ªå€¼ï¼Œè¯´æ˜grid-row-endå€¼ä¹Ÿè¢«çœç•¥äº†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">grid-area</span>: A / B;</span><br><span class="line"><span class="comment">/*ç­‰åŒäº*/</span></span><br><span class="line"><span class="attribute">grid-area</span>: A /B /A /B;</span><br><span class="line"></span><br><span class="line">gird-area: <span class="number">1</span> / <span class="number">2</span>;</span><br><span class="line"><span class="comment">/*ç­‰åŒäº*/</span></span><br><span class="line"><span class="attribute">grid-area</span>: <span class="number">1</span> / <span class="number">2</span>/ auto/ auto;</span><br></pre></td></tr></table></figure><p>ï¼ˆ4ï¼‰å¦‚æœgrid-areaå±æ€§ä»…æœ‰1ä¸ªå€¼ï¼Œè¯´æ˜grid-column-startå€¼ä¹Ÿè¢«çœç•¥äº†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">gird-area: A;</span><br><span class="line"><span class="comment">/*ç­‰åŒäº*/</span></span><br><span class="line">gird-area: A/A/A/A;</span><br><span class="line"></span><br><span class="line"><span class="attribute">grid-area</span>: <span class="number">2</span>;</span><br><span class="line"><span class="comment">/*ç­‰åŒäº*/</span></span><br><span class="line">gird-area: <span class="number">2</span>/auto/auto/auto;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/6/3-9.php">grid-areaä¸å…ƒç´ é‡å </a></p><h4 id="gridå­é¡¹å¯¹é½å±æ€§justify-selfå’Œalign-self"><a href="#gridå­é¡¹å¯¹é½å±æ€§justify-selfå’Œalign-self" class="headerlink" title="gridå­é¡¹å¯¹é½å±æ€§justify-selfå’Œalign-self"></a>gridå­é¡¹å¯¹é½å±æ€§justify-selfå’Œalign-self</h4><blockquote><p>justify-selfå±æ€§ç”¨æ¥è®¾ç½®å•ä¸ªç½‘æ ¼å…ƒç´ çš„æ°´å¹³å¯¹é½æ–¹å¼ï¼Œalign-selfå±æ€§åˆ™ç”¨æ¥è®¾ç½®å•ä¸ªç½‘æ ¼å…ƒç´ çš„å‚ç›´å¯¹é½æ–¹å¼ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.item</span> &#123;</span><br><span class="line">    justify-self: auto| noraml| stretch | start | end | center | baseline;</span><br><span class="line">    <span class="attribute">align-self</span>: ...;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç¼©å†™ place-self</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">place-self: &lt;align-self&gt; &lt;justify-self&gt;;</span><br></pre></td></tr></table></figure><h4 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>1<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>3<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>5<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>1ã€box æ˜¯å®¹å™¨</p><p>â€‹      -display: grid /inline-grid æŒ‡å®šç½‘æ ¼å¸ƒå±€</p><p>â€‹      -grid-template-columns åˆ—å®½ px,% éƒ½å¯ä»¥</p><p>â€‹      -grid-template-rows è¡Œé«˜ px,%,fr éƒ½å¯ä»¥</p><p>â€‹      -grid-row-gap  è¡Œé—´è·</p><p>â€‹      -grid-column-gap åˆ—é—´è·</p><p>â€‹      -grid-gap ç®€å†™ï¼› eg: grid-gap: è¡Œé—´è·ï¼Œåˆ—é—´è·</p><p>â€‹      -grid-template-areas åŒºåŸŸï¼šå°†ä¸€ä¸ªæˆ–å¤šä¸ªå•å…ƒæ ¼åˆ’åˆ†ä¸ºä¸€ä¸ªåŒºåŸŸ</p><p>â€‹        // 9ä¸ªå•å…ƒæ ¼ï¼Œåˆ†ä¸º3ä¸ªåŒºåŸŸ</p><p>â€‹        grid-template-areas: â€˜a a aâ€™</p><p>â€‹                   â€˜b b bâ€™</p><p>â€‹                   â€˜c c câ€™;</p><p>â€‹        -åŒºåŸŸçš„å‘½åä¼šå½±å“åˆ°ç½‘æ ¼çº¿ã€‚æ¯ä¸ªåŒºåŸŸçš„èµ·å§‹ç½‘æ ¼çº¿ï¼Œä¼šè‡ªåŠ¨å‘½åä¸ºåŒºåŸŸå-startï¼Œç»ˆæ­¢ç½‘æ ¼çº¿è‡ªåŠ¨å‘½åä¸ºåŒºåŸŸå-endã€‚</p><p>â€‹      -grid-auto-flow: row, columnï¼Œrow dense,column dense è‡ªåŠ¨å¸ƒå±€ç®—æ³•æŒ‰ç…§é€šè¿‡é€è¡Œå¡«å……æ¥æ’åˆ—å…ƒç´ ï¼Œåœ¨å¿…è¦æ—¶å¢åŠ æ–°è¡Œ</p><p>â€‹      -justify-items å±æ€§ï¼Œé¡¹ç›®å†…å®¹æ°´å¹³start | end | center | stretch</p><p>â€‹      -align-items å±æ€§ï¼Œé¡¹ç›®å†…å®¹å‚ç›´ start | end | center | stretch</p><p>â€‹      -place-items å±æ€§ï¼Œ ç®€å†™ place-items: æ°´å¹³ å‚ç›´;</p><p>â€‹      -justify-content å±æ€§ï¼Œæ•´ä¸ªå†…å®¹åŒºåŸŸåœ¨å®¹å™¨é‡Œé¢çš„æ°´å¹³ä½ç½® start | end | center | stretch | space-around | space-between | space-evenly;</p><p>â€‹      -align-content å±æ€§ï¼Œæ•´ä¸ªå†…å®¹åŒºåŸŸåœ¨å®¹å™¨é‡Œé¢çš„å‚ç›´ä½ç½® start | end | center | stretch | space-around | space-between | space-evenly;</p><p>â€‹      -place-content å±æ€§ ç®€å†™ place-content: &lt;align-content&gt; &lt;justify-content&gt;;</p><p>â€‹      -grid-auto-columns å±æ€§ï¼Œå¤šä½™ç½‘æ ¼çš„åˆ—å®½ã€å½“ç½‘æ ¼åªæœ‰3X3ä½†æŒ‡å®š4è¡Œ2åˆ—ä½ç½®æ—¶æ—¶ä¼šç”Ÿæˆå¤šä½™çš„ç½‘æ ¼ã€‘</p><p>â€‹      -grid-auto-rows å±æ€§ï¼Œå¤šä½™ç½‘æ ¼çš„è¡Œé«˜</p><p>â€‹      -è¾…åŠ©å‡½æ•°</p><p>â€‹        -repeat(é‡å¤æ•°, å€¼) è®¾ç½®è¡Œé«˜ï¼Œåˆ—å®½ä½¿ç”¨ eg: repeat(3, 100px 150px 200px) å®šä¹‰äº†9ä¸ªé¡¹ç›®åˆ—å®½è¡Œé«˜</p><p>â€‹        -minmax()  äº§ç”Ÿä¸€ä¸ªé•¿åº¦èŒƒå›´ï¼Œè¡¨ç¤ºé•¿åº¦å°±åœ¨è¿™ä¸ªèŒƒå›´ä¹‹ä¸­ã€‚å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼Œåˆ†åˆ«ä¸ºæœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚</p><p>â€‹      -å…³é”®å­—</p><p>â€‹        -auto-fill åœ¨repeatä¸­ä½¿ç”¨ï¼Œç¤ºè‡ªåŠ¨å¡«å……ã€‚é¡¹ç›®å……æ»¡å®¹å™¨</p><p>â€‹        -fr ï¼Œ1fr ä»£è¡¨1å€åˆ—å®½ï¼Œ2frä»£è¡¨2å€åˆ—å®½</p><p>â€‹        -auto ç”±æµè§ˆå™¨è‡ªå·±å†³å®šé•¿åº¦</p><p>â€‹    2ã€box&gt;div æ˜¯é¡¹ç›®ï¼Œspanä¸æ˜¯</p><p>â€‹    -ï¼ˆé¡¹ç›®ï¼‰çš„floatã€display: inline-blockã€display: table-cellã€vertical-alignå’Œcolumn-*ç­‰è®¾ç½®éƒ½å°†å¤±æ•ˆ</p><p>â€‹      â–£é¡¹ç›®ä½ç½®</p><p>â€‹        -grid-column-startå±æ€§ï¼šå·¦è¾¹æ¡†æ‰€åœ¨çš„å‚ç›´ç½‘æ ¼çº¿</p><p>â€‹        -grid-column-endå±æ€§ï¼šå³è¾¹æ¡†æ‰€åœ¨çš„å‚ç›´ç½‘æ ¼çº¿</p><p>â€‹        -grid-row-startå±æ€§ï¼šä¸Šè¾¹æ¡†æ‰€åœ¨çš„æ°´å¹³ç½‘æ ¼çº¿</p><p>â€‹        -grid-row-endå±æ€§ï¼šä¸‹è¾¹æ¡†æ‰€åœ¨çš„æ°´å¹³ç½‘æ ¼çº¿</p><p>â€‹        -grid-column å±æ€§ï¼Œç®€å†™ï¼šgrid-column: &lt;start-line&gt; /\ <end-line>;</p><p>â€‹        -grid-row å±æ€§ï¼Œ ç®€å†™ï¼šgrid-row: &lt;start-line&gt; / &lt;end-line&gt;;</p><p>â€‹        -grid-area å±æ€§ï¼ŒæŒ‡å®šé¡¹ç›®æ”¾åœ¨å“ªä¸€ä¸ªåŒºåŸŸã€‚</p><p>â€‹          .grid-area: a;// æŒ‡å®šé¡¹ç›®æ”¾åœ¨aåŒºåŸŸ</p><p>â€‹          .ç®€å†™ï¼šgrid-area: &lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; / &lt;column-end&gt;; // grid-area: 1 / 1 / 3 / 3;</p><p>â€‹        -justify-self å±æ€§ï¼Œç½®å•å…ƒæ ¼å†…å®¹çš„æ°´å¹³ä½ç½®</p><p>â€‹        -align-self å±æ€§ï¼Œè®¾ç½®å•å…ƒæ ¼å†…å®¹çš„å‚ç›´ä½ç½®</p><p>â€‹        -place-self å±æ€§ã€‚place-self: &lt;align-self&gt; &lt;justify-self&gt;;</p><p>â€‹      -å…³é”®å­—</p><p>â€‹        -span è·¨è¶Šäº†å¤šå°‘ä¸ªç½‘æ ¼</p><p>â€‹    3ã€å®¹å™¨é‡Œé¢çš„æ°´å¹³åŒºåŸŸç§°ä¸ºâ€è¡Œâ€ï¼ˆrowï¼‰å‚ç›´åŒºåŸŸç§°ä¸ºâ€åˆ—â€ï¼ˆcolumnï¼‰ã€‚</p><p>â€‹    4ã€è¡Œå’Œåˆ—çš„äº¤å‰åŒºåŸŸï¼Œç§°ä¸ºâ€å•å…ƒæ ¼â€ï¼ˆcellï¼‰</p><p>â€‹      -æ­£å¸¸æƒ…å†µä¸‹ï¼Œnè¡Œå’Œmåˆ—ä¼šäº§ç”Ÿn x mä¸ªå•å…ƒæ ¼ã€‚æ¯”å¦‚ï¼Œ3è¡Œ3åˆ—ä¼šäº§ç”Ÿ9ä¸ªå•å…ƒæ ¼ã€‚</p><p>â€‹    5ã€ç½‘æ ¼çº¿â€ï¼ˆgrid lineï¼‰</p><p>â€‹      -æ­£å¸¸æƒ…å†µä¸‹ï¼Œnè¡Œæœ‰n + 1æ ¹æ°´å¹³ç½‘æ ¼çº¿ï¼Œmåˆ—æœ‰m + 1æ ¹å‚ç›´ç½‘æ ¼çº¿ï¼Œæ¯”å¦‚ä¸‰è¡Œå°±æœ‰å››æ ¹æ°´å¹³ç½‘æ ¼çº¿</p><p>â€‹      -æŒ‡å®šç½‘æ ¼çº¿çš„åå­— </p><p>â€‹        grid-template-columns: [c1] 100px [c2] 100px [c3] auto [c4]</p><p>â€‹        grid-template-rows: [r1 s1] 100px [r2] 100px [r3] auto [r4] // å¯è®¾ç½®å¤šä¸ªåå­—</p><p>â€‹    </p><h3 id="CSS-Shapeså¸ƒå±€"><a href="#CSS-Shapeså¸ƒå±€" class="headerlink" title="CSS Shapeså¸ƒå±€"></a>CSS Shapeså¸ƒå±€</h3><blockquote><p>ä½¿ç”¨CSS Shapeså¸ƒå±€å¯ä»¥å®ç°ä¸è§„åˆ™çš„å›¾æ–‡ç¯ç»•æ•ˆæœï¼Œå®ƒéœ€è¦å’Œfloatå±æ€§é…åˆä½¿ç”¨ã€‚</p><p>CSS Shapeså¸ƒå±€çš„å…¼å®¹æ€§è¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œç§»åŠ¨ç«¯å¯ç”¨ï¼Œä¼ä¸šå†…éƒ¨ä½¿ç”¨çš„ä¸­åå°é¡¹ç›®ä¹Ÿå¯ç”¨</p><p>ä¸CSS Shapeså¸ƒå±€ç›¸å…³çš„å±æ€§å¹¶ä¸å¤šï¼ŒåŒ…æ‹¬shape-outsideã€shape-marginå’Œshape- image-thresholdè¿™3ä¸ªCSSå±æ€§ï¼Œå­¦ä¹ æˆæœ¬æ¯”ç½‘æ ¼å¸ƒå±€å’Œå¼¹æ€§å¸ƒå±€å°å¾ˆå¤šã€‚</p></blockquote><h4 id="shape-outsideå±æ€§"><a href="#shape-outsideå±æ€§" class="headerlink" title="shape-outsideå±æ€§"></a>shape-outsideå±æ€§</h4><p>shape-outsideå±æ€§æ˜¯shapeså¸ƒå±€çš„æ ¸å¿ƒï¼Œå…¶æ”¯æŒçš„å±æ€§å€¼åˆ†ä¸ºå¦‚ä¸‹4ç±»ã€‚</p><ul><li><p>noneè¡¨ç¤ºé»˜è®¤å€¼ã€‚</p><p>  è¡¨ç¤ºæ™®é€šçš„çŸ©å½¢ç¯ç»•ã€‚</p></li><li><p>&lt;shape-box&gt;è¡¨ç¤ºå›¾å½¢ç›’å­ã€‚</p><p>  æ˜¯æŒ‡å®šæ–‡å­—ç¯ç»•æ—¶ä¾ç…§å“ªä¸ªç›’å­æ¨¡å‹çš„è¾¹ç¼˜æ¥è®¡ç®—ã€‚</p></li><li><p>&lt;basic-shape&gt;è¡¨ç¤ºåŸºæœ¬å›¾å½¢å‡½æ•°ã€‚</p><p>  å®ƒå’Œclip-pathå‰ªè£å±æ€§æ”¯æŒçš„åŸºæœ¬å½¢çŠ¶å‡½æ•°ä¸€æ¨¡ä¸€æ ·ã€‚</p></li><li><p>&lt;image&gt;è¡¨ç¤ºå›¾åƒç±»ã€‚</p><p>  åŒ…æ‹¬URLé“¾æ¥å›¾åƒã€æ¸å˜å›¾åƒã€cross-fade()å‡½æ•°å›¾åƒã€element ()å‡½æ•°å›¾åƒç­‰</p></li></ul><p><a href="https://demo.cssworld.cn/new/6/4-1.php">ä¸åŒshape-outsideç›’å­å¸ƒå±€æ•ˆæœ</a></p><p><strong>åŸºæœ¬çš„å½¢çŠ¶å‡½æ•°</strong></p><blockquote><p>CSSä¸–ç•Œä¸­çš„â€œåŸºæœ¬çš„å½¢çŠ¶å‡½æ•°â€æŒ‡çš„å°±æ˜¯ä¸‹é¢è¿™4ä¸ªå½¢çŠ¶å‡½æ•°ï¼Œè¿™å‡ ä¸ªå½¢çŠ¶å‡½æ•°åœ¨å…¶ä»–ä¸å½¢çŠ¶ç›¸å…³çš„CSSå±æ€§ä¸­ä¹Ÿæ˜¯é€‚ç”¨çš„ï¼Œä¾‹å¦‚clip-pathå±æ€§</p></blockquote><p>â— circle()è¡¨ç¤ºåœ†ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">circle(<span class="selector-attr">[&lt;shape-radius&gt;]</span>? <span class="selector-attr">[at &lt;position&gt;]</span>?)</span><br><span class="line"><span class="comment">/* åŠå¾„ï¼Œåœ†å¿ƒ */</span></span><br><span class="line">eg:</span><br><span class="line">shape-outside: <span class="built_in">circle</span>(<span class="number">50px</span> at <span class="number">50px</span> <span class="number">50px</span>)</span><br></pre></td></tr></table></figure><p>â— ellipse()è¡¨ç¤ºæ¤­åœ†ã€‚</p><blockquote><p>&lt;shape-radius&gt;æŒ‡çš„æ˜¯æ°´å¹³åŠå¾„å’Œå‚ç›´åŠå¾„ï¼Œ&lt;position&gt;æŒ‡çš„æ˜¯æ¤­åœ†çš„åœ†å¿ƒä½ç½®</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ellipse(<span class="selector-attr">[&lt;shape-radius&gt;&#123;2&#125;]</span>? <span class="selector-attr">[at &lt;position&gt;]</span>?)</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">shape-outside: <span class="built_in">ellipse</span>(<span class="number">50px</span> <span class="number">75px</span> at <span class="number">50%</span> <span class="number">50%</span>)</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>â— inset()è¡¨ç¤ºå†…çŸ©å½¢ï¼ˆåŒ…æ‹¬åœ†è§’çŸ©å½¢ï¼‰ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">inset(&lt;shape-arg&gt;&#123;<span class="number">1</span>,<span class="number">4</span>&#125; <span class="selector-attr">[round &lt;border-radius&gt;]</span>?)</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">shape-outside: <span class="built_in">inset</span>(<span class="number">10px</span> <span class="number">20px</span> <span class="number">30px</span> <span class="number">40px</span> round <span class="number">10px</span>)</span><br></pre></td></tr></table></figure><p>â— polygon()è¡¨ç¤ºå¤šè¾¹å½¢ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">polygon(<span class="selector-attr">[&lt;fill-rule&gt;,]</span>? <span class="selector-attr">[&lt;shape-arg&gt; &lt;shape-arg&gt;]</span>)</span><br><span class="line"></span><br><span class="line"><span class="attribute">shape-outside</span>: <span class="built_in">polygon</span>(<span class="number">0</span> <span class="number">0</span>, <span class="number">100px</span> <span class="number">0</span>, <span class="number">0</span> <span class="number">50px</span>, <span class="number">10px</span> <span class="number">100px</span> ,<span class="number">0</span> <span class="number">100px</span>)</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/6/4-2.php">æ•ˆæœå±•ç¤º</a></p><p><strong>å›¾åƒç±»</strong></p><blockquote><p>è¿™é‡Œåªè®²URLå›¾åƒå’Œæ¸å˜å›¾åƒï¼Œå› ä¸ºè¿™ä¸¤ç§ç±»å‹æœ€å¸¸ç”¨ã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/6/4-3.php">æ–‡å­—å›´ç»•é¹¦é¹‰è½®å»“</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.shape</span> &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>; <span class="attribute">height</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: currentColor;</span><br><span class="line">    <span class="attribute">shape-outside</span>: <span class="built_in">url</span>(<span class="string">../images/bird.png</span>);</span><br><span class="line">    -webkit-<span class="attribute">mask</span>: <span class="built_in">url</span>(<span class="string">../images/bird.png</span>) no-repeat;</span><br><span class="line">    <span class="attribute">mask</span>: <span class="built_in">url</span>(<span class="string">../images/bird.png</span>) no-repeat;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#cd0000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>gradientæ¸å˜ä¸ç¯ç»•ã€‚</strong></p><blockquote><p>è¿™é‡Œçš„æ¸å˜å¯ä»¥æ˜¯çº¿æ€§æ¸å˜ã€å¾„å‘æ¸å˜ã€é”¥å½¢æ¸å˜å’Œå¯¹åº”çš„é‡å¤æ¸å˜ã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/6/4-4.php">æ•ˆæœå±•ç¤º</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">shape &#123;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>; <span class="attribute">height</span>: <span class="number">120px</span>;</span><br><span class="line">    <span class="attr">--gradient</span>: <span class="built_in">linear-gradient</span>(to right bottom, <span class="number">#cd0000</span>, transparent <span class="number">50%</span>, transparent <span class="number">90%</span>, <span class="number">#cd0000</span>);</span><br><span class="line">    <span class="attribute">shape-outside</span>: <span class="built_in">var</span>(--gradient);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--gradient);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="shape-marginå±æ€§"><a href="#shape-marginå±æ€§" class="headerlink" title="shape-marginå±æ€§"></a><strong>shape-marginå±æ€§</strong></h4><blockquote><p>shape-marginå±æ€§å¾ˆå¥½ç†è§£ï¼Œå…¶ä½œç”¨å°±æ˜¯æ§åˆ¶æ–‡å­—ç¯ç»•å›¾å½¢æ—¶æ–‡å­—ä¸å…ƒç´ è¾¹ç•Œçš„è·ç¦»ã€‚è¿™ä¸ªå±æ€§å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºåœ¨Shapeså¸ƒå±€ä¸­ï¼Œæ–‡å­—ç¯ç»•æœ‰æ—¶å€™æ˜¯æ— è§†marginå±æ€§çš„ï¼Œæƒ³è¦è®©æ–‡å­—å’Œå…ƒç´ è¾¹ç•Œä¿æŒä¸€å®šè·ç¦»ï¼Œå¤šåŠè¿˜å¾—ç”¨shape-marginå±æ€§ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*é•¿åº¦å•ä½*/</span></span><br><span class="line"><span class="attribute">shape-margin</span>: <span class="number">10px</span>;</span><br><span class="line"><span class="attribute">shape-margin</span>: <span class="number">20mm</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç™¾åˆ†æ¯”å€¼*/</span></span><br><span class="line"><span class="attribute">shape-margin</span>: <span class="number">20%</span>;</span><br></pre></td></tr></table></figure><p>åªæ”¯æŒä¸€ä¸ªå€¼</p><p><a href="https://demo.cssworld.cn/new/6/4-5.php">æ•ˆæœæ¼”ç¤º</a></p><h4 id="shape-image-thresholdå±æ€§"><a href="#shape-image-thresholdå±æ€§" class="headerlink" title="shape-image-thresholdå±æ€§"></a>shape-image-thresholdå±æ€§</h4><blockquote><p>hresholdè¿™ä¸ªå•è¯æ˜¯â€œé˜ˆå€¼â€çš„æ„æ€ï¼Œshape-image-thresholdæŒ‡å›¾åƒç¯ç»•æ—¶å€™çš„åŠé€æ˜é˜ˆå€¼ï¼Œé»˜è®¤æ˜¯0.0ï¼Œä¹Ÿå°±æ˜¯å›¾åƒé€æ˜åº¦ä¸º0çš„åŒºåŸŸè¾¹ç•Œæ‰èƒ½è¢«æ–‡å­—ç¯ç»•ã€‚åŒç†ï¼Œå¦‚æœå±æ€§å€¼æ˜¯0.5ï¼Œåˆ™è¡¨ç¤ºé€æ˜åº¦å°äº0.5çš„åŒºåŸŸéƒ½å¯ä»¥è¢«æ–‡å­—ç¯ç»•ã€‚</p><p>å°±æ˜¯è¯´ä½¿ç”¨é¢œè‰²æ¸å˜æ—¶é€æ˜åº¦ä½çš„åœ°æ–¹å¯ä»¥è®¾ç½®è¢«æ–‡å­—è¦†ç›–</p></blockquote><p><a href="https://demo.cssworld.cn/new/6/4-6.php">æ•ˆæœå±•ç¤º</a></p><p><a href="https://demo.cssworld.cn/new/6/4-7.php">å¸ƒå±€æ¡ˆä¾‹</a></p><h2 id="ä¸åŒè®¾å¤‡çš„é€‚é…ä¸å“åº”"><a href="#ä¸åŒè®¾å¤‡çš„é€‚é…ä¸å“åº”" class="headerlink" title="ä¸åŒè®¾å¤‡çš„é€‚é…ä¸å“åº”"></a>ä¸åŒè®¾å¤‡çš„é€‚é…ä¸å“åº”</h2><h3 id="mediaè§„åˆ™"><a href="#mediaè§„åˆ™" class="headerlink" title="@mediaè§„åˆ™"></a>@mediaè§„åˆ™</h3><blockquote><p>@mediaè§„åˆ™æ˜¯ç”¨æ¥åŒ¹é…ä¸åŒè®¾å¤‡çš„ï¼Œä¾‹å¦‚ï¼Œå“åº”å¼å¸ƒå±€ä¸­å¸¸ç”¨çš„å®½åº¦æŸ¥è¯¢ä¸é€‚é…</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">aside</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*å½“å‰è®¾å¤‡å±å¹•å®½åº¦å°äº 480px çš„æ—¶å€™éšè—ä¾§è¾¹æ */</span></span><br><span class="line"><span class="keyword">@media</span> <span class="keyword">only</span> screen <span class="keyword">and</span> (<span class="attribute">max-width</span>: <span class="number">480px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">aside</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="åª’ä½“æŸ¥è¯¢ä¿®é¥°ç¬¦"><a href="#åª’ä½“æŸ¥è¯¢ä¿®é¥°ç¬¦" class="headerlink" title="åª’ä½“æŸ¥è¯¢ä¿®é¥°ç¬¦"></a>åª’ä½“æŸ¥è¯¢ä¿®é¥°ç¬¦</h4><ul><li><p>only</p><p>  onlyä¿®é¥°ç¬¦å¾ˆæœ‰æ„æ€ï¼Œå®ƒæœ¬èº«å¹¶æ²¡æœ‰ä»»ä½•æ•ˆæœï¼Œå°†å…¶å»æ‰æˆ–åŠ ä¸Šï¼Œæœ€ç»ˆæ•ˆæœæ˜¯æ²¡æœ‰ä»»ä½•å˜åŒ–çš„.</p><blockquote><p>ä¸ºäº†è®©è€æ—§çš„æµè§ˆå™¨å¹²è„†ä¸è¦è¯†åˆ«ä¸€äº›æ–°çš„æŸ¥è¯¢è¯­å¥ï¼Œå°±è®¾è®¡äº†onlyä¿®é¥°ç¬¦ï¼Œæ”¾åœ¨åª’ä½“ç±»å‹çš„å‰é¢ã€‚è¿™æ ·only screen and (color)æŸ¥è¯¢è¯­å¥ä¸­çš„CSSä»£ç å°±å†ä¹Ÿä¸ä¼šè¢«è€æ—§çš„æµè§ˆå™¨è§£æäº†ï¼Œå› ä¸ºè¿™äº›è€æ—§çš„æµè§ˆå™¨è®¤ä¸ºonlyæ˜¯éæ³•çš„ã€‚</p></blockquote></li><li><p>not</p><p>  notå¦å®šçš„ä¸æ˜¯åª’ä½“ç±»å‹ï¼Œè€Œæ˜¯åé¢æ•´ä¸ªæŸ¥è¯¢è¯­å¥</p></li></ul><h4 id="åª’ä½“ç±»å‹"><a href="#åª’ä½“ç±»å‹" class="headerlink" title="åª’ä½“ç±»å‹"></a>åª’ä½“ç±»å‹</h4><blockquote><p>å¤§å®¶åªéœ€è¦å…³å¿ƒscreenã€printå’Œallè¿™3ä¸ªåª’ä½“ç±»å‹å°±å¯ä»¥äº†ï¼Œå¯¹äºæ›¾ç»æ”¯æŒçš„speechã€tvç­‰8ä¸ªåª’ä½“ç±»å‹ï¼Œå¤§å®¶ç›´æ¥å¿½ç•¥å³å¯ï¼Œç›®å‰åœ¨è§„èŒƒä¸­å·²ç»å°†å®ƒä»¬èˆå¼ƒäº†ï¼Œæµè§ˆå™¨ä¹Ÿå·²ç»æ”¾å¼ƒäº†å¯¹å®ƒä»¬çš„æ”¯æŒ</p></blockquote><p>æƒ³è¦åœ¨æ‰“å°çš„æ—¶å€™ä½¿é¡µé¢çš„å¤´éƒ¨å’Œå°¾éƒ¨</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> print &#123;</span><br><span class="line">    <span class="selector-tag">header</span>, <span class="selector-tag">footer</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨é€—å·åŒæ—¶æŒ‡å®šå¤šä¸ªåª’ä½“ç±»å‹ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> screen, print &#123;...&#125;</span><br></pre></td></tr></table></figure><h4 id="åª’ä½“æ¡ä»¶"><a href="#åª’ä½“æ¡ä»¶" class="headerlink" title="åª’ä½“æ¡ä»¶"></a>åª’ä½“æ¡ä»¶</h4><blockquote><p>åª’ä½“æ¡ä»¶æœ‰3ä¸ªï¼Œå³notã€andå’Œorã€‚</p></blockquote><p>notè¡¨ç¤ºå¦å®šæŸä¸ªåª’ä½“ç‰¹æ€§ï¼Œä¾‹å¦‚not (color)è¡¨ç¤ºéå½©è‰²è®¾å¤‡ã€‚</p><p>andå’Œoråˆ™æ˜¯æœ‰æ•ˆä¸”å¸¸ç”¨çš„ï¼Œå‰è€…è¡¨ç¤ºæ¡ä»¶åŒæ—¶æ»¡è¶³ï¼Œåè€…è¡¨ç¤ºæ»¡è¶³ä¹‹ä¸€å³å¯</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å¦‚æœè®¾å¤‡æ›´æ–°é¢‘ç‡æ…¢ï¼Œæˆ–è€…ä¸æ”¯æŒé¼ æ ‡è¡Œä¸º */</span></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">update</span>: slow) <span class="keyword">or</span> (<span class="attribute">hover</span>: none) &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*å®½åº¦åœ¨ 320px~480px,åŒæ—¶åˆ†è¾¨ç‡æ˜¯150dpiçš„è®¾å¤‡*/</span></span><br></pre></td></tr></table></figure><h4 id="åª’ä½“ç‰¹æ€§"><a href="#åª’ä½“ç‰¹æ€§" class="headerlink" title="åª’ä½“ç‰¹æ€§"></a>åª’ä½“ç‰¹æ€§</h4><blockquote><p>åª’ä½“ç‰¹æ€§æŒ‡çš„æ˜¯å¯¹åª’ä½“ç‰¹æ€§çš„æè¿°ä¿¡æ¯ï¼ŒåŒ…æ‹¬æµè§ˆå™¨ã€ç”¨æˆ·è®¾å¤‡å’Œä½¿ç”¨ç¯å¢ƒç­‰ç‰¹æ€§ã€‚</p></blockquote><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/epub_40870013_665" alt="img"></p><blockquote><p>åª’ä½“ç‰¹æ€§è™½ç„¶å¤šï¼Œä½†å¤§å¤šæ•°åª’ä½“ç‰¹æ€§éƒ½ä¸å®ç”¨ï¼Œåªæœ‰widthå’Œheightåª’ä½“ç‰¹æ€§ï¼Œä»¥åŠå®½é«˜æ¯”å’Œå±å¹•åˆ†è¾¨ç‡ç­‰åª’ä½“ç‰¹æ€§æ¯”è¾ƒå®ç”¨ï¼Œ</p></blockquote><h4 id="å¯¹æ·±è‰²æ¨¡å¼å’ŒåŠ¨ç”»å…³é—­çš„æ”¯æŒæ£€æµ‹"><a href="#å¯¹æ·±è‰²æ¨¡å¼å’ŒåŠ¨ç”»å…³é—­çš„æ”¯æŒæ£€æµ‹" class="headerlink" title="å¯¹æ·±è‰²æ¨¡å¼å’ŒåŠ¨ç”»å…³é—­çš„æ”¯æŒæ£€æµ‹"></a>å¯¹æ·±è‰²æ¨¡å¼å’ŒåŠ¨ç”»å…³é—­çš„æ”¯æŒæ£€æµ‹</h4><ol><li><p>prefers-color-scheme</p><blockquote><p>prefers-color-schemeåª’ä½“ç‰¹æ€§å¯ä»¥ç”¨æ¥æ£€æµ‹å½“å‰ç½‘é¡µæ˜¯å¦å¤„äºæ·±è‰²æ¨¡å¼ï¼ˆæˆ–ç§°é»‘æš—æ¨¡å¼ï¼‰ä¸­ï¼Œå…¶æ”¯æŒçš„å‚æ•°å€¼å¦‚ä¸‹ã€‚</p><p>â— no-preferenceè¡¨ç¤ºç³»ç»Ÿæ²¡æœ‰å‘ŠçŸ¥ç”¨æˆ·ä½¿ç”¨çš„é¢œè‰²æ–¹æ¡ˆã€‚</p><p>â— lightè¡¨ç¤ºç³»ç»Ÿå€¾å‘äºä½¿ç”¨æµ…è‰²æ¨¡å¼ã€‚</p><p>â— darkè¡¨ç¤ºç³»ç»Ÿå€¾å‘äºä½¿ç”¨æ·±è‰²æ¨¡å¼ã€‚</p><p>é™¤è¯¥åª’ä½“ç‰¹æ€§çš„å…¼å®¹æ€§éå¸¸å¥½ä¹‹å¤–ï¼Œæ›´é‡è¦çš„åŸå› æ˜¯è¿™ä¸ªåª’ä½“ç‰¹æ€§éå¸¸å®ç”¨</p><p>ä»¥åçš„Webäº§å“æ”¯æŒæ·±æµ…ä¸¤ç§ä¸»é¢˜æ˜¯å¤§æ¦‚ç‡äº‹ä»¶ï¼Œå°¤å…¶æ˜¯ç”¨æˆ·ç¾¤å¹¿æ³›çš„äº§å“ï¼Œå±Šæ—¶ï¼Œå¿…å®šä¼šå¤§è§„æ¨¡ä½¿ç”¨prefers-color-schemeã€‚</p></blockquote> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*æ·±è‰²æ¨¡å¼*/</span></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme</span>: dark) &#123;</span><br><span class="line">    <span class="selector-tag">body</span> &#123;<span class="attribute">background</span>: <span class="number">#333</span>; <span class="attribute">color</span>: white&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*æµ…è‰²æ¨¡å¼*/</span></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme</span>: light) &#123;</span><br><span class="line">    <span class="selector-tag">body</span> &#123;<span class="attribute">background</span>: <span class="number">#333</span>; <span class="attribute">color</span>: white&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> jsä¸­åˆ¤æ–­æ˜¯å¦æ”¯æŒæ·±è‰²æ¨¡å¼</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="title function_">matchMedia</span>(<span class="string">&quot;(prefers-color-scheme: dark)&quot;</span>).<span class="property">matches</span>;</span><br></pre></td></tr></table></figure><p> prefers-color-schemeæ˜¯CSSä¸–ç•Œä¸­è¢«è¿…é€Ÿæ”¯æŒçš„åª’ä½“ç‰¹æ€§ä¹‹ä¸€ï¼Œç›®å‰æ‰€æœ‰ç°ä»£æµè§ˆå™¨å‡æ”¯æŒæ­¤åª’ä½“ç‰¹æ€§ï¼Œè¯»è€…å¯ä»¥å®Œå…¨æ”¾å¿ƒå¤§èƒ†åœ°ä½¿ç”¨ã€‚</p><p> <a href="https://demo.cssworld.cn/new/7/1-1.php">å¯¹ç½‘é¡µå¿«é€Ÿæ”¹é€ æ·±è‰²æ¨¡å¼çš„æŠ€å·§</a></p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-color-scheme</span>: dark) &#123;</span><br><span class="line">    <span class="selector-tag">body</span> &#123; </span><br><span class="line">        <span class="attribute">filter</span>: <span class="built_in">invert</span>(<span class="number">1</span>) <span class="built_in">hue-rotate</span>(<span class="number">180deg</span>);</span><br><span class="line">        <span class="attribute">background-color</span>: <span class="number">#000</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">img</span> &#123;</span><br><span class="line">        <span class="attribute">filter</span>: <span class="built_in">invert</span>(<span class="number">1</span>) <span class="built_in">hue-rotate</span>(<span class="number">180deg</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-tag">p</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&quot;æ·±è‰²&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸è¿‡ï¼Œéœ€è¦æé†’ä¸€ä¸‹å¤§å®¶ï¼Œfilter:invert(1)è¿™ç§â€œå·æ‡’â€çš„æŠ€å·§åªé€‚åˆç”¨äºä¸å¤ªé‡è¦çš„é¡µé¢ã€‚æ ¹æ®æˆ‘çš„å®é™…å¼€å‘ç»éªŒï¼Œfilteræ»¤é•œåœ¨Safariæµè§ˆå™¨ä¸­ä¼šå¸¦æ¥æ½œåœ¨çš„æ¸²æŸ“é—®é¢˜ã€‚</p></blockquote></li><li><p>prefers-reduced-motion</p><blockquote><p>prefers-reduced-motionåª’ä½“ç‰¹æ€§çš„å…¼å®¹æ€§å’Œprefers-color-schemeæ˜¯ä¸€æ ·çš„ï¼Œæ¯•ç«Ÿå±äºä½“éªŒå¢å¼ºç‰¹æ€§ï¼Œå¤§å®¶å¯ä»¥æ— é¡¾è™‘åœ°ä½¿ç”¨ã€‚</p><p>prefers-reduced-motionç”¨æ¥æ£€æµ‹æ“ä½œç³»ç»Ÿæ˜¯å¦è®¾ç½®äº†å…³é—­ä¸å¿…è¦åŠ¨ç”»çš„æ“ä½œï¼Œå…¶æ”¯æŒçš„å‚æ•°å€¼å¦‚ä¸‹ã€‚</p><p>â— no-preferenceè¡¨ç¤ºç”¨æˆ·æ²¡æœ‰é€šçŸ¥ç³»ç»Ÿä»»ä½•é¦–é€‰é¡¹ã€‚</p><p>â— reducedè¡¨ç¤ºç”¨æˆ·å·²é€šçŸ¥ç³»ç»Ÿ</p></blockquote><p> å‡ ä¹æ‰€æœ‰æ“ä½œç³»ç»Ÿéƒ½æœ‰å¯¹åº”çš„å…³é—­ä¸å¿…è¦åŠ¨ç”»çš„é¦–é€‰é¡¹ï¼Œå…·ä½“è®¾ç½®æ–¹å¼å¦‚ä¸‹ã€‚</p><p> â— Windows 10ï¼šè®¾ç½®â†’è½»æ¾ä½¿ç”¨â†’åœ¨Windowsä¸­æ˜¾ç¤ºåŠ¨ç”»ã€‚</p><p> â— Windows 7ï¼šæ§åˆ¶é¢æ¿â†’è½»æ¾è®¿é—®â†’ä½¿è®¡ç®—æœºæ›´æ˜“äºæŸ¥çœ‹â†’å…³é—­æ‰€æœ‰ä¸å¿…è¦çš„åŠ¨ç”»ï¼ˆå¦‚æœå¯èƒ½ï¼‰ã€‚</p><p> â— macOSï¼šç³»ç»Ÿåå¥½â†’è¾…åŠ©ä½¿ç”¨â†’æ˜¾ç¤ºå™¨â†’æ¸å¼±åŠ¨æ€æ•ˆæœã€‚</p><p> â— iOSï¼šè®¾ç½®â†’é€šç”¨â†’è¾…åŠ©åŠŸèƒ½â†’æ¸å¼±åŠ¨æ€æ•ˆæœã€‚</p><p> â— Android 9+ï¼šè®¾ç½®â†’è¾…åŠ©åŠŸèƒ½â†’ç§»é™¤åŠ¨ç”»ï¼ˆæˆ–è€…é«˜çº§è§†è§‰æ•ˆæœï¼‰ã€‚</p><p> æ ¹æ®æˆ‘æŸ¥åˆ°çš„ä¸€äº›ä¿¡æ¯ï¼Œå…³é—­æ“ä½œç³»ç»ŸåŠ¨ç”»çš„ç”¨æˆ·å¹¶ä¸å°‘ï¼Œå°¤å…¶æ˜¯å¯¹ç”¨æˆ·åŸºæ•°å¾ˆå¤§çš„äº§å“è€Œè¨€ã€‚</p><p> å¦‚æœç”¨æˆ·é€‰æ‹©äº†å…³é—­åŠ¨ç”»ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦è®©Webåº”ç”¨ä¸­çš„åŠ¨ç”»åŒæ­¥å…³é—­ã€‚ä¾‹å¦‚ï¼Œå¼¹æ¡†å‡ºç°å°±ä¸éœ€è¦æœ‰å¼¹ä¸€ä¸‹çš„åŠ¨ç”»æ•ˆæœï¼Œè¯„è®ºæ¡†ä¹Ÿä¸éœ€è¦ä»ä¸‹æ–¹å‡ºç°ï¼Œç›´æ¥è®©è¯„è®ºæ¡†æ˜¾ç¤ºå‡ºæ¥å°±å¯ä»¥ã€‚CSSä»£ç ç¤ºæ„å¦‚ä¸‹ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-reduced-motion</span>) &#123;</span><br><span class="line">    <span class="selector-class">.example-1</span> &#123;</span><br><span class="line">        <span class="attribute">animation</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="selector-class">.example-2</span> &#123;</span><br><span class="line">        <span class="attribute">transition</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*ç”šè‡³å¯ä»¥*/</span></span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">prefers-reduced-motion</span>) &#123;</span><br><span class="line">    * &#123;</span><br><span class="line">        <span class="attribute">animation</span>: none;</span><br><span class="line">        <span class="attribute">transition</span>: none;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;pointerå’Œany-pointer</span><br></pre></td></tr></table></figure></li></ol><h4 id="å¯¹é¼ æ ‡è¡Œä¸ºå’Œè§¦æ‘¸è¡Œä¸ºçš„æ”¯æŒæ£€æµ‹"><a href="#å¯¹é¼ æ ‡è¡Œä¸ºå’Œè§¦æ‘¸è¡Œä¸ºçš„æ”¯æŒæ£€æµ‹" class="headerlink" title="å¯¹é¼ æ ‡è¡Œä¸ºå’Œè§¦æ‘¸è¡Œä¸ºçš„æ”¯æŒæ£€æµ‹"></a>å¯¹é¼ æ ‡è¡Œä¸ºå’Œè§¦æ‘¸è¡Œä¸ºçš„æ”¯æŒæ£€æµ‹</h4><blockquote><p>:hoverä¼ªç±»åœ¨ç§»åŠ¨ç«¯ï¼Œå°¤å…¶åœ¨iOSçš„Safariæµè§ˆå™¨ä¸­çš„äº¤äº’ä¼šå¾ˆå¥‡æ€ªï¼Œå¯ä»¥è§¦å‘ä½†æ˜¯ä¸å®¹æ˜“è§¦å‘ï¼Œè€Œä¸”è§¦å‘åçš„hoverçŠ¶æ€ä¸å¤ªå®¹æ˜“æ¶ˆé™¤ï¼Œä½“éªŒå¹¶ä¸å¥½</p><p>ç”¨è®¾å¤‡å®½åº¦è§£å†³ï¼Œåˆä¼šæœ‰æ‰‹æœºæ¨ªå±ç­‰é—®é¢˜ã€‚ä»…é€šè¿‡å±å¹•å®½åº¦åˆ¤æ–­æ˜¯ä¸æ˜¯è§¦å±è®¾å¤‡æ˜¯éå¸¸ç‰‡é¢å’Œä¸å‡†ç¡®çš„</p><p>å®Œç¾çš„CSSè§£å†³æ–¹æ³•å°±æ˜¯CSSä¸–ç•Œæ–°å‡ºç°çš„æ”¯æŒæ£€æµ‹é¼ æ ‡è¡Œä¸ºå’Œè§¦æ‘¸è¡Œä¸ºçš„åª’ä½“ç‰¹æ€§ã€‚</p></blockquote><ol><li><p>any-hover</p><blockquote><p>any-hoveråª’ä½“ç‰¹æ€§å¯ç”¨äºæµ‹è¯•æ˜¯å¦æœ‰ä»»æ„å¯ç”¨çš„è¾“å…¥è£…ç½®å¯ä»¥æ‚¬åœï¼ˆå°±æ˜¯hoverè¡Œä¸ºï¼‰åœ¨å…ƒç´ ä¸Šã€‚ä¾‹å¦‚ï¼Œé¼ æ ‡è¿™ä¸ªè¾“å…¥è£…ç½®å°±å¯ä»¥æ§åˆ¶é¼ æ ‡æŒ‡é’ˆçš„ä½ç½®ï¼Œä»¥åŠæ‚¬åœåœ¨å…ƒç´ ä¸Šã€‚å› æ­¤ï¼Œä¸‹ä¸ªä¸å¤ªä¸¥è°¨çš„ç»“è®ºï¼Œany-hoverå…¶å®å°±æ˜¯ç”¨æ¥æ£€æµ‹è®¾å¤‡æ˜¯å¦æ¥å…¥äº†é¼ æ ‡çš„ã€‚</p></blockquote><p> â— noneè¡¨ç¤ºæ²¡æœ‰è¾“å…¥è£…ç½®å¯ä»¥å®ç°æ‚¬åœæ•ˆæœï¼Œæˆ–è€…æ²¡æœ‰å¯ä»¥å®ç°æŒ‡å‘çš„è¾“å…¥è£…ç½®ã€‚</p><p> â— hoverè¡¨ç¤ºä¸€ä¸ªæˆ–å¤šä¸ªè¾“å…¥è£…ç½®å¯ä»¥è§¦å‘å…ƒç´ çš„æ‚¬åœäº¤äº’æ•ˆæœã€‚</p><p> å¸Œæœ›&lt;figcaption&gt;å…ƒç´ åœ¨ä¸æ”¯æŒæ‚¬åœæ•ˆæœçš„è®¾å¤‡ä¸Šæ˜¾ç¤ºï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">figcaption</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">figure</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">figcaption</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">any-hover</span>: none) &#123;</span><br><span class="line">    <span class="selector-tag">figcaption</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: block;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> <a href="https://demo.cssworld.cn/new/7/1-2.php">æ•ˆæœå±•ç¤º</a></p><blockquote><p>è¯¥åª’ä½“ç‰¹æ€§åœ¨CSSæ–°ç‰¹æ€§ä¸­ç®—æ˜¯å…¼å®¹æ€§ä¸é”™çš„ï¼Œè€ƒè™‘åˆ°any-hoveråª’ä½“ç‰¹æ€§çš„ä½œç”¨æ˜¯ä½“éªŒå¢å¼ºï¼Œå› æ­¤åœ¨ç”Ÿäº§ç¯å¢ƒä¸­å¤§å¯æ”¾å¿ƒä½¿ç”¨ï¼Œæ— é¡»é¡¾è™‘é™ˆæ—§è®¾å¤‡ã€‚</p></blockquote></li><li><p>hover</p><blockquote><p>hoveråª’ä½“ç‰¹æ€§çš„è¯­æ³•å’Œä½œç”¨ä¸any-hoveræ˜¯ä¸€æ ·çš„ï¼Œä¸¤è€…çš„ä¸»è¦åŒºåˆ«åœ¨äºï¼Œany-hoveræ£€æµ‹ä»»æ„è¾“å…¥è£…ç½®ï¼Œè€Œhoveråªæ£€æµ‹ä¸»è¦çš„è¾“å…¥è£…ç½®ã€‚</p></blockquote><p> â— noneè¡¨ç¤ºä¸»è¾“å…¥è£…ç½®æ ¹æœ¬æ— æ³•æ‚¬åœæˆ–æ— æ³•æ–¹ä¾¿åœ°æ‚¬åœï¼ˆä¾‹å¦‚ï¼Œä½¿ç”¨é•¿ç‚¹å‡»æ¥æ¨¡æ‹Ÿæ‚¬åœï¼Œè€Œé•¿ç‚¹å‡»è¿™ç§äº¤äº’å¹¶ä¸æ–¹ä¾¿ï¼‰ï¼Œæˆ–è€…æ²¡æœ‰ä¸»è¾“å…¥è£…ç½®ã€‚</p><p> â— hoverè¡¨ç¤ºä¸»è¾“å…¥è£…ç½®å¯ä»¥è§¦å‘å…ƒç´ çš„æ‚¬åœäº¤äº’ã€‚</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">figcaption</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">figure</span><span class="selector-pseudo">:hover</span> <span class="selector-tag">figcaption</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> (<span class="attribute">hover</span>: none) &#123;</span><br><span class="line">    <span class="selector-tag">figcaption</span> &#123;</span><br><span class="line">        <span class="attribute">display</span>: block;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>hoveråª’ä½“ç‰¹æ€§çš„å…¼å®¹æ€§æ›´å¥½ï¼Œä¸”ä»Edge12+å°±å¼€å§‹æ”¯æŒhoveräº†ï¼Œå› æ­¤ï¼Œå¦‚æœæ˜¯é’ˆå¯¹ä¼ ç»Ÿæ¡Œé¢ç«¯ç½‘é¡µçš„ä½“éªŒä¼˜åŒ–ï¼Œå¯ä»¥ä¼˜å…ˆä½¿ç”¨hoveråª’ä½“ç‰¹æ€§ã€‚</p></blockquote></li><li><p>pointerå’Œany-pointer</p><blockquote><p>pointeræ˜¯ä¸ç‚¹å‡»äº‹ä»¶ç›¸å…³çš„ã€‚pointerå’Œany-pointeråª’ä½“ç‰¹æ€§ä¸»è¦ç”¨äºè¯†åˆ«å½“å‰ç¯å¢ƒï¼Œåˆ¤æ–­æ˜¯å¦å¯ä»¥éå¸¸æ–¹ä¾¿åœ°è¿›è¡Œç‚¹å‡»æ“ä½œã€‚</p></blockquote><p> any-pointeræ”¯æŒ3ä¸ªå±æ€§å€¼ï¼Œå«ä¹‰åˆ†åˆ«å¦‚ä¸‹ã€‚</p><p> â— noneè¡¨ç¤ºæ²¡æœ‰å¯ç”¨çš„ç‚¹å‡»è®¾å¤‡ã€‚</p><p> â— coarseè¡¨ç¤ºè‡³å°‘æœ‰ä¸€ä¸ªè®¾å¤‡çš„ç‚¹å‡»ä¸æ˜¯å¾ˆç²¾ç¡®ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨æ‰‹æŒ‡æ“ä½œæ‰‹æœºå°±å±äºç‚¹å‡»ä¸ç²¾ç¡®ã€‚</p><p> â— fineè¡¨ç¤ºæœ‰ç‚¹å‡»å¾ˆç²¾å‡†çš„è®¾å¤‡ã€‚ä¾‹å¦‚ï¼Œç”¨é¼ æ ‡æ“ä½œçš„è®¡ç®—æœºæµè§ˆå™¨ã€‚</p><p> <a href="https://demo.cssworld.cn/new/7/1-3.php">ç‚¹å‡»ä¸ç²¾å‡†æƒ…å†µä¸‹å¢å¤§é€‰æ¡†èŒƒå›´</a>ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@media</span> (<span class="attribute">pointer</span>: coarse) &#123;</span><br><span class="line">    <span class="selector-tag">input</span><span class="selector-attr">[type=<span class="string">&quot;checkbox&quot;</span>]</span> &#123;</span><br><span class="line">        <span class="attribute">width</span>: <span class="number">30px</span>;</span><br><span class="line">        <span class="attribute">height</span>: <span class="number">30px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h3 id="ç¯å¢ƒå˜é‡å‡½æ•°env"><a href="#ç¯å¢ƒå˜é‡å‡½æ•°env" class="headerlink" title="ç¯å¢ƒå˜é‡å‡½æ•°env()"></a>ç¯å¢ƒå˜é‡å‡½æ•°env()</h3><blockquote><p>ç¯å¢ƒå˜é‡å‡½æ•°env()è§„èŒƒçš„åˆ¶å®šå’Œå…´èµ·æ˜¯ç”±äºiPhone Xè¿™ç±»å¸¦æœ‰â€œåˆ˜æµ·å±â€å’Œåº•éƒ¨è§¦æ‘¸æ¡çš„ç§»åŠ¨è®¾å¤‡çš„å‡ºç°ï¼Œå¦‚æœæŒ‰é’®å’Œåº•éƒ¨è§¦æ‘¸æ¡åœ¨ä¸€èµ·æ˜¾ç¤ºï¼Œå°±ä¼šå‡ºç°äº¤äº’å†²çªçš„é—®é¢˜ï¼Œè€Œenv()å‡½æ•°å¯ä»¥è®©ç½‘é¡µå†…å®¹æ˜¾ç¤ºåœ¨è®¾å¤‡çš„å®‰å…¨åŒºåŸŸèŒƒå›´</p><p>é€šè¿‡ä½¿ç”¨env()å‡½æ•°ï¼Œå¾ˆå¤šåŸæœ¬éœ€è¦ç‰¹æ®Šæƒé™æ‰å¯ä»¥è®¿é—®çš„ä¿¡æ¯å°±å¯ä»¥ä½œä¸ºå…¨å±€å˜é‡åœ¨æ•´ä¸ªé¡µé¢æ–‡æ¡£ä¸­ä½¿ç”¨ã€‚åªæ˜¯ï¼Œè™½ç„¶env()å‡½æ•°çš„è§„åˆ’å¾ˆé•¿è¿œï¼Œä½†æ˜¯ç”±äºç›®å‰è§„èŒƒè¿˜åªåœç•™åœ¨ç¬¬ä¸€é˜¶æ®µçš„è‰æ¡ˆé˜¶æ®µï¼Œå†…å®¹å¾ˆå°‘ï¼Œå› æ­¤ç›®å‰å¯ä»¥åœ¨å®è·µä¸­åº”ç”¨çš„å°±åªæœ‰è®¾ç½®å®‰å…¨è¾¹è·ã€‚</p><p>env()å‡½æ•°çš„è¯­æ³•å’Œvar()å‡½æ•°çš„è¯­æ³•å¾ˆç›¸ä¼¼ï¼Œå®ƒä»¬çš„åŒºåˆ«åœ¨äºï¼Œenv()å‡½æ•°å¯ä»¥ç”¨åœ¨åª’ä½“æŸ¥è¯¢è¯­å¥ä¸­ï¼Œç”šè‡³ç”¨åœ¨é€‰æ‹©å™¨ä¸­ï¼Œä½†var()å‡½æ•°åªèƒ½ä½œä¸ºå±æ€§å€¼æˆ–ä½œä¸ºå±æ€§å€¼çš„ä¸€éƒ¨åˆ†ã€‚</p><p>æˆ–è€…è¯´ï¼Œå‡¡æ˜¯å¯ä»¥ä½¿ç”¨var()å‡½æ•°çš„åœ°æ–¹ä¸€å®šå¯ä»¥ä½¿ç”¨env()å‡½æ•°ï¼Œä½†æ˜¯åè¿‡æ¥å´ä¸æˆç«‹ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ç›´æ¥ä½¿ç”¨4ä¸ªå®‰å…¨å†…è¾¹è·å€¼ */</span></span><br><span class="line">env(safe-area-inset-<span class="attribute">top</span>);</span><br><span class="line">env(safe-area-inset-<span class="attribute">right</span>);</span><br><span class="line">env(safe-area-inset-<span class="attribute">bottom</span>);</span><br><span class="line">env(safe-area-inset-<span class="attribute">left</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* ä½¿ç”¨4ä¸ªå®‰å…¨å†…è¾¹è·å€¼ï¼ŒåŒæ—¶è®¾ç½®å…œåº•å°ºå¯¸å€¼ */</span></span><br><span class="line">env(safe-area-inset-<span class="attribute">top</span>, <span class="number">20px</span>);</span><br><span class="line">env(safe-area-inset-<span class="attribute">right</span>, <span class="number">1em</span>);</span><br><span class="line">env(safe-area-inset-<span class="attribute">bottom</span>, <span class="number">0.5vh</span>);</span><br><span class="line">env(safe-area-inset-<span class="attribute">left</span>, <span class="number">1.4rem</span>);</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/epub_40870013_673" alt="img"></p><p>ï¼ˆ1ï¼‰å’Œé€šå¸¸çš„CSSå±æ€§ä¸åŒï¼Œenv()å‡½æ•°ä¸­çš„å±æ€§æ˜¯åŒºåˆ†å¤§å°å†™çš„ï¼Œå› æ­¤ï¼Œä¸‹é¢CSSä»£ç ä¸­çš„padding-leftå€¼ä¸€å®šæ˜¯50pxï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">padding-left</span>: <span class="built_in">env</span>(SAVE-AREA-INSET-LEFT, <span class="number">50px</span>);</span><br></pre></td></tr></table></figure><p>SAFE-AREA-INSET-LEFTæ˜¯æ— æ³•è¯†åˆ«çš„å±æ€§ï¼Œå› æ­¤ï¼Œä¼šä½¿ç”¨å…œåº•çš„50pxä½œä¸ºpadding- leftçš„å±æ€§å€¼ã€‚</p><p>ï¼ˆ2ï¼‰è¦æƒ³ä½¿safe-area-inset-*å±æ€§è¡¨ç°å‡ºå‡†ç¡®çš„é—´è·ï¼Œä¸€å®šè¦ç¡®ä¿viewportç›¸å…³çš„&lt;meta&gt;ä¿¡æ¯å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;viewport&quot; <span class="attribute">content</span>=&quot;viewport-fit=cover&quot;&gt;</span><br></pre></td></tr></table></figure><h3 id="remå’Œvwå•ä½ä¸ç§»åŠ¨ç«¯é€‚é…æœ€ä½³å®è·µ"><a href="#remå’Œvwå•ä½ä¸ç§»åŠ¨ç«¯é€‚é…æœ€ä½³å®è·µ" class="headerlink" title="remå’Œvwå•ä½ä¸ç§»åŠ¨ç«¯é€‚é…æœ€ä½³å®è·µ"></a>remå’Œvwå•ä½ä¸ç§»åŠ¨ç«¯é€‚é…æœ€ä½³å®è·µ</h3><p>è®©ä¸åŒå®½åº¦è®¾å¤‡ä¸‹ç½‘é¡µå­—ä½“åˆé€‚ï¼ŒåŠ¨æ€è®¾ç½®å­—ä½“å¤§å°</p><ol><li>ä½¿ç”¨åª’ä½“æŸ¥è¯¢è®¾ç½® html font-size(æ ¹å­—ä½“)</li><li>ä½¿ç”¨jsæ ¹æ®å±å¹•å°ºå¯¸è®¾ç½®å¯¹åº”çš„æ ¹å­—å·å¤§å°</li></ol><p>ç¬¬ä¸€ç§åšæ³•å¯¹äºéä¸´ç•Œç‚¹å°ºå¯¸çš„è®¾å¤‡å¾ˆä¸å‹å¥½</p><p>ç¬¬äºŒç§åšæ³•çš„ä¼˜ç‚¹åœ¨äºä»»ä½•å®½åº¦çš„æ‰‹æœºéƒ½æœ‰å¯¹åº”çš„æ ¹å­—å·è®¾ç½®ï¼Œä½†æ˜¯ç¼ºç‚¹å¾ˆå¤š,åŸç½ªå¸ƒå±€ç”¨äº†Jsï¼Œæ ¹å­—ä½“ä¼šçº¿æ€§æ”¾å¤§ï¼ŒåæœŸæ”¹åŠ¨é€‚é…ç­–ç•¥ï¼Œä»£ä»·å·¨å¤§</p><p><strong>äº†è§£è§†åŒºç›¸å¯¹å•ä½</strong></p><p>è§†åŒºç›¸å¯¹å•ä½æŒ‡çš„æ˜¯ç›¸å¯¹äºæµè§ˆå™¨è§†åŒºå°ºå¯¸ï¼ˆviewportï¼‰çš„å•ä½ï¼Œå…·ä½“åŒ…æ‹¬ä¸‹é¢4ä¸ªã€‚</p><p>â— vwâ€”â€”è§†åŒºå®½åº¦ç™¾åˆ†å€¼ã€‚</p><p>â— vhâ€”â€”è§†åŒºé«˜åº¦ç™¾åˆ†å€¼ã€‚</p><p>â— vminâ€”â€”vwæˆ–vhï¼Œå–å°çš„é‚£ä¸ªå€¼ã€‚</p><p>â— vmaxâ€”â€”vwæˆ–vhï¼Œå–å¤§çš„é‚£ä¸ªå€¼ã€‚</p><p><a href="">vhå•ä½çš„ç»å…¸åº”ç”¨</a></p><p><strong>calc()å‡½æ•°ä¸‹çš„æœ€ä½³å®è·µ</strong></p><blockquote><p>æœ‰äº†vwå•ä½ï¼Œå†é…åˆcalc()å‡½æ•°è¿›è¡Œè®¡ç®—ï¼Œæ— é¡»ä½¿ç”¨ä»»ä½•JavaScriptä»£ç ï¼Œæˆ‘ä»¬å°±å¯ä»¥å®ç°åŸºäºè®¾å¤‡å®½åº¦çš„ç§»åŠ¨ç«¯å¸ƒå±€é€‚é…æ–¹æ¡ˆ</p></blockquote><p>ä¾‹å¦‚ï¼Œå¸Œæœ›375pxï½414pxçš„å®½åº¦åŒºé—´çš„æ ¹å­—å·å¤§å°æ˜¯16pxï½18pxï¼Œå°±å¯ä»¥è¿™ä¹ˆè®¾ç½®ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">375px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">        375pxå®½åº¦ä½¿ç”¨16pxåŸºå‡†å°ºå¯¸ï¼Œ414pxå®½åº¦æ—¶æ ¹å­—ä½“å¤§å°æ­£å¥½18px</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="attribute">font-size</span>: <span class="built_in">calc</span>(<span class="number">16px</span> + <span class="number">2</span> * (<span class="number">100vw</span>-<span class="number">375px</span>) / <span class="number">39</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">414px</span>) &#123;</span><br><span class="line">    <span class="selector-tag">html</span> &#123;</span><br><span class="line">        <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>clampè¯­æ³•ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="built_in">clamp</span>(<span class="number">16px</span>, <span class="built_in">calc</span>(<span class="number">16px</span> + <span class="number">2</span> * (<span class="number">100vw</span> - <span class="number">375px</span>) / <span class="number">39</span>), <span class="number">22px</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>remå•ä½ä¸æ˜¯ä¸‡èƒ½çš„</strong></p><p>é¦–å…ˆæ¸²æŸ“å°ºå¯¸å¹¶ä¸æ€»æ˜¯æ•´æ•°,å¯èƒ½å‡ºç°ä¸€äº›æ¸²æŸ“é—®é¢˜ï¼ŒæŸäº›åœºæ™¯ä¸‹å¯ä»¥æŠŠ remæ”¹æˆ px å•ä½</p><h3 id="ä½¿ç”¨touch-actionå±æ€§æ§åˆ¶è®¾å¤‡çš„è§¦æ‘¸è¡Œä¸º"><a href="#ä½¿ç”¨touch-actionå±æ€§æ§åˆ¶è®¾å¤‡çš„è§¦æ‘¸è¡Œä¸º" class="headerlink" title="ä½¿ç”¨touch-actionå±æ€§æ§åˆ¶è®¾å¤‡çš„è§¦æ‘¸è¡Œä¸º"></a>ä½¿ç”¨touch-actionå±æ€§æ§åˆ¶è®¾å¤‡çš„è§¦æ‘¸è¡Œä¸º</h3><blockquote><p>touch-actionå±æ€§æ˜¯ç§»åŠ¨ç«¯ä¸­ä¸æ‰‹åŠ¿è§¦æ‘¸å¯†åˆ‡ç›¸å…³çš„CSSå±æ€§ï¼Œå®ƒæºè‡ªWindows Phoneæ‰‹æœºï¼Œå±äºå¾®è½¯ç³»ï¼Œåæ¥è¢«Chromeæµè§ˆå™¨å¸æ”¶å€Ÿé‰´ï¼ŒFirefoxæµè§ˆå™¨è·Ÿç€æ”¯æŒï¼Œç°åœ¨Safariæµè§ˆå™¨ä¹Ÿå·²ç»å®Œå…¨æ”¯æŒï¼ˆiOS 13ä¹‹å‰æ˜¯éƒ¨åˆ†æ”¯æŒï¼‰ï¼Œæ˜¯ä¸€ä¸ªåœ¨ç§»åŠ¨ç«¯å¯ä»¥ç•…è¡Œçš„CSSå±æ€§ã€‚</p></blockquote><h4 id="å¸¸è§åº”ç”¨"><a href="#å¸¸è§åº”ç”¨" class="headerlink" title="å¸¸è§åº”ç”¨"></a>å¸¸è§åº”ç”¨</h4><ol><li><p>touch-action:manipulationå–æ¶ˆ300msçš„ç‚¹å‡»å»¶æ—¶</p><blockquote><p>touch-action:manipulationè¡¨ç¤ºæµè§ˆå™¨åªå…è®¸è¿›è¡Œæ»šåŠ¨å’ŒæŒç»­ç¼©æ”¾æ“ä½œï¼Œæ‰€ä»¥ç±»ä¼¼åŒå‡»ç¼©æ”¾è¿™ç§éæ ‡å‡†æ“ä½œå°±ä¸è¢«å…è®¸ã€‚æƒ³å½“åˆï¼Œä¹‹æ‰€ä»¥clickäº‹ä»¶åœ¨ç§»åŠ¨ç«¯æœ‰300 mså»¶æ—¶ï¼Œå°±æ˜¯å› ä¸ºè¦é¿å…ç‚¹å‡»è¡Œä¸ºå’Œæ‰‹æœºåŒå‡»è¡Œä¸ºå‘ç”Ÿå†²çªã€‚äºæ˜¯ï¼Œå½“æˆ‘ä»¬è®¾ç½®touch-action:manipulationæ—¶ï¼Œå–æ¶ˆäº†åŒå‡»è¡Œä¸ºï¼Œ300 mså»¶æ—¶ä¹Ÿå°±ä¸å¤å­˜åœ¨äº†ã€‚</p></blockquote> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">touch-action: manipulation;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>touch-action:noneè§£å†³treated as passiveé”™è¯¯</p><p> å¦‚ä¸‹jsç§»åŠ¨ç«¯æ¨¡å¼ä¸‹æ»‘é¡µé¢æŠ¥é”™:</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;touchmove&#x27;</span>, <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    event.<span class="title function_">preventDefault</span>();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p> cssè§£å†³æ–¹å¼ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">    touch-action: none;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    touch-action: auto;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100vh</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">overflow</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> <a href="https://demo.cssworld.cn/new/7/4-1.php">ç§»åŠ¨ç«¯æŸ¥çœ‹æ•ˆæœ</a></p><p> ä¸è¿‡ï¼Œæ­¤æ–¹æ³•æ”¹å˜äº†é»˜è®¤çš„æ»šåŠ¨è¡Œä¸ºï¼Œæ¯”è¾ƒé€‚åˆåŸæœ¬å°±éœ€è¦å¯¹é»˜è®¤æ»šåŠ¨è¡Œä¸ºè¿›è¡Œé‡ç½®çš„å•é¡µï¼Œè€Œå¯¹äºä¼ ç»Ÿçš„ç½‘é¡µï¼Œå»ºè®®è¿˜æ˜¯ä½¿ç”¨JavaScriptï¼Œé€šè¿‡ä¼ é€’passive:falseå‚æ•°è®¾ç½®æ¥è§£å†³è¿™ä¸ªé—®é¢˜</p> <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;touchmove&#x27;</span>, <span class="keyword">function</span>(<span class="params">even</span>) &#123;</span><br><span class="line">    event.<span class="title function_">preventDefault</span>();</span><br><span class="line">&#125;, &#123;<span class="attr">passive</span>: <span class="literal">false</span>&#125;)</span><br></pre></td></tr></table></figure></li></ol><h4 id="äº†è§£touch-actionå±æ€§å„ä¸ªå±æ€§å€¼çš„å«ä¹‰"><a href="#äº†è§£touch-actionå±æ€§å„ä¸ªå±æ€§å€¼çš„å«ä¹‰" class="headerlink" title="äº†è§£touch-actionå±æ€§å„ä¸ªå±æ€§å€¼çš„å«ä¹‰"></a>äº†è§£touch-actionå±æ€§å„ä¸ªå±æ€§å€¼çš„å«ä¹‰</h4><p>ouch-actionå±æ€§æ”¯æŒçš„å±æ€§å€¼æœ‰ï¼š</p><p>â— autoæ˜¯é»˜è®¤å€¼ï¼Œè¡¨ç¤ºæ‰‹åŠ¿æ“ä½œå®Œå…¨ç”±æµè§ˆå™¨å†³å®šï¼ˆå¦‚&lt;meta&gt;å…ƒç´ çš„viewportå±æ€§é€šè¿‡è®¾ç½®user-scalable=no/yesæ¥ç¡®å®šæ˜¯å¦å…è®¸ç¼©æ”¾ï¼‰ã€‚</p><p>â— manipulationè¡¨ç¤ºæµè§ˆå™¨åªå…è®¸è¿›è¡Œæ»šåŠ¨å’ŒæŒç»­ç¼©æ”¾æ“ä½œï¼Œç±»ä¼¼åŒå‡»ç¼©æ”¾è¿™ç§éæ ‡å‡†æ“ä½œå°±ä¸å¯ä»¥ã€‚æ­¤å±æ€§å€¼å¯ä»¥ç”¨æ¥è§£å†³ç‚¹å‡»åå»¶æ—¶300msçš„é—®é¢˜ã€‚iOS 9.3å°±å·²ç»æ”¯æŒè¯¥å€¼ã€‚</p><p>â— noneè¡¨ç¤ºä¸è¿›è¡Œä»»ä½•æ‰‹åŠ¿ç›¸å…³çš„è¡Œä¸ºï¼Œä¾‹å¦‚ï¼Œä½ æƒ³ç”¨æ‰‹æŒ‡æ»šåŠ¨ç½‘é¡µå°±ä¸è¡Œï¼ŒåŒå‡»æ”¾å¤§æˆ–ç¼©å°é¡µé¢ä¹Ÿä¸å¯ä»¥ï¼Œæ‰€æœ‰è¿™äº›è¡Œä¸ºéƒ½è¦è‡ªå®šä¹‰ã€‚å¦å¤–ï¼Œä»è¿™ä¸ªå±æ€§å€¼å¼€å§‹ï¼Œä¸€ç›´åˆ°æœ€åä¸€ä¸ªå±æ€§å€¼pinch-zoomï¼Œéƒ½æ˜¯iOS 13æ‰å¼€å§‹æ”¯æŒçš„ã€‚</p><p>â— pan-xè¡¨ç¤ºæ”¯æŒæ‰‹æŒ‡å¤´æ°´å¹³ç§»æ¥ç§»å»çš„æ“ä½œã€‚</p><p>â— pan-yè¡¨ç¤ºæ”¯æŒæ‰‹æŒ‡å¤´å‚ç›´ç§»æ¥ç§»å»çš„æ“ä½œã€‚</p><p>â— pan-leftè¡¨ç¤ºæ”¯æŒæ‰‹æŒ‡å¤´å¾€å·¦ç§»åŠ¨ï¼Œç§»åŠ¨å¼€å§‹åå¾€å³å¯ä»¥æ¢å¤çš„æ“ä½œã€‚</p><p>â— pan-rightè¡¨ç¤ºæ”¯æŒæ‰‹æŒ‡å¤´å¾€å³ç§»åŠ¨ï¼Œç§»åŠ¨å¼€å§‹åå¾€å·¦å¯ä»¥æ¢å¤çš„æ“ä½œã€‚</p><p>â— pan-upè¡¨ç¤ºæ”¯æŒæ‰‹æŒ‡å¤´å¾€ä¸Šç§»åŠ¨ï¼Œç§»åŠ¨å¼€å§‹åå¾€ä¸‹å¯ä»¥æ¢å¤çš„æ“ä½œã€‚</p><p>â— pan-downè¡¨ç¤ºæ”¯æŒæ‰‹æŒ‡å¤´å¾€ä¸‹ç§»åŠ¨ï¼Œç§»åŠ¨å¼€å§‹åå¾€ä¸Šå¯ä»¥æ¢å¤çš„æ“ä½œã€‚</p><p>â— pinch-zoomè¡¨ç¤ºæ”¯æŒæ‰‹æŒ‡å¤´ç¼©æ”¾é¡µé¢çš„æ“ä½œã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.example</span> &#123;</span><br><span class="line">touch-action: pan-left pan-up pan-zoom;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºå¯ä»¥å·¦ç§»ã€ä¸Šç§»å’Œç¼©æ”¾ã€‚è¿™äº›å…³é”®å­—å±æ€§å€¼é€‚åˆç”¨åœ¨éœ€è¦è‡ªå®šä¹‰æ‰‹åŠ¿è¡Œä¸ºçš„åœºæ™¯ä¸‹ï¼Œè™½ä¸å¸¸ç”¨ï¼Œä½†å¾ˆå®ç”¨ã€‚</p><h4 id="image-set-å‡½æ•°ä¸å¤šå€å›¾è®¾ç½®"><a href="#image-set-å‡½æ•°ä¸å¤šå€å›¾è®¾ç½®" class="headerlink" title="image-set()å‡½æ•°ä¸å¤šå€å›¾è®¾ç½®"></a>image-set()å‡½æ•°ä¸å¤šå€å›¾è®¾ç½®</h4><blockquote><p>image-set()å‡½æ•°çš„æ€§è´¨ä¸element()å‡½æ•°ã€cross-fade()å‡½æ•°çš„æ€§è´¨æ˜¯ä¸€æ ·çš„ï¼Œå®ƒä»¬éƒ½å±äº&lt;image&gt;æ•°æ®ç±»å‹ï¼Œä¸è¿‡å°±å®ç”¨æ€§è€Œè¨€ï¼Œimage-set()å‡½æ•°æ˜æ˜¾é«˜äº†ä¸åªä¸€ä¸ªçº§åˆ«</p></blockquote><p>image-set()å‡½æ•°å¯ä»¥æ ¹æ®ä¸åŒè®¾å¤‡çš„å±å¹•å¯†åº¦æˆ–è€…åˆ†è¾¨ç‡æ¥æ˜¾ç¤ºä¸åŒçš„èƒŒæ™¯å›¾ï¼ˆbackground- imageï¼‰æˆ–è€…é®ç½©å›¾ç‰‡ï¼ˆmask-imageï¼‰ç­‰</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.example</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">image-set</span>(<span class="built_in">url</span>(<span class="string">1.jpg</span>) <span class="number">1</span>x, <span class="built_in">url</span>(<span class="string">2.jpg</span>) <span class="number">2</span>x, <span class="built_in">url</span>(<span class="string">1-print.jpg</span>) <span class="number">600dpi</span>,)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¦‚æœå±å¹•æ˜¯1å€å±ï¼Œä¹Ÿå°±æ˜¯è®¾å¤‡åƒç´ æ¯”æ˜¯1âˆ¶1çš„è¯ï¼Œå°±ä½¿ç”¨1.jpgä½œä¸ºèƒŒæ™¯å›¾ï¼›å¦‚æœå±å¹•æ˜¯2å€å±åŠä»¥ä¸Šï¼Œå°±ä½¿ç”¨1-2x.jpgä½œä¸ºèƒŒæ™¯å›¾ï¼›å¦‚æœè®¾å¤‡çš„åˆ†è¾¨ç‡å¤§äº600dpiï¼Œå°±ä½¿ç”¨1-print.jpgä½œä¸ºèƒŒæ™¯å›¾ã€‚</p><blockquote><p>æ³¨æ„ï¼Œå›¾ç‰‡åœ°å€éœ€è¦å†™åœ¨url()å‡½æ•°é‡Œï¼Œurl()å‡½æ•°ä¸­ä¸ç”¨æ·»åŠ å¼•å·</p></blockquote><p>HTMLä¸­æœ‰ä¸€ä¸ªåä¸ºsrcsetçš„å±æ€§ï¼Œè¿™ä¸ªå±æ€§ä¸image-set()å‡½æ•°æ— è®ºæ˜¯åç§°è¿˜æ˜¯è¯­æ³•éƒ½æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">srcset</span>=<span class="string">&quot;1-2x.png 2x&quot;</span> &gt;</span></span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/7/5-1.php">æ•ˆæœå±•ç¤º</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.image-set</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">128px</span>; <span class="attribute">height</span>: <span class="number">96px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">./fallback.jpg</span>);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">-webkit-image-set</span>(</span><br><span class="line">        <span class="built_in">url</span>(<span class="string">w128.jpg</span>) <span class="number">1</span>x, </span><br><span class="line">        <span class="built_in">url</span>(<span class="string">w256.jpg</span>) <span class="number">2</span>x, </span><br><span class="line">        <span class="built_in">url</span>(<span class="string">w512.jpg</span>) <span class="number">3</span>x);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">image-set</span>(</span><br><span class="line">        <span class="built_in">url</span>(<span class="string">w128.jpg</span>) <span class="number">1</span>x, </span><br><span class="line">        <span class="built_in">url</span>(<span class="string">w256.jpg</span>) <span class="number">2</span>x, </span><br><span class="line">        <span class="built_in">url</span>(<span class="string">w512.jpg</span>) <span class="number">3</span>x);</span><br><span class="line">    <span class="attribute">background-size</span>: cover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://www.zhangxinxu.com/wordpress/2014/10/responsive-images-srcset-size-w-descriptor/">äº†è§£æ›´å¤š</a></p><blockquote><p>å³ä¾¿åœ¨æ¡Œé¢ç«¯æµè§ˆå™¨ä¸­ï¼Œimage-set()å‡½æ•°ä¹Ÿå¯ä»¥æ”¾å¿ƒä½¿ç”¨ï¼Œä¸ç”¨æ‹…å¿ƒä¼šå½±å“å†…å®¹çš„å‘ˆç°ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªæ¸è¿›å¢å¼ºç‰¹æ€§ã€‚å®é™…å¼€å‘æ—¶ï¼Œåœ¨image-set()è¯­å¥ä¹‹å‰åŠ ä¸€è¡Œbackground:url();è¯­å¥å…œåº•å°±å¯ä»¥äº†ï¼Œè¿™æ ·å°±ç®—æµè§ˆå™¨ä¸æ”¯æŒimage-set()å‡½æ•°ï¼Œç•Œé¢æ ·å¼ä¾ç„¶è¡¨ç°è‰¯å¥½ã€‚</p></blockquote><p>è™½ç„¶image-set()å‡½æ•°çš„è®¾è®¡åˆè¡·æ˜¯å¥½çš„ï¼Œä½†æ˜¯å®ç”¨æ€§å¾ˆä¸€èˆ¬ï¼Œå› ä¸ºåœ¨å®é™…å¼€å‘ä¸­å¾€å¾€ä¼šè®¾ç½®ç›´æ¥åŠ è½½2å€å›¾ï¼Œ1å€å›¾æ˜¯ä¸åŠ è½½çš„ã€‚è¿™æ ·åšä¸€æ˜¯å› ä¸ºç°åœ¨æµé‡ä¾¿å®œï¼ŒäºŒæ˜¯å› ä¸ºæ— é¡»å‡†å¤‡å¤šå¼ ä¸åŒå°ºå¯¸çš„å›¾ç‰‡ï¼Œå¯ä»¥å‡å°‘å¼€å‘å’Œç»´æŠ¤æˆæœ¬ã€‚</p><p>åªæœ‰ä¸‹é¢ä¸¤ç§æƒ…å†µæ‰éœ€è¦ç”¨åˆ°image-set()å‡½æ•°ã€‚</p><p>ï¼ˆ1ï¼‰ä¸åŒå±å¹•å¯†åº¦ä¸‹æ˜¾ç¤ºçš„æ˜¯å®Œå…¨ä¸åŒçš„å›¾ï¼Œè€Œä¸æ˜¯åªæœ‰å°ºå¯¸ä¸ä¸€æ ·çš„å›¾ã€‚ä¾‹å¦‚ï¼Œåœ¨1å€å±ä¸‹æ˜¾ç¤ºé€ å‹ç®€å•çš„å›¾æ ‡ï¼Œåœ¨å¤šå€å±ä¸‹æ˜¾ç¤ºç»†èŠ‚ä¸°å¯Œçš„å›¾æ ‡ã€‚</p><p>ï¼ˆ2ï¼‰ç”¨æˆ·ä½“éªŒå’Œæµé‡æ”¶ç›Šè¶³å¤Ÿæ˜æ˜¾çš„åœºæ™¯ã€‚ä¾‹å¦‚ç±»ä¼¼WeChatè¿™ç§ç”¨æˆ·åŸºæ•°å¾ˆå¤§çš„äº§å“ï¼›æˆ–è€…ç»™æµé‡è´¹ç”¨è¾ƒé«˜ã€ä¿¡å·è¾ƒå·®çš„åœ°åŒºå¼€å‘çš„äº§å“ã€‚</p><h2 id="CSSçš„å˜é‡å‡½æ•°var-ä¸è‡ªå®šä¹‰å±æ€§"><a href="#CSSçš„å˜é‡å‡½æ•°var-ä¸è‡ªå®šä¹‰å±æ€§" class="headerlink" title="CSSçš„å˜é‡å‡½æ•°var()ä¸è‡ªå®šä¹‰å±æ€§"></a>CSSçš„å˜é‡å‡½æ•°var()ä¸è‡ªå®šä¹‰å±æ€§</h2><h3 id="CSSå˜é‡çš„è¯­æ³•ã€ç‰¹æ€§å’Œç»†èŠ‚"><a href="#CSSå˜é‡çš„è¯­æ³•ã€ç‰¹æ€§å’Œç»†èŠ‚" class="headerlink" title="CSSå˜é‡çš„è¯­æ³•ã€ç‰¹æ€§å’Œç»†èŠ‚"></a>CSSå˜é‡çš„è¯­æ³•ã€ç‰¹æ€§å’Œç»†èŠ‚</h3><blockquote><p>CSSå˜é‡çš„è¯­æ³•ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¸€éƒ¨åˆ†æ˜¯CSSå˜é‡çš„å£°æ˜ï¼Œå¦ä¸€éƒ¨åˆ†æ˜¯CSSå˜é‡çš„ä½¿ç”¨ã€‚å…¶ä¸­ï¼ŒCSSå˜é‡çš„å£°æ˜ç”±CSSè‡ªå®šä¹‰å±æ€§åŠå…¶å¯¹åº”çš„å€¼ç»„æˆï¼Œè€ŒCSSå˜é‡çš„ä½¿ç”¨åˆ™é€šè¿‡å˜é‡å‡½æ•°var()è°ƒç”¨CSSè‡ªå®šä¹‰å±æ€§å®ç°ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="attr">--primary-color</span>: deepskyblue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">val</span>(--primary-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="CSSè‡ªå®šä¹‰å±æ€§çš„å‘½å"><a href="#CSSè‡ªå®šä¹‰å±æ€§çš„å‘½å" class="headerlink" title="CSSè‡ªå®šä¹‰å±æ€§çš„å‘½å"></a>CSSè‡ªå®šä¹‰å±æ€§çš„å‘½å</h4><blockquote><p>CSSè‡ªå®šä¹‰å±æ€§æ—¶ï¼Œæ”¯æŒæ•°å­—å‘½åçš„,ä¸­æ–‡ç­‰CJKæ–‡å­—ä¹Ÿæ˜¯å¯ä»¥éšæ„ä½¿ç”¨çš„</p><p>è™½ç„¶CSSè‡ªå®šä¹‰å±æ€§çš„å‘½åé™åˆ¶è¾ƒå°‘ï¼Œä½†æ˜¯è¿˜æ˜¯ä¸æ”¯æŒåŒ…å«$ã€[ã€]ã€^ã€(ã€)ã€%ã€â€ç­‰ç‰¹æ®Šå­—ç¬¦çš„å‘½åï¼Œè¦ä½¿ç”¨è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦ä½¿ç”¨åæ–œæ è½¬ä¹‰ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    --\$: deepskyblue;</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--\$)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="var-å‡½æ•°çš„è¯­æ³•å’Œç‰¹æ€§"><a href="#var-å‡½æ•°çš„è¯­æ³•å’Œç‰¹æ€§" class="headerlink" title="var()å‡½æ•°çš„è¯­æ³•å’Œç‰¹æ€§"></a>var()å‡½æ•°çš„è¯­æ³•å’Œç‰¹æ€§</h4><blockquote><p>å…¶ä¸­ï¼Œ&lt;custom-property-name&gt;æŒ‡çš„å°±æ˜¯è‡ªå®šä¹‰å±æ€§åï¼›&lt;declaration-value&gt;æŒ‡çš„æ˜¯å£°æ˜å€¼ï¼Œå¯ä»¥ç†è§£ä¸ºå¤‡é€‰å€¼æˆ–ç¼ºçœå€¼ï¼Œå½“å‰é¢çš„è‡ªå®šä¹‰å±æ€§ä¸€å®šæ— æ•ˆæ—¶ï¼Œå°±ä¼šä½¿ç”¨\declaration- value&gt;å®šä¹‰çš„å€¼ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">var</span>( &lt;custom-property-name&gt; <span class="selector-attr">[, &lt;declaration-value&gt;]</span>? )</span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--any-what, deepskyblue)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å‚æ•°éæ³•çš„æœ‰è¶£ç°è±¡</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attr">--color</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: deeppink;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--color, deepskyblue);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯·é—®ï¼Œæ­¤æ—¶ body å…ƒç´ èƒŒæ™¯è‰²æ˜¯ä»€ä¹ˆï¼Ÿ</p><p>A. transarent    B.20px    C.deeppink    D.deepskyblue</p><blockquote><p>è¿™æ˜¯var()å‡½æ•°éå¸¸æœ‰æ„æ€çš„ä¸€ç‚¹ï¼šåªè¦ç¬¬ä¸€ä¸ªå‚æ•°å€¼å¯èƒ½æœ‰æ•ˆï¼Œå“ªæ€•è¿™ä¸ªå‚æ•°å€¼æ˜¯ä¸€ä¸ªä¹±ä¸ƒå…«ç³Ÿçš„ä¸œè¥¿ï¼Œè¿™ä¸ªvar()å‡½æ•°ä¾ç„¶ä¼šæ­£å¸¸è§£æã€‚ä¸‹é¢é‡ç‚¹æ¥äº†ï¼šå¦‚æœç¬¬ä¸€ä¸ªå‚æ•°å€¼æ˜¯ä¸åˆæ³•çš„ï¼Œåˆ™var()å‡½æ•°è§£æä¸ºå½“å‰CSSå±æ€§çš„åˆå§‹å€¼æˆ–ç»§æ‰¿å€¼ï¼ˆå¦‚æœæœ‰ç»§æ‰¿æ€§ï¼‰ï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§unsetå…¨å±€å…³é”®å­—çš„è§„åˆ™æ¸²æŸ“ã€‚ï¼ˆæ³¨æ„ï¼Œåªæ˜¯æ¸²æŸ“è§„åˆ™ç±»ä¼¼ï¼Œå¹¶ä¸ç­‰åŒäºç›´æ¥è®¾ç½®unsetå…³é”®å­—ã€‚ï¼‰</p></blockquote><p>ä¸Šé¢çš„æ¡ˆä¾‹ä¸­çš„background-colorå±æ€§å€¼æ˜¾ç„¶ä¸èƒ½æ˜¯20pxï¼Œå› ä¸ºèƒŒæ™¯è‰²çš„å€¼æ˜¯é¢œè‰²å€¼ï¼Œä¸èƒ½æ˜¯é•¿åº¦å€¼ï¼Œ20pxæ˜¾ç„¶æ˜¯ä¸åˆæ³•çš„ï¼Œæ‰€ä»¥ä¼šä½¿ç”¨background-colorçš„åˆå§‹å€¼transparentä»£æ›¿, <strong>æ‰€ä»¥æ­£ç¡®ç­”æ¡ˆæ˜¯ A</strong></p><p><a href="https://demo.cssworld.cn/new/8/1-1.php">åˆ©ç”¨åˆå§‹å€¼é»˜è®¤å€¼è®¾ç½®ç‚¹å‡»æ•ˆæœ</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="comment">/* è¿™é‡Œçš„ç©ºæ ¼å¾ˆé‡è¦ */</span></span><br><span class="line">    <span class="attr">--open</span>: ;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#2a80eb</span>;</span><br><span class="line">    -webkit-text-fill-<span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">9px</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="built_in">var</span>(--open, <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">1</span>));</span><br><span class="line">    <span class="attribute">box-shadow</span>: <span class="built_in">var</span>(--open, inset <span class="number">0</span> <span class="number">1px</span> <span class="number">2px</span> <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">1</span>));</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">var</span>(--open, <span class="built_in">linear-gradient</span>(<span class="number">#0003</span>, transparent)) currentColor;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="built_in">var</span>(--open, -<span class="number">1px</span> -<span class="number">1px</span> <span class="number">#0003</span>);</span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">15s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">button</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">    <span class="comment">/* ä»»æ„å…¨å±€å…³é”®å­—éƒ½å¯ä»¥ */</span></span><br><span class="line">    <span class="attr">--open</span>: inherit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åˆ©ç”¨è¿™ç§ç‰¹æ€§è®©CSSå˜é‡åŒæ—¶å¼€å¯å’Œå…³é—­ä¸€ä¸ªæˆ–å¤šä¸ªä¸åŒçš„å±æ€§å€¼ï¼Œä»è€Œè®©CSSä»£ç æ›´åŠ ç®€æ´</p><p>ç©ºæ ¼åœ¨è¯­æ³•ä¸Šæ˜¯å¯èƒ½æœ‰æ•ˆçš„ã€‚ä½†æ˜¯ç©ºæ ¼å¯¹äºbox-shadowå’Œbackgroundç­‰CSSå±æ€§æ˜¯æ— æ•ˆçš„ï¼Œå› æ­¤ï¼Œbox-shadowå’Œbackgroundç­‰CSSå±æ€§å‡è§£æä¸ºåˆå§‹å€¼</p></blockquote><h4 id="var-å‡½æ•°çš„ç©ºæ ¼å°¾éšç‰¹æ€§"><a href="#var-å‡½æ•°çš„ç©ºæ ¼å°¾éšç‰¹æ€§" class="headerlink" title="var()å‡½æ•°çš„ç©ºæ ¼å°¾éšç‰¹æ€§"></a>var()å‡½æ•°çš„ç©ºæ ¼å°¾éšç‰¹æ€§</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">hmtl &#123; <span class="attribute">font-size</span>: <span class="number">14px</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attr">--size</span>: <span class="number">20</span> ;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="built_in">var</span>(--size)px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯·é—®ï¼Œ æ­¤æ—¶ body å…ƒç´ çš„font-size å¤§å°æ˜¯å¤šå°‘ï¼Ÿ</p><p>A.medium    B.14px    C.16px    D.20px</p><blockquote><p>æ­¤å¤„font-size:var(â€“size)pxç­‰åŒäºfont-size:20pxï¼Œæ³¨æ„ï¼Œ20åé¢æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œè¿™å±äºä¸åˆæ³•çš„font-sizeå±æ€§å€¼ã€‚ç”±äºè¯­æ³•ä¸Švar(â€“size)pxåˆæ˜¯åˆæ³•çš„ï¼Œå› æ­¤ä¼šé‡ç½®font-size:16pxï¼Œæœ€ç»ˆä½¿ç”¨çˆ¶å…ƒç´ è®¾ç½®çš„å­—å·å¤§å°14pxã€‚</p><p><strong>æ‰€ä»¥ç­”æ¡ˆæ˜¯B</strong></p></blockquote><h4 id="CSSè‡ªå®šä¹‰å±æ€§çš„ä½œç”¨åŸŸ"><a href="#CSSè‡ªå®šä¹‰å±æ€§çš„ä½œç”¨åŸŸ" class="headerlink" title="CSSè‡ªå®šä¹‰å±æ€§çš„ä½œç”¨åŸŸ"></a>CSSè‡ªå®šä¹‰å±æ€§çš„ä½œç”¨åŸŸ</h4><blockquote><p>å…¨å±€ä½œç”¨åŸŸæ˜¯ root ,å…¶ä»–ä½œç”¨åŸŸè·Ÿcss çˆ¶å­å±‚çº§ç±»ä¼¼ã€‚div ä¸­å®šä¹‰çš„å˜é‡åœ¨body ä¸Šä½¿ç”¨æ— æ•ˆæœï¼Œåä¹‹åˆ™æœ‰æ•ˆæœã€‚<strong>æœ¬è´¨ä¸Šæ˜¯ç»§æ‰¿ç‰¹æ€§ï¼Œ <a href="https://demo.cssworld.cn/new/8/1-2.php">Shadow DOMä¸­çš„å…ƒç´ ä¹Ÿèƒ½ç»§æ‰¿</a></strong></p></blockquote><h4 id="CSSè‡ªå®šä¹‰å±æ€§å€¼å¯ä»¥æ˜¯ä»»æ„å€¼æˆ–è¡¨è¾¾å¼"><a href="#CSSè‡ªå®šä¹‰å±æ€§å€¼å¯ä»¥æ˜¯ä»»æ„å€¼æˆ–è¡¨è¾¾å¼" class="headerlink" title="CSSè‡ªå®šä¹‰å±æ€§å€¼å¯ä»¥æ˜¯ä»»æ„å€¼æˆ–è¡¨è¾¾å¼"></a><a href="https://weread.qq.com/web/reader/13c32c90726fa07d13c0072k9a132c802349a1158154a83">CSSè‡ªå®šä¹‰å±æ€§å€¼å¯ä»¥æ˜¯ä»»æ„å€¼æˆ–è¡¨è¾¾å¼</a></h4><h4 id="CSSè‡ªå®šä¹‰å±æ€§å€¼å¯ä»¥ç›¸äº’ä¼ é€’"><a href="#CSSè‡ªå®šä¹‰å±æ€§å€¼å¯ä»¥ç›¸äº’ä¼ é€’" class="headerlink" title="CSSè‡ªå®šä¹‰å±æ€§å€¼å¯ä»¥ç›¸äº’ä¼ é€’"></a>CSSè‡ªå®šä¹‰å±æ€§å€¼å¯ä»¥ç›¸äº’ä¼ é€’</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attr">--green</span>: <span class="number">#4caf50</span>;</span><br><span class="line">    <span class="attr">--successColor</span>: <span class="built_in">var</span>(--green);</span><br><span class="line">    <span class="attr">--columns</span>: <span class="number">4</span>;</span><br><span class="line">    <span class="attr">--margins</span>: <span class="built_in">calc</span>(<span class="number">24px</span> / <span class="built_in">var</span>(--columns));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="CSSè‡ªå®šä¹‰å±æ€§ä¸èƒ½è‡ªèº«èµ‹å€¼"><a href="#CSSè‡ªå®šä¹‰å±æ€§ä¸èƒ½è‡ªèº«èµ‹å€¼" class="headerlink" title="CSSè‡ªå®šä¹‰å±æ€§ä¸èƒ½è‡ªèº«èµ‹å€¼"></a>CSSè‡ªå®šä¹‰å±æ€§ä¸èƒ½è‡ªèº«èµ‹å€¼</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="attr">--primary-color</span>: deepskyblue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.some-class</span> &#123;</span><br><span class="line">    <span class="attr">--primary-color</span>: <span class="built_in">var</span>(primary-color, <span class="number">#2a80eb</span>);</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">     --primary-color ä¼šè¢«è®¤ä¸ºæ˜¯éæ³•çš„ï¼Œcolorçš„é¢œè‰²ä¸ºå½“å‰ä¸Šä¸‹æ–‡çš„é¢œè‰²</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>( --primary-color);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="CSSè‡ªå®šä¹‰å±æ€§ä¸æ”¯æŒç”¨åœ¨åª’ä½“æŸ¥è¯¢ä¸­"><a href="#CSSè‡ªå®šä¹‰å±æ€§ä¸æ”¯æŒç”¨åœ¨åª’ä½“æŸ¥è¯¢ä¸­" class="headerlink" title="CSSè‡ªå®šä¹‰å±æ€§ä¸æ”¯æŒç”¨åœ¨åª’ä½“æŸ¥è¯¢ä¸­"></a>CSSè‡ªå®šä¹‰å±æ€§ä¸æ”¯æŒç”¨åœ¨åª’ä½“æŸ¥è¯¢ä¸­</h4><blockquote><p>åœ¨ @media() ä¸­æ— æ³•ä½¿ç”¨ï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨ evn()å‡½æ•°</p></blockquote><h3 id="åœ¨-é¡µé¢ä¸­è®¾ç½®è·å–å˜é‡"><a href="#åœ¨-é¡µé¢ä¸­è®¾ç½®è·å–å˜é‡" class="headerlink" title="åœ¨ é¡µé¢ä¸­è®¾ç½®è·å–å˜é‡"></a>åœ¨ é¡µé¢ä¸­è®¾ç½®è·å–å˜é‡</h3><p>html:</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;border 10px solid var(--color);&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">box.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--color&#x27;</span>, <span class="string">&#x27;deepskyblue&#x27;</span>)</span><br></pre></td></tr></table></figure><blockquote><p>æ™®é€šå±æ€§å¯ä»¥é€šè¿‡style.xxx = x è®¾ç½®ï¼Œä½†æ˜¯è‡ªå®šä¹‰å±æ€§æ™ºèƒ½é€šè¿‡ setPropertyå±æ€§è®¾ç½®ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å– --color CSSå˜é‡</span></span><br><span class="line"><span class="keyword">var</span> cssVarColor = <span class="title function_">getComputedStyle</span>(box).<span class="title function_">getPropertyValue</span>(<span class="string">&#x27;--color&#x27;</span>)</span><br></pre></td></tr></table></figure><h3 id="ä½¿ç”¨contentå±æ€§æ˜¾ç¤ºCSSè‡ªå®šä¹‰å±æ€§å€¼çš„æŠ€å·§"><a href="#ä½¿ç”¨contentå±æ€§æ˜¾ç¤ºCSSè‡ªå®šä¹‰å±æ€§å€¼çš„æŠ€å·§" class="headerlink" title="ä½¿ç”¨contentå±æ€§æ˜¾ç¤ºCSSè‡ªå®šä¹‰å±æ€§å€¼çš„æŠ€å·§"></a>ä½¿ç”¨contentå±æ€§æ˜¾ç¤ºCSSè‡ªå®šä¹‰å±æ€§å€¼çš„æŠ€å·§</h3><blockquote><p>æœ‰æ—¶å€™éœ€è¦è®©CSSå˜é‡ä¸­çš„è‡ªå®šä¹‰å±æ€§å€¼èƒ½å¤ŸåŒæ—¶ä½œä¸ºå­—ç¬¦å†…å®¹åœ¨é¡µé¢ä¸­å‘ˆç°ã€‚æˆ‘ä»¬å¾ˆå¿«å°±ä¼šæƒ³åˆ°ä½¿ç”¨::beforeå’Œ::afterä¼ªå…ƒç´ é…åˆcontentå±æ€§æ¥å®ç°ï¼Œä½†æ˜¯ï¼ŒæŠŠCSSè‡ªå®šä¹‰å±æ€§å€¼ä½œä¸ºcontentå±æ€§å€¼æ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ— æ•ˆ */</span></span><br><span class="line"><span class="selector-class">.bar</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">var</span>(--percent);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å€ŸåŠ©CSSè®¡æ•°å™¨å‘ˆç°CSSè‡ªå®šä¹‰å±æ€§å€¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æœ‰æ•ˆ */</span></span><br><span class="line"><span class="selector-class">.bar</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">counter-reset</span>: progress <span class="built_in">var</span>(--percent);</span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">var</span>(progress);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è™½ç„¶contentå±æ€§æœ¬èº«ä¸æ”¯æŒCSSè‡ªå®šä¹‰å±æ€§å€¼ï¼Œä½†æ˜¯counter-resetå±æ€§åé¢çš„è®¡æ•°å™¨åˆå§‹å€¼æ˜¯æ”¯æŒçš„ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥æ¥ä¸€æ‹›â€œç§»èŠ±æ¥æœ¨â€ï¼Œä»è€Œè®©CSSè‡ªå®šä¹‰å±æ€§å€¼ä½œä¸ºå­—ç¬¦åœ¨é¡µé¢ä¸­æ˜¾ç¤ºã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/8/3-1.php">cssè‡ªå®šä¹‰å±æ€§å®ç°ä¸Šä¼ è¿›åº¦æ¡</a></p><blockquote><p>å¦‚æœå¸Œæœ›å…¼å®¹é™ˆæ—§çš„è®¾å¤‡ï¼Œå¯ä»¥è¯•è¯•GitHubç«™ç‚¹ä¸Šä¸€ä¸ªåä¸ºcss-vars-ponyfillçš„é¡¹ç›®ï¼Œå…¶å¯ä»¥è®©CSSå˜é‡å…¼å®¹åˆ°IE9+</p></blockquote><h3 id="ä½¿ç”¨CSSå˜é‡è‡ªå®šä¹‰å…¨æ–°çš„CSSè¯­æ³•"><a href="#ä½¿ç”¨CSSå˜é‡è‡ªå®šä¹‰å…¨æ–°çš„CSSè¯­æ³•" class="headerlink" title="ä½¿ç”¨CSSå˜é‡è‡ªå®šä¹‰å…¨æ–°çš„CSSè¯­æ³•"></a>ä½¿ç”¨CSSå˜é‡è‡ªå®šä¹‰å…¨æ–°çš„CSSè¯­æ³•</h3><blockquote><p>è™½ç„¶ç›®å‰CSS Color Level 4æ”¯æŒéå¸¸å¤šçš„é¢œè‰²å†™æ³•ï¼Œä½†æ˜¯å”¯ç‹¬ä¸æ”¯æŒé¢œè‰²å…³é”®å­—çš„åŠé€æ˜æ•ˆæœã€‚æ‰€ä»¥æˆ‘å°±ä¼šæ€è€ƒè¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼šæœ‰æ²¡æœ‰å¯èƒ½è‡ªåˆ›ä¸€ä¸ªCSSå‡½æ•°è¯­æ³•ï¼Œå®ç°é¢œè‰²å…³é”®å­—çš„åŠé€æ˜æ•ˆæœï¼Ÿ</p></blockquote><p>ä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">color</span>: <span class="built_in">keyword</span>(red, <span class="number">50%</span>)</span><br><span class="line">color: <span class="built_in">keyword</span>(red, <span class="number">0.5</span>)</span><br><span class="line">color: <span class="built_in">keyword</span>(red / <span class="number">50%</span>)</span><br><span class="line">color: <span class="built_in">keyword</span>(red / <span class="number">0.5</span>)</span><br></pre></td></tr></table></figure><blockquote><p>ç›´æ¥è¿™æ ·å†™çš„è¯æµè§ˆå™¨è®¤ä¸ºæ˜¯ä¸åˆæ³•</p><p>CSSè‡ªå®šä¹‰å±æ€§ä½œä¸ºä¿¡ä½¿ä½¿æ•´ä¸ªè¯­æ³•åˆæ³•åŒ–</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attr">--keyword</span>: <span class="built_in">keyword</span>(red, <span class="number">50%</span>); // åˆæ³•</span><br><span class="line">    <span class="attribute">color</span>: <span class="built_in">var</span>(--keyword);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>JavaScriptè·å–ä½¿ç”¨äº†keyword()å‡½æ•°çš„å…ƒç´ ï¼Œå†å°†å…¶è½¬æ¢æˆæµè§ˆå™¨å¯è¯†åˆ«çš„é¢œè‰²å‡½æ•°</p><p>ï¼ˆ1ï¼‰è·å–é¡µé¢ä¸­æ‰€æœ‰åŒ…å«keyword()å‡½æ•°çš„è‡ªå®šä¹‰å±æ€§ã€‚</p><p>ï¼ˆ2ï¼‰éå†å¹¶è§‚å¯Ÿæ‰€æœ‰DOMï¼Œå¦‚æœè®¾ç½®äº†å¯¹åº”çš„è‡ªå®šä¹‰å±æ€§ï¼Œåˆ™å°†keyword()å‡½æ•°è¯­æ³•è½¬æ¢æˆæµè§ˆå™¨èƒ½å¤Ÿè¯†åˆ«çš„rgba()å‡½æ•°è¯­æ³•ã€‚</p><p><a href="https://demo.cssworld.cn/new/8/4-1.php">æ•ˆæœå±•ç¤º</a></p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> CSS è‡ªå®šä¹‰çš„keyword()æ–¹æ³•çš„æ”¯æŒå’Œä½¿ç”¨</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> zhangxinxu(.com) 2020-08-11</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@docs</span> https://www.zhangxinxu.com/wordpress/?p=9537</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@license</span> MIT ä½œè€…å’Œå‡ºå¤„ä¿ç•™</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">window</span>.<span class="property">CSS</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!<span class="title class_">NodeList</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">forEach</span>) &#123;</span><br><span class="line">        <span class="title class_">NodeList</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">forEach</span> = <span class="title class_">Array</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">forEach</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–é¡µé¢ä¸­æ‰€æœ‰çš„CSSè‡ªå®šä¹‰å±æ€§</span></span><br><span class="line">    <span class="keyword">var</span> isSameDomain = <span class="keyword">function</span> (<span class="params">styleSheet</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!styleSheet.<span class="property">href</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> styleSheet.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">origin</span>) === <span class="number">0</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> isStyleRule = <span class="keyword">function</span> (<span class="params">rule</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> rule.<span class="property">type</span> === <span class="number">1</span>;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> arrCSSCustomProps = (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> [].<span class="property">slice</span>.<span class="title function_">call</span>(<span class="variable language_">document</span>.<span class="property">styleSheets</span>).<span class="title function_">filter</span>(isSameDomain).<span class="title function_">reduce</span>(<span class="keyword">function</span> (<span class="params">finalArr, sheet</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> finalArr.<span class="title function_">concat</span>([].<span class="property">slice</span>.<span class="title function_">call</span>(sheet.<span class="property">cssRules</span>).<span class="title function_">filter</span>(isStyleRule).<span class="title function_">reduce</span>(<span class="keyword">function</span> (<span class="params">propValArr, rule</span>) &#123;</span><br><span class="line">                <span class="keyword">var</span> props = [].<span class="property">slice</span>.<span class="title function_">call</span>(rule.<span class="property">style</span>).<span class="title function_">map</span>(<span class="keyword">function</span> (<span class="params">propName</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> [</span><br><span class="line">                        propName.<span class="title function_">trim</span>(),</span><br><span class="line">                        rule.<span class="property">style</span>.<span class="title function_">getPropertyValue</span>(propName).<span class="title function_">trim</span>()</span><br><span class="line">                    ];</span><br><span class="line">                &#125;).<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">[propName]</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> propName.<span class="title function_">indexOf</span>(<span class="string">&#x27;--&#x27;</span>) === <span class="number">0</span>;</span><br><span class="line">                &#125;);</span><br><span class="line"></span><br><span class="line">                <span class="keyword">return</span> [].<span class="title function_">concat</span>(propValArr, props);</span><br><span class="line">            &#125;, []));</span><br><span class="line">        &#125;, []);</span><br><span class="line">    &#125;)();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨äº†keyword()è¯­æ³•çš„CSSè‡ªå®šä¹‰å±æ€§å</span></span><br><span class="line">    <span class="keyword">var</span> arrCssPropsValueIsKeyword = arrCSSCustomProps.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">arrPropVal</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="regexp">/keyword\([\w\W]+\)/i</span>.<span class="title function_">test</span>(arrPropVal[<span class="number">1</span>]);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è®¾ç½®è‡ªå®šä¹‰å±æ€§å€¼çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">var</span> funKeywordColor2Rgba = <span class="keyword">function</span> (<span class="params">node</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (node.<span class="property">nodeType</span> != <span class="number">1</span> || [<span class="string">&#x27;script&#x27;</span>, <span class="string">&#x27;style&#x27;</span>, <span class="string">&#x27;meta&#x27;</span>, <span class="string">&#x27;title&#x27;</span>, <span class="string">&#x27;head&#x27;</span>].<span class="title function_">includes</span>(node.<span class="property">nodeName</span>.<span class="title function_">toLowerCase</span>())) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å½“å‰èŠ‚ç‚¹çš„æ‰€æœ‰æ ·å¼å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">var</span> objStyle = <span class="variable language_">window</span>.<span class="title function_">getComputedStyle</span>(node);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ‰€æœ‰è®¾ç½®äº†keyword()çš„è‡ªå®šä¹‰å±æ€§çš„éå†å¤„ç†</span></span><br><span class="line">        arrCssPropsValueIsKeyword.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">arr</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> cssProp = arr[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦è®¾ç½®äº†å½“å‰è‡ªå®šä¹‰å±æ€§</span></span><br><span class="line">            <span class="keyword">var</span> cssVarValueKeyword = objStyle.<span class="title function_">getPropertyValue</span>(cssProp);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (!cssVarValueKeyword || !cssVarValueKeyword.<span class="title function_">trim</span>() || !<span class="regexp">/keyword\([\w\W]+\)/i</span>.<span class="title function_">test</span>(cssVarValueKeyword)) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            cssVarValueKeyword = arr[<span class="number">1</span>];</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è§£æä¸å¤„ç†</span></span><br><span class="line">            <span class="keyword">var</span> keyColorAndOpacity = cssVarValueKeyword.<span class="title function_">replace</span>(<span class="regexp">/\w+\(([\w\W]+)\)/</span>, <span class="string">&#x27;$1&#x27;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">var</span> arrKeyColorAndOpacity = keyColorAndOpacity.<span class="title function_">split</span>(<span class="regexp">/\s+/</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (<span class="regexp">/,/</span>.<span class="title function_">test</span>(keyColorAndOpacity)) &#123;</span><br><span class="line">                arrKeyColorAndOpacity = keyColorAndOpacity.<span class="title function_">split</span>(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="regexp">/\//</span>.<span class="title function_">test</span>(keyColorAndOpacity)) &#123;</span><br><span class="line">                arrKeyColorAndOpacity = keyColorAndOpacity.<span class="title function_">split</span>(<span class="string">&#x27;,&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (arrKeyColorAndOpacity.<span class="property">length</span> != <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ†å‡ºé¢œè‰²å’Œé€æ˜åº¦</span></span><br><span class="line">            <span class="keyword">var</span> keyColor = arrKeyColorAndOpacity[<span class="number">0</span>].<span class="title function_">trim</span>();</span><br><span class="line">            <span class="keyword">var</span> opacity = (arrKeyColorAndOpacity[<span class="number">1</span>] || <span class="string">&#x27;1&#x27;</span>).<span class="title function_">trim</span>();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// keyColorè½¬rgb</span></span><br><span class="line">            <span class="variable language_">document</span>.<span class="property">head</span>.<span class="property">style</span>.<span class="property">backgroundColor</span> = keyColor;</span><br><span class="line">            <span class="keyword">var</span> rgbColor = <span class="variable language_">window</span>.<span class="title function_">getComputedStyle</span>(<span class="variable language_">document</span>.<span class="property">head</span>).<span class="property">backgroundColor</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åº”ç”¨çš„é¢œè‰²</span></span><br><span class="line">            <span class="keyword">var</span> applyColor = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">            <span class="comment">// é€æ˜åº¦æ›¿æ¢</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="regexp">/^rgba/</span>.<span class="title function_">test</span>(rgbColor)) &#123;</span><br><span class="line">                applyColor = rgbColor.<span class="title function_">replace</span>(<span class="string">&#x27;1)&#x27;</span>, opacity + <span class="string">&#x27;)&#x27;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                applyColor = rgbColor.<span class="title function_">replace</span>(<span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;, &#x27;</span> + opacity + <span class="string">&#x27;)&#x27;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            node.<span class="property">style</span>.<span class="title function_">setProperty</span>(cssProp, applyColor);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> funAutoInitAndWatching = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// DOM Insertè‡ªåŠ¨åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">window</span>.<span class="property">MutationObserver</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> observerSelect = <span class="keyword">new</span> <span class="title class_">MutationObserver</span>(<span class="keyword">function</span> (<span class="params">mutationsList</span>) &#123;</span><br><span class="line">                mutationsList.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">mutation</span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> nodeAdded = mutation.<span class="property">addedNodes</span>;</span><br><span class="line">                    <span class="comment">// æ–°å¢å…ƒç´ </span></span><br><span class="line">                    nodeAdded.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">eleAdd</span>) &#123;</span><br><span class="line">                        <span class="title function_">funKeywordColor2Rgba</span>(eleAdd);</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            observerSelect.<span class="title function_">observe</span>(<span class="variable language_">document</span>.<span class="property">body</span>, &#123;</span><br><span class="line">                <span class="attr">childList</span>: <span class="literal">true</span>,</span><br><span class="line">                <span class="attr">subtree</span>: <span class="literal">true</span></span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœæ²¡æœ‰å¼€å¯è‡ªåŠ¨åˆå§‹åŒ–ï¼Œåˆ™è¿”å›</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;*&#x27;</span>).<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">ele</span>) &#123;</span><br><span class="line">            <span class="title function_">funKeywordColor2Rgba</span>(ele);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="property">readyState</span> != <span class="string">&#x27;loading&#x27;</span>) &#123;</span><br><span class="line">        <span class="title function_">funAutoInitAndWatching</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;DOMContentLoaded&#x27;</span>, funAutoInitAndWatching);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure><h4 id="CSSå˜é‡æ¨¡æ‹ŸCSSæ–°ç‰¹æ€§"><a href="#CSSå˜é‡æ¨¡æ‹ŸCSSæ–°ç‰¹æ€§" class="headerlink" title="CSSå˜é‡æ¨¡æ‹ŸCSSæ–°ç‰¹æ€§"></a>CSSå˜é‡æ¨¡æ‹ŸCSSæ–°ç‰¹æ€§</h4><blockquote><p>CSSä¸­çš„æœ‰äº›éå¸¸æ£’çš„æ–°ç‰¹æ€§è¿˜æ²¡æœ‰è¢«æµè§ˆå™¨æ‰€æ”¯æŒï¼Œattr()å‡½æ•°çš„æ–°è¯­æ³•å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚å¦‚æœæµè§ˆå™¨æ”¯æŒattr()å‡½æ•°çš„æ–°è¯­æ³•ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä»»æ„HTMLè‡ªå®šä¹‰å±æ€§æ§åˆ¶å…ƒç´ çš„æ ·å¼</p><p><a href="https://demo.cssworld.cn/new/8/4-2.php">csså˜é‡Polyfill attr è¯­æ³•</a></p></blockquote><ul><li><h5 id="HTMLï¼š-6"><a href="#HTMLï¼š-6" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bgcolor</span>=<span class="string">&quot;skyblue&quot;</span> <span class="attr">radius</span>=<span class="string">&quot;4&quot;</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bgcolor</span>=<span class="string">&quot;#00000040&quot;</span> <span class="attr">radius</span>=<span class="string">&quot;1rem&quot;</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bgcolor</span>=<span class="string">&quot;red&quot;</span> <span class="attr">radius</span>=<span class="string">&quot;50%&quot;</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bgcolor</span>=<span class="string">&quot;orange&quot;</span> <span class="attr">radius</span>=<span class="string">&quot;100% / 50%&quot;</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-7"><a href="#CSSï¼š-7" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">button</span> &#123;</span><br><span class="line">    <span class="attr">--attr-bg</span>: <span class="built_in">attr</span>(bgcolor color);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">var</span>(--attr-bg);</span><br><span class="line">    <span class="attr">--attr-radius</span>: <span class="built_in">attr</span>(radius px, <span class="number">4px</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="built_in">var</span>(--attr-radius);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="ä¸°å¯Œçš„å›¾å½¢å¤„ç†"><a href="#ä¸°å¯Œçš„å›¾å½¢å¤„ç†" class="headerlink" title="ä¸°å¯Œçš„å›¾å½¢å¤„ç†"></a>ä¸°å¯Œçš„å›¾å½¢å¤„ç†</h2><h3 id="è¶…çº§å®ç”¨çš„CSSé®ç½©"><a href="#è¶…çº§å®ç”¨çš„CSSé®ç½©" class="headerlink" title="è¶…çº§å®ç”¨çš„CSSé®ç½©"></a>è¶…çº§å®ç”¨çš„CSSé®ç½©</h3><blockquote><p>CSSé®ç½©å±æ€§éå¸¸å®ç”¨ï¼Œå®ƒå¯ä»¥è®©ä¸€ä¸ªå…ƒç´ æŒ‰ç…§æŸå¼ å›¾åƒçš„è½®å»“æ˜¾ç¤ºã€‚æœ‰éå¸¸å¤šçš„å›¾å½¢è¡¨ç°æ•ˆæœåªèƒ½ä½¿ç”¨é®ç½©å®ç°ï¼Œå› æ­¤CSSé®ç½©åœ¨CSSä¸–ç•Œä¸­æœ‰ç€ç‹¬ä¸€æ— äºŒçš„åœ°ä½ã€‚</p></blockquote><h4 id="mask-imageå±æ€§çš„è¯¦ç»†ä»‹"><a href="#mask-imageå±æ€§çš„è¯¦ç»†ä»‹" class="headerlink" title="mask-imageå±æ€§çš„è¯¦ç»†ä»‹"></a>mask-imageå±æ€§çš„è¯¦ç»†ä»‹</h4><blockquote><p>mask-imageå±æ€§æ˜¯CSSé®ç½©ç¬¬ä¸€é˜¶æ®µå°±æ”¯æŒçš„CSSå±æ€§ï¼Œå…¼å®¹æ€§éå¸¸å¥½ï¼Œä½œç”¨æ˜¯è®¾ç½®ä½¿ç”¨é®ç½©æ•ˆæœçš„å›¾åƒã€‚è¿™é‡Œæœ‰ä¸€ç‚¹éœ€è¦è¯´æ˜ï¼Œè™½ç„¶æµè§ˆå™¨å¾ˆæ—©å°±æ”¯æŒmask-imageå±æ€§ï¼Œä½†æ˜¯åªæ”¯æŒæ˜¯éƒ¨åˆ†ä¼ ç»Ÿçš„å±æ€§å€¼ï¼Œä¾‹å¦‚url()å‡½æ•°ï¼Œå¾ˆå¤šæ–°ç‰¹æ€§æ˜¯ç¬¬äºŒé˜¶æ®µæ‰å‡ºæ¥çš„ï¼Œå¯èƒ½ä¼šæœ‰æµè§ˆå™¨ä¸æ”¯æŒçš„æƒ…å†µï¼Œè¿™ä¸€ç‚¹ä¼šåœ¨æ¥ä¸‹æ¥çš„å†…å®¹ä¸­æœ‰æ‰€ä½“ç°ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mask-image</span>: none | &lt;image&gt; | &lt;mask-source&gt;</span><br></pre></td></tr></table></figure><p>â— noneæ˜¯é»˜è®¤å€¼ï¼Œè¡¨ç¤ºé»˜è®¤æ— é®ç½©å›¾ç‰‡ã€‚</p><p>â— &lt;image&gt;è¡¨ç¤ºå›¾åƒæ•°æ®ç±»å‹ï¼ŒåŒ…æ‹¬CSSæ¸å˜å›¾åƒã€url()å‡½æ•°ã€image-set()å‡½æ•°ã€cross-fade()å‡½æ•°å’Œelement()å‡½æ•°ç­‰ã€‚</p><p>â— &lt;mask-source&gt;è¡¨ç¤ºé®ç½©å…ƒç´ ç±»å‹ï¼Œä¸»è¦æŒ‡SVGé®ç½©å…ƒç´ ã€‚</p><ol><li><p><a href="https://demo.cssworld.cn/new/12/1-1.php">å¸¦æœ‰åŠé€æ˜çš„PNGå›¾åƒçš„é®ç½©æ•ˆæœ</a></p><ul><li><h5 id="HTMLï¼š-7"><a href="#HTMLï¼š-7" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;nature-8.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mask-image&quot;</span> <span class="attr">width</span>=<span class="string">&quot;256&quot;</span> <span class="attr">height</span>=<span class="string">&quot;192&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-8"><a href="#CSSï¼š-8" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mask-image</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">mask</span>: no-repeat center / contain;</span><br><span class="line">    <span class="attribute">mask</span>: no-repeat center / contain;</span><br><span class="line">    -webkit-<span class="attribute">mask-image</span>: <span class="built_in">url</span>(<span class="string">../images/bird.png</span>);</span><br><span class="line">    <span class="attribute">mask-image</span>: <span class="built_in">url</span>(<span class="string">../images/bird.png</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><a href="https://demo.cssworld.cn/new/12/1-2.php">SVGå›¾å½¢é®ç½©æ•ˆæœå±•ç¤º</a></p><blockquote><p>é™¤äº†å¸¸è§çš„GIFã€PNGç­‰ä½å›¾å›¾ç‰‡ï¼ŒSVGçŸ¢é‡å›¾ç‰‡ä¹Ÿå¯ä»¥ä½œä¸ºmask-imageçš„é®ç½©å›¾åƒã€‚</p></blockquote><ul><li><h5 id="HTMLï¼š-8"><a href="#HTMLï¼š-8" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;8.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mask-image&quot;</span> <span class="attr">width</span>=<span class="string">&quot;256&quot;</span> <span class="attr">height</span>=<span class="string">&quot;174&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-9"><a href="#CSSï¼š-9" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mask-image</span> &#123;</span><br><span class="line">    <span class="attr">--svg</span>: <span class="built_in">url</span>(<span class="string">&quot;data:image/svg+xml,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 32 32&#x27;%3E%3Cpath d=&#x27;M28.027 5.161l-17.017 17.017-7.007-7.007-3.003 3.003 10.010 10.010 20.020-20.020z&#x27;%3E%3C/path%3E%3C/svg%3E&quot;</span>);</span><br><span class="line"></span><br><span class="line">    -webkit-<span class="attribute">mask-image</span>: <span class="built_in">var</span>(--svg);</span><br><span class="line">    <span class="attribute">mask-image</span>: <span class="built_in">var</span>(--svg);</span><br><span class="line"></span><br><span class="line">    -webkit-<span class="attribute">mask-repeat</span>: no-repeat;</span><br><span class="line">    <span class="attribute">mask-repeat</span>: no-repeat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><a href="https://demo.cssworld.cn/new/12/1-3.php">ç”¨æ¸å˜å›¾åƒå®ç°é®ç½©æ•ˆæœ</a></p><blockquote><p>åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨æ¸å˜å›¾åƒå®ç°é®ç½©æ•ˆæœæ˜¯æœ€å¸¸ç”¨çš„ï¼Œä¹Ÿæ˜¯æœ€å®ç”¨çš„ï¼Œå› ä¸ºæ­¤æ—¶çš„æ¸å˜å›¾åƒæ˜¯ä»£ç ç”Ÿæˆçš„ï¼Œç›¸æ¯”url()å‡½æ•°å¤–é“¾çš„å›¾åƒï¼Œå…¶èµ„æºå¼€é”€å°ï¼Œå¼€å‘æˆæœ¬ä½ï¼Œç»´æŠ¤æ›´åŠ æ–¹ä¾¿ã€‚</p></blockquote><ul><li><h5 id="HTMLï¼š-9"><a href="#HTMLï¼š-9" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mask-image&quot;</span> <span class="attr">width</span>=<span class="string">&quot;256&quot;</span> <span class="attr">height</span>=<span class="string">&quot;192&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-10"><a href="#CSSï¼š-10" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.mask-image</span> &#123;</span><br><span class="line">    <span class="attr">--gradient1</span>: <span class="built_in">radial-gradient</span>(<span class="number">600px</span> <span class="number">80px</span> at top, transparent <span class="number">150px</span>, black <span class="number">152px</span> <span class="number">1000px</span>, transparent <span class="number">0</span>);</span><br><span class="line">    <span class="attr">--gradient2</span>: <span class="built_in">radial-gradient</span>(<span class="number">600px</span> <span class="number">80px</span> at bottom, transparent <span class="number">150px</span>, black <span class="number">152px</span> <span class="number">1000px</span>, transparent <span class="number">0</span>);</span><br><span class="line">    -webkit-<span class="attribute">mask-image</span>: <span class="built_in">var</span>(--gradient1), <span class="built_in">var</span>(--gradient2);</span><br><span class="line">    <span class="attribute">mask-image</span>: <span class="built_in">var</span>(--gradient1), <span class="built_in">var</span>(--gradient2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li><li><p><a href="https://demo.cssworld.cn/new/12/1-4.php">SVGå›¾å½¢ä¸­&lt;mask&gt;å…ƒç´ ä½œä¸ºé®ç½©å›¾åƒ</a></p><blockquote><p>&lt;mask-source&gt;æ•°æ®ç±»å‹å¹¶ä¸å¸¸ç”¨ï¼Œæ—¥å¸¸å¼€å‘ä¸­è¿˜æ˜¯ä½¿ç”¨PNGå›¾åƒå’ŒSVGå›¾åƒæ›´æ–¹ä¾¿ã€‚ä½†è¿™å¹¶ä¸è¡¨ç¤º&lt;mask-source&gt;æ•°æ®ç±»å‹ä¸€æ— æ˜¯å¤„ï¼Œå®ƒæœ‰ä¸€ä¸ªä¸å¯æ›¿ä»£çš„å·¨å¤§ä¼˜åŠ¿ï¼Œå°±æ˜¯è®©IE9åœ¨å†…çš„æµè§ˆå™¨ä¹Ÿèƒ½å®ç°é®ç½©æ•ˆæœ</p></blockquote></li><li><p><a href="https://demo.cssworld.cn/new/12/1-6.php">å¤–é“¾SVGæ–‡ä»¶çš„&lt;mask&gt;å…ƒç´ ä½œä¸ºé®ç½©å…ƒç´ </a></p><blockquote><p>æ— è®ºæ˜¯æ™®é€šHTMLå…ƒç´ ï¼Œè¿˜æ˜¯SVGå…ƒç´ ï¼Œé®ç½©æ•ˆæœéƒ½åªä¼šåœ¨Firefoxæµè§ˆå™¨ä¸­å‡ºç°ï¼Œåœ¨IEæµè§ˆå™¨ã€Edgeæµè§ˆå™¨å’ŒChromeæµè§ˆå™¨ä¸­å‡æ— æ•ˆã€‚</p></blockquote></li><li><p><a href="https://demo.cssworld.cn/new/12/1-7.php">image-set()ã€cross-fade()æˆ–element()ä½œä¸ºé®ç½©å›¾åƒ</a></p><blockquote><p>æ‰€æœ‰&lt;image&gt;æ•°æ®ç±»å‹çš„å€¼éƒ½å¯ä»¥ä½œä¸ºé®ç½©å›¾åƒï¼Œè‡ªç„¶ä¹Ÿå°±åŒ…æ‹¬image-set()ã€cross-fade()å’Œelement()è¿™3ä¸ªå›¾åƒå‡½æ•°ã€‚</p></blockquote><ul><li><h5 id="HTMLï¼š-10"><a href="#HTMLï¼š-10" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>image-set()<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mask-image image-set&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>cross-fade()<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mask-image cross-fade&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span><span class="tag">&lt;<span class="name">span</span> <span class="attr">id</span>=<span class="string">&quot;title&quot;</span>&gt;</span>element()<span class="tag">&lt;/<span class="name">span</span>&gt;</span><span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mask-image element&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-11"><a href="#CSSï¼š-11" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.image-set</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">mask-image</span>: <span class="built_in">-webkit-image-set</span>(<span class="built_in">url</span>(<span class="string">bird.png</span>) <span class="number">1</span>x, <span class="built_in">url</span>(<span class="string">triangle.svg</span>) <span class="number">2</span>x);</span><br><span class="line">    <span class="attribute">mask-image</span>: <span class="built_in">image-set</span>(<span class="built_in">url</span>(<span class="string">bird.png</span>) <span class="number">1</span>x, <span class="built_in">url</span>(<span class="string">triangle.svg</span>) <span class="number">2</span>x);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.cross-fade</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">mask-image</span>: <span class="built_in">-webkit-cross-fade</span>(<span class="built_in">url</span>(<span class="string">bird.png</span>), <span class="built_in">url</span>(<span class="string">triangle.svg</span>), <span class="number">50%</span>);</span><br><span class="line">    <span class="attribute">mask-image</span>: <span class="built_in">cross-fade</span>(<span class="built_in">url</span>(<span class="string">bird.png</span>), <span class="built_in">url</span>(<span class="string">triangle.svg</span>), <span class="number">50%</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.element</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">mask-image</span>: <span class="built_in">-webkit-element</span>(#title);</span><br><span class="line">    <span class="attribute">mask-image</span>: <span class="built_in">-moz-element</span>(#title);</span><br><span class="line">    <span class="attribute">mask-image</span>: <span class="built_in">element</span>(#title);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ol><h4 id="mask-modeå±æ€§"><a href="#mask-modeå±æ€§" class="headerlink" title="mask-modeå±æ€§"></a>mask-modeå±æ€§</h4><blockquote><p>mask-modeå±æ€§çš„é»˜è®¤å€¼æ˜¯match-sourceï¼Œä½œç”¨æ˜¯æ ¹æ®èµ„æºçš„ç±»å‹è‡ªåŠ¨é‡‡ç”¨åˆé€‚çš„é®ç½©æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœé®ç½©æ•ˆæœä½¿ç”¨çš„æ˜¯SVGä¸­çš„&lt;mask&gt;å…ƒç´ ï¼Œåˆ™æ­¤æ—¶çš„mask-modeå±æ€§çš„è®¡ç®—å€¼æ˜¯<strong>luminanceï¼Œè¡¨ç¤ºåŸºäºäº®åº¦åˆ¤æ–­æ˜¯å¦è¦è¿›è¡Œé®ç½©</strong>ã€‚å¦‚æœæ˜¯å…¶ä»–åœºæ™¯ï¼Œåˆ™è®¡ç®—å€¼æ˜¯<strong>alphaï¼Œè¡¨ç¤ºåŸºäºé€æ˜åº¦åˆ¤æ–­æ˜¯å¦è¦è¿›è¡Œé®ç½©</strong></p><p>mask-mode:luminanceè®©JPGå›¾ç‰‡ä¹Ÿèƒ½æœ‰é®ç½©æ•ˆæœç¤ºæ„</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mask-mode</span>: match-source| luminance| alpha;</span><br></pre></td></tr></table></figure><blockquote><p>ç›®å‰ï¼Œä»…Firefoxæµè§ˆå™¨æ”¯æŒmask-modeå±æ€§ï¼ŒChromeæµè§ˆå™¨å¹¶ä¸æä¾›æ”¯æŒï¼Œä½†æ˜¯å¯ä»¥ä½¿ç”¨éæ ‡å‡†çš„mask-source-typeå±æ€§ä»£æ›¿ï¼ˆæ²¡æœ‰ç§æœ‰å‰ç¼€ï¼‰</p></blockquote><h4 id="mask-repeatå±æ€§"><a href="#mask-repeatå±æ€§" class="headerlink" title="mask-repeatå±æ€§"></a>mask-repeatå±æ€§</h4><blockquote><p>mask-repeatå±æ€§çš„é»˜è®¤å€¼æ˜¯repeatï¼Œä½œç”¨ç±»ä¼¼äºbackground-repeatå±æ€§ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mask-repeat</span>: repeat-x| repeat-y| repeat| no-repeat| space| round;</span><br></pre></td></tr></table></figure><p>mask-imageæ”¯æŒå¤šé®ç½©å›¾ç‰‡ï¼Œå› æ­¤mask-repeatä¹Ÿæ”¯æŒå¤šå±æ€§å€¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mask-repeat</span>: round repeat, space, repeat-x;</span><br></pre></td></tr></table></figure><p>â— spaceä¸backgroundå±æ€§ä¸­çš„spaceçš„å«ä¹‰æ˜¯ç±»ä¼¼çš„ï¼Œè¡¨ç¤ºé®ç½©å›¾ç‰‡å°½å¯èƒ½åœ°å¹³é“ºï¼ŒåŒæ—¶ä¸è¿›è¡Œä»»ä½•å‰ªè£ã€‚</p><p>â— roundè¡¨ç¤ºé®ç½©å›¾ç‰‡å°½å¯èƒ½é åœ¨ä¸€èµ·ï¼Œæ²¡æœ‰ä»»ä½•é—´éš™ï¼ŒåŒæ—¶ä¸è¿›è¡Œä»»ä½•å‰ªè£ã€‚è¿™æ„å‘³ç€å›¾ç‰‡å¯èƒ½ä¼šäº§ç”Ÿç¼©æ”¾æ•ˆæœã€‚</p><h4 id="mask-positionå±æ€§"><a href="#mask-positionå±æ€§" class="headerlink" title="mask-positionå±æ€§"></a>mask-positionå±æ€§</h4><blockquote><p>mask-positionå’Œbackground-positionæ”¯æŒçš„å±æ€§å€¼å’Œå±æ€§å€¼çš„è¡¨ç°åŸºæœ¬ä¸Šéƒ½æ˜¯ä¸€æ ·çš„ã€‚ä¾‹å¦‚ï¼Œmask-positionçš„é»˜è®¤è®¡ç®—å€¼æ˜¯0% 0%ï¼Œä¹Ÿå°±æ˜¯ç›¸å¯¹å·¦ä¸Šè§’å®šä½ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mask-position</span>: top;</span><br><span class="line"><span class="attribute">mask-position</span>: right top;</span><br><span class="line"><span class="attribute">mask-position</span>: <span class="number">30%</span> <span class="number">50%</span>;</span><br><span class="line"><span class="attribute">mask-position</span>: top <span class="number">20px</span> left <span class="number">20px</span>;</span><br><span class="line"><span class="attribute">mask-position</span>: top, center;<span class="comment">/* å¤šå±æ€§ */</span></span><br></pre></td></tr></table></figure><h4 id="mask-clipå±æ€§"><a href="#mask-clipå±æ€§" class="headerlink" title="mask-clipå±æ€§"></a>mask-clipå±æ€§</h4><blockquote><p>mask-clipå±æ€§ç”¨æ¥è®¾ç½®é®ç½©æ•ˆæœæ˜¾ç¤ºçš„ç›’å­åŒºåŸŸã€‚</p><p>mask-clipçš„å‡ ä¸ªå±æ€§å€¼ä¸­æ¯”è¾ƒæœ‰å®ç”¨ä»·å€¼çš„æ˜¯border-boxã€padding-boxå’Œcontent-boxè¿™3ä¸ªå…³é”®å­—çš„å±æ€§å€¼ï¼ŒåŸå› å¾ˆç®€å•â€”â€”Chromeæµè§ˆå™¨ä»…æ”¯æŒè¿™3ä¸ªå…³é”®å­—ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mask-clip</span>: border-box| padding-box| content-box| no-clip| fill-box| fill-box| stroke-box| view-box;</span><br></pre></td></tr></table></figure><ul><li><p>no-clip</p><p>  mask-clipå±æ€§æ”¯æŒä¸€ä¸ªåä¸ºno-clipçš„å±æ€§å€¼ï¼Œæˆ‘ä¸ªäººè§‰å¾—è¿™ä¸ªå€¼çš„æ•ˆæœè¿˜æ˜¯å¾ˆç¨€å¥‡çš„ï¼Œå®ƒçš„ä½œç”¨æ˜¯ä¸å¯¹å…ƒç´ çš„é®ç½©æ•ˆæœåšåŒºåŸŸä¸Šçš„é™åˆ¶ï¼Œè¨€å¤–ä¹‹æ„å°±æ˜¯åªè¦æ˜¯å…ƒç´ èº«ä¸Šâ€œé•¿å‡ºæ¥â€çš„ä¸œè¥¿ï¼Œéƒ½å¯ä»¥åº”ç”¨é®ç½©æ•ˆæœã€‚ä¾‹å¦‚ï¼Œè½®å»“ï¼ˆoutlineï¼‰ã€ç›’é˜´å½±ï¼ˆbox-shadowï¼‰éƒ½æ˜¯å¯ä»¥åº”ç”¨é®ç½©æ•ˆæœçš„ã€‚</p></li></ul><h4 id="å…³äºfill-boxã€stroke-boxå’Œview-box"><a href="#å…³äºfill-boxã€stroke-boxå’Œview-box" class="headerlink" title="å…³äºfill-boxã€stroke-boxå’Œview-box"></a>å…³äºfill-boxã€stroke-boxå’Œview-box</h4><blockquote><p>fill-boxã€stroke-boxå’Œview-boxè¿™3ä¸ªå…³é”®å­—å±æ€§å€¼è¦åº”ç”¨åœ¨SVGå…ƒç´ ä¸Šæ‰æœ‰æ•ˆæœã€‚</p></blockquote><p>â— fill-boxè¡¨ç¤ºé®ç½©åº”ç”¨çš„åŒºåŸŸæ˜¯å›¾å½¢å¡«å……åŒºåŸŸå½¢æˆçš„è¾¹ç•Œç›’å­</p><p>â— stroke-boxè¡¨ç¤ºçš„é®ç½©åŒºåŸŸæŠŠæè¾¹å æ®çš„åŒºåŸŸä¹ŸåŒ…å«åœ¨å†…ã€‚</p><p>â— view-boxè¡¨ç¤ºä½¿ç”¨æœ€è¿‘çš„SVGè§†å£ä½œä¸ºå‚è€ƒç›’å­ã€‚å¦‚æœSVGä»£ç ä¸­çš„viewBoxå±æ€§æœ‰è®¾ç½®ï¼Œåˆ™é®ç½©åŒºåŸŸç›’å­ä½äºviewBoxå±æ€§å»ºç«‹çš„åæ ‡ç³»çš„åŸç‚¹ï¼Œå°ºå¯¸ç”±viewBoxå±æ€§ä¸­çš„å®½é«˜å€¼å†³å®šã€‚</p><p><a href="https://demo.cssworld.cn/new/12/1-8.php">æ•ˆæœå±•ç¤º</a></p><h4 id="mask-originå±æ€§"><a href="#mask-originå±æ€§" class="headerlink" title="mask-originå±æ€§"></a>mask-originå±æ€§</h4><blockquote><p>mask-originå±æ€§è¡¨ç¤ºé®ç½©æ•ˆæœèµ·å§‹ç‚¹ï¼Œå…¶ä¸background-originæœ‰å¾ˆå¤šç±»ä¼¼ä¹‹å¤„ã€‚ä¹Ÿæ”¯æŒå¤šå±æ€§</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mask-origin</span>: content-box| padding-box| border-box| fill-box| stroke-box| view-box;</span><br></pre></td></tr></table></figure><h4 id="mask-sizeå±æ€§"><a href="#mask-sizeå±æ€§" class="headerlink" title="mask-sizeå±æ€§"></a>mask-sizeå±æ€§</h4><blockquote><p>mask-sizeå±æ€§çš„æ€§è´¨å’Œbackground-sizeå±æ€§ç±»ä¼¼ï¼Œæ”¯æŒçš„å…³é”®å­—å±æ€§å€¼ä¹Ÿç±»ä¼¼ï¼Œä½œç”¨æ˜¯æ§åˆ¶é®ç½©å›¾ç‰‡å°ºå¯¸.æ”¯æŒå¤šå±æ€§</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mask-size</span>: cover| contain;</span><br><span class="line"></span><br><span class="line"><span class="attribute">mask-size</span>: <span class="number">50%</span> auto;</span><br><span class="line"><span class="attribute">mask-size</span>: <span class="number">3em</span> <span class="number">25%</span>;</span><br><span class="line"><span class="attribute">mask-size</span>: auto <span class="number">6px</span>;</span><br></pre></td></tr></table></figure><h4 id="mask-typeå±æ€§"><a href="#mask-typeå±æ€§" class="headerlink" title="mask-typeå±æ€§"></a>mask-typeå±æ€§</h4><blockquote><p>mask-typeå±æ€§çš„åŠŸèƒ½å’Œmask-modeå±æ€§ç±»ä¼¼ï¼Œéƒ½æ˜¯è®¾ç½®ä¸åŒçš„é®ç½©æ¨¡å¼ï¼Œä½†è¿˜æ˜¯æœ‰ä¸€ä¸ªå¾ˆå¤§çš„åŒºåˆ«ï¼Œå°±æ˜¯mask-typeå±æ€§åªèƒ½ä½œç”¨åœ¨SVGå…ƒç´ ä¸Š</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mask-type</span>: alpha| luminance;</span><br></pre></td></tr></table></figure><h4 id="mask-compositeå±æ€§"><a href="#mask-compositeå±æ€§" class="headerlink" title="mask-compositeå±æ€§"></a>mask-compositeå±æ€§</h4><blockquote><p>mask-compositeå±æ€§è¡¨ç¤ºåŒæ—¶ä½¿ç”¨å¤šå¼ å›¾ç‰‡è¿›è¡Œé®ç½©æ—¶çš„åˆæˆæ–¹å¼</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">mask-composite</span>: add| subtract| intersect| exclude;</span><br></pre></td></tr></table></figure><p>â— addè¡¨ç¤ºé®ç½©ç´¯åŠ ï¼Œæ˜¯é»˜è®¤å€¼ã€‚</p><p>â— subtractè¡¨ç¤ºé®ç½©ç›¸å‡ï¼Œä¹Ÿå°±æ˜¯é®ç½©å›¾ç‰‡é‡åˆçš„åŒºåŸŸä¸æ˜¾ç¤ºã€‚è¿™å°±æ„å‘³ç€ï¼Œé®ç½©å›¾ç‰‡è¶Šå¤šï¼Œé®ç½©åŒºåŸŸè¶Šå°ã€‚</p><p>â— intersectè¡¨ç¤ºé®ç½©ç›¸äº¤ï¼Œä¹Ÿå°±æ˜¯é®ç½©å›¾ç‰‡é‡åˆçš„åŒºåŸŸæ‰æ˜¾ç¤ºé®ç½©ã€‚</p><p>â— excludeè¡¨ç¤ºé®ç½©æ’é™¤ï¼Œä¹Ÿå°±æ˜¯é®ç½©å›¾ç‰‡é‡åˆçš„åŒºåŸŸè¢«å½“ä½œé€æ˜çš„ã€‚</p><p><a href="https://demo.cssworld.cn/new/12/1-9.php">æ•ˆæœå±•ç¤º</a></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mask-image&quot;</span>&gt;</span> </span><br><span class="line">.mask-image &#123;</span><br><span class="line">    mask: url(https://res.weread.qq.com/wrepub/web/40870013/bird.png) no-repeat center / contain, linear-gradient(black, black);</span><br><span class="line">    webkit-mask-composite: xor;</span><br><span class="line">    mask-composite: exclude; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="CSSé®ç½©çš„ä¸€äº›ç»å…¸åº”ç”¨ç¤ºä¾‹"><a href="#CSSé®ç½©çš„ä¸€äº›ç»å…¸åº”ç”¨ç¤ºä¾‹" class="headerlink" title="CSSé®ç½©çš„ä¸€äº›ç»å…¸åº”ç”¨ç¤ºä¾‹"></a>CSSé®ç½©çš„ä¸€äº›ç»å…¸åº”ç”¨ç¤ºä¾‹</h4><p><a href="https://demo.cssworld.cn/new/12/1-10.php">PNG/SVGèƒŒæ™¯å›¾æ ‡å˜è‰²æœ€ä½³å®è·µ</a></p><ul><li><h5 id="HTMLï¼š-11"><a href="#HTMLï¼š-11" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:&quot;</span> <span class="attr">id</span>=<span class="string">&quot;buttonDelete&quot;</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;icon-delete&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> åˆ é™¤<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-12"><a href="#CSSï¼š-12" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.icon-delete</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span>; <span class="attribute">height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: currentColor;</span><br><span class="line">    <span class="attr">--mask</span>: <span class="built_in">url</span>(<span class="string">/images/8/delete@2x.png</span>) no-repeat center / <span class="number">1.125em</span> <span class="number">1.125em</span>;</span><br><span class="line">    -webkit-<span class="attribute">mask</span>: <span class="built_in">var</span>(--mask);</span><br><span class="line">    <span class="attribute">mask</span>: <span class="built_in">var</span>(--mask);</span><br><span class="line"></span><br><span class="line">    <span class="attribute">vertical-align</span>: -<span class="number">4px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>è™½è¯´æ˜¯æœ€ä½³å®è·µï¼Œä½†æ˜¯ä¸Šé¢çš„ä»£ç å¹¶ä¸æ˜¯å®Œç¾çš„ï¼Œå› ä¸ºåº”ç”¨é®ç½©çš„å½“å‰å…ƒç´ çš„outlineæ•ˆæœä¼šå¤±å»ï¼Œè¿™å¯¹äºæ— éšœç¢è®¿é—®æ˜¯æœ‰å½±å“çš„ï¼Œè§£å†³æ–¹æ³•æ˜¯å°†å›¾æ ‡é®ç½©çš„æ‰§è¡Œæ”¾åœ¨ä¼ªå…ƒç´ ä¸­ï¼Œä¹Ÿå°±æ˜¯åœ¨.icon-delete::before{}è¯­å¥ä¸­åº”ç”¨é®ç½©æ•ˆæœï¼Œè¿™æ ·ï¼Œ.icon-deleteå…ƒç´ ä¾ç„¶å¯ä»¥æœ‰outlineè½®å»“æ•ˆæœã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/12/1-11.php">å¤§å°ºå¯¸PNGå›¾ç‰‡çš„å°ºå¯¸ä¼˜åŒ–</a></p><ul><li><h5 id="HTMLï¼š-12"><a href="#HTMLï¼š-12" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;leaf.jpg&quot;</span> <span class="attr">width</span>=<span class="string">&quot;300&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-13"><a href="#CSSï¼š-13" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attr">--mask-url</span>: <span class="built_in">url</span>(<span class="string">leaf-mask.png</span>);</span><br><span class="line">    -webkit-<span class="attribute">mask-image</span>: <span class="built_in">var</span>(--mask-url);</span><br><span class="line">    <span class="attribute">mask-image</span>: <span class="built_in">var</span>(--mask-url);</span><br><span class="line">    -webkit-<span class="attribute">mask-size</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">mask-size</span>: <span class="number">300px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>PNGå›¾ç‰‡çš„æ–‡ä»¶å¤§å°ä¹‹æ‰€ä»¥å¤§ï¼Œå°±æ˜¯å› ä¸ºå…¶è‰²å½©è¿‡äºä¸°å¯Œï¼Œå¦‚æœæŠŠå›¾ç‰‡å˜æˆçº¯è‰²ï¼Œå›¾ç‰‡æ–‡ä»¶å¤§å°å¯ä»¥é™ä½å¾ˆå¤š</p><p>å•çº¯ç”¨png(259K),è½¬æˆjpg(55.6),åˆ¶ä½œpngçº¯è‰²å›¾ç‰‡ï¼ˆ4Kï¼‰,ç”±äºé®ç½©å›¾åƒçš„è§£ææœ‰è·¨åŸŸçš„é™åˆ¶ï¼Œå› æ­¤ï¼Œå¤§å°ä¸è¶³5KBçš„çº¯è‰²çš„PNGèƒŒæ™¯é®ç½©å›¾åƒå¯ä»¥ç›´æ¥è½¬æ¢ä¸ºBase64æ ¼å¼å¹¶å†…è”åœ¨CSSæ–‡ä»¶ä¸­</p></blockquote><h4 id="webkit-mask-box-imageå’Œmask-borderå±æ€§"><a href="#webkit-mask-box-imageå’Œmask-borderå±æ€§" class="headerlink" title="-webkit-mask-box-imageå’Œmask-borderå±æ€§"></a>-webkit-mask-box-imageå’Œmask-borderå±æ€§</h4><blockquote><p>-webkit-mask-box-imageå’Œmask-borderå±æ€§å®ç°çš„éƒ½æ˜¯è¾¹æ¡†é®ç½©æ•ˆæœã€‚å®ƒä»¬ä¹‹é—´çš„åŒºåˆ«æœ‰ä»¥ä¸‹å‡ ç‚¹ã€‚</p></blockquote><p>â— è¯­æ³•ç»†èŠ‚ä¸åŒã€‚ä¾‹å¦‚ï¼Œ-webkit-mask-box-imageçš„å±æ€§å€¼ä½¿ç”¨ç©ºæ ¼åˆ†éš”ï¼Œä¸ä¼šç”¨åˆ°æ–œæ ï¼Œè€Œmask-borderå±æ€§æ˜¯å¤šä¸ªCSSå±æ€§çš„ç¼©å†™ï¼Œä¼šä½¿ç”¨æ–œæ è¿›è¡Œå±æ€§å€¼çš„åŒºåˆ†ã€‚</p><p>â— -webkit-mask-box-imageæ˜¯éæ ‡å‡†CSSå±æ€§ï¼Œmask-borderæ˜¯æ ‡å‡†CSSå±æ€§ã€‚</p><p>â— -webkit-mask-box-imageå±æ€§åœ¨webkitå†…æ ¸æµè§ˆå™¨ä¸­å…¼å®¹æ€§æä½³ï¼Œå› æ­¤ï¼Œåœ¨ç§»åŠ¨ç«¯é¡¹ç›®å¯ä»¥æ”¾å¿ƒå¤§èƒ†ä½¿ç”¨ï¼›è€Œmask-borderå±æ€§åœ¨æˆ‘ä¹¦å†™è¿™æ®µå†…å®¹çš„æ—¶å€™è¿˜æ²¡æœ‰è¢«ä»»ä½•æµè§ˆå™¨æ”¯æŒï¼Œæš‚æ— å®ç”¨ä»·å€¼ã€‚</p><h4 id="webkit-mask-box-imageå±æ€§"><a href="#webkit-mask-box-imageå±æ€§" class="headerlink" title="-webkit-mask-box-imageå±æ€§"></a>-webkit-mask-box-imageå±æ€§</h4><blockquote><p>backgroundå’Œmaskæœ‰å¾ˆå¤šç›¸ä¼¼ä¹‹å¤„ï¼Œä¸€ä¸ªæ˜¯èƒŒæ™¯å›¾åƒï¼Œå¦ä¸€ä¸ªæ˜¯èƒŒæ™¯é®ç½©ã€‚åŒæ ·ï¼Œè¿™é‡Œçš„-webkit-mask-box-imageå±æ€§å’Œborder-imageå±æ€§ä¹Ÿæ˜¯è¿™ç§å…³ç³»ï¼Œborder-imageå±æ€§è¡¨ç¤ºè¾¹æ¡†å›¾åƒï¼Œè€Œ-webkit-mask-box-imageå±æ€§åˆ™è¡¨ç¤ºè¾¹æ¡†é®ç½©ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-webkit-<span class="attribute">mask</span>-box-image: none;</span><br><span class="line">-webkit-<span class="attribute">mask</span>-box-image: &lt;mask-box-image&gt; [&lt;top&gt; &lt;right&gt; &lt;bottom&gt; &lt;left&gt; &lt;x-repeat&gt; &lt;y-repeat&gt;]</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/12/1-12.php">å°ºå¯¸ä»»æ„æ¸å˜æç¤ºæ¡†æ•ˆæœ</a></p><h4 id="mask-borderå±æ€§"><a href="#mask-borderå±æ€§" class="headerlink" title="mask-borderå±æ€§"></a>mask-borderå±æ€§</h4><blockquote><p>è™½ç„¶ç›®å‰mask-borderå±æ€§çš„å…¼å®¹æ€§ä¸å¥½ï¼Œä½†æ˜¯å®ƒæ¯•ç«Ÿæ˜¯CSSè§„èŒƒå±æ€§ï¼Œæ˜¯æœªæ¥ä¹‹æ˜Ÿã€‚mask-borderå±æ€§å’Œborder-imageå±æ€§åœ¨è¯­æ³•ä¸Šæä¸ºç›¸ä¼¼ã€‚é¦–å…ˆï¼Œmask-borderå±æ€§ä¹Ÿæ˜¯ä»¥ä¸‹å¤šä¸ªCSSå±æ€§çš„ç¼©å†™ï¼š</p><p>â— mask-border-modeï¼›</p><p>æ”¯æŒalphaå’Œluminanceè¿™ä¸¤ä¸ªå…³é”®å­—å±æ€§å€¼</p><p>â— mask-border-outsetï¼›</p><p>è¡¨ç¤ºè¾¹æ¡†é®ç½©æ•ˆæœå‘å¤–åç§»çš„å¤§å°ï¼Œæ”¯æŒé•¿åº¦å€¼å’Œæ•°å€¼ï¼Œå¦‚æœå€¼æ˜¯æ•°å€¼ï¼Œåˆ™è¡¨ç¤ºè¾¹æ¡†å®½åº¦border-widthå±æ€§å€¼çš„å€æ•°</p><p>â— mask-border-repeatï¼›</p><p>è¡¨ç¤ºé®ç½©å›¾åƒçš„å¹³é“ºæ–¹å¼ï¼Œæ”¯æŒstretchã€repeatã€roundã€spaceç­‰å…³é”®å­—å±æ€§å€¼</p><p>â— mask-border-sliceï¼›</p><p>è¡¨ç¤ºå¯¹é®ç½©å›¾åƒè¿›è¡Œä¹å®«æ ¼åˆ’åˆ†çš„æ–¹å¼ï¼Œæ”¯æŒ4ä¸ªæ–¹ä½çš„åˆ’åˆ†</p><p>â— mask-border-sourceï¼›</p><p>æ”¯æŒä»»æ„çš„&lt;image&gt;æ•°æ®ç±»å‹çš„å›¾åƒï¼Œå¸¸è§çš„æœ‰url()å›¾åƒå’Œæ¸å˜å›¾åƒ</p><p>â— mask-border-widthã€‚</p></blockquote><h3 id="å®ç”¨çš„CSSå‰ªè£å±æ€§clip-path"><a href="#å®ç”¨çš„CSSå‰ªè£å±æ€§clip-path" class="headerlink" title="å®ç”¨çš„CSSå‰ªè£å±æ€§clip-path"></a>å®ç”¨çš„CSSå‰ªè£å±æ€§clip-path</h3><blockquote><p>clip-pathå±æ€§å¯ä»¥ç”¨æ¥å¯¹ä»»æ„å…ƒç´ çš„å¯è§†åŒºåŸŸè¿›è¡Œå‰ªè£ã€‚</p><p>ç›¸æ¯”CSS2.1ä¸­çš„clipå±æ€§ï¼Œclip-pathå±æ€§ä¸éœ€è¦å°†å…ƒç´ è®¾ç½®ä¸ºç»å¯¹å®šä½å°±èƒ½ç”Ÿæ•ˆï¼Œå¹¶ä¸”å‰ªè£çš„å½¢çŠ¶ç±»å‹è¦è¿œæ¯”clipå±æ€§ä¸°å¯Œå¾—å¤šã€‚clipå±æ€§åªèƒ½è¿›è¡ŒçŸ©å½¢å‰ªè£ï¼Œè€Œclip-pathå±æ€§ä¸ä»…å¯ä»¥è¿›è¡ŒçŸ©å½¢å‰ªè£ï¼Œåœ†å½¢ã€å¤šè¾¹å½¢å’Œä¸è§„åˆ™å½¢çŠ¶éƒ½æ˜¯å¯ä»¥å‰ªè£çš„ã€‚</p><p>åŒæ—¶clip-pathå±æ€§æ˜¯CSSæ–°ç‰¹æ€§ä¸­å…¼å®¹æ€§éå¸¸å¥½çš„å‡ ä¸ªCSSå±æ€§ä¹‹ä¸€ï¼ŒiOS 7å’ŒAndroid 4.4è¿™äº›éå¸¸å¤è€çš„æ‰‹æœºç³»ç»Ÿéƒ½æ”¯æŒclip-pathå±æ€§ï¼Œå› æ­¤åœ¨ç§»åŠ¨ç«¯é¡¹ç›®ä¸­å¯ä»¥æ”¾å¿ƒä½¿ç”¨clip-pathå±æ€§ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* å…³é”®å­—å±æ€§å€¼ */</span></span><br><span class="line"><span class="attribute">clip-path</span>: none;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* &lt;clip-source&gt; å€¼ç±»å‹ èµ„æºå‰ªè£ */</span> </span><br><span class="line"><span class="attribute">clip-path</span>: <span class="built_in">url</span>(<span class="string">resources.svg#someId</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* &lt;geometry-box&gt; å€¼ç±»å‹ ç›’å­å‰ªè£ */</span></span><br><span class="line"><span class="attribute">clip-path</span>: margin-box;</span><br><span class="line"><span class="attribute">clip-path</span>: border-box;</span><br><span class="line"><span class="attribute">clip-path</span>: padding-box;</span><br><span class="line"><span class="attribute">clip-path</span>: content-box;</span><br><span class="line"><span class="attribute">clip-path</span>: fill-box;</span><br><span class="line"><span class="attribute">clip-path</span>: stroke-box;</span><br><span class="line"><span class="attribute">clip-path</span>: view-box;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* &lt;basic-shape&gt; å€¼ç±»å‹ åŸºæœ¬å›¾å½¢å‰ªè£ */</span></span><br><span class="line"><span class="attribute">clip-path</span>: <span class="built_in">inset</span>(<span class="number">100px</span> <span class="number">50px</span>);</span><br><span class="line"><span class="attribute">clip-path</span>: <span class="built_in">circle</span>(<span class="number">50px</span> at <span class="number">0</span> <span class="number">100px</span>);</span><br><span class="line"><span class="attribute">clip-path</span>: <span class="built_in">polygon</span>(<span class="number">50%</span> <span class="number">0%</span>, <span class="number">100%</span> <span class="number">50%</span>, <span class="number">50%</span> <span class="number">100%</span>, <span class="number">0%</span> <span class="number">50%</span>);</span><br><span class="line"><span class="attribute">clip-path</span>: <span class="built_in">path</span>(<span class="string">&#x27;M0.5,1 C0.5,1,0,0.7,0,0.3 A0.25,0.25,1,1,1,0.5,0.3 </span></span><br><span class="line"><span class="string">A0.25,0.25,1,1,1,1,0.3 C1,0.7,0.5,1,0.5,1 Z&#x27;</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ï¼ˆ1ï¼‰å¯¹äºâ€œèµ„æºå‰ªè£â€ï¼ŒChromeæµè§ˆå™¨ä»…æ”¯æŒä½¿ç”¨å†…è”SVGå…ƒç´ è¿›è¡Œå‰ªè£ï¼Œä¸æ”¯æŒå¼•ç”¨å¤–é“¾SVGå…ƒç´ è¿›è¡Œå‰ªè£</p><p>ï¼ˆ2ï¼‰å¯¹äºâ€œç›’å­å‰ªè£â€ï¼Œæ‰€æœ‰å€¼éƒ½ä¸è¢«Chromeæµè§ˆå™¨æ”¯æŒã€‚</p><h4 id="èµ„æºè£å‰ª"><a href="#èµ„æºè£å‰ª" class="headerlink" title="èµ„æºè£å‰ª"></a><strong>èµ„æºè£å‰ª</strong></h4><p><a href="https://demo.cssworld.cn/new/12/2-1.php">SVGèµ„æºè£å‰ªæ•ˆæœ</a></p><p><a href="https://demo.cssworld.cn/new/12/2-2.php">ä½¿ç”¨ClipPath SpritesæŠ€æœ¯å®ç°çš„å°å›¾æ ‡æ•ˆæœ</a></p><blockquote><p>é‚£å°±æ˜¯å†…è”çš„SVGå…ƒç´ ä¸èƒ½ä½¿ç”¨display:noneæˆ–è€…visibility:hiddenè¿›è¡Œéšè—ï¼Œå¦åˆ™å‰ªè£å…ƒç´ ä¼šè¢«éšè—ï¼Œå¹¶ä¸”æ­¤æŠ€æœ¯åªé€‚åˆå¡«å……æ¨¡å¼çš„å°å›¾æ ‡ï¼Œä¸é€‚åˆæè¾¹å°å›¾æ ‡ã€‚</p></blockquote><h4 id="ç›’å­è£å‰ª"><a href="#ç›’å­è£å‰ª" class="headerlink" title="ç›’å­è£å‰ª"></a><strong>ç›’å­è£å‰ª</strong></h4><blockquote><p>ç›’å­å‰ªè£åªéœ€è¦å…³å¿ƒmargin-boxã€border-boxã€padding-boxå’Œcontent-boxè¿™å‡ ä¸ªç›’å­ç±»å‹å³å¯ã€‚fill-boxã€stroke-boxå’Œview-boxè¿™3ä¸ªç›’å­ç±»å‹éœ€è¦å’ŒSVGå…ƒç´ é…åˆä½¿ç”¨ï¼Œåœ¨å®é™…å¼€å‘ä¸­ç”¨åˆ°çš„æ¦‚ç‡è¾ƒå°</p></blockquote><p><a href="https://demo.cssworld.cn/new/12/2-3.php">clip-path &lt;geometry-box&gt;å€¼å¯¹æ¯”å®ä¾‹é¡µé¢</a></p><h4 id="åŸºæœ¬å›¾å½¢å‰ªè£"><a href="#åŸºæœ¬å›¾å½¢å‰ªè£" class="headerlink" title="åŸºæœ¬å›¾å½¢å‰ªè£"></a><strong>åŸºæœ¬å›¾å½¢å‰ªè£</strong></h4><blockquote><p>åŸºæœ¬å›¾å½¢å‰ªè£æ˜¯clip-pathå±æ€§é«˜é¢‘ä½¿ç”¨çš„ä¸€ç§å‰ªè£æ–¹å¼ï¼Œå…¶å¯ä»¥å®ç°å‰ªè£æ•ˆæœçš„åŸºæœ¬å½¢çŠ¶å‡½æ•°åŒ…æ‹¬inset()ã€circle()ã€ellipse()ã€polygon()å’Œpath()ã€‚</p></blockquote><ul><li><p>inset()å‡½æ•°</p><p>  è¯­æ³•ä¸ clip çš„ rect()å‡½æ•°ç±»ä¼¼ï¼Œä½†æ˜¯æ›´å¼ºå¤§.å‰ªåˆ‡ä¾¿å®œæ”¯æŒå››ä¸ªæ–¹å‘ï¼Œè¿˜æ”¯æŒå››ä¸ªåå‘åœ†è§’ %å€¼ç­‰</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">inset(&lt;length-percentage&gt;&#123;<span class="number">1</span>,<span class="number">4</span>&#125; round &lt;&#x27;<span class="attribute">border-radius</span>&#x27;&gt;);</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line"><span class="comment">/* åç§»å¤§å°15%ï¼Œåœ†è§’å¤§å°10% 50% 10% 50%*/</span></span><br><span class="line">clip-path: <span class="built_in">inset</span>(<span class="number">15%</span> round <span class="number">10%</span> <span class="number">50%</span> <span class="number">10%</span> <span class="number">50%</span>);</span><br></pre></td></tr></table></figure></li><li><p>circle()å‡½æ•°</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">circle( <span class="selector-attr">[ &lt;shape-radius&gt; ]</span>? <span class="selector-attr">[ at &lt;position&gt; ]</span>? )</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">clip-path: <span class="built_in">circle</span>(<span class="number">40%</span> at right <span class="number">10%</span> bottom <span class="number">10%</span>);</span><br></pre></td></tr></table></figure></li><li><p>ellipse()å‡½æ•°</p><blockquote><p>å‰ªè£æ¤­åœ†å½¢çŠ¶,ä¸circleç›¸æ¯”å¤šäº†ä¸€ä¸ªåŠå¾„å‚æ•°</p></blockquote>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">ellipse( <span class="selector-attr">[ &lt;shape-radius&gt;&#123;2&#125; ]</span>? <span class="selector-attr">[ at &lt;position&gt; ]</span>? )</span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">img &#123;</span><br><span class="line">    <span class="attribute">clip-path</span>: <span class="built_in">ellipse</span>(<span class="number">30%</span> <span class="number">50%</span> at <span class="number">75%</span> <span class="number">50%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>polygon()å‡½æ•°</p><blockquote><p>ä½¿ç”¨é¢‘ç‡æœ€å¤šï¼Œè¯­æ³•ç®€å•åŠŸèƒ½å¼ºå¤§ï¼Œå¯ä»¥æœ‰å¾ˆå¤šè¡ç”Ÿçš„åº”ç”¨ã€‚</p></blockquote>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">polygon( &lt;fill-rule&gt;? , <span class="selector-attr">[ x, y ]</span># )</span><br></pre></td></tr></table></figure><p>  <a href="https://demo.cssworld.cn/new/12/2-4.php">å®ç°æ¸å˜æç¤ºæ¡†</a></p><p>  å®ç°åŒä¸‰è§’å›¾æ ‡</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.double-triangle</span> &#123;</span><br><span class="line">    <span class="attribute">clip-path</span>: <span class="built_in">polygon</span>(<span class="number">5px</span> <span class="number">10px</span>, <span class="number">16px</span> <span class="number">3px</span>, <span class="number">16px</span> <span class="number">10px</span>, <span class="number">26px</span> <span class="number">10px</span>, <span class="number">26px</span> <span class="number">3px</span>, <span class="number">37px</span> <span class="number">10px</span>, </span><br><span class="line"><span class="number">26px</span> <span class="number">17px</span>, <span class="number">26px</span> <span class="number">10px</span>, <span class="number">16px</span> <span class="number">10px</span>, <span class="number">16px</span> <span class="number">17px</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>path()å‡½æ•°</p><blockquote><p>å¯ä»¥å‰ªè£å‡ºä»»æ„å›¾å½¢æ•ˆæœï¼Œæ˜¯ä¸€ä¸ªåŠŸèƒ½éå¸¸å¼ºå¤§çš„å‰ªè£å‡½æ•°ï¼Œå…¶ä»–æ‰€æœ‰åŸºæœ¬å½¢çŠ¶å‡½æ•°éƒ½å¯ä»¥ä½¿ç”¨path()å‡½æ•°è¡¨ç¤º</p></blockquote><p>  <a href="https://demo.cssworld.cn/new/12/2-5.php">å®ç°å›¾æ ‡å˜åŒ–æ•ˆæœ</a></p><ul><li><h5 id="HTMLï¼š-13"><a href="#HTMLï¼š-13" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;icon-arrow&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-14"><a href="#CSSï¼š-14" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.icon-arrow</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">32px</span>; <span class="attribute">height</span>: <span class="number">32px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(<span class="number">45deg</span>, deepskyblue, deeppink);</span><br><span class="line">    <span class="attribute">clip-path</span>: <span class="built_in">path</span>(<span class="string">&quot;M16.016 1.157l-15.015 15.015h9.009v16.016h12.012v-16.016h9.009z&quot;</span>);</span><br><span class="line">    <span class="attribute">transition</span>: .<span class="number">2s</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icon-arrow</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">    <span class="attribute">clip-path</span>: <span class="built_in">path</span>(<span class="string">&quot;M16.016 31.187l15.015-15.015h-9.009v-16.016h-12.012v16.016h-9.009z&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>ï¼ˆ1ï¼‰å‰ªè£æ•ˆæœå‘ç”Ÿçš„æ—¶å€™ï¼Œå…ƒç´ åŸå§‹çš„ä½ç½®æ˜¯ä¿ç•™çš„ï¼Œä¸ä¼šå‘ç”Ÿå¸ƒå±€ä¸Šçš„å˜åŒ–ï¼Œè¿™ä¸ºclip-pathå±æ€§åœ¨å›¾å½¢åŠ¨æ€æ•ˆæœé¢†åŸŸå¤§æ˜¾èº«æ‰‹æ‰“ä¸‹äº†æŠ€æœ¯åŸºç¡€ã€‚</p><p>ï¼ˆ2ï¼‰è¢«å‰ªè£çš„åŒºåŸŸä¸èƒ½å“åº”ç‚¹å‡»è¡Œä¸ºï¼Œä¹Ÿä¸èƒ½å“åº”:hoverä¼ªç±»å’Œ:activeä¼ªç±»ã€‚è¿™ä¸€ç‚¹å’Œmaskå±æ€§ä¸åŒï¼Œå…ƒç´ åº”ç”¨maskå±æ€§é®ç½©æ•ˆæœåï¼Œé€æ˜çš„éƒ¨åˆ†ä¾ç„¶æ˜¯å¯ä»¥ç‚¹å‡»çš„ã€‚</p><p>ï¼ˆ3ï¼‰clip-pathå±æ€§çš„å‡ ä¸ªåŸºæœ¬å›¾å½¢å‡½æ•°éƒ½æ˜¯æ”¯æŒåŠ¨ç”»æ•ˆæœçš„ï¼Œä½†æ˜¯éœ€è¦å…³é”®åæ ‡ç‚¹çš„æ•°é‡åœ¨åŠ¨ç”»å‰åä¿æŒä¸€è‡´ã€‚å¯¹äºpath()å‡½æ•°ï¼Œè¿˜éœ€è¦è·¯å¾„çš„æŒ‡ä»¤ä¿æŒä¸€è‡´æ‰ä¼šæœ‰åŠ¨ç”»æ•ˆæœã€‚</p></blockquote></li></ul><h4 id="äº†è§£nonzeroå’Œevenoddå¡«å……è§„åˆ™"><a href="#äº†è§£nonzeroå’Œevenoddå¡«å……è§„åˆ™" class="headerlink" title="äº†è§£nonzeroå’Œevenoddå¡«å……è§„åˆ™"></a>äº†è§£nonzeroå’Œevenoddå¡«å……è§„åˆ™</h4><blockquote><p>clip-pathå±æ€§ä¸­çš„polygon()å‡½æ•°æ”¯æŒä¸€ä¸ªåä¸º&lt;fill-rule&gt;çš„æ•°æ®ç±»å‹ï¼Œè¡¨ç¤ºå¡«å……è§„åˆ™ã€‚</p><p>æ— è®ºæ˜¯SVGã€Canvasè¿˜æ˜¯CSSï¼Œåªè¦æ¶‰åŠè·¯å¾„å¡«å……ï¼Œéƒ½ç¦»ä¸å¼€å¡«å……è§„åˆ™ï¼Œå¹¶ä¸”ç”¨æ¥è¡¨ç¤ºå¡«å……è§„åˆ™çš„å‚æ•°åä¹Ÿéƒ½æ˜¯å®Œå…¨ä¸€è‡´çš„ï¼Œå³nonzeroå’Œevenoddã€‚æ¢å¥è¯è¯´ï¼Œå¼„æ‡‚äº†nonzeroå’Œevenoddè¿™ä¸¤ä¸ªå¡«å……è§„åˆ™ï¼Œä¸ä»…åœ¨CSSè¿™é—¨è¯­è¨€ä¸­å—ç”¨ï¼Œåœ¨SVGã€Canvaså’Œå…¶ä»–ä¸è·¯å¾„å¡«å……ç›¸å…³çš„ç¨‹åºå¼€å‘è¯­è¨€ä¸­éƒ½æ˜¯å—ç”¨çš„ã€‚</p></blockquote><h4 id="å·®å¼‚"><a href="#å·®å¼‚" class="headerlink" title="å·®å¼‚"></a>å·®å¼‚</h4><p>å¦‚æœå¡«å……å¯¹è±¡æ˜¯ä¸€ä¸ªä¸‰è§’å½¢ï¼Œåˆ™è¿™ä¸¤ç§å¡«å……è§„åˆ™æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œå¦‚æœå¡«å……å¯¹è±¡æ˜¯ä¸¤ä¸ªä¸‰è§’å½¢ï¼Œå¹¶ä¸”ä¸¤è€…é‡å ï¼Œå·®å¼‚å°±å‡ºç°äº†</p><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221110120126561.png" alt="image-20221110120126561"></p><h4 id="ä¸€åˆ‡éƒ½æ˜¯äº¤å‰ç‚¹çš„é€‰æ‹©"><a href="#ä¸€åˆ‡éƒ½æ˜¯äº¤å‰ç‚¹çš„é€‰æ‹©" class="headerlink" title="ä¸€åˆ‡éƒ½æ˜¯äº¤å‰ç‚¹çš„é€‰æ‹©"></a>ä¸€åˆ‡éƒ½æ˜¯äº¤å‰ç‚¹çš„é€‰æ‹©</h4><blockquote><p>å¡«å……è§„åˆ™çš„å…³é”®ï¼Œå°±æ˜¯ç¡®å®šå¤æ‚è·¯å¾„æ„æˆçš„å›¾å½¢çš„å†…éƒ¨å’Œå¤–éƒ¨ã€‚å†…éƒ¨åˆ™å¡«å……ï¼Œå¤–éƒ¨åˆ™é€æ˜ã€‚</p><p>é¡¾åæ€ä¹‰ï¼Œâ€œnonzeroè§„åˆ™â€å°±æ˜¯â€œéé›¶è§„åˆ™â€ï¼Œç”¨é€šä¿—çš„è¯è®²ï¼Œå°±æ˜¯è®¡ç®—æŸäº›å€¼æ˜¯ä¸æ˜¯0ï¼Œå¦‚æœä¸æ˜¯0åˆ™è¡¨ç¤ºå†…éƒ¨ï¼Œè¡¨ç°ä¸ºå¡«å……ï¼›å¦‚æœæ˜¯0åˆ™è¡¨ç¤ºå¤–éƒ¨ï¼Œè¡¨ç°ä¸ºä¸å¡«å……ã€‚â€œevenoddè§„åˆ™â€å°±æ˜¯â€œå¥‡å¶è§„åˆ™â€ï¼Œç”¨é€šä¿—çš„è¯è®²ï¼Œå°±æ˜¯è®¡ç®—æŸäº›å€¼æ˜¯ä¸æ˜¯å¥‡æ•°ï¼Œå¦‚æœæ˜¯å¥‡æ•°åˆ™è¡¨ç¤ºå†…éƒ¨ï¼Œè¡¨ç°ä¸ºå¡«å……ï¼›å¦‚æœæ˜¯å¶æ•°åˆ™è¡¨ç¤ºå¤–éƒ¨ï¼Œè¡¨ç°ä¸ºä¸å¡«å……ã€‚</p></blockquote><h4 id="clip-pathå±æ€§çš„ç²¾å½©åº”ç”¨ç¤ºä¾‹"><a href="#clip-pathå±æ€§çš„ç²¾å½©åº”ç”¨ç¤ºä¾‹" class="headerlink" title="clip-pathå±æ€§çš„ç²¾å½©åº”ç”¨ç¤ºä¾‹"></a>clip-pathå±æ€§çš„ç²¾å½©åº”ç”¨ç¤ºä¾‹</h4><p><a href="clip-path%E5%AE%9E%E7%8E%B0%E5%85%A8%E6%96%B0%E8%BF%87%E5%9C%BA%E4%BA%A4%E4%BA%92%E6%95%88%E6%9E%9C">clip-pathå®ç°å…¨æ–°è¿‡åœºäº¤äº’æ•ˆæœ</a></p><p><a href="https://demo.cssworld.cn/new/12/2-7.php">æ¸å˜æç¤ºæ¡†æ•ˆæœ</a></p><h3 id="webkit-box-reflectå±æ€§ä¸å€’å½±æ•ˆæœçš„å®ç°"><a href="#webkit-box-reflectå±æ€§ä¸å€’å½±æ•ˆæœçš„å®ç°" class="headerlink" title="-webkit-box-reflectå±æ€§ä¸å€’å½±æ•ˆæœçš„å®ç°"></a>-webkit-box-reflectå±æ€§ä¸å€’å½±æ•ˆæœçš„å®ç°</h3><blockquote><p>-webkit-box-reflectè¿˜æ˜¯éæ ‡å‡†çš„CSSå±æ€§ï¼Œæ‰€ä»¥Firefoxæµè§ˆå™¨ä¸€ç›´æ²¡æœ‰å¯¹-webkit-box-reflectå±æ€§è¿›è¡Œæ”¯æŒï¼Œä½†æ˜¯ï¼ŒFirefoxæµè§ˆå™¨æœ‰å…¶ä»–ç‰¹æ€§å¯ä»¥å®ç°éƒ¨åˆ†å€’å½±æ•ˆæœã€‚</p></blockquote><p>é™¤äº†æ–¹ä½å¯ä»¥æŒ‡å®šï¼Œå€’å½±çš„åç§»å¤§å°å’Œå€’å½±çš„é®ç½©å›¾åƒéƒ½æ˜¯å¯ä»¥è®¾ç½®çš„ï¼Œ-webkit-box- reflectå±æ€§å®Œæ•´çš„è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-webkit-box-reflect: [ above | below | right | left ]? </span><br><span class="line">&lt;length&gt;? &lt;image&gt;?</span><br></pre></td></tr></table></figure><p>â— æ–¹ä½ï¼šå¯ä»¥æ˜¯aboveã€belowã€leftå’Œrightè¿™4ä¸ªå€¼ä¸­çš„ä»»æ„ä¸€ä¸ªï¼Œåˆ†åˆ«è¡¨ç¤ºåœ¨ä¸Šã€ä¸‹ã€å·¦ã€å³è¿›è¡Œå€’å½±ã€‚</p><p>â— åç§»å¤§å°ï¼šè¡¨ç¤ºå€’å½±å’ŒåŸå§‹å…ƒç´ çš„åç§»è·ç¦»ï¼Œå¯ä»¥æ˜¯æ•°å€¼ï¼Œä¹Ÿå¯ä»¥æ˜¯ç™¾åˆ†æ¯”å€¼ã€‚å¦‚æœæ˜¯ç™¾åˆ†æ¯”å€¼ï¼Œåˆ™ç™¾åˆ†æ¯”å¤§å°æ˜¯ç›¸å¯¹äºå…ƒç´ è‡ªèº«å°ºå¯¸è®¡ç®—çš„ï¼Œä¸transformå±æ€§ä¸­translate()å‡½æ•°çš„ç™¾åˆ†æ¯”è®¡ç®—è§„åˆ™æ˜¯ä¸€è‡´çš„ã€‚</p><p>â— é®ç½©å›¾åƒï¼šå¯ä»¥å®ç°å¯¹å…ƒç´ å€’å½±çš„é®ç½©æ§åˆ¶ï¼Œæ”¯æŒurl()å‡½æ•°å›¾åƒã€æ¸å˜å›¾åƒç­‰ã€‚</p><p><a href="https://demo.cssworld.cn/new/12/3-1.php">æ•ˆæœå±•ç¤º</a></p><p><strong>å°ç»“ï¼š</strong></p><p>ï¼ˆ1ï¼‰å€’å½±å’Œoutlineã€box-shadowå±æ€§ä¸€æ ·ï¼Œå…¶ä¸å æ®å°ºå¯¸ç©ºé—´ï¼ŒåŒæ—¶å€’å½±ä¹Ÿæ— æ³•å“åº”ç‚¹å‡»äº‹ä»¶ã€‚</p><p>ï¼ˆ2ï¼‰å¦‚æœå€’å½±çš„åç§»å€¼æ˜¯ä½¿ç”¨ç™¾åˆ†æ¯”å€¼è®¾ç½®çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªç™¾åˆ†æ¯”å€¼å¯¹åº”çš„å°ºå¯¸è®¡ç®—æ–¹ä½æ˜¯æ ¹æ®å€’å½±æ–¹å‘è‡ªåŠ¨è¯†åˆ«çš„ã€‚ä¾‹å¦‚å€’å½±æ–¹å‘æ˜¯belowæˆ–aboveï¼Œåˆ™åç§»ç™¾åˆ†æ¯”å€¼æ˜¯æ ¹æ®åŸå§‹å…ƒç´ çš„é«˜åº¦è®¡ç®—çš„ï¼›å¦‚æœå€’å½±æ–¹å‘æ˜¯leftæˆ–rightï¼Œåˆ™åç§»ç™¾åˆ†æ¯”å€¼æ˜¯æ ¹æ®å…ƒç´ çš„å®½åº¦æ¥è®¡ç®—çš„ã€‚</p><p>ï¼ˆ3ï¼‰é®ç½©å›¾åƒå¯ä»¥ä½¿ç”¨ä»»æ„çš„CSSæ¸å˜è¯­æ³•ï¼ŒåŒ…æ‹¬é”¥å½¢æ¸å˜ï¼Œä¸è¿‡è¿™é‡Œçš„é®ç½©å›¾åƒä¸€æ¬¡æœ€å¤šåªèƒ½è®¾ç½®ä¸€å¼ å›¾åƒã€‚</p><p>ï¼ˆ4ï¼‰ä½¿ç”¨é®ç½©å›¾åƒçš„æ—¶å€™ï¼Œå€’å½±çš„åç§»å€¼æ˜¯ä¸èƒ½ç¼ºçœçš„ã€‚å¦‚æœæ²¡æœ‰åç§»ï¼Œè¯·ä½¿ç”¨0å ä½</p><p>ï¼ˆ5ï¼‰å€’å½±æ•ˆæœå…·æœ‰å®æ—¶æ¸²æŸ“ç‰¹æ€§ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœæˆ‘ä»¬å¯¹åŸå§‹å›¾åƒè¿›è¡Œå‰ªè£ï¼Œå€’å½±ä¹Ÿä¼šè¢«å‰ªè£ã€‚</p><p>ï¼ˆ6ï¼‰é®ç½©å›¾åƒæ˜¯æ²¡æœ‰è·¨åŸŸé™åˆ¶çš„ï¼Œè€Œmask-imageå±æ€§ä½¿ç”¨çš„é®ç½©å›¾åƒæ˜¯æœ‰è·¨åŸŸé™åˆ¶çš„ã€‚</p><h4 id="Firefoxæµè§ˆå™¨å®ç°æŠ•å½±æ•ˆæœçš„è§£å†³æ–¹æ¡ˆ"><a href="#Firefoxæµè§ˆå™¨å®ç°æŠ•å½±æ•ˆæœçš„è§£å†³æ–¹æ¡ˆ" class="headerlink" title="Firefoxæµè§ˆå™¨å®ç°æŠ•å½±æ•ˆæœçš„è§£å†³æ–¹æ¡ˆ"></a>Firefoxæµè§ˆå™¨å®ç°æŠ•å½±æ•ˆæœçš„è§£å†³æ–¹æ¡ˆ</h4><blockquote><p>è™½ç„¶Firefoxæµè§ˆå™¨ä¸æ”¯æŒ-webkit-box-reflectå±æ€§ï¼Œå´å¯ä»¥ä½¿ç”¨element()å›¾åƒå‡½æ•°å®ç°è¿‘ä¼¼çš„æŠ•å½±æ•ˆæœã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/12/3-2.php">æ•ˆæœå±•ç¤º</a></p><p>è¿™ä¸€æ•ˆæœçš„å®ç°åŸç†å¦‚ä¸‹ã€‚</p><p>â— ä½¿ç”¨ä¼ªå…ƒç´ æ¨¡æ‹Ÿå€’å½±æ•ˆæœï¼Œä¸å æ®å¤šä½™çš„HTMLå…ƒç´ ï¼Œä¹Ÿæ— æ³•è¢«æœºå™¨è¯†åˆ«ï¼Œå’ŒçœŸå®å€’å½±æ€§è´¨æ¥è¿‘ã€‚</p><p>â— å€’å½±å…ƒç´ è®¾ç½®ä¸ºç»å¯¹å®šä½ï¼Œè¿™æ ·å¤§å¤šæ•°åœºæ™¯ä¸‹æ˜¯ä¸ä¼šå½±å“å¸ƒå±€çš„ã€‚è®¾ç½®pointer- events:noneæ— è§†æ‰€æœ‰ç‚¹å‡»äº‹æƒ…ï¼Œæ¨¡æ‹Ÿå€’å½±å…ƒç´ çš„ç©¿é€æ€§ã€‚</p><p>â— æœ€ç»ˆçš„ä¸€æ­¥å°±æ˜¯å€’å½±å…ƒç´ ä¸€å®šè¦ä½¿ç”¨element()å‡½æ•°ä½œä¸ºèƒŒæ™¯å›¾å‡ºç°ï¼Œè¿™æ ·æ‰æ˜¯ä¸€ä¸ªå’ŒåŸå§‹å…ƒç´ æ•ˆæœå®æ—¶åŒæ­¥çš„å€’å½±æ•ˆæœã€‚</p><p>â— å¦‚æœæœ‰é®ç½©æ•ˆæœï¼Œå¯ä»¥ä½¿ç”¨maskå±æ€§å®ç°ï¼ŒFirefoxæµè§ˆå™¨å¯¹maskå±æ€§çš„æ”¯æŒåº¦å¾ˆé«˜ï¼Œå¤§å®¶æ”¾å¿ƒä½¿ç”¨ã€‚</p><blockquote><p>ä¸Šé¢æ¡ˆä¾‹ä¸­çš„å€’å½±å¹¶ä¸ä¼šéšç€åŸå§‹å›¾åƒåŒæ­¥å˜åŒ–ï¼Œå› ä¸ºelement()å‡½æ•°åªèƒ½å®æ—¶åŒæ­¥å†…å®¹çš„å˜åŒ–ã€‚ä¸è¿‡ï¼Œè¦è§£å†³è¿™ä¸ªé—®é¢˜ä¹Ÿå¾ˆç®€å•ï¼Œåœ¨&lt;img&gt;å¤–é¢å†å¥—ä¸€å±‚æ ‡ç­¾ï¼ŒæŠŠçˆ¶å…ƒç´ ä½œä¸ºå€’å½±å›¾åƒå³å¯ï¼Œè¿™æ˜¯å› ä¸ºæ­¤æ—¶&lt;img&gt;å…ƒç´ å±äºå€’å½±å…ƒç´ çš„å­å…ƒç´ ï¼Œå˜æˆäº†å†…å®¹çš„ä¸€éƒ¨åˆ†</p></blockquote><h3 id="ä½¿ç”¨offsetå±æ€§å®ç°å…ƒç´ çš„ä¸è§„åˆ™è¿åŠ¨"><a href="#ä½¿ç”¨offsetå±æ€§å®ç°å…ƒç´ çš„ä¸è§„åˆ™è¿åŠ¨" class="headerlink" title="ä½¿ç”¨offsetå±æ€§å®ç°å…ƒç´ çš„ä¸è§„åˆ™è¿åŠ¨"></a>ä½¿ç”¨offsetå±æ€§å®ç°å…ƒç´ çš„ä¸è§„åˆ™è¿åŠ¨</h3><blockquote><p>è¦è®©ä¸€ä¸ªå…ƒç´ æŒ‰ç…§ä¸è§„åˆ™è·¯å¾„è¿›è¡Œè¿åŠ¨ï¼Œåœ¨è¿‡å»å®ç°æˆæœ¬æ¯”è¾ƒä½ã€å…¼å®¹æ€§ä¹Ÿæ¯”è¾ƒå¥½çš„æ–¹æ³•æ˜¯ä½¿ç”¨â€œSVG SMIL animationâ€ï¼Œç°ä»£æµè§ˆå™¨å‡æä¾›æ”¯æŒã€‚[ã€Šè¶…çº§å¼ºå¤§çš„SVG SMIL animationåŠ¨ç”»è¯¦è§£ã€‹](<a href="https://www.zhangxinxu.com/wordpress/2014/08/">https://www.zhangxinxu.com/wordpress/2014/08/</a> so-powerful-svg-smil-animation/)è¿›è¡Œäº†è§£</p></blockquote><p><a href="https://demo.cssworld.cn/new/12/4-1.php">è·¯å¾„è¿åŠ¨å®ä¾‹</a></p><ul><li><h5 id="HTMLï¼š-14"><a href="#HTMLï¼š-14" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;horse.png&quot;</span> <span class="attr">class</span>=<span class="string">&quot;horse-run&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">svg</span> <span class="attr">width</span>=<span class="string">&quot;280&quot;</span> <span class="attr">height</span>=<span class="string">&quot;150&quot;</span> <span class="attr">viewBox</span>=<span class="string">&quot;0 0 280 150&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">path</span> <span class="attr">d</span>=<span class="string">&quot;M10,80 q100,120 120,20 q140,-50 160,0&quot;</span> <span class="attr">stroke</span>=<span class="string">&quot;#cd0000&quot;</span> <span class="attr">stroke-width</span>=<span class="string">&quot;2&quot;</span> <span class="attr">fill</span>=<span class="string">&quot;none&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">svg</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-15"><a href="#CSSï¼š-15" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.horse-run</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    offset-path: <span class="built_in">path</span>(<span class="string">&quot;M10,80 q100,120 120,20 q140,-50 160,0&quot;</span>);</span><br><span class="line">    <span class="attribute">animation</span>: motion <span class="number">3s</span> linear infinite;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> motion &#123;</span><br><span class="line">    <span class="number">100%</span> &#123; offset-distance: <span class="number">100%</span>;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>ä½†æ˜¯offsetå±æ€§æœ‰ä¸€ä¸ªç¼ºç‚¹ï¼Œé‚£å°±æ˜¯Safariæµè§ˆå™¨å¹¶ä¸æä¾›å¯¹å®ƒçš„æ”¯æŒ</p></blockquote><p>offset`å±æ€§æ˜¯å¤šä¸ªCSSå±æ€§çš„ç¼©å†™ï¼Œç›¸å…³å±æ€§åŒ…æ‹¬ï¼š</p><ul><li><p>offset-anchorï¼›</p><blockquote><p>ç”¨æ¥ç¡®å®šåç§»è¿åŠ¨çš„é”šç‚¹ï¼Œä¹Ÿå°±æ˜¯ç¡®å®šå…ƒç´ ä¸­æ²¿ç€è½¨è¿¹è¿åŠ¨çš„ç‚¹ã€‚æ”¯æŒç™¾åˆ†æ¯”ï¼Œå›ºå®šé•¿åº¦ã€‚</p></blockquote></li><li><p>offset-distanceï¼›</p><blockquote><p>è¡¨ç¤ºåç§»çš„è·ç¦»å¤§å°ï¼Œä¹Ÿå°±æ˜¯å…ƒç´ æ²¿ç€è·¯å¾„ç§»åŠ¨çš„è·ç¦»ï¼Œæ”¯æŒç™¾åˆ†æ¯”å€¼å’Œé•¿åº¦å€¼</p><p>å¦‚æœè·¯å¾„æ˜¯å°é—­çš„ï¼Œåˆ™æ— è®ºoffset-distanceæœ‰å¤šå¤§çš„å€¼ï¼Œéƒ½å¯ä»¥çœ‹åˆ°ä½ç½®çš„å˜åŒ–ï¼›å¦‚æœè·¯å¾„æ˜¯å¼€æ”¾çš„ï¼Œåˆ™è´Ÿå€¼çš„ä½ç½®å’Œ0%çš„ä½ç½®æ˜¯ä¸€æ ·çš„ï¼Œå¤§äº100%çš„å€¼çš„ä½ç½®å’Œ100%çš„ä½ç½®æ˜¯ä¸€æ ·çš„ã€‚</p></blockquote><p>  å¦‚æœç§»åŠ¨è·¯å¾„æ˜¯é—­åˆè·¯å¾„ï¼Œé‚£ä¹ˆå°±ä¼šå½¢æˆå¾ªç¯åŠ¨ç”»<a href="https://demo.cssworld.cn/new/12/4-3.php">ä¸‰é¾™æˆç </a></p></li><li><p>offset-pathï¼›</p><blockquote><p>æŒ‡çš„æ˜¯è¿åŠ¨çš„è·¯å¾„ï¼Œæ”¯æŒå¤šç§è·¯å¾„ç±»å‹ï¼Œä½†ä»è¯­æ³•è€Œè¨€ï¼Œå®ƒå’Œclip-pathå±æ€§æœ‰ä¼—å¤šç›¸ä¼¼ä¹‹å¤„ã€‚</p></blockquote>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">offset-path: none;</span><br><span class="line">offset-path: <span class="built_in">ray</span>( [ &lt;angle&gt; &amp;&amp; &lt;size&gt; &amp;&amp; contain? ] );</span><br><span class="line">offset-path: &lt;<span class="built_in">path</span>()&gt;;</span><br><span class="line">offset-path: &lt;url&gt;;</span><br><span class="line">offset-path: [ &lt;basic-shape&gt; || &lt;geometry-box&gt; ];</span><br></pre></td></tr></table></figure><p>  å…¶ä¸­&lt;url&gt;æ•°æ®ç±»å‹å¯ä»¥ç›´æ¥ä½¿ç”¨é¡µé¢å†…è”SVGå…ƒç´ ä¸­ä»»æ„å›¾å½¢å…ƒç´ çš„è·¯å¾„ï¼Œ&lt;basic-shape&gt;åˆ™åŒ…æ‹¬insetã€circleã€ellipseã€polygonç­‰åŸºæœ¬å›¾å½¢å‡½æ•°ã€‚</p><p>  å’‹ä¸€çœ‹å¾ˆå¼ºå¤§ï¼Œä½†æ˜¯åªæœ‰pathå…¼å®¹æ€§å¥½ï¼Œå¦‚ray()å‡½æ•°ã€å°„çº¿çŠ¶çš„åç§»ã€‘ï¼Œæ ¹æœ¬æ²¡æœ‰æµè§ˆå™¨æ”¯æŒ</p></li><li><p>offset-positionï¼›</p><blockquote><p>å®šä¹‰è·¯å¾„çš„èµ·å§‹ç‚¹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">offset-<span class="attribute">position</span>: auto | &lt;position&gt;</span><br></pre></td></tr></table></figure><ul><li>autoæ˜¯åˆå§‹å€¼ï¼Œè¡¨ç¤ºåç§»è·¯å¾„çš„èµ·å§‹ç‚¹æ˜¯å…ƒç´ æ­£å¸¸çš„ä½ç½®ã€‚</li><li>&lt;position&gt;ç”¨æ¥æŒ‡å®šåç§»è·¯å¾„èµ·å§‹ç‚¹çš„ä½ç½®ã€‚</li></ul><p>offset-positionå±æ€§æœ‰3ä¸ªç‰¹ç‚¹ï¼š<strong>è¯­æ³•ç®€å•ã€ç»†èŠ‚ç¹å¤šã€æ”¯æŒè¾ƒå·®ã€‚</strong></p></blockquote><p>  <strong>ç»†èŠ‚ï¼š</strong></p><ul><li>å¦‚æœå…ƒç´ çš„positionå±æ€§çš„è®¡ç®—å€¼æ˜¯staticï¼Œåˆ™offset-positionå±æ€§æ˜¯æ— æ•ˆçš„ã€‚</li><li>å¦‚æœoffset-pathçš„å±æ€§å€¼åŒ…å«&lt;geometry-box&gt;æ•°æ®ç±»å‹ï¼ˆmargin-boxã€padding- boxã€border-boxï¼‰ï¼Œæˆ–è€…ä½¿ç”¨äº†åŸºæœ¬å½¢çŠ¶å‡½æ•°ï¼»circle()å’Œellipse()é™¤å¤–ï¼½ï¼Œåˆ™offset-positionå±æ€§ä¹Ÿæ˜¯æ— æ•ˆçš„ã€‚</li><li>offset-positionçš„å±æ€§å€¼ä¸æ˜¯autoçš„æ—¶å€™ä¼šåˆ›å»ºæ–°çš„å±‚å ä¸Šä¸‹æ–‡å’ŒåŒ…å«å—ï¼Œç±»ä¼¼äºtransformå±æ€§ã€‚</li><li>offset-positionè®¾ç½®å…·ä½“çš„å®šä½å€¼çš„è¡¨ç°å’Œç»å¯¹å®šä½æ˜¯æåº¦ç›¸ä¼¼çš„ï¼ŒåŒºåˆ«å°±åœ¨äºç»å¯¹å®šä½æ˜¯è„±ç¦»æ–‡æ¡£æµçš„ï¼Œä½ç½®çš„å˜åŒ–ä¸ä¼šå½±å“å…„å¼Ÿå…ƒç´ ï¼Œä½†æ˜¯offset-positionå±æ€§äº§ç”Ÿçš„ä½ç§»ä¾ç„¶åœ¨å½“å‰å¸ƒå±€ä¸­ã€‚</li><li>offset-positionäº§ç”Ÿçš„ä½ç½®åç§»æ˜¯ç›¸å¯¹äºåŒ…å«å—åŒºåŸŸè®¡ç®—çš„ï¼Œè€Œä¸æ˜¯ç›¸å¯¹äºè‡ªèº«ï¼Œè¿™ä¸€ç‚¹å’Œoffset-anchorå±æ€§ä¸åŒã€‚</li></ul></li><li><p>offset-rotateã€‚</p><blockquote><p>ç”¨æ¥å®šä¹‰å…ƒç´ æ²¿ç€offset-pathè·¯å¾„è¿åŠ¨æ—¶çš„æ–¹å‘å’Œè§’åº¦</p></blockquote>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">offset-rotate: [ auto | reverse ] || &lt;angle&gt;</span><br></pre></td></tr></table></figure><ul><li>autoæ˜¯åˆå§‹å€¼ï¼Œè¡¨ç¤ºå…ƒç´ æ²¿ç€å‚ç›´äºè·¯å¾„åˆ‡çº¿çš„æ–¹å‘è¿åŠ¨ã€‚</li><li>&lt;angle&gt;è¡¨ç¤ºå…ƒç´ æŒ‰ç…§æŒ‡å®šçš„è§’åº¦è¿åŠ¨ï¼Œä¾‹å¦‚è®¾ç½®offset-rotate: 30degåï¼Œåˆ™å…ƒç´ ä¼šä¸€ç›´ä¿æŒç›¸å¯¹äºå…ƒç´ æ­£å¸¸çŠ¶æ€æ—‹è½¬30Â°çš„è§’åº¦è¿›è¡Œè¿åŠ¨</li><li>auto &lt;angle&gt;è¿™ç§è¯­æ³•å¹¶ä¸å¤šè§ï¼Œå´æ˜¯ä¸€ä¸ªéå¸¸å·§å¦™çš„è®¾è®¡ã€‚auto &lt;angle&gt;è¡¨ç¤ºå…ƒç´ æ²¿ç€å‚ç›´äºè·¯å¾„åˆ‡çº¿çš„æ–¹å‘è¿åŠ¨ï¼Œä½†æ˜¯å…ƒç´ è‡ªèº«éœ€è¦å¢åŠ ä¸€ç‚¹æ—‹è½¬è§’åº¦ã€‚auto &lt;angle&gt;å‚æ•°å¾ˆå®ç”¨ã€‚</li><li>reverseçš„å«ä¹‰å’Œautoç±»ä¼¼ï¼ŒåŒºåˆ«åœ¨äºæ–¹å‘æ˜¯åçš„ï¼Œç­‰åŒäºè®¾ç½®äº†auto 180degã€‚ä¾‹å¦‚ï¼Œè®¾ç½®offset-rotate: reverseåï¼Œå…ƒç´ ä¼šæ—‹è½¬180Â°ï¼Œç„¶åç»§ç»­æ²¿ç€è·¯å¾„åˆ‡çº¿è§’åº¦è¿åŠ¨</li></ul></li></ul><h2 id="å›¾ç‰‡ç­‰å¤šåª’ä½“çš„å¤„ç†"><a href="#å›¾ç‰‡ç­‰å¤šåª’ä½“çš„å¤„ç†" class="headerlink" title="å›¾ç‰‡ç­‰å¤šåª’ä½“çš„å¤„ç†"></a>å›¾ç‰‡ç­‰å¤šåª’ä½“çš„å¤„ç†</h2><h3 id="å›¾ç‰‡å’Œè§†é¢‘å…ƒç´ çš„å†…åœ¨å°ºå¯¸æ§åˆ¶"><a href="#å›¾ç‰‡å’Œè§†é¢‘å…ƒç´ çš„å†…åœ¨å°ºå¯¸æ§åˆ¶" class="headerlink" title="å›¾ç‰‡å’Œè§†é¢‘å…ƒç´ çš„å†…åœ¨å°ºå¯¸æ§åˆ¶"></a>å›¾ç‰‡å’Œè§†é¢‘å…ƒç´ çš„å†…åœ¨å°ºå¯¸æ§åˆ¶</h3><blockquote><p>ä¸ºä¿æŒå›¾ç‰‡æ¯”ä¾‹ï¼Œä¸è¢«æ‹‰ä¼¸å˜å½¢ã€‚å¼€å‘è€…å¾€å¾€åˆ©ç”¨å…·æœ‰å†…éƒ¨å°ºå¯¸çš„å…ƒç´ åœ¨æ²¡æœ‰æŒ‡å®šé«˜å®½çš„æƒ…å†µä¸‹ä¾ç„¶ä¿æŒæ¯”ä¾‹çš„ç‰¹æ€§ï¼Œä»…è®¾ç½®å®½åº¦å€¼ï¼Œæˆ–è€…ä»…è®¾ç½®é«˜åº¦å€¼ï¼Œè®©å›¾ç‰‡æ—¢æœ‰è‡ªé€‚åº”çš„ç‰¹æ€§ï¼Œåˆèƒ½ä¿æŒæ¯”ä¾‹ã€‚</p><p>ä½†æ˜¯é¦–æ¬¡åŠ è½½å›¾ç‰‡ï¼Œè‹¥å›¾ç‰‡æ²¡æœ‰åŠ è½½å‡ºæ¥ï¼Œæµè§ˆå™¨å°±ä¼šå†…åœ¨å°ºå¯¸æ˜¯0ï¼Œæ­¤æ—¶å›¾ç‰‡å æ®é«˜åº¦0ï¼Œå›¾ç‰‡åŠ è½½æˆåŠŸåï¼Œé«˜åº¦çªç„¶å˜é«˜ï¼Œè§†è§‰ä¸Šå‡ºç°é«˜åº¦å˜åŒ–å˜ç°ä¸ºå†…å®¹è·³åŠ¨å‡ºç°ï¼Œå›¾ç‰‡ä¼šä¸æ–­è§¦å‘é‡ç»˜ï¼Œä¸ä»…æ€§èƒ½ä¸ä½³ï¼Œç”¨æˆ·ä½“éªŒä¹Ÿä¸å¥½ã€‚</p></blockquote><h4 id="object-fitå±æ€§"><a href="#object-fitå±æ€§" class="headerlink" title="object-fitå±æ€§"></a>object-fitå±æ€§</h4><blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">object-fit</span>: fill | contain | cover | none | scale-down</span><br></pre></td></tr></table></figure><p>containå’Œcoverè¿™ä¸¤ä¸ªå±æ€§å€¼ï¼Œå› ä¸ºä¸¤è€…å‡ ä¹å æ®äº†å…¨éƒ¨çš„object-fitå±æ€§ä½¿ç”¨åœºæ™¯ã€‚</p></blockquote><ol><li><p>fill</p><p> fillæ˜¯é»˜è®¤å€¼ï¼Œè¡¨ç¤ºâ€œå¡«å……â€ï¼Œæ›¿æ¢å†…å®¹ä¼šæ‹‰ä¼¸ï¼Œå¡«æ»¡æ•´ä¸ªcontent-boxçš„å°ºå¯¸, ä¸ä¿è¯ä¿æŒåŸæœ‰çš„æ¯”ä¾‹ã€‚</p></li><li><p>contain</p><p> è¡¨ç¤ºâ€œåŒ…å«â€ï¼Œæ›¿æ¢å†…å®¹ä¿æŒåŸæœ‰å°ºå¯¸æ¯”ä¾‹ï¼ŒåŒæ—¶æ›¿æ¢å†…å®¹ä¸€å®šå¯ä»¥åœ¨content-boxä¸­å®Œæ•´æ˜¾ç¤ºï¼Œè‡³å°‘ä¸€ä¸ªæ–¹å‘çš„å°ºå¯¸å’Œcontent-boxä¿æŒä¸€è‡´ã€‚æ­¤å…³é”®å­—å±æ€§å€¼å¯èƒ½ä¼šè®©content-boxå‡ºç°ç•™ç™½</p></li><li><p>cover</p><p> è¡¨ç¤ºâ€œè¦†ç›–â€ï¼Œæ›¿æ¢å†…å®¹åŒæ ·ä¼šä¿æŒåŸå§‹çš„å°ºå¯¸æ¯”ä¾‹ï¼ŒåŒæ—¶æ›¿æ¢å†…å®¹ä¼šå®Œå…¨è¦†ç›–content-boxåŒºåŸŸï¼Œè‡³å°‘ä¸€ä¸ªæ–¹å‘çš„å°ºå¯¸å’Œcontent-boxä¿æŒä¸€è‡´ã€‚æ­¤å…³é”®å­—å¯èƒ½ä¼šè®©æ›¿æ¢å†…å®¹çš„éƒ¨åˆ†åŒºåŸŸä¸å¯è§</p></li><li><p>none</p><p> noneè¡¨ç¤ºæ›¿æ¢å†…å®¹çš„å°ºå¯¸æ˜¾ç¤ºä¸ºåŸå§‹çš„å°ºå¯¸ï¼Œæ— è§†å¤–éƒ¨çš„å°ºå¯¸è®¾ç½®ã€‚å¦‚æœå›¾ç‰‡å°ºå¯¸è¾ƒå°ï¼Œå°±ä¼šåœ¨å››å‘¨äº§ç”Ÿå¤§é‡ç•™ç™½ï¼›å¦‚æœå›¾ç‰‡å°ºå¯¸è¾ƒå¤§ï¼Œåˆ™ä¼šæœ‰è¾ƒå¤§é¢ç§¯çš„å›¾ç‰‡åŒºåŸŸè¢«å‰ªè£ã€‚åœ¨å®é™…å¼€å‘ä¸­ï¼Œæ­¤å…³é”®å­—å¾ˆå°‘è¢«ä½¿ç”¨ã€‚</p></li><li><p>scale-down</p><p> æ ·å¼è¡¨ç°å°±å¥½åƒä¾æ¬¡è®¾ç½®äº†noneå’Œcontainå…³é”®å­—ï¼Œç„¶åé€‰å–å‘ˆç°çš„å°ºå¯¸è¾ƒå°çš„é‚£ä¸ªæ•ˆæœ</p></li></ol><blockquote><p>object-fitå±æ€§åœ¨ç°ä»£æµè§ˆå™¨ä¸­çš„å…¼å®¹æ€§éå¸¸å¥½ï¼ŒAndroid 4.4.4å°±å¼€å§‹æ”¯æŒäº†ï¼Œåœ¨ç§»åŠ¨ç«¯å¯ä»¥æ”¾å¿ƒä½¿ç”¨ã€‚</p></blockquote><h3 id="object-positionå±æ€§çš„ä½œç”¨è§„åˆ™"><a href="#object-positionå±æ€§çš„ä½œç”¨è§„åˆ™" class="headerlink" title="object-positionå±æ€§çš„ä½œç”¨è§„åˆ™"></a>object-positionå±æ€§çš„ä½œç”¨è§„åˆ™</h3><blockquote><p>ç”¨äºæ§åˆ¶æ›¿æ¢å†…å®¹çš„ä½ç½®ã€‚object- positionçš„åˆå§‹å€¼æ˜¯50% 50%ï¼Œä¹Ÿå°±æ˜¯è¯´é»˜è®¤æ˜¯å±…ä¸­æ•ˆæœã€‚æ‰€ä»¥ï¼Œæ— è®ºobject-fitçš„å€¼æ˜¯å“ªä¸€ä¸ªå…³é”®å­—å±æ€§å€¼ï¼Œå›¾ç‰‡éƒ½æ˜¯æ°´å¹³ã€å‚ç›´å±…ä¸­çš„ã€‚</p><p>å› æ­¤ï¼Œè¦å®ç°å°ºå¯¸å¤§å°ä¸å›ºå®šå›¾ç‰‡çš„æ°´å¹³ã€å‚ç›´å±…ä¸­æ•ˆæœï¼Œå¯ä»¥è¯•è¯•å…ˆå°†&lt;img&gt;å…ƒç´ çš„å®½åº¦è®¾ç½®ä¸ºå®¹å™¨çš„å®½åº¦å¤§å°ï¼Œç„¶åè®¾ç½®object-fit:noneã€‚</p></blockquote><p><a href="">æ•ˆæœç¤ºä¾‹</a></p><blockquote><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œé€šå¸¸ç¼©ç•¥å›¾ä½¿ç”¨coverå…³é”®å­—ï¼Œåˆ—è¡¨å›¾ä½¿ç”¨containå…³é”®å­—ï¼Œå…¨å±å¤§å›¾é¢„è§ˆä½¿ç”¨scale-downå…³é”®å­—</p></blockquote><p>è®©æ›¿æ¢å…ƒç´ åœ¨ç›¸å¯¹äºcontent-boxåŒºåŸŸå³ä¸‹è§’20px 10pxçš„åœ°æ–¹å®šä½ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">object-position</span>: right <span class="number">20px</span> bottom <span class="number">10px</span>;</span><br></pre></td></tr></table></figure><p><strong>Img SpritesæŠ€æœ¯</strong></p><blockquote><p>è¿‡å»ä½¿ç”¨background-positionå®šä½å®ç°çš„CSS SpritesæŠ€æœ¯å’Œé…åˆanimationå±æ€§å®ç°çš„æ— æŸGifæ¨¡æ‹ŸæŠ€å·§ï¼Œç°åœ¨éƒ½å¯ä»¥ä½¿ç”¨object-positionå±æ€§å®ç°ï¼Œæˆ‘ç§°ä¹‹ä¸ºâ€œImg SpritesæŠ€æœ¯â€ã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/10/1-3.php">object-positionå±æ€§imgå…ƒç´ ç±»gifæ•ˆæœ</a></p><ul><li><h5 id="CSSï¼š-16"><a href="#CSSï¼š-16" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.love</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>; <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">object-fit</span>: cover;</span><br><span class="line">    <span class="attribute">animation</span>: heart-burst <span class="built_in">steps</span>(<span class="number">28</span>) .<span class="number">8s</span> infinite both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> heart-burst &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">object-position</span>: <span class="number">0%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">object-position</span>: <span class="number">100%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="ä½¿ç”¨image-orientationå±æ€§çº æ­£å›¾ç‰‡çš„æ–¹å‘"><a href="#ä½¿ç”¨image-orientationå±æ€§çº æ­£å›¾ç‰‡çš„æ–¹å‘" class="headerlink" title="ä½¿ç”¨image-orientationå±æ€§çº æ­£å›¾ç‰‡çš„æ–¹å‘"></a>ä½¿ç”¨image-orientationå±æ€§çº æ­£å›¾ç‰‡çš„æ–¹å‘</h4><blockquote><p>å½“å›¾ç‰‡æ–¹å‘ä¸æ­£ç¡®æ—¶ï¼Œçº æ­£å›¾ç‰‡æ–¹å‘</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">image-orientation</span>: from-image | none;</span><br></pre></td></tr></table></figure><ul><li>from-imageä¸ºåˆå§‹å€¼ï¼Œè¡¨ç¤ºå¦‚æœå›¾ç‰‡åŒ…å«æ—‹è½¬ä¿¡æ¯ï¼Œåˆ™è‡ªåŠ¨æ—‹è½¬å›¾ç‰‡ã€‚</li><li>å¦‚æœç…§ç‰‡æ²¡æœ‰Exifä¿¡æ¯ï¼Œåˆ™è¡¨ç°ä¸ºnoneå…³é”®å­—å±æ€§å€¼ã€‚noneè¡¨ç¤ºæ— è®ºç…§ç‰‡æ˜¯å¦åŒ…å«Exifä¿¡æ¯ï¼Œéƒ½ä¸è¿›è¡Œæ—‹è½¬ã€‚</li></ul><p><a href="https://demo.cssworld.cn/new/10/2-1.php">image-orientationå±æ€§åŸºæœ¬æ•ˆæœå®</a></p><h4 id="image-renderingå±æ€§ä¸å›¾åƒçš„æ¸²æŸ“"><a href="#image-renderingå±æ€§ä¸å›¾åƒçš„æ¸²æŸ“" class="headerlink" title="image-renderingå±æ€§ä¸å›¾åƒçš„æ¸²æŸ“"></a>image-renderingå±æ€§ä¸å›¾åƒçš„æ¸²æŸ“</h4><blockquote><p>image-renderingå±æ€§ç”¨æ¥è®¾ç½®å›¾åƒçš„ç¼©æ”¾ç®—æ³•ï¼Œä¸»è¦é’ˆå¯¹PNGå’ŒJPGè¿™ç±»ä½å›¾ã€‚image-renderingå±æ€§å¯ä»¥è®¾ç½®åœ¨&lt;img&gt;å…ƒç´ ä¸Šï¼Œä¹Ÿå¯ä»¥è®¾ç½®åœ¨&lt;img&gt;å…ƒç´ çš„ç¥–å…ˆå…ƒç´ ä¸Šã€‚</p><p>åœ¨ç°ä»£æµè§ˆå™¨ä¸­ï¼Œimage-renderingå±æ€§è¿˜å¯ä»¥è®¾ç½®backgroundå›¾åƒå’Œcanvasç”»å¸ƒå›¾åƒçš„ç¼©æ”¾ç®—æ³•ã€‚image-renderingå±æ€§åªæœ‰åœ¨å›¾åƒå‘ç”Ÿç¼©æ”¾çš„æ—¶å€™æ‰ä¼šæœ‰æ•ˆæœã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">image-rendering</span>: auto | crisp-edges | pixelated</span><br></pre></td></tr></table></figure><ul><li>autoè¡¨ç¤ºæµè§ˆå™¨è‡ªåŠ¨é€‰æ‹©ä½¿ç”¨ä½•ç§å›¾åƒç¼©æ”¾ç®—æ³•ï¼Œé€šå¸¸è¡¨ç°ä¸ºå¹³æ»‘ç¼©æ”¾ã€‚</li><li>crisp-edgesè¡¨ç¤ºä¸ä½¿ç”¨å¹³æ»‘ç¼©æ”¾ç®—æ³•ï¼Œå› æ­¤ï¼Œç¼©æ”¾çš„å›¾åƒä¼šæœ‰è¾ƒé«˜çš„å¯¹æ¯”åº¦å’Œè¾ƒé”åˆ©çš„è¾¹ç¼˜ï¼Œä¹Ÿä¸ä¼šæœ‰æ¨¡ç³Šçš„æ„Ÿè§‰ã€‚å¸¸ç”¨çš„ç®—æ³•åŒ…æ‹¬é‚»è¿‘ç®—æ³•å’Œå…¶ä»–åƒç´ è‰ºæœ¯ç®—æ³•ï¼Œå¦‚2Ã—SaIå’Œhqxç³»åˆ—ç®—æ³•ã€‚</li><li>pixelatedè¡¨ç¤ºå½“æ”¾å¤§å›¾åƒæ—¶ï¼Œå¿…é¡»ä½¿ç”¨é‚»è¿‘ç®—æ³•ï¼Œä½¿å›¾åƒçœ‹èµ·æ¥ç”±å¤§åƒç´ å—ç»„æˆï¼›å½“ç¼©å°å›¾åƒæ—¶ï¼Œä½¿ç”¨ä¸autoå…³é”®å­—å±æ€§å€¼ç›¸åŒçš„ç®—æ³•ã€‚</li></ul><p>ç”±äºå†å²åŸå› ï¼Œå„ä¸ªæµè§ˆå™¨ç”¨æ¥æ§åˆ¶å›¾åƒç®—æ³•çš„å±æ€§å’Œå±æ€§å€¼å¹¶ä¸å®Œå…¨ä¸€è‡´ã€‚</p><ul><li>IEæµè§ˆå™¨ä½¿ç”¨éæ ‡å‡†çš„å£°æ˜-ms-interpolation-mode: nearest-neighborã€‚</li><li>Firefoxæµè§ˆå™¨æ”¯æŒå…³é”®å­—å±æ€§å€¼crisp-edgesï¼Œä½†æ˜¯å¹¶ä¸æ”¯æŒpixelatedã€‚</li><li>Chromeæµè§ˆå™¨åˆ™æ”¯æŒå…³é”®å­—å±æ€§å€¼pixelatedï¼Œä½†å¹¶ä¸æ”¯æŒcrisp-edgeså…³é”®å­—å±æ€§å€¼ï¼Œå–è€Œä»£ä¹‹çš„å…³é”®å­—å±æ€§å€¼æ˜¯ç§æœ‰çš„-webkit-optimize-contrastã€‚</li></ul><p><a href="https://demo.cssworld.cn/new/10/3-1.php">æ•ˆæœå±•ç¤º</a></p><blockquote><p>åœ¨å¸¸è§„çš„åœºæ™¯ä¸­ï¼Œå›¾åƒé‡‡ç”¨å¹³æ»‘æ•ˆæœè‚¯å®šæ˜¯æ›´å¥½çš„ï¼Œå› æ­¤æ˜¯ç”¨ä¸åˆ°image-renderingå±æ€§çš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœç½‘é¡µçš„è®¾è®¡é£æ ¼æ˜¯åƒç´ åŒ–é£æ ¼æˆ–è€…é”åŒ–é£æ ¼ï¼ˆä¾‹å¦‚ä¸€äº›åƒç´ é£æ ¼çš„æ¸¸æˆä»‹ç»é¡µé¢ï¼‰</p></blockquote><h3 id="ä¸å¸¸ç”¨çš„å›¾åƒç±»å‹å‡½æ•°"><a href="#ä¸å¸¸ç”¨çš„å›¾åƒç±»å‹å‡½æ•°" class="headerlink" title="ä¸å¸¸ç”¨çš„å›¾åƒç±»å‹å‡½æ•°"></a>ä¸å¸¸ç”¨çš„å›¾åƒç±»å‹å‡½æ•°</h3><h4 id="å®ç°å›¾åƒåŠé€æ˜å åŠ çš„cross-fade-å‡½æ•°"><a href="#å®ç°å›¾åƒåŠé€æ˜å åŠ çš„cross-fade-å‡½æ•°" class="headerlink" title="å®ç°å›¾åƒåŠé€æ˜å åŠ çš„cross-fade()å‡½æ•°"></a>å®ç°å›¾åƒåŠé€æ˜å åŠ çš„cross-fade()å‡½æ•°</h4><blockquote><p>cross-fade()å‡½æ•°å¯ä»¥è®©ä¸¤å¼ å›¾åƒåŠé€æ˜æ··åˆ<a href="https://demo.cssworld.cn/new/10/4-1.php">æ•ˆæœå±•ç¤º</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;image-combination&gt; = cross-fade( &lt;image&gt;, &lt;image&gt;, &lt;percentage&gt; )</span><br></pre></td></tr></table></figure></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cross-fade-image</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>; <span class="attribute">height</span>: <span class="number">300px</span>;</span><br><span class="line">    <span class="attribute">background</span>: no-repeat center / contain;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">1.jpg</span>), <span class="built_in">url</span>(<span class="string">2.jpg</span>);</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">cross-fade</span>(<span class="built_in">url</span>(<span class="string">1.jpg</span>), <span class="built_in">url</span>(<span class="string">2.jpg</span>), <span class="number">50%</span>);   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ–°è¯­æ³•ï¼Œæ”¯æŒä»»æ„æ•°é‡é€æ˜å åŠ ï¼Œä½†æ˜¯æ²¡æœ‰æµè§ˆå™¨æ”¯æŒ</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cross-fade(url(red<span class="selector-class">.png</span>) <span class="number">20%</span>, url(yellow<span class="selector-class">.png</span>) <span class="number">30%</span>, url(blue<span class="selector-class">.png</span>) <span class="number">50%</span>);</span><br></pre></td></tr></table></figure><p>æœ¬æ¥å¯ä»¥ç”¨ä½œæ°´å°æ·»åŠ ï¼Œä½†æ˜¯é€æ˜pngå›¾ä¼¼ä¹æ•ˆæœæ›´å¥½ï¼Œå…¼å®¹æ€§æ›´å¥½ã€‚äºæ˜¯å®ƒå¯ä»¥</p><p><a href="https://demo.cssworld.cn/new/10/4-2.php">cross-fade()å‡½æ•°é™ä½èƒŒæ™¯å›¾åƒé€æ˜åº¦</a></p><h4 id="ç¥å¥‡çš„element-å‡½æ•°"><a href="#ç¥å¥‡çš„element-å‡½æ•°" class="headerlink" title="ç¥å¥‡çš„element()å‡½æ•°"></a>ç¥å¥‡çš„element()å‡½æ•°</h4><blockquote><p>CSSä¸­çš„element()å‡½æ•°æ˜¯ä¸€ä¸ªéå¸¸ç¥å¥‡çš„å‡½æ•°ï¼Œå®ƒå¯ä»¥è®©é¡µé¢ä¸­ä»»æ„DOMå…ƒç´ çš„æ¸²æŸ“æ•ˆæœå˜æˆå›¾åƒã€‚</p></blockquote><p>åªæœ‰Firefoxæµè§ˆå™¨æ”¯æŒelement()å‡½æ•°ï¼Œchrome ä¸æ”¯æŒ</p><h2 id="æ›´ç»šä¸½çš„è§†è§‰è¡¨ç°"><a href="#æ›´ç»šä¸½çš„è§†è§‰è¡¨ç°" class="headerlink" title="æ›´ç»šä¸½çš„è§†è§‰è¡¨ç°"></a>æ›´ç»šä¸½çš„è§†è§‰è¡¨ç°</h2><h3 id="æ·±å…¥äº†è§£CSSæ»¤é•œå±æ€§"><a href="#æ·±å…¥äº†è§£CSSæ»¤é•œå±æ€§" class="headerlink" title="æ·±å…¥äº†è§£CSSæ»¤é•œå±æ€§"></a>æ·±å…¥äº†è§£CSSæ»¤é•œå±æ€§</h3><p><strong>filter</strong></p><blockquote><p>filterå±æ€§æ€»å…±æ”¯æŒ10ä¸ªæ»¤é•œå‡½æ•°,æ‰€æœ‰filterå±æ€§æ”¯æŒçš„æ»¤é•œå‡½æ•°éƒ½æ”¯æŒanimationåŠ¨ç”»æ•ˆæœ</p></blockquote><table><thead><tr><th>æ»¤é•œ</th><th align="center">é‡Šä¹‰</th></tr></thead><tbody><tr><td>filter:blur(5px)</td><td align="center">æ¨¡ç³Š</td></tr><tr><td>filter:brightness(2.4)</td><td align="center">äº®åº¦</td></tr><tr><td>filter:contrast(200%)</td><td align="center">å¯¹æ¯”åº¦</td></tr><tr><td>filter:drop-shadow(4px 4px 8px blue)</td><td align="center">æŠ•å½±</td></tr><tr><td>filter:grayscale(50%)</td><td align="center">ç°åº¦</td></tr><tr><td>filter:hue-rotate(90deg)</td><td align="center">è‰²è°ƒæ—‹è½¬</td></tr><tr><td>filter:invert(75%)</td><td align="center">åç›¸</td></tr><tr><td>filter:opacity(25%)</td><td align="center">é€æ˜åº¦</td></tr><tr><td>filter:saturate(230%)</td><td align="center">é¥±å’Œåº¦</td></tr><tr><td>filter:sepia(60%)</td><td align="center">è¤è‰²</td></tr></tbody></table><h4 id="æ¨¡ç³Šæ»¤é•œå‡½æ•°blur"><a href="#æ¨¡ç³Šæ»¤é•œå‡½æ•°blur" class="headerlink" title="æ¨¡ç³Šæ»¤é•œå‡½æ•°blur()"></a>æ¨¡ç³Šæ»¤é•œå‡½æ•°blur()</h4><blockquote><p>ä½¿ç”¨blur()å‡½æ•°å¯ä»¥è®©å…ƒç´ æˆ–è€…å›¾åƒäº§ç”Ÿé«˜æ–¯æ¨¡ç³Šçš„æ•ˆæœ</p></blockquote><p>ä½¿ç”¨blur()å‡½æ•°åå›¾åƒè¾¹ç¼˜æ³›ç™½æ•ˆæœ</p><p>è§£å†³ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1.1</span>);</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">5px</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/11/1-1.php">å¾„å‘æ¨¡ç³Šå±€éƒ¨æ¨¡ç³Šæ•ˆæœ</a></p><h4 id="äº®åº¦æ»¤é•œå‡½æ•°brightness"><a href="#äº®åº¦æ»¤é•œå‡½æ•°brightness" class="headerlink" title="äº®åº¦æ»¤é•œå‡½æ•°brightness()"></a>äº®åº¦æ»¤é•œå‡½æ•°brightness()</h4><blockquote><p>å¯ä»¥ç”¨æ¥è°ƒèŠ‚å…ƒç´ çš„äº®åº¦.</p><p>brightness()å‡½æ•°çš„å‚æ•°å€¼æ”¯æŒæ•°å€¼å’Œç™¾åˆ†æ¯”å€¼ï¼ŒèŒƒå›´æ˜¯0åˆ°æ— ç©·å¤§ã€‚å‚æ•°å€¼0æˆ–0%è¡¨ç¤ºçº¯é»‘è‰²ï¼Œå‚æ•°å€¼1æˆ–100%è¡¨ç¤ºæ­£å¸¸çš„äº®åº¦ï¼Œ0ï½1æˆ–0%ï½100%çš„äº®åº¦æ˜¯çº¿æ€§å˜åŒ–çš„ã€‚éšç€å‚æ•°å€¼é€æ¸å¤§äº1æˆ–å¤§äº100%ï¼Œå…ƒç´ çš„äº®åº¦ä¹Ÿä¼šé€æ¸æå‡ã€‚</p><p>å€¼ä¸ºç©ºåˆ™ä½¿ç”¨å‚æ•°1</p></blockquote><p><a href="https://demo.cssworld.cn/new/11/1-2.php#">æ•ˆæœå±•ç¤º</a></p><h4 id="å¯¹æ¯”åº¦æ»¤é•œå‡½æ•°contrast"><a href="#å¯¹æ¯”åº¦æ»¤é•œå‡½æ•°contrast" class="headerlink" title="å¯¹æ¯”åº¦æ»¤é•œå‡½æ•°contrast()"></a>å¯¹æ¯”åº¦æ»¤é•œå‡½æ•°contrast()</h4><blockquote><p>å¯ä»¥ç”¨æ¥è°ƒèŠ‚å…ƒç´ çš„å¯¹æ¯”åº¦.</p><p>contrast()å‡½æ•°çš„<strong>å‚æ•°å€¼æ”¯æŒæ•°å€¼å’Œç™¾åˆ†æ¯”å€¼</strong>ï¼ŒèŒƒå›´æ˜¯0åˆ°æ— ç©·å¤§ã€‚å‚æ•°å€¼0æˆ–0%è¡¨ç¤ºæ¯«æ— å¯¹æ¯”åº¦ï¼Œè¡¨ç°ä¸ºçº¯ç°è‰²ï¼Œè‰²å€¼æ˜¯#808080ï¼Œä½¿ç”¨RGBè‰²å€¼è¡¨ç¤ºä¸ºrgb(128,128,128)ï¼Œä¹Ÿå°±æ˜¯grayé¢œè‰²å…³é”®å­—å¯¹åº”çš„è‰²å€¼ã€‚æ³¨æ„ï¼Œè¿™é‡Œè¯´çš„æ˜¯çº¯ç°è‰²ï¼Œå›¾åƒä¼šç›´æ¥å˜æˆä¸€ä¸ªç°è‰²è‰²å—ï¼Œè€Œä¸æ˜¯å›¾åƒç°åº¦ã€‚å‚æ•°å€¼1æˆ–100%è¡¨ç¤ºæ­£å¸¸çš„å¯¹æ¯”åº¦ã€‚éšç€å‚æ•°å€¼é€æ¸å¤§äº1ï¼Œå…ƒç´ çš„å¯¹æ¯”åº¦ä¹Ÿä¼šé€æ¸æå‡ã€‚</p><p>å€¼ä¸ºç©ºåˆ™ä½¿ç”¨å‚æ•°1</p></blockquote><h4 id="æŠ•å½±æ»¤é•œå‡½æ•°drop-shadow"><a href="#æŠ•å½±æ»¤é•œå‡½æ•°drop-shadow" class="headerlink" title="æŠ•å½±æ»¤é•œå‡½æ•°drop-shadow()"></a>æŠ•å½±æ»¤é•œå‡½æ•°drop-shadow()</h4><blockquote><p>å¯ä»¥ç»™å…ƒç´ è®¾ç½®ç¬¦åˆçœŸå®ä¸–ç•Œé˜´å½±è§„åˆ™çš„æŠ•å½±æ•ˆæœ</p><p>ä»è¯­æ³•ä¸Šæ¥çœ‹ï¼Œdrop-shadow()å‡½æ•°æœ€å¤šåªæ”¯æŒ3ä¸ªæ•°å€¼ï¼Œè€Œbox-shadowå±æ€§æœ€å¤šæ”¯æŒ4ä¸ªæ•°å€¼ï¼Œå…¶ä¸­ç¬¬å››ä¸ªæ•°å€¼è¡¨ç¤ºæ‰©å±•ã€‚</p><p>drop-shadow()å‡½æ•°æ²¡æœ‰å†…æŠ•å½±æ•ˆæœï¼Œè€Œbox-shadowå±æ€§å¯ä»¥ä½¿ç”¨insetå…³é”®å­—å®ç°å†…é˜´å½±æ•ˆæœã€‚</p><p>drop-shadow()å‡½æ•°ä¸æ”¯æŒæŠ•å½±å åŠ ï¼Œbox-shadowå±æ€§åˆ™å…è®¸æ— é™ç´¯åŠ æŠ•å½±</p></blockquote><p>ä½¿ç”¨drop-shadow()å‡½æ•°å®ç°çš„æŠ•å½±æ˜¯**<a href="https://demo.cssworld.cn/new/11/1-3.php">ç¬¦åˆçœŸå®ä¸–ç•Œè¡¨ç°çš„æŠ•å½±</a>**ï¼Œå‡¡æ˜¯é€æ˜é•‚ç©ºçš„åœ°æ–¹ï¼Œä¸€å®šä¼šç•™ä¸‹ç›¸åº”çš„é˜´å½±è½®å»“ã€‚ç›¸å¯¹çš„ï¼Œbox-shadowå±æ€§å®ç°çš„æ˜¯ç›’é˜´å½±ï¼Œåªä¼šåœ¨æ–¹æ–¹æ­£æ­£çš„ç›’å­çš„å››å‘¨ç•™ä¸‹é˜´å½±æ•ˆæœï¼Œæ— è®ºæ˜¯é•‚ç©ºè¿˜æ˜¯å‡¸å‡ºçš„å›¾å½¢éƒ½ä¸ä¼šæœ‰é˜´å½±æ•ˆæœã€‚</p><h4 id="ç°åº¦æ»¤é•œå‡½æ•°grayscale"><a href="#ç°åº¦æ»¤é•œå‡½æ•°grayscale" class="headerlink" title="ç°åº¦æ»¤é•œå‡½æ•°grayscale()"></a>ç°åº¦æ»¤é•œå‡½æ•°grayscale()</h4><blockquote><p>å¯ä»¥å®ç°å…ƒç´ çš„å»è‰²æ•ˆæœï¼Œè®©æ‰€æœ‰å½©è‰²å€¼å˜æˆç°åº¦å€¼ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">70%</span>); <span class="comment">/* 70% ç­‰åŒäº 0.7 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>0æˆ–0%è¡¨ç¤ºæ­£å¸¸çš„å›¾åƒè¡¨ç°ã€‚åœ¨0ï½1æˆ–0%ï½100%èŒƒå›´åŒºé—´çš„ç°åº¦æ˜¯çº¿æ€§å˜åŒ–çš„ã€‚</p></blockquote><p>grayscale()å‡½æ•°æ¯”è¾ƒç»å…¸çš„åº”ç”¨æ˜¯åœ¨ç‰¹æ®Šçš„èŠ‚æ—¥è®©ç½‘é¡µå˜ç°ï¼Œè¿™ä¸ªæ•ˆæœåªéœ€ä¸€è¡ŒCSSä»£ç å³å¯å®ç°ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">grayscale</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è‰²è°ƒæ—‹è½¬æ»¤é•œå‡½æ•°hue-rotate"><a href="#è‰²è°ƒæ—‹è½¬æ»¤é•œå‡½æ•°hue-rotate" class="headerlink" title="è‰²è°ƒæ—‹è½¬æ»¤é•œå‡½æ•°hue-rotate()"></a>è‰²è°ƒæ—‹è½¬æ»¤é•œå‡½æ•°hue-rotate()</h4><blockquote><p>å¯ä»¥è°ƒæ•´å…ƒç´ çš„è‰²è°ƒï¼Œä½†é¥±å’Œåº¦å’Œäº®åº¦ä¿æŒä¸å˜</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">filter</span>: <span class="built_in">hue-rotate</span>(<span class="number">90deg</span>);</span><br></pre></td></tr></table></figure><p>hue-rotate()å‡½æ•°çš„å‚æ•°å€¼æ”¯æŒè§’åº¦å€¼ï¼Œä¾‹å¦‚90degæˆ–0.5turnç­‰ï¼Œè§’åº¦å€¼çš„èŒƒå›´æ²¡æœ‰é™åˆ¶ï¼Œæ¯360åº¦å°±æ˜¯ä¸€ä¸ªå¾ªç¯ã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/11/1-4.php">å®ç°7å½©æ–‡å­—æ•ˆæœ</a></p><h4 id="åç›¸æ»¤é•œå‡½æ•°invert"><a href="#åç›¸æ»¤é•œå‡½æ•°invert" class="headerlink" title="åç›¸æ»¤é•œå‡½æ•°invert()"></a>åç›¸æ»¤é•œå‡½æ•°invert()</h4><blockquote><p>invert()å‡½æ•°å¯ä»¥è®©å…ƒç´ çš„äº®åº¦å’Œè‰²è°ƒåŒæ—¶åè½¬</p><p>invert()å‡½æ•°çš„å‚æ•°å€¼æ”¯æŒæ•°å€¼å’Œç™¾åˆ†æ¯”å€¼ï¼ŒèŒƒå›´æ˜¯0åˆ°æ— ç©·å¤§ã€‚å‚æ•°å€¼ä¸º1æˆ–100%çš„æ—¶å€™å›¾åƒè¡¨ç°ä¸ºå®Œå…¨åç›¸ã€‚å•çº¯ä»è¯­æ³•ä¸Šæ¥è¯´ï¼Œå€¼å¯ä»¥å¤§äº1æˆ–è€…å¤§äº100%ï¼Œä½†æ˜¯æ•ˆæœä¸ä¼šå†è¿›ä¸€æ­¥å˜åŒ–ã€‚0æˆ–0%è¡¨ç¤ºæ­£å¸¸çš„å›¾åƒè¡¨ç°ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line"><span class="attribute">filter</span>: <span class="built_in">invert</span>(<span class="number">75%</span>);<span class="comment">/*0.75*/</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>invert()å‡½æ•°å¯ä»¥å’Œhue-rotate()å‡½æ•°ä¸€èµ·ä½¿ç”¨ï¼Œå®ç°åè½¬å…ƒç´ äº®åº¦çš„æ•ˆæœï¼Œä¸‹é¢è¿™æ®µCSSä»£ç åœ¨å®ç°æ·±è‰²æ¨¡å¼æ•ˆæœçš„æ—¶å€™å¾ˆå®ç”¨ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">filter</span>: <span class="built_in">invert</span>(<span class="number">1</span>) <span class="built_in">hue-rotate</span>(<span class="number">180deg</span>);</span><br></pre></td></tr></table></figure><h4 id="é€æ˜åº¦æ»¤é•œå‡½æ•°opacity"><a href="#é€æ˜åº¦æ»¤é•œå‡½æ•°opacity" class="headerlink" title="é€æ˜åº¦æ»¤é•œå‡½æ•°opacity()"></a>é€æ˜åº¦æ»¤é•œå‡½æ•°opacity()</h4><blockquote><p>opacity()å‡½æ•°å¯ä»¥æ”¹å˜å…ƒç´ çš„é€æ˜åº¦ï¼Œæ•ˆæœå’Œopacityå±æ€§ç±»ä¼¼</p><p>opacity()å‡½æ•°çš„å‚æ•°å€¼æ”¯æŒæ•°å€¼å’Œç™¾åˆ†æ¯”å€¼ï¼ŒèŒƒå›´æ˜¯0åˆ°æ— ç©·å¤§ã€‚å‚æ•°å€¼ä¸º0æˆ–0%çš„æ—¶å€™å›¾åƒè¡¨ç°ä¸ºå®Œå…¨é€æ˜ï¼›å‚æ•°å€¼ä¸º1æˆ–100%æˆ–è€…æ›´å¤§çš„å€¼æ—¶ï¼Œå›¾åƒå‡æ˜¯æ­£å¸¸è¡¨ç°ã€‚</p><p>opacity()å‡½æ•°å’Œopacityå±æ€§çš„åŒºåˆ«åœ¨äºï¼Œåœ¨éƒ¨åˆ†æµè§ˆå™¨ä¸­ï¼Œä½¿ç”¨opacity()å‡½æ•°å¯ä»¥å¯ç”¨ç¡¬ä»¶åŠ é€Ÿï¼Œæ€§èƒ½ä¼šæ›´å¥½ã€‚ä¸è¿‡ç”±äºopacityå±æ€§æœ¬èº«æ€§èƒ½å°±éå¸¸å¥½ï¼Œå› æ­¤æ²¡æœ‰ä»»ä½•å¿…è¦ä½¿ç”¨opacity()å‡½æ•°ã€‚å¦å¤–ï¼ŒåŒæ—¶ä½¿ç”¨opacity()å‡½æ•°å’Œopacityå±æ€§çš„æ—¶å€™ï¼Œå…ƒç´ çš„é€æ˜åº¦æ•ˆæœä¼šäº’ç›¸ç´¯åŠ ï¼Œä¹Ÿå°±æ˜¯æœ€ç»ˆæ¸²æŸ“å›¾åƒçš„é€æ˜åº¦ä¼šè¿›ä¸€æ­¥é™ä½ã€‚</p></blockquote><h4 id="é¥±å’Œåº¦æ»¤é•œå‡½æ•°saturate"><a href="#é¥±å’Œåº¦æ»¤é•œå‡½æ•°saturate" class="headerlink" title="é¥±å’Œåº¦æ»¤é•œå‡½æ•°saturate()"></a>é¥±å’Œåº¦æ»¤é•œå‡½æ•°saturate()</h4><blockquote><p>saturate()å‡½æ•°å¯ä»¥è°ƒæ•´å…ƒç´ çš„é¥±å’Œåº¦</p><p>saturate()å‡½æ•°çš„å‚æ•°å€¼æ”¯æŒæ•°å€¼å’Œç™¾åˆ†æ¯”å€¼ï¼ŒèŒƒå›´æ˜¯0åˆ°æ— ç©·å¤§ã€‚å‚æ•°å€¼0æˆ–0%è¡¨ç¤ºæ¯«æ— é¥±å’Œåº¦ï¼Œè¡¨ç°ä¸ºç°åº¦æ•ˆæœï¼Œç­‰åŒäºgrayscale(1)ï¼›å‚æ•°å€¼1æˆ–100%è¡¨ç¤ºæ­£å¸¸çš„é¥±å’Œåº¦ï¼›éšç€å‚æ•°å€¼é€æ¸å¤§äº1ï¼Œå…ƒç´ çš„é¥±å’Œåº¦ä¹Ÿä¼šé€æ¸æå‡ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">saturate</span>(<span class="number">230%</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="è¤è‰²æ»¤é•œå‡½æ•°sepia"><a href="#è¤è‰²æ»¤é•œå‡½æ•°sepia" class="headerlink" title="è¤è‰²æ»¤é•œå‡½æ•°sepia()"></a>è¤è‰²æ»¤é•œå‡½æ•°sepia()</h4><blockquote><p>sepia()å‡½æ•°å¯ä»¥è®©å…ƒç´ çš„è§†è§‰æ•ˆæœå‘è¤è‰²é æ‹¢</p><p>sepia()å‡½æ•°çš„å‚æ•°å€¼æ”¯æŒæ•°å€¼å’Œç™¾åˆ†æ¯”å€¼ï¼ŒèŒƒå›´æ˜¯0åˆ°æ— ç©·å¤§ã€‚å½“å‚æ•°å€¼ä¸º1æˆ–100%ï¼Œæˆ–è€…å¤§äº1æˆ–100%æ—¶ï¼Œå›¾åƒå‡è¡¨ç°ä¸ºæ·±è¤è‰²ï¼›å½“å‚æ•°å€¼ä¸º0æˆ–0%æ—¶ï¼Œå›¾åƒè¿˜æ˜¯åŸå§‹æ•ˆæœã€‚</p></blockquote><p><strong>sepia()å‡½æ•°åœ¨æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨ä¸å¤šï¼Œä¸»è¦æ˜¯ç”¨æ¥å®ç°è€ç…§ç‰‡æ•ˆæœã€‚</strong></p><h3 id="æ›´è¿›ä¸€æ­¥çš„æ»¤é•œæŠ€æœ¯"><a href="#æ›´è¿›ä¸€æ­¥çš„æ»¤é•œæŠ€æœ¯" class="headerlink" title="æ›´è¿›ä¸€æ­¥çš„æ»¤é•œæŠ€æœ¯"></a>æ›´è¿›ä¸€æ­¥çš„æ»¤é•œæŠ€æœ¯</h3><h4 id="å®ç°å…ƒç´ èåˆæ•ˆæœçš„æŠ€æœ¯"><a href="#å®ç°å…ƒç´ èåˆæ•ˆæœçš„æŠ€æœ¯" class="headerlink" title="å®ç°å…ƒç´ èåˆæ•ˆæœçš„æŠ€æœ¯"></a><a href="https://demo.cssworld.cn/new/11/1-5.php">å®ç°å…ƒç´ èåˆæ•ˆæœçš„æŠ€æœ¯</a></h4><blockquote><p>å°±æ˜¯åŒæ—¶ä½¿ç”¨æ¨¡ç³Šæ»¤é•œå‡½æ•°å’Œå¯¹æ¯”åº¦æ»¤é•œå‡½æ•°</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">10px</span>) <span class="built_in">contrast</span>(<span class="number">5</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å¼•ç”¨SVGæ»¤é•œæŠ€æœ¯"><a href="#å¼•ç”¨SVGæ»¤é•œæŠ€æœ¯" class="headerlink" title="å¼•ç”¨SVGæ»¤é•œæŠ€æœ¯"></a>å¼•ç”¨SVGæ»¤é•œæŠ€æœ¯</h4><p><strong>èåˆç²˜æ»æ•ˆæœ</strong></p><p><a href="https://demo.cssworld.cn/new/11/1-6.php">filter SVGæ»¤é•œèåˆç²˜æ»æ•ˆæœå®</a></p><p><a href="https://demo.cssworld.cn/new/11/1-7.php">filter SVGæ»¤é•œæ°´æ³¢è¡æ¼¾çš„æ•ˆæœå®</a></p><h4 id="å§å¦¹èŠ±æ»¤é•œå±æ€§backdrop-filter"><a href="#å§å¦¹èŠ±æ»¤é•œå±æ€§backdrop-filter" class="headerlink" title="å§å¦¹èŠ±æ»¤é•œå±æ€§backdrop-filter"></a>å§å¦¹èŠ±æ»¤é•œå±æ€§backdrop-filter</h4><blockquote><p>CSSèƒŒæ™¯æ»¤é•œå±æ€§backdrop-filteræ˜¯ä¸€ä¸ªäººè§äººçˆ±çš„å±æ€§ï¼Œå®ƒå¯ä»¥éå¸¸è½»æ¾åœ°å®ç°æ¯›ç»ç’ƒæ•ˆæœç­‰ç¾è§‚çš„æ»¤é•œç‰¹æ•ˆã€‚</p><p>backdrop-filterå±æ€§çš„å­¦ä¹ æˆæœ¬æä½ï¼Œå› ä¸ºå®ƒå’Œfilterå±æ€§çš„è¯­æ³•å‡ ä¹æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚</p><p>backdrop-filterå±æ€§å’Œfilterå±æ€§çš„åŒºåˆ«åœ¨äºbackdrop-filterå±æ€§æ˜¯è®©å½“å‰å…ƒç´ æ‰€åœ¨åŒºåŸŸåé¢çš„å†…å®¹åº”ç”¨æ»¤é•œæ•ˆæœï¼Œè¦æƒ³çœ‹åˆ°æ»¤é•œæ•ˆæœï¼Œéœ€è¦å½“å‰å…ƒç´ æœ¬èº«æ˜¯åŠé€æ˜æˆ–è€…å®Œå…¨é€æ˜çš„ï¼›è€Œfilterå±æ€§æ˜¯è®©å½“å‰å…ƒç´ è‡ªèº«åº”ç”¨æ»¤é•œæ•ˆæœã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/new/11/2-1.php">backdrop-filterå’Œfilterå±æ€§æ•ˆæœå¯¹æ¯”ç¤ºæ„å®</a></p><h4 id="backdrop-filterå±æ€§ä¸æ¯›ç»ç’ƒæ•ˆæœ"><a href="#backdrop-filterå±æ€§ä¸æ¯›ç»ç’ƒæ•ˆæœ" class="headerlink" title="backdrop-filterå±æ€§ä¸æ¯›ç»ç’ƒæ•ˆæœ"></a>backdrop-filterå±æ€§ä¸æ¯›ç»ç’ƒæ•ˆæœ</h4><blockquote><p>æ¯›ç»ç’ƒæ•ˆæœå¿…é¡»è¦è®¾ç½®å…ƒç´ é€æ˜åº¦</p></blockquote><p><a href="https://demo.cssworld.cn/new/11/2-2.php">å¼¹æ¡†æ¯›ç»ç’ƒæ•ˆæœå®</a></p><p><a href="https://demo.cssworld.cn/new/11/2-3.php">ä¸‹æ‹‰æ¡†æ¯›ç»ç’ƒ</a></p><blockquote><p><strong>å¯¹äºbackdrop-filterå±æ€§ï¼Œè¯·å‹¿ä½¿ç”¨opacity()å‡½æ•°ä½œä¸ºå±æ€§å€¼ã€‚</strong></p></blockquote><h3 id="æ·±å…¥äº†è§£CSSæ··åˆæ¨¡å¼"><a href="#æ·±å…¥äº†è§£CSSæ··åˆæ¨¡å¼" class="headerlink" title="æ·±å…¥äº†è§£CSSæ··åˆæ¨¡å¼"></a>æ·±å…¥äº†è§£CSSæ··åˆæ¨¡å¼</h3><blockquote><p>CSSæœ‰ä¸‹é¢3ä¸ªæ··åˆæ¨¡å¼ç›¸å…³å±æ€§ï¼š</p><p>background-blend-mode å±æ€§ç”¨äºæ··åˆå…ƒç´ èƒŒæ™¯å›¾æ¡ˆã€æ¸å˜å’Œé¢œè‰²ï¼›</p><p>mix-blend-mode å±æ€§ç”¨äºå…ƒç´ ä¸å…ƒç´ ä¹‹é—´çš„æ··åˆï¼›</p><p>isolation å±æ€§ç”¨åœ¨ç¥–å…ˆå…ƒç´ ä¸Šï¼Œé™åˆ¶mix-blend-modeå±æ€§è®¾ç½®çš„æ··åˆæ¨¡å¼çš„åº”ç”¨èŒƒå›´ã€‚</p></blockquote><table><thead><tr><th>æ··åˆæ¨¡å¼ç±»å‹</th><th align="center">é‡Šä¹‰</th></tr></thead><tbody><tr><td>normal</td><td align="center">æ­£å¸¸</td></tr><tr><td>multiply</td><td align="center">æ­£ç‰‡å åº•</td></tr><tr><td>screen</td><td align="center">æ»¤è‰²</td></tr><tr><td>overlay</td><td align="center">å åŠ </td></tr><tr><td>darken</td><td align="center">å˜æš—</td></tr><tr><td>lighten</td><td align="center">å˜äº®</td></tr><tr><td>color-dodge</td><td align="center">é¢œè‰²å˜æ·¡</td></tr><tr><td>color-burn</td><td align="center">é¢œè‰²åŠ æ·±</td></tr><tr><td>hard-light</td><td align="center">å¼ºå…‰</td></tr><tr><td>soft-light</td><td align="center">æŸ”å…‰</td></tr><tr><td>difference</td><td align="center">å·®å€¼</td></tr><tr><td>exclusion</td><td align="center">æ’é™¤</td></tr><tr><td>hue</td><td align="center">è‰²è°ƒ</td></tr><tr><td>saturation</td><td align="center">é¥±å’Œåº¦</td></tr><tr><td>color</td><td align="center">é¢œè‰²</td></tr><tr><td>luminosity</td><td align="center">äº®åº¦</td></tr></tbody></table><h4 id="mix-blend-mode-multiply"><a href="#mix-blend-mode-multiply" class="headerlink" title="mix-blend-mode:multiply"></a>mix-blend-mode:multiply</h4><blockquote><p>å€¼multiplyçš„æ··åˆæ•ˆæœæ˜¯æ­£ç‰‡å åº•ï¼Œæœ€ç»ˆæ•ˆæœè¡¨ç°çš„è‰²å€¼çš„è®¡ç®—å…¬å¼æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C = <span class="variable constant_">AB</span>/<span class="number">255</span></span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œå·²çŸ¥é¢œè‰²å…³é”®å­—deepskyblueçš„RGBè‰²å€¼æ˜¯<strong>rgb(0,192,255)<strong>ï¼Œé¢œè‰²å…³é”®å­—deeppinkçš„RGBè‰²å€¼æ˜¯</strong>rgb(255,20,147)<strong>ï¼Œåˆ™è¿™ä¸¤ç§é¢œè‰²è¿›è¡Œæ­£ç‰‡å åº•æ··åˆåçš„è‰²å€¼æ˜¯</strong>rgb(0,15,147)</strong></p></blockquote><p><a href="https://demo.cssworld.cn/new/11/3-2.php">æµ…è‰²èƒŒæ™¯ç´ ææ··åˆæ•ˆæœå®ä¾‹</a></p><h4 id="mix-blend-mode-screen"><a href="#mix-blend-mode-screen" class="headerlink" title="mix-blend-mode:screen"></a>mix-blend-mode:screen</h4><blockquote><p>å€¼screençš„<strong>æ··åˆæ•ˆæœæ˜¯æ»¤è‰²</strong>ï¼Œæœ€ç»ˆæ•ˆæœçš„è‰²å€¼çš„è®¡ç®—å…¬å¼æ˜¯ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C = <span class="number">255</span> - [(<span class="number">255</span>-A)(<span class="number">255</span>-B)]/<span class="number">255</span></span><br></pre></td></tr></table></figure></blockquote><p>screençš„æ•ˆæœå’Œmultiplyæ­£å¥½ç›¸åï¼Œmultiplyçš„æ•ˆæœæ˜¯æ··åˆåé¢œè‰²å˜æš—ï¼Œè€Œscreenåˆ™æ˜¯æ··åˆåé¢œè‰²å˜äº®ã€‚å› ä¸ºæ»¤è‰²æ··åˆæ¨¡å¼å°†ä¸¤ä¸ªæ··åˆé¢œè‰²çš„äº’è¡¥è‰²å€¼ç›¸ä¹˜ï¼Œç„¶åé™¤ä»¥255ã€‚</p><p>æ»¤è‰²æ¨¡å¼å…·æœ‰ä»¥ä¸‹ä¸€äº›ç›´è§‚çš„ç‰¹æ€§ï¼š</p><ul><li>ä»»ä½•é¢œè‰²å’Œé»‘è‰²è¿›è¡Œæ»¤è‰²æ··åˆåï¼Œè¿˜æ˜¯å‘ˆç°åŸæ¥çš„é¢œè‰²ï¼›</li><li>ä»»ä½•é¢œè‰²å’Œç™½è‰²è¿›è¡Œæ»¤è‰²æ··åˆåå¾—åˆ°çš„ä»æ˜¯ç™½è‰²ï¼›</li><li>ä»»ä½•é¢œè‰²å’Œå…¶ä»–é¢œè‰²è¿›è¡Œæ»¤è‰²æ··åˆåï¼Œé¢œè‰²ä¼šæ›´æµ…ï¼Œæœ‰ç‚¹ç±»ä¼¼æ¼‚ç™½çš„æ•ˆæœã€‚</li></ul><p><a href="https://demo.cssworld.cn/new/11/3-3.php">æ»¤è‰²ä¸å‰æ™¯ç‰¹æ•ˆ</a></p><blockquote><p>æ— è®ºæ˜¯æ­£ç‰‡å åº•ã€æ»¤è‰²ï¼Œè¿˜æ˜¯æ¥ä¸‹æ¥è¦ä»‹ç»çš„æ··åˆæ¨¡å¼ï¼Œéƒ½ä¸ä»…ä»…é€‚ç”¨äºå›¾åƒï¼Œ<strong>è¿˜é€‚ç”¨äºè§†é¢‘å…ƒç´ </strong>ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¸Œæœ›ç½‘é¡µä¸­æœ‰çƒŸèŠ±æ’­æ”¾çš„åŠ¨æ€æ•ˆæœï¼Œæ— é¡»ä½¿ç”¨WebGLè¿™ä¹ˆå¤æ‚çš„æŠ€æœ¯ï¼Œç›´æ¥å‡†å¤‡ä¸€ä¸ªçƒŸèŠ±æ’­æ”¾çš„è§†é¢‘ï¼Œç”±äºè§†é¢‘é»˜è®¤çš„èƒŒæ™¯è‰²éƒ½æ˜¯é»‘è‰²çš„ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬åªéœ€è¦è®¾ç½®è§†é¢‘çš„æ··åˆæ¨¡å¼æ˜¯screenï¼ŒçƒŸèŠ±æ’­æ”¾åŠ¨ç”»å°±å‡ºç°äº†</p></blockquote><h4 id="mix-blend-mode-overlay"><a href="#mix-blend-mode-overlay" class="headerlink" title="mix-blend-mode:overlay"></a>mix-blend-mode:overlay</h4><blockquote><p>overlayçš„<strong>æ··åˆæ•ˆæœæ˜¯å åŠ </strong>ï¼Œæœ€ç»ˆæ•ˆæœçš„è‰²å€¼çš„è®¡ç®—å…¬å¼æ‰€ç¤ºï¼ˆè¡¨ç¤ºåº•å›¾çš„è‰²å€¼ï¼‰ã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å½“ A &lt;= 128æ—¶ï¼š</span></span><br><span class="line">C = <span class="variable constant_">AB</span>/<span class="number">128</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“ A &gt; 128æ—¶ï¼š</span></span><br><span class="line">C = <span class="number">255</span> - [(<span class="number">255</span> - A)(<span class="number">255</span> - B)]/<span class="number">128</span></span><br></pre></td></tr></table></figure><p>å åŠ æ•ˆæœåœ¨Webä¸­ä¸»è¦æœ‰ä¸¤ä¸ªåº”ç”¨åœºæ™¯ï¼Œä¸€ä¸ªæ˜¯åœ¨å›¾åƒä¸Šæ˜¾ç¤ºæ–‡å­—æ°´å°ï¼Œå¦ä¸€ä¸ªæ˜¯ç€è‰²å åŠ </p><p><a href="https://demo.cssworld.cn/new/11/3-4.php">å åŠ æ¨¡å¼æ•ˆæœ</a></p><h4 id="mix-blend-mode-darken"><a href="#mix-blend-mode-darken" class="headerlink" title="mix-blend-mode:darken"></a>mix-blend-mode:darken</h4><blockquote><p><strong>æ··åˆæ•ˆæœæ˜¯å˜æš—</strong>ï¼Œè¡¨ç¤ºå°†ä¸¤ç§é¢œè‰²çš„RGBé€šé“å€¼ä¾æ¬¡è¿›è¡Œæ¯”è¾ƒï¼Œå“ªä¸ªè‰²å€¼å°å°±ä½¿ç”¨å“ªä¸ªè‰²å€¼ã€‚æœ€ç»ˆæ•ˆæœçš„è‰²å€¼çš„è®¡ç®—å…¬å¼æ˜¯ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C = <span class="title function_">min</span>(A,B)</span><br></pre></td></tr></table></figure><h4 id="mix-blend-mode-lighten"><a href="#mix-blend-mode-lighten" class="headerlink" title="mix-blend-mode:lighten"></a>mix-blend-mode:lighten</h4><blockquote><p>å€¼lightençš„<strong>æ··åˆæ•ˆæœæ˜¯å˜äº®</strong>ï¼Œè¡¨ç¤ºå°†ä¸¤ä¸ªé¢œè‰²çš„RGBé€šé“å€¼ä¾æ¬¡è¿›è¡Œæ¯”è¾ƒï¼Œå“ªä¸ªè‰²å€¼å¤§å°±ä½¿ç”¨å“ªä¸ªè‰²å€¼ã€‚æœ€ç»ˆæ•ˆæœçš„è‰²å€¼çš„è®¡ç®—å…¬å¼æ˜¯ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C = <span class="title function_">max</span>(A,B)</span><br></pre></td></tr></table></figure><h4 id="mix-blend-mode-color-dodge"><a href="#mix-blend-mode-color-dodge" class="headerlink" title="mix-blend-mode:color-dodge"></a>mix-blend-mode:color-dodge</h4><blockquote><p>color-dodgeçš„<strong>æ··åˆæ•ˆæœæ˜¯é¢œè‰²å˜æ·¡</strong>ï¼Œæœ€ç»ˆæ•ˆæœçš„è‰²å€¼çš„è®¡ç®—å…¬å¼æ˜¯ï¼š</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C = <span class="selector-tag">A</span> + AB/(<span class="number">255</span> - <span class="selector-tag">B</span>)</span><br></pre></td></tr></table></figure><blockquote><p>ï¼Œé€‚åˆå¤„ç†é«˜å…‰ä¸‹çš„äººç‰©ç…§ç‰‡ï¼Œé€šè¿‡å°†ç…§ç‰‡å’Œç‰¹å®šé¢œè‰²æ··åˆï¼Œå¯ä»¥æ”¹å˜æ•´ä¸ªç…§ç‰‡çš„è‰²è°ƒï¼ˆæš–è‰²è°ƒæˆ–æ˜¯å†·è‰²è°ƒï¼‰ï¼Œè€Œä¸ä¼šå½±å“äººç‰©é«˜å…‰åŒºåŸŸçš„ç»†èŠ‚ã€‚</p></blockquote><h4 id="mix-blend-mode-color-burn"><a href="#mix-blend-mode-color-burn" class="headerlink" title="mix-blend-mode:color-burn"></a>mix-blend-mode:color-burn</h4><blockquote><p>color-burnçš„<strong>æ··åˆæ•ˆæœæ˜¯é¢œè‰²åŠ æ·±</strong>ï¼Œæœ€ç»ˆæ•ˆæœçš„è‰²å€¼çš„è®¡ç®—å…¬å¼æ˜¯ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C = A - [(<span class="number">255</span> - A)(<span class="number">255</span> - B)]/B</span><br></pre></td></tr></table></figure><blockquote><p>color-burné¢œè‰²åŠ æ·±æ··åˆæ¨¡å¼å¯ä»¥ç”¨æ¥ä¿æŠ¤åº•å›¾çš„é˜´å½±ï¼Œé€‚åˆå¤„ç†â€œå¹½æ·±ç§˜å¢ƒâ€ä¸€ç±»çš„ç…§ç‰‡ï¼Œé€šè¿‡å°†ç…§ç‰‡å’Œç‰¹å®šé¢œè‰²æ··åˆï¼Œå¯ä»¥è¥é€ æ›´åŠ å¹½æ·±çš„æ°›å›´ã€‚</p></blockquote><h4 id="mix-blend-mode-hard-light"><a href="#mix-blend-mode-hard-light" class="headerlink" title="mix-blend-mode:hard-light"></a>mix-blend-mode:hard-light</h4><blockquote><p>hard-lightçš„<strong>æ··åˆæ•ˆæœæ˜¯å¼ºå…‰</strong>ï¼Œå°±å¥½åƒè€€çœ¼çš„èšå…‰ç¯ç…§å°„è¿‡æ¥ï¼Œè¡¨ç°ä¸ºå›¾åƒ<strong>äº®çš„åœ°æ–¹æ›´äº®ï¼Œæš—çš„åœ°æ–¹æ›´æš—</strong>ã€‚æœ€ç»ˆæ•ˆæœçš„è‰²å€¼çš„è®¡ç®—å…¬å¼å¦‚ä¸‹æ‰€ç¤ºï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// B &lt;= 128 æ—¶</span></span><br><span class="line">C = <span class="variable constant_">AB</span>/<span class="number">128</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“B &gt; 128 æ—¶</span></span><br><span class="line">C = <span class="number">255</span> - [(<span class="number">255</span> - A)(<span class="number">255</span> - B)]/<span class="number">128</span></span><br></pre></td></tr></table></figure><h4 id="mix-blend-mode-soft-light"><a href="#mix-blend-mode-soft-light" class="headerlink" title="mix-blend-mode:soft-light"></a>mix-blend-mode:soft-light</h4><blockquote><p>soft-lightçš„æ··åˆæ•ˆæœæ˜¯æŸ”å…‰ï¼Œå°±å¥½åƒå‘æ•£çš„å…‰æºå››å¤„å¼¥æ¼«ï¼Œå®ƒçš„è¡¨ç°æ•ˆæœå’Œhard-lightæœ‰ç±»ä¼¼ä¹‹å¤„ï¼Œåªæ˜¯è¡¨ç°æ²¡æœ‰hard-lighté‚£ä¹ˆå¼ºçƒˆã€‚</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å½“B &lt;= 128 æ—¶</span></span><br><span class="line">C - <span class="variable constant_">AB</span>/<span class="number">128</span> + (A/<span class="number">255</span>)(A/<span class="number">255</span>)(<span class="number">255</span> - <span class="number">2</span> - B)</span><br><span class="line"></span><br><span class="line"><span class="comment">// å½“B &gt; 128 æ—¶</span></span><br><span class="line">C = <span class="number">255</span> - [(<span class="number">255</span> - A)(<span class="number">255</span> - B)]/<span class="number">128</span></span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/11/3-6.php">soft-lightå’Œhard-lightæ··åˆæ¨¡å¼æ•ˆæœå¯¹æ¯”</a></p><h4 id="mix-blend-mode-difference"><a href="#mix-blend-mode-difference" class="headerlink" title="mix-blend-mode:difference"></a>mix-blend-mode:difference</h4><blockquote><p>differenceçš„æ··åˆæ•ˆæœæ˜¯å·®å€¼ï¼Œæœ€ç»ˆé¢œè‰²çš„è‰²å€¼æ˜¯ç”¨è¾ƒæµ…é¢œè‰²çš„è‰²å€¼å‡å»è¾ƒæ·±é¢œè‰²çš„è‰²å€¼çš„ç»“æœï¼Œè®¡ç®—å…¬å¼æ˜¯ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C = |A - B|</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/11/3-7.php">differenceæ˜¾ç¤ºä¸åŒæ–‡å­—é¢œè‰²å®ä¾‹</a></p><h4 id="mix-blend-mode-exclusion"><a href="#mix-blend-mode-exclusion" class="headerlink" title="mix-blend-mode:exclusion"></a>mix-blend-mode:exclusion</h4><blockquote><p>å€¼exclusionçš„æ··åˆæ•ˆæœæ˜¯æ’é™¤ï¼Œæœ€ç»ˆçš„æ··åˆæ•ˆæœå’Œdifferenceæ¨¡å¼æ˜¯ç±»ä¼¼çš„ï¼ŒåŒºåˆ«åœ¨äºexclusionçš„å¯¹æ¯”åº¦è¦æ›´ä½ä¸€äº›ã€‚æœ€ç»ˆæ•ˆæœçš„è‰²å€¼çš„è®¡ç®—å…¬å¼æ˜¯ï¼š</p></blockquote><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C = A + B - <span class="variable constant_">AB</span>/<span class="number">128</span></span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/11/3-8.php">differenceå’Œexclusionæ··åˆæ¨¡å¼æ•ˆæœå¯¹æ¯”</a></p><p><strong>4ç§éƒ½å±äºé¢œè‰²ç³»æ··åˆæ¨¡å¼ã€‚</strong></p><h4 id="mix-blend-mode-hue"><a href="#mix-blend-mode-hue" class="headerlink" title="mix-blend-mode:hue"></a>mix-blend-mode:hue</h4><blockquote><p>å€¼hueè¡¨ç¤ºè‰²è°ƒæ··åˆï¼Œä½œç”¨æ˜¯å°†é¢œè‰²æ··åˆï¼Œä½¿ç”¨åº•å±‚å…ƒç´ çš„äº®åº¦å’Œé¥±å’Œåº¦ï¼Œä»¥åŠä¸Šå±‚å…ƒç´ çš„è‰²è°ƒ</p><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ‰€æœ‰é¢œè‰²ç³»æ··åˆæ¨¡å¼ï¼ˆè‰²è°ƒã€é¥±å’Œåº¦ã€é¢œè‰²å’Œäº®åº¦ï¼‰éƒ½ä¸è¦ä½¿ç”¨é»‘è‰²è¿›è¡Œæ··åˆï¼Œå› ä¸ºè¿™æ ·ä¼šæŒ–æ‰åº•å±‚å…ƒç´ çš„é¢œè‰²ä¿¡æ¯ï¼Œå¯¼è‡´æœ€ç»ˆæ··åˆåçš„é¢œè‰²æ˜¯ç°è‰²</p></blockquote><h4 id="mix-blend-mode-saturation"><a href="#mix-blend-mode-saturation" class="headerlink" title="mix-blend-mode:saturation"></a>mix-blend-mode:saturation</h4><blockquote><p>å€¼saturationè¡¨ç¤ºé¥±å’Œåº¦æ··åˆï¼Œæ··åˆåçš„é¢œè‰²ä¿ç•™åº•å›¾çš„äº®åº¦å’Œè‰²è°ƒï¼Œå¹¶ä½¿ç”¨é¡¶å›¾çš„é¥±å’Œåº¦ã€‚</p></blockquote><h4 id="mix-blend-mode-color"><a href="#mix-blend-mode-color" class="headerlink" title="mix-blend-mode:color"></a>mix-blend-mode:color</h4><blockquote><p>å€¼colorè¡¨ç¤ºé¢œè‰²æ··åˆï¼Œæ··åˆåçš„é¢œè‰²ä¿ç•™åº•å›¾çš„äº®åº¦ï¼Œå¹¶ä½¿ç”¨é¡¶å›¾çš„è‰²è°ƒå’Œé¥±å’Œåº¦ã€‚</p></blockquote><p>åŒæ ·ï¼Œé¢œè‰²æ··åˆæ¨¡å¼ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨CSSæ¸å˜è®©ç…§ç‰‡çš„è‰²è°ƒå˜å¾—ä¸°å¯Œèµ·æ¥</p><p><a href="https://demo.cssworld.cn/new/11/3-9.php">é¢œè‰²ç³»æ··åˆæ¨¡å¼å’Œè‰²ç›˜æ··åˆæ•ˆæœ</a></p><h4 id="mix-blend-mode-luminosity"><a href="#mix-blend-mode-luminosity" class="headerlink" title="mix-blend-mode:luminosity"></a>mix-blend-mode:luminosity</h4><blockquote><p>å€¼luminosityè¡¨ç¤ºäº®åº¦æ··åˆï¼Œæ··åˆåçš„é¢œè‰²ä¿ç•™åº•å›¾çš„è‰²è°ƒå’Œé¥±å’Œåº¦ï¼Œå¹¶ä½¿ç”¨é¡¶å›¾çš„äº®åº¦ï¼Œæ•ˆæœå’Œcoloræ¨¡å¼æ­£å¥½æ˜¯ç›¸åçš„</p></blockquote><p><a href="https://demo.cssworld.cn/new/11/3-1.php">mix-blend-modeå„ä¸ªæ··åˆæ¨¡å¼å€¼æ•ˆæœå®ä¾‹</a></p><h3 id="æ»¤é•œå’Œæ··åˆæ¨¡å¼çš„åŒ–åˆååº”"><a href="#æ»¤é•œå’Œæ··åˆæ¨¡å¼çš„åŒ–åˆååº”" class="headerlink" title="æ»¤é•œå’Œæ··åˆæ¨¡å¼çš„åŒ–åˆååº”"></a>æ»¤é•œå’Œæ··åˆæ¨¡å¼çš„åŒ–åˆååº”</h3><h4 id="ä½¿ç”¨ç™½å¤©ç´ ææ¨¡æ‹Ÿå¤œæ™š"><a href="#ä½¿ç”¨ç™½å¤©ç´ ææ¨¡æ‹Ÿå¤œæ™š" class="headerlink" title="ä½¿ç”¨ç™½å¤©ç´ ææ¨¡æ‹Ÿå¤œæ™š"></a>ä½¿ç”¨ç™½å¤©ç´ ææ¨¡æ‹Ÿå¤œæ™š</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">night &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">256px</span>; <span class="attribute">height</span>: <span class="number">256px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">40</span>,<span class="number">140</span>,.<span class="number">6</span>) <span class="built_in">url</span>(<span class="string">./house-bed.jpg</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background-blend-mode</span>: darken;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">80%</span>) <span class="built_in">grayscale</span>(<span class="number">20%</span>) <span class="built_in">contrast</span>(<span class="number">1.2</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç…§ç‰‡ç¾åŒ–å¤„ç†"><a href="#ç…§ç‰‡ç¾åŒ–å¤„ç†" class="headerlink" title="ç…§ç‰‡ç¾åŒ–å¤„ç†"></a>ç…§ç‰‡ç¾åŒ–å¤„ç†</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">figure</span> class=&quot;_1977&quot;&gt;</span><br><span class="line">  &lt;<span class="selector-tag">img</span> <span class="attribute">src</span>=&quot;<span class="number">10</span><span class="selector-class">.jpg</span>&quot;&gt;</span><br><span class="line">&lt;/<span class="selector-tag">figure</span>&gt;</span><br><span class="line">._1977 &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="comment">/* åº”ç”¨æ»¤é•œ */</span></span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">contrast</span>(<span class="number">1.1</span>) <span class="built_in">brightness</span>(<span class="number">1.1</span>) <span class="built_in">saturate</span>(<span class="number">1.3</span>);</span><br><span class="line">&#125;</span><br><span class="line">._1977<span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>; <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>; <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">pointer-events</span>: none;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">243</span>,<span class="number">106</span>,<span class="number">188</span>,.<span class="number">3</span>);</span><br><span class="line">    <span class="comment">/* åº”ç”¨æ··åˆæ¨¡å¼ */</span></span><br><span class="line">    <span class="attribute">mix-blend-mode</span>: screen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="ç…§ç‰‡é£æ ¼å¤„ç†"><a href="#ç…§ç‰‡é£æ ¼å¤„ç†" class="headerlink" title="ç…§ç‰‡é£æ ¼å¤„ç†"></a>ç…§ç‰‡é£æ ¼å¤„ç†</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;sketch&quot;&gt;&lt;/<span class="selector-tag">div</span>&gt;</span><br><span class="line"><span class="selector-class">.sketch</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">256px</span>; <span class="attribute">height</span>: <span class="number">171px</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">10.jpg</span>) -<span class="number">2px</span> -<span class="number">2px</span>, <span class="built_in">url</span>(<span class="string">10.jpg</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">258px</span> <span class="number">173px</span>;</span><br><span class="line">    <span class="attribute">background-blend-mode</span>: difference;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">brightness</span>(<span class="number">3</span>) <span class="built_in">invert</span>(<span class="number">1</span>) <span class="built_in">grayscale</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/new/11/3-10.php">æ»¤é•œå’Œæ··åˆæ¨¡å¼ä¸€èµ·ä½¿ç”¨å®ä¾‹é¡µé¢</a></p><h4 id="æ··åˆæ¨¡å¼å±æ€§background-blend-mode"><a href="#æ··åˆæ¨¡å¼å±æ€§background-blend-mode" class="headerlink" title="æ··åˆæ¨¡å¼å±æ€§background-blend-mode"></a>æ··åˆæ¨¡å¼å±æ€§background-blend-mode</h4><blockquote><p>background-blend-modeå±æ€§å¯ä»¥åœ¨å„ä¸ªèƒŒæ™¯å›¾åƒä¹‹é—´åº”ç”¨æ··åˆæ¨¡å¼ã€‚background-blend-modeå±æ€§çš„ä½¿ç”¨é¢‘ç‡è¦æ˜æ˜¾ä½äºmix-blend- modeå±æ€§ï¼ŒåŸå› æœ‰ä»¥ä¸‹ä¸¤ä¸ªã€‚</p><ul><li>çœŸå®ä¸–ç•Œçš„ç…§ç‰‡å¾ˆå°‘ä½œä¸ºbackground-imageèƒŒæ™¯å›¾åƒå‘ˆç°ï¼Œå› ä¸ºä¸åˆ©äºæ— éšœç¢è®¿é—®ï¼Œè€Œæ··åˆæ¨¡å¼è®¾è®¡çš„åˆè¡·å°±æ˜¯å¤„ç†è¿™ç±»ç…§ç‰‡ã€‚</li><li>background-blend-modeå±æ€§çš„ä½œç”¨æœºåˆ¶ä¸åƒmix-blend-modeå±æ€§é‚£ä¹ˆå•çº¯ï¼Œå¾ˆå¤šå¼€å‘è€…å¹¶ä¸èƒ½å¾ˆå¥½åœ°é©¾é©­å®ƒã€‚ä¾‹å¦‚ä½¿ç”¨æ··åˆæ¨¡å¼è®©é€æ˜èƒŒæ™¯çš„å°å›¾æ ‡å˜æˆæ¸å˜å›¾æ ‡ï¼Œå¾ˆå¤šäººä¼šä½¿ç”¨mix-blend-modeå±æ€§å®ç°ï¼Œä½†æ˜¯èƒ½å¤Ÿä½¿ç”¨background-blend-modeå±æ€§å®ç°çš„äººå¯¥å¯¥æ— å‡ ã€‚</li></ul></blockquote><p><a href="background-blend-mode%E5%AE%9E%E7%8E%B0%E7%9A%84%E7%BA%B9%E7%90%86%E8%83%8C%E6%99%AF%E6%95%88%E6%9E%9C">background-blend-modeå®ç°çš„çº¹ç†èƒŒæ™¯æ•ˆæœ</a></p><h4 id="ä½¿ç”¨isolation-isolateå£°æ˜éš”ç¦»æ··åˆæ¨¡å¼"><a href="#ä½¿ç”¨isolation-isolateå£°æ˜éš”ç¦»æ··åˆæ¨¡å¼" class="headerlink" title="ä½¿ç”¨isolation: isolateå£°æ˜éš”ç¦»æ··åˆæ¨¡å¼"></a>ä½¿ç”¨isolation: isolateå£°æ˜éš”ç¦»æ··åˆæ¨¡å¼</h4><blockquote><p>isolation: isolateå£°æ˜çš„ä½œç”¨å¾ˆå•çº¯ï¼Œå°±æ˜¯ç”¨æ¥éš”ç¦»æ··åˆæ¨¡å¼ï¼Œé™åˆ¶æ··åˆæ¨¡å¼çš„ä½œç”¨èŒƒå›´ã€‚</p></blockquote><ul><li>autoæ˜¯é»˜è®¤å€¼ï¼Œè¡¨ç¤ºæ··åˆæ¨¡å¼éš”ç¦»ä¸å¦æ ¹æ®å…·ä½“æƒ…å†µè€Œå®šã€‚</li><li>isolateè¡¨ç¤ºå¯¹æ··åˆæ¨¡å¼è¿›è¡Œéš”ç¦»ã€‚</li></ul><blockquote><p>isolation:isolateå£°æ˜ä¹‹æ‰€ä»¥å¯ä»¥éš”ç¦»æ··åˆæ¨¡å¼ï¼Œæœ¬è´¨ä¸Šæ˜¯å› ä¸ºisolation: isolateåˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å±‚å ä¸Šä¸‹æ–‡ï¼ˆstacking contextï¼‰ï¼ˆæœ‰å¯¹å±‚å ä¸Šä¸‹æ–‡ä¸å¤ªäº†è§£çš„è¯»è€…å¯ä»¥å‚é˜…ã€ŠCSSä¸–ç•Œã€‹ç¬¬214é¡µç¬¬7ç« ç›¸å…³å†…å®¹ï¼‰ã€‚isolation:isolateæœ¬èº«å¹¶æ²¡æœ‰åšä»€ä¹ˆç‰¹æ®Šçš„äº‹æƒ…ï¼Œæˆ–è€…æˆ‘å¯ä»¥è¿™ä¹ˆå¤§èƒ†åœ°è¯´ï¼šâ€œisolation:isolateé™¤äº†åˆ›å»ºå±‚å ä¸Šä¸‹æ–‡ï¼Œæ²¡æœ‰ä»»ä½•å…¶ä»–ä½œç”¨ï¼â€</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;CSSä¸–ç•Œå·²ç»æœ‰äº†CSS2å’ŒCSS3ï¼Œé‚£ä¼šæœ‰CSS4å—ï¼Ÿ&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;ç­”æ¡ˆæ˜¯ï¼šä¸ä¼šæœ‰CSS4ï¼&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;å®é™…ä¸Šï¼Œç°åœ¨è¿CSS3è¿™ä¸ªè¯éƒ½å·²ç»åå­˜å®äº¡äº†ï¼Œå› ä¸ºCSS3å·²ç»è§£ä½“äº†ã€‚ä¸ºä»€ä¹ˆè¯´CSS3è§£ä½“äº†å‘¢ï¼Ÿå› ä¸ºCSSæŒ‰ç…§å¤§ç‰ˆæœ¬çš„æ–¹å¼è¿›è¡Œè¿­ä»£å®åœ¨æ˜¯å¤ªä½æ•ˆäº†ã€‚ä½æ•ˆçš„åŸå› å…¶å®å¾ˆå¥½ç†è§£ï¼Œå¦‚æœCSSè¿™é—¨è¯­è¨€å¿…é¡»æŒ‰ç…§å¤§ç‰ˆæœ¬è¿­ä»£å‘å¸ƒçš„è¯ï¼Œåªè¦å…¶ä¸­ä¸€ä¸ªç‰ˆæœ¬æœ‰ä¸€ä¸ªCSSç‰¹æ€§å­˜åœ¨æå¤§çš„äº‰è®®ï¼Œé‚£è¿™ä¸ªç‰ˆæœ¬çš„CSSçš„å‘å¸ƒæ—¶é—´å°±ä¼šå»¶åã€‚ä¾‹å¦‚ï¼ŒCSS2.1çš„è§„èŒƒåœ¨2002å¹´å¼€å§‹åˆ¶å®šï¼Œè€Œä¸€ç›´åˆ°2011å¹´æ‰æˆä¸ºæ¨èè§„èŒƒï¼Œæ•´ä¸ªè¿‡ç¨‹è¶³è¶³èŠ±è´¹äº†10å¹´çš„æ—¶é—´ï¼Œå°±æ˜¯å› ä¸ºä¸€äº›æ¬¡è¦çš„CSSç‰¹æ€§æ‹–äº†åè…¿ã€‚&lt;/p&gt;
&lt;p&gt;ä¸ºäº†åŠ é€Ÿæ²¡æœ‰äº‰è®®çš„CSSç‰¹æ€§çš„æ ‡å‡†åŒ–ï¼ŒW3Cçš„CSSå·¥ä½œç»„åšå‡ºäº†ä¸€é¡¹è¢«ç§°ä¸ºâ€œBeijing doctrineâ€çš„å†³å®šï¼Œè¯¥å†³å®šå°†CSSåˆ’åˆ†ä¸ºæ›´å°çš„ç»„ä»¶ï¼Œå¹¶æŠŠè¿™äº›ç»„ä»¶ç§°ä¸ºæ¨¡å—ã€‚è¿™äº›æ¨¡å—äº’ç›¸ç‹¬ç«‹ï¼Œå„è‡ªæŒ‰ç…§è‡ªå·±çš„é€Ÿåº¦èµ°å‘æ ‡å‡†åŒ–ã€‚ä¾‹å¦‚ï¼ŒCSSé€‰æ‹©å™¨æ¨¡å—å·²ç»åˆ°äº†Level 4äº†ï¼Œå¼¹æ€§å¸ƒå±€æ¨¡å—è¿˜æ˜¯Level 1ã€‚&lt;/p&gt;
&lt;p&gt;å°†CSSåˆ’åˆ†ä¸ºç‹¬ç«‹çš„æ¨¡å—æ˜¯ä¸€ä¸ªéå¸¸æ˜æ™ºçš„å†³å®šï¼Œæµè§ˆå™¨å‚å•†å¯ä»¥æ ¹æ®å¯¹è‡ªå·±éœ€æ±‚çš„åˆ¤æ–­å†³å®šç©¶ç«Ÿå¯¹å“ªäº›æ¨¡å—è¿›è¡Œæ”¯æŒï¼Œå“ªæ€•è¿™ä¸ªæ¨¡å—è¿˜å¤„äºè‰æ¡ˆçŠ¶æ€ã€‚ä¾‹å¦‚CSSçš„env()å‡½æ•°çš„è§„èŒƒè¿˜æ˜¯è‰æ¡ˆçŠ¶æ€ï¼Œä½†æ˜¯Chromeå’ŒSafariæµè§ˆå™¨çš„å‚å•†å´å¿«é€Ÿå“åº”ï¼Œå¯¹å…¶è¿›è¡Œäº†æ”¯æŒã€‚å¯¹å¼€å‘è€…è€Œè¨€ï¼Œå¦‚æ­¤è¿…é€Ÿåœ°æ”¯æŒæ–°ç‰¹æ€§çŠ¹å¦‚ä¸€åœºåŠæ—¶é›¨ã€‚&lt;/p&gt;
&lt;p&gt;å½“ç„¶ï¼Œè¿™ç§æ¨¡å—åŒ–çš„è®¾è®¡ä¹Ÿä¸æ˜¯æ²¡æœ‰å¼Šç«¯ï¼Œæœ€å¤§çš„é—®é¢˜å°±æ˜¯è®¾è®¡å†—ä½™ã€‚ä¾‹å¦‚ï¼Œå¼¹æ€§å¸ƒå±€å’Œç½‘æ ¼å¸ƒå±€ä¸­çš„å¯¹é½å±æ€§å…¶å®å¯ä»¥ç»Ÿä¸€ï¼Œä½†å®ƒä»¬å´æ˜¯åˆ†ç¦»çš„ï¼Œè¿™å°±ä¼šå¾’å¢å­¦ä¹ æˆæœ¬ï¼›åˆ†æ å¸ƒå±€ã€å¼¹æ€§å¸ƒå±€å’Œç½‘æ ¼å¸ƒå±€ä¸­çš„é—´éš™å…¶å®å¯ä»¥ç»Ÿä¸€ï¼Œä½†å®ƒä»¬ä¹Ÿéƒ½æ˜¯åˆ†ç¦»çš„ï¼Œå„æœ‰å„çš„é—´éš™å±æ€§ã€‚å¥½åœ¨çº æ­£åŠæ—¶ï¼Œç°åœ¨è¿™ä¸‰å¤§å¸ƒå±€å…¨éƒ¨å¼€å§‹æ”¹ç”¨gapå±æ€§è¡¨ç¤ºé—´éš™ï¼Œå‡å°‘äº†å› ä¸ºæ¨¡å—åŒ–å¸¦æ¥çš„è®¾è®¡å†—ä½™ã€‚&lt;/p&gt;
&lt;p&gt;æ¨¡å—åŒ–ç­–ç•¥å¸¦æ¥çš„å¥½å¤„è¿œè¿œå¤§äºå¼Šç«¯ï¼Œæ­£æ‰€è°“ç‘•ä¸æ©ç‘œï¼Œä¸å¸¦æ¥çš„å¥½å¤„ç›¸æ¯”ï¼Œæ¨¡å—åŒ–è®¾è®¡çš„å¼Šç«¯å‡ ä¹å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚ä»è¿™ä¸ªè§’åº¦çœ‹ï¼ŒCSS2.1ä¹‹åçš„CSSä¸–ç•Œå°±æ˜¯æ¨¡å—åŒ–çš„æ–°ä¸–ç•Œï¼Œæ‰€ä»¥æˆ‘ç§°ä¹‹ä¸ºCSSæ–°ä¸–ç•Œã€‚è¿™ä¸ªCSSæ–°ä¸–ç•Œå¸¦æ¥äº†æ–°çš„CSSå±æ€§ï¼Œå¹¶è®©å¾ˆå¤šCSS2ä¸­æ¨¡ç³Šçš„æ¦‚å¿µæœ‰äº†æ˜ç¡®çš„å®šä¹‰ï¼Œå¦‚å°ºå¯¸ä½“ç³»ã€é€»è¾‘å±æ€§ã€CSSå€¼ç±»å‹åˆ’åˆ†ç­‰ã€‚CSSæ–°ä¸–ç•Œä¸­å„æ¨¡å—è™½ç„¶å‘å±•ç‹¬ç«‹ï¼Œä½†æ˜¯ç›¸äº’é—´è¿˜æ˜¯æœ‰å¾ˆå¤šå…±æ€§å’Œè”ç³»çš„ã€‚å› æ­¤ï¼ŒCSSæ–°ä¸–ç•Œä¸ä»…æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„ä¸–ç•Œï¼Œè¿˜æ˜¯ä¸€ä¸ªç¼¤çº·å¤šå½©ï¼ŒåŒæ—¶åˆè‡ªæˆä¸€ä½“çš„ä¸¥è°¨çš„ä¸–ç•Œã€‚&lt;/p&gt;
&lt;/blockquote&gt;</summary>
    
    
    
    <category term="htmlcss" scheme="https://wyf195075595.github.io/categories/htmlcss/"/>
    
    
    <category term="CSS" scheme="https://wyf195075595.github.io/tags/CSS/"/>
    
  </entry>
  
  <entry>
    <title>CSS 2.1</title>
    <link href="https://wyf195075595.github.io/2022/10/20/programming/htmlcss/css2/"/>
    <id>https://wyf195075595.github.io/2022/10/20/programming/htmlcss/css2/</id>
    <published>2022-10-20T10:00:00.000Z</published>
    <updated>2022-11-10T01:38:23.003Z</updated>
    
    <content type="html"><![CDATA[<p>æœ¬ç« å†…å®¹æ¥è‡ªäºã€Šcssçš„ä¸–ç•Œã€‹-å¼ é‘«æ—­ï¼Œç±»ä¼¼äºè¯»ä¹¦ç¬”è®°å§ã€‚ä¸»è¦ä»‹ç»css2.1çš„è¯­æ³•ã€‚æœ¬ä¹¦ä¸»è¦ç”¨äºè¿›é˜¶å­¦ä¹ ï¼Œä¸é€‚ç”¨äºåˆå­¦è€…ï¼Œä¹¦ä¸­ä¹Ÿé»˜è®¤å¿½ç•¥ä¸€äº›åŸºç¡€çš„çŸ¥è¯†.</p><p>CSS2.1ä¸­çš„CSSå±æ€§çš„è®¾è®¡åˆè¡·æ˜¯å±•ç¤ºå›¾æ–‡</p><h3 id="css-çš„ä¸–ç•Œ"><a href="#css-çš„ä¸–ç•Œ" class="headerlink" title="css çš„ä¸–ç•Œ"></a>css çš„ä¸–ç•Œ</h3><blockquote><p>å·²æ“ä½œç³»ç»Ÿåˆ’åˆ†ä¸–ç•Œï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿå°±æ˜¯å¹³è¡Œä¸–ç•Œã€‚æ¯ç§æµè§ˆå™¨å°±æ˜¯ä¸€ä¸ªç‹å›½ã€‚</p><p>åœ¨CSSä¸–ç•Œä¸­ï¼ŒHTMLæ˜¯é­”æ³•çŸ³ï¼Œé€‰æ‹©å™¨å°±æ˜¯é€‰æ‹©æ³•å™¨ï¼ŒCSSå±æ€§å°±æ˜¯é­”æ³•å¸ˆï¼ŒCSSå„ç§å±æ€§å€¼å°±æ˜¯é­”æ³•å¸ˆçš„é­”æ³•æŠ€èƒ½ï¼Œæµè§ˆå™¨å°±æ˜¯ä»–ä»¬æ‰€åœ¨çš„â€œç‹å›½â€ï¼Œâ€œç‹å›½â€ä¼šä¸æ–­æ›´æ–°æ³•å¾‹æ³•è§„ï¼ˆç‰ˆæœ¬å‡çº§ï¼‰ï¼Œå†³å®šæ˜¯å¦å…è®¸ä½¿ç”¨æ–°çš„é­”æ³•çŸ³ï¼ˆHTML5æ–°æ ‡ç­¾æ–°å±æ€§ï¼‰ï¼Œæ˜¯å¦å…è®¸æ–°çš„é­”æ³•å¸ˆå…¥â€œå›½ç±â€ï¼ˆCSS3æ–°å±æ€§ï¼‰ï¼Œæˆ–è€…å…è®¸é­”æ³•å¸ˆä½¿ç”¨æŸäº›æ–°æŠ€èƒ½ï¼ˆCSSæ–°çš„å±æ€§å€¼ï¼‰ï¼Œä»¥åŠæ˜¯å¦èˆå¼ƒæŸäº›é­”æ³•æŠ€èƒ½ï¼ˆå¦‚display:run-inï¼‰ï¼›æ“ä½œç³»ç»Ÿå°±æ˜¯ä»–ä»¬æ‰€åœ¨çš„ä¸–ç•Œï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿä»£è¡¨ä¸åŒçš„å¹³è¡Œä¸–ç•Œï¼Œæ‰€ä»¥ï¼ŒCSSä¸–ç•Œæœ‰è¿™ä¹ˆå‡ ä¸ªæ¯”è¾ƒå¤§çš„å¹³è¡Œä¸–ç•Œï¼Œå³Windowsä¸–ç•Œã€OS Xä¸–ç•Œä»¥åŠç§»åŠ¨ç«¯çš„iOSä¸–ç•Œå’ŒAndroidä¸–ç•Œã€‚ä¸åŒä¸–ç•Œçš„æµè§ˆå™¨ç‹å›½çš„å‘½è¿ä¸ä¸€æ ·ï¼Œä¾‹å¦‚ï¼Œåœ¨OS Xä¸–ç•Œä¸­ï¼ŒIEç‹å›½æ˜¯ä¸å­˜åœ¨çš„ï¼Œè€ŒSafariç‹å›½å´å¼‚å¸¸å¼ºå¤§ï¼Œä½†åœ¨Windowsä¸–ç•Œä¸­ï¼ŒSafariç‹å›½å´å¼‚å¸¸è½å¯ã€‚ä»¥ä¸Šè¿™ä¸€åˆ‡å°±æ„æˆäº†å®Œæ•´çš„CSSä¸–ç•Œçš„â€œä¸–ç•Œè§‚â€ã€‚</p></blockquote><h3 id="ä¸“ä¸šæœ¯è¯­"><a href="#ä¸“ä¸šæœ¯è¯­" class="headerlink" title="ä¸“ä¸šæœ¯è¯­"></a>ä¸“ä¸šæœ¯è¯­</h3><ol><li><p>å±æ€§</p></li><li><p>å€¼</p></li><li><p>å…³é”®å­—</p></li><li><p>å˜é‡</p></li><li><p>é•¿åº¦å•ä½</p><p> æ—¶é—´å•ä½ï¼ˆå¦‚sã€msï¼‰ï¼Œè¿˜æœ‰è§’åº¦å•ä½ï¼ˆå¦‚degã€radç­‰ï¼‰</p><p> ç›¸å¯¹é•¿åº¦å•ä½ï¼šå¦‚em,rem(ç›¸å¯¹å­—ä½“),vh,vw,vmin,vmax(ç›¸å¯¹è§†åŒº)</p><p> ç»å¯¹é•¿åº¦å•ä½ï¼špx</p></li><li><p>åŠŸèƒ½ç¬¦</p><p> å€¼ä»¥å‡½æ•°çš„å½¢å¼æŒ‡å®šï¼ˆå°±æ˜¯è¢«æ‹¬å·æ‹¬èµ·æ¥çš„é‚£ç§ï¼‰ï¼Œä¸»è¦ç”¨æ¥è¡¨ç¤ºé¢œè‰²ï¼ˆrgbaå’Œhslaï¼‰ã€èƒŒæ™¯å›¾ç‰‡åœ°å€ï¼ˆurlï¼‰ã€å…ƒç´ å±æ€§å€¼ã€è®¡ç®—ï¼ˆcalcï¼‰å’Œè¿‡æ¸¡æ•ˆæœç­‰ï¼Œå¦‚rgba(0,0,0, .5)ã€url(â€˜css-world.pngâ€™)ã€attr(â€˜hrefâ€™)å’Œscale(-1)ã€‚</p></li><li><p>å±æ€§å€¼</p></li><li><p>å£°æ˜</p><p> å±æ€§ååŠ ä¸Šå±æ€§å€¼å°±æ˜¯å£°æ˜</p></li><li><p>å£°æ˜å—</p><p> å°±æ˜¯é€‰æ‹©å™¨ {} åŒºåŸŸ</p></li><li><p>è§„åˆ™æˆ–è§„åˆ™é›†</p><p>é€‰æ‹©å™¨åé¢çš„å£°æ˜å—å°±æ˜¯ä¸€ä¸ªè§„åˆ™é›†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    ... è§„åˆ™é›†</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>é€‰æ‹©å™¨</p></li><li><p>å…³ç³»é€‰æ‹©å™¨</p><p>å¸¸è§çš„ç¬¦å·æœ‰ç©ºæ ¼ã€&gt;ã€ï½ï¼Œè¿˜æœ‰+ç­‰ï¼Œè¿™äº›éƒ½æ˜¯éå¸¸å¸¸ç”¨çš„é€‰æ‹©å™¨ã€‚</p></li><li><p>@è§„åˆ™</p><p>@è§„åˆ™æŒ‡çš„æ˜¯ä»¥@å­—ç¬¦å¼€å§‹çš„ä¸€äº›è§„åˆ™ï¼Œåƒ@mediaã€@font-faceã€@pageæˆ–è€…@supportï¼Œè¯¸å¦‚æ­¤ç±»</p></li></ol><span id="more"></span><h3 id="æœªå®šä¹‰è¡Œä¸º"><a href="#æœªå®šä¹‰è¡Œä¸º" class="headerlink" title="æœªå®šä¹‰è¡Œä¸º"></a>æœªå®šä¹‰è¡Œä¸º</h3><blockquote><p>ä¸åŒæµè§ˆå™¨å¯¹æŸä¸€è¡Œä¸ºå¯èƒ½æ²¡åˆ¶å®šè§„åˆ™ï¼Œæˆ–è§„åˆ™ä¸ä¸€è‡´ã€‚ç»“æœä¼šå‡ºç°çš„é—®é¢˜ã€‚</p><p>ç‹­éš˜çš„è¯´æ³•å°±æ˜¯æµè§ˆå™¨å‡ºç°bugäº†</p></blockquote><h3 id="æµï¼ˆæ–‡æ¡£æµï¼‰"><a href="#æµï¼ˆæ–‡æ¡£æµï¼‰" class="headerlink" title="æµï¼ˆæ–‡æ¡£æµï¼‰"></a>æµï¼ˆæ–‡æ¡£æµï¼‰</h3><blockquote><p>é»˜è®¤çš„æµè§„åˆ™ï¼š è‡ªä¸Šè€Œä¸‹ï¼Œä»å·¦åˆ°å³</p></blockquote><p>åœ¨æµä¸­åªæœ‰ä¸¤ç§å…ƒç´ ï¼Œå†…è”ï¼Œå—çº§å…ƒç´ ã€‚å—çº§å…ƒç´ å…·æœ‰æ¢è¡Œå±æ€§,ä¹Ÿå°±æ˜¯ä¸€ä¸ªæ°´å¹³æµä¸Šåªèƒ½å•ç‹¬æ˜¾ç¤ºä¸€ä¸ªå…ƒç´ ï¼Œå¤šä¸ªå—çº§å…ƒç´ åˆ™æ¢è¡Œæ˜¾ç¤ºã€‚</p><p>ç†è®ºä¸Šéƒ½èƒ½é€šè¿‡æ¸…é™¤æµ®åŠ¨å»é™¤å½±å“</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clear</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">display</span>: table;// ä¹Ÿå¯ä»¥æ˜¯ block,list-item(ä½¿ç”¨è¿™ä¸ªè¦å»é™¤é¡¹ç›®ç¬¦å·ï¼ŒIEä¸æ”¯æŒ)</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¯¹-liet-itemåŠ-display-å…¶ä»–å±æ€§çš„ç†è§£"><a href="#å¯¹-liet-itemåŠ-display-å…¶ä»–å±æ€§çš„ç†è§£" class="headerlink" title="å¯¹  liet-itemåŠ display å…¶ä»–å±æ€§çš„ç†è§£"></a>å¯¹  liet-itemåŠ display å…¶ä»–å±æ€§çš„ç†è§£</h3><blockquote><p>ä¸ºå•¥ list-item ä¼šå‡ºç° é¡¹ç›®ç¬¦å·ï¼Œå°†å…¶ç†è§£ä¸ºé™„åŠ ç›’å­ã€‚åªæœ‰å®ƒæ˜¯ç‰¹æ®Šçš„</p><p>display: inline-block; å¯ä»¥ç†è§£ä¸º åµŒå¥—ç›’å­ï¼Œå¤–è¾¹æ˜¯å†…è”ç›’å­é‡Œè¾¹æ˜¯å—çº§ç›’å­</p></blockquote><h3 id="widh-é»˜è®¤å€¼æ˜¯-auto"><a href="#widh-é»˜è®¤å€¼æ˜¯-auto" class="headerlink" title="widh é»˜è®¤å€¼æ˜¯ auto"></a>widh é»˜è®¤å€¼æ˜¯ auto</h3><p>åŒ…å«äº†è‡³å°‘4ç§ä¸åŒçš„è¡¨ç°</p><ol><li><p>å……åˆ†åˆ©ç”¨ç©ºé—´</p><p> div,pè¿™äº›å…ƒç´ å®½åº¦é»˜è®¤æ˜¯100%äºçˆ¶çº§å®¹å™¨</p></li><li><p>æ”¶ç¼©äºåŒ…è£¹</p><p> å…¸å‹ä»£è¡¨ï¼šæµ®åŠ¨ï¼Œç»å¯¹å®šä½ï¼Œinner-blockå…ƒç´ æˆ–tableå…ƒç´ ã€‚ä¼šæ”¶ç¼©åˆ°åˆé€‚å®½åº¦</p></li><li><p>æ”¶ç¼©åˆ°æœ€å°</p><p> å®¹æ˜“å‡ºç°åœ¨ table-layoutä¸º auto çš„è¡¨æ ¼ä¸­</p></li><li><p>è¶…å‡ºå®¹å™¨é™åˆ¶</p><p> é™¤éæ˜ç¡®widthç›¸å…³è®¾ç½®ï¼Œå¦åˆ™ä¸Šè¾¹3ç§æƒ…å†µå°ºå¯¸éƒ½ä¸ä¼šè¶…è¿‡çˆ¶çº§å®¹å™¨å®½åº¦ã€‚ç‰¹æ®Šæƒ…å†µé•¿è¿ç»­å­—æ¯ï¼Œæ•°å­—æˆ–è®¾ç½®äº† white-space: nowrap;</p></li></ol><h4 id="â€œé‘«ä¸‰æ— å‡†åˆ™â€ï¼Œå³â€œæ— å®½åº¦ï¼Œæ— å›¾ç‰‡ï¼Œæ— æµ®åŠ¨â€"><a href="#â€œé‘«ä¸‰æ— å‡†åˆ™â€ï¼Œå³â€œæ— å®½åº¦ï¼Œæ— å›¾ç‰‡ï¼Œæ— æµ®åŠ¨â€" class="headerlink" title="â€œé‘«ä¸‰æ— å‡†åˆ™â€ï¼Œå³â€œæ— å®½åº¦ï¼Œæ— å›¾ç‰‡ï¼Œæ— æµ®åŠ¨â€"></a>â€œé‘«ä¸‰æ— å‡†åˆ™â€ï¼Œå³â€œæ— å®½åº¦ï¼Œæ— å›¾ç‰‡ï¼Œæ— æµ®åŠ¨â€</h4><blockquote><p>å†…éƒ¨å°ºå¯¸ï¼šå…ƒç´ å®½åº¦ç”±å†…éƒ¨å…ƒç´ å¤§å°æ§åˆ¶</p><p>å¤–éƒ¨å°ºå¯¸ï¼šå…ƒç´ å¤§å°ç”±å¤–éƒ¨å®¹å™¨å¤§å°ç»å®šï¼Œå°±æ˜¯ä¸Šè¾¹ with auto å››ç§è¡¨ç°å¾—ç¬¬ä¸€ç§</p></blockquote><p>å¤–éƒ¨å°ºå¯¸ï¼š<a href="http://demo.cssworld.cn/3/2-3.php">å®½åº¦è®¾ç½®åä¼šä¸§å¤±æµåŠ¨æ€§</a></p><p>å†…éƒ¨å°ºå¯¸ï¼š</p><ol><li><a href="http://demo.cssworld.cn/3/2-4.php">åŒ…è£¹æ€§</a> å®ç°æ–‡æœ¬å°‘æ—¶å±…ä¸­æ˜¾ç¤ºï¼Œè¶…å‡ºä¸€è¡Œåˆ™å±…å·¦æ˜¾ç¤º</li><li><a href="http://demo.cssworld.cn/3/2-6.php">é¦–é€‰æœ€å°å®½åº¦</a> å®ç°ä¸€ä¸ªå‡¹å‡¸æ–‡å­—æ•ˆæœ</li><li><a href="http://demo.cssworld.cn/3/2-7.php">æœ€å¤§å®½åº¦</a> iScroll æ ¹æ®å…ƒç´ å°ºå¯¸å’Œå®¹å™¨å…³ç³»æ”¹å˜å†…éƒ¨å…³ç³»å®ç°æ»šåŠ¨</li></ol><h4 id="CSSæµä½“å¸ƒå±€ä¸‹å¾—å®½åº¦åˆ†ç¦»åŸåˆ™"><a href="#CSSæµä½“å¸ƒå±€ä¸‹å¾—å®½åº¦åˆ†ç¦»åŸåˆ™" class="headerlink" title="CSSæµä½“å¸ƒå±€ä¸‹å¾—å®½åº¦åˆ†ç¦»åŸåˆ™"></a>CSSæµä½“å¸ƒå±€ä¸‹å¾—å®½åº¦åˆ†ç¦»åŸåˆ™</h4><blockquote><p>å°±æ˜¯CSSä¸­çš„widthå±æ€§ä¸ä¸å½±å“å®½åº¦çš„padding/borderï¼ˆæœ‰æ—¶å€™åŒ…æ‹¬marginï¼‰å±æ€§å…±å­˜</p><p>ä½†æ˜¯css3 æœ‰ box-sizingå±æ€§å¯ä»¥æ”¹å˜ç›’æ¨¡å‹å°±ä¸éœ€è¦è¿™ä¹ˆéº»çƒ¦äº†</p></blockquote><p>ä¸èƒ½è¿™æ ·å†™</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;<span class="attribute">width</span>: <span class="number">100px</span>; <span class="attribute">border</span>: <span class="number">1px</span> solid;&#125;</span><br><span class="line">æˆ–</span><br><span class="line"><span class="selector-class">.box</span> &#123;<span class="attribute">width</span>: <span class="number">100px</span>; <span class="attribute">padding</span>: <span class="number">10px</span>;&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·å†™</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">180px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="height-100-ä¸ç”Ÿæ•ˆ"><a href="#height-100-ä¸ç”Ÿæ•ˆ" class="headerlink" title="height: 100% ä¸ç”Ÿæ•ˆ"></a>height: 100% ä¸ç”Ÿæ•ˆ</h3><blockquote><p>å¯¹äºæ™®é€šæ–‡æ¡£æµä¸­çš„å…ƒç´ ï¼Œç™¾åˆ†æ¯”é«˜åº¦å€¼è¦æƒ³èµ·ä½œç”¨ï¼Œå…¶çˆ¶çº§å¿…é¡»æœ‰ä¸€ä¸ªå¯ä»¥ç”Ÿæ•ˆçš„é«˜åº¦å€¼ï¼</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">// é¡µé¢è®¾ç½®å…¨å±çº¢è‰²èƒŒæ™¯ï¼Œä¸ç”Ÿæ•ˆ</span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        .main &#123;</span><br><span class="line">        width: 100%;</span><br><span class="line">        heiht: 100%;</span><br><span class="line">        background: red;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;main&quot;</span>&gt;</span></span><br><span class="line">            </span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">// é™¤é ç»™ body,html ä¹ŸåŒæ—¶è®¾ç½®äº† height: 100%;</span><br></pre></td></tr></table></figure><h4 id="ä¸ºå•¥å®½åº¦è®¾ç½®100-å¯ä»¥ï¼Œé«˜åº¦å°±ä¸è¡Œï¼Ÿ"><a href="#ä¸ºå•¥å®½åº¦è®¾ç½®100-å¯ä»¥ï¼Œé«˜åº¦å°±ä¸è¡Œï¼Ÿ" class="headerlink" title="ä¸ºå•¥å®½åº¦è®¾ç½®100%å¯ä»¥ï¼Œé«˜åº¦å°±ä¸è¡Œï¼Ÿ"></a>ä¸ºå•¥å®½åº¦è®¾ç½®100%å¯ä»¥ï¼Œé«˜åº¦å°±ä¸è¡Œï¼Ÿ</h4><p>è§„èŒƒä¸­å…¶å®ç»™å‡ºäº†ç­”æ¡ˆã€‚</p><p>â€‹    å¦‚æœåŒ…å«å—çš„é«˜åº¦æ²¡æœ‰æ˜¾å¼æŒ‡å®šï¼ˆå³é«˜åº¦ç”±å†…å®¹å†³å®šï¼‰ï¼Œå¹¶ä¸”è¯¥å…ƒç´ ä¸æ˜¯ç»å¯¹å®šä½ï¼Œåˆ™è®¡ç®—å€¼ä¸ºautoã€‚ä¸€å¥è¯æ€»ç»“å°±æ˜¯ï¼šå› ä¸ºè§£é‡Šæˆäº†autoã€‚è¦çŸ¥é“ï¼Œautoå’Œç™¾åˆ†æ¯”è®¡ç®—ï¼Œè‚¯å®šæ˜¯ç®—ä¸äº†çš„</p><p>â€‹    å®½åº¦çš„è§£é‡Šå´æ˜¯ï¼šå¦‚æœåŒ…å«å—çš„å®½åº¦å–å†³äºè¯¥å…ƒç´ çš„å®½åº¦ï¼Œé‚£ä¹ˆäº§ç”Ÿçš„å¸ƒå±€åœ¨CSS 2.1ä¸­æ˜¯æœªå®šä¹‰çš„ã€‚</p><blockquote><p>è¿˜è®°ä¸è®°å¾—æœ¬ä¹¦ç¬¬2ç« æœ€åçš„â€œæœªå®šä¹‰è¡Œä¸ºâ€å—ï¼Ÿè¿™é‡Œçš„å®½åº¦å¸ƒå±€å…¶å®ä¹Ÿæ˜¯â€œæœªå®šä¹‰è¡Œä¸ºâ€ï¼Œä¹Ÿå°±æ˜¯è§„èŒƒæ²¡æœ‰æ˜ç¡®è¡¨ç¤ºè¯¥æ€æ ·ï¼Œæµè§ˆå™¨å¯ä»¥è‡ªå·±æ ¹æ®ç†è§£å»å‘æŒ¥ã€‚å¥½åœ¨æ ¹æ®æˆ‘çš„æµ‹è¯•ï¼Œå¸ƒå±€æ•ˆæœåœ¨å„ä¸ªæµè§ˆå™¨ä¸‹éƒ½æ˜¯ä¸€è‡´çš„ã€‚è¿™é‡Œå’Œé«˜åº¦çš„è§„èŒƒå®šä¹‰å°±åŒºåˆ«æ˜æ˜¾äº†ï¼Œé«˜åº¦æ˜ç¡®äº†å°±æ˜¯autoï¼Œé«˜åº¦ç™¾åˆ†æ¯”è®¡ç®—è‡ªç„¶æ— æœï¼Œwidthå´æ²¡æœ‰è¿™æ ·çš„è¯´æ³•ï¼Œå› æ­¤ï¼Œå°±æŒ‰ç…§åŒ…å«å—çœŸå®çš„è®¡ç®—å€¼ä½œä¸ºç™¾åˆ†æ¯”è®¡ç®—çš„åŸºæ•°ã€‚</p></blockquote><h4 id="å¦‚ä½•è®©å…ƒç´ æ”¯æŒ-hieght-100-æ•ˆæœ"><a href="#å¦‚ä½•è®©å…ƒç´ æ”¯æŒ-hieght-100-æ•ˆæœ" class="headerlink" title="å¦‚ä½•è®©å…ƒç´ æ”¯æŒ hieght: 100% æ•ˆæœ"></a>å¦‚ä½•è®©å…ƒç´ æ”¯æŒ hieght: 100% æ•ˆæœ</h4><ol><li><p>è®¾ç½®æ˜¾å¼å¾—é«˜åº¦å€¼</p></li><li><p>ä½¿ç”¨ç»å¯¹å®šä½</p><p> éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç»å¯¹å®šä½å…ƒç´ çš„ç™¾åˆ†æ¯”è®¡ç®—å’Œéç»å¯¹å®šä½å…ƒç´ çš„ç™¾åˆ†æ¯”è®¡ç®—æ˜¯æœ‰åŒºåˆ«çš„ï¼ŒåŒºåˆ«åœ¨äºç»å¯¹å®šä½çš„å®½é«˜ç™¾åˆ†æ¯”è®¡ç®—æ˜¯ç›¸å¯¹äºpadding boxçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šæŠŠpaddingå¤§å°å€¼è®¡ç®—åœ¨å†…ï¼Œä½†æ˜¯ï¼Œéç»å¯¹å®šä½å…ƒç´ åˆ™æ˜¯ç›¸å¯¹äºcontent boxè®¡ç®—çš„</p></li></ol><h4 id="ä¸ºæµä½“è€Œç”Ÿçš„min-width-max-width"><a href="#ä¸ºæµä½“è€Œç”Ÿçš„min-width-max-width" class="headerlink" title="ä¸ºæµä½“è€Œç”Ÿçš„min-width/max-width"></a>ä¸ºæµä½“è€Œç”Ÿçš„min-width/max-width</h4><blockquote><p>æ”¹å˜å…¶å€¼ä¸ä¼šè§¦å‘è¿‡åº¦åŠ¨ç”»ã€‚</p><p>min-width/min-heightçš„åˆå§‹å€¼æ˜¯auto, max-width/max-heightçš„åˆå§‹å€¼æ˜¯noneã€‚</p><p>max-width/max-heightçš„åˆå§‹å€¼ä¸ºä½•æ˜¯noneè€Œä¸æ˜¯autoå‘¢ï¼Ÿ</p><p>è¿™ä¸ªé—®é¢˜çš„ç­”æ¡ˆå…¶å®ä¸ä¸‹é¢å°èŠ‚çš„å†…å®¹æœ‰å…³ã€‚æˆ‘ä»¬ä¸å¦¨ä¸¾ä¸ªç®€å•çš„ä¾‹å­è§£é‡Šä¸€ä¸‹ï¼Œå·²çŸ¥çˆ¶å…ƒç´ å®½åº¦400åƒç´ ï¼Œå­å…ƒç´ è®¾ç½®å®½åº¦800åƒç´ ï¼Œå‡å¦‚è¯´max-widthåˆå§‹å€¼æ˜¯autoï¼Œé‚£è‡ªç„¶ä½¿ç”¨å’Œwidthä¸€æ ·çš„è§£ææ¸²æŸ“è§„åˆ™ï¼Œæ­¤æ—¶max-widthçš„è®¡ç®—å€¼å°±åº”è¯¥æ˜¯çˆ¶å…ƒç´ çš„400åƒç´ ï¼Œæ­¤æ—¶ï¼Œä½ å°±ä¼šå‘ç°ï¼Œå­å…ƒç´ çš„800åƒç´ ç›´æ¥å®Œè›‹äº†ï¼Œå› ä¸ºmax-widthä¼šè¦†ç›–widthã€‚äºæ˜¯ï¼Œæˆ‘ä»¬çš„widthæ°¸è¿œä¸èƒ½è®¾ç½®ä¸ºæ¯”autoè®¡ç®—å€¼æ›´å¤§çš„å®½åº¦å€¼äº†ï¼Œè¿™æ˜¾ç„¶æ˜¯æœ‰é—®é¢˜çš„ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆmax-widthåˆå§‹å€¼æ˜¯noneçš„åŸå› ã€‚</p></blockquote><p>æƒé‡ <strong>!important</strong> åœ¨max-* å±æ€§é¢å‰é»¯ç„¶å¤±è‰²</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">img</span> <span class="attribute">src</span>=&quot;<span class="number">1</span><span class="selector-class">.jpg</span>&quot; style=&quot;<span class="attribute">width</span>: <span class="number">480px</span> <span class="meta">!important</span>;&quot;&gt;</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line"><span class="attribute">max-width</span>: <span class="number">256px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> ç»“æœæ˜¯ max-width è¦†ç›–äº† width</p><h4 id="min-width-max-width-å†²çª"><a href="#min-width-max-width-å†²çª" class="headerlink" title="min-width/max-width å†²çª"></a>min-width/max-width å†²çª</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line"><span class="attribute">min-width</span>: <span class="number">1400px</span>;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">1200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœæ˜¯ min-width å­˜æ´»ï¼Œæ²¡æœ‰åæ¥å±…ä¸Š</p><h4 id="height-å˜åŒ–åŠ¨ç”»"><a href="#height-å˜åŒ–åŠ¨ç”»" class="headerlink" title="height å˜åŒ–åŠ¨ç”»"></a>height å˜åŒ–åŠ¨ç”»</h4><p>ä¸€ä¸ªä¸‹æ‹‰æ¡†å¦‚æœä¸‹æ‹‰å†…å®¹ä¸ç¡®å®šï¼Œè®¾ç½® height:auto;  é‚£ä¹ˆä»0 -&gt; auto çš„åŠ¨ç”»æ€ä¹ˆè®¡ç®—å±•ç¤º</p><p>heightä½¿ç”¨çš„å€¼æ˜¯é»˜è®¤çš„autoï¼Œåº”è¯¥éƒ½çŸ¥é“çš„autoæ˜¯ä¸ªå…³é”®å­—å€¼ï¼Œå¹¶éæ•°å€¼ï¼Œæ­£å¦‚height:100%çš„100%æ— æ³•å’Œautoç›¸è®¡ç®—ä¸€æ ·ï¼Œä»0pxåˆ°autoä¹Ÿæ˜¯æ— æ³•è®¡ç®—çš„ï¼Œå› æ­¤æ— æ³•å½¢æˆè¿‡æ¸¡æˆ–åŠ¨ç”»æ•ˆæœã€‚</p><p>è§£å†³åŠæ³•ï¼š</p><p>â€‹    é€šè¿‡è®¾ç½® max-height </p><p>ä½†æ˜¯ max-height çš„å€¼è®¾ç½®çš„è¿‡å¤§åˆ™ä¼šå¯¼è‡´å»¶è¿Ÿæ•ˆæœï¼Œå»ºè®®max-heightä½¿ç”¨è¶³å¤Ÿå®‰å…¨çš„æœ€å°å€¼ï¼Œè¿™æ ·ï¼Œæ”¶èµ·æ—¶å³ä½¿æœ‰å»¶è¿Ÿï¼Œä¹Ÿä¼šå› ä¸ºæ—¶é—´å¾ˆçŸ­ï¼Œå¾ˆéš¾è¢«ç”¨æˆ·å¯Ÿè§‰ï¼Œå¹¶ä¸ä¼šå½±å“ä½“éªŒã€‚</p><h3 id="æ·±å…¥ç†è§£content"><a href="#æ·±å…¥ç†è§£content" class="headerlink" title="æ·±å…¥ç†è§£content"></a>æ·±å…¥ç†è§£content</h3><p><strong>å†…è”ç›’å­ï¼ˆinline boxï¼‰</strong></p><p>  <strong>â€œå†…è”ç›’å­â€</strong>ä¸ä¼šè®©å†…å®¹æˆå—æ˜¾ç¤ºï¼Œè€Œæ˜¯æ’æˆä¸€è¡Œï¼Œè¿™é‡Œçš„<strong>â€œå†…è”ç›’å­â€</strong>å®é™…æŒ‡çš„å°±æ˜¯å…ƒç´ çš„<strong>â€œå¤–åœ¨ç›’å­â€</strong>ï¼Œç”¨æ¥å†³å®šå…ƒç´ æ˜¯å†…è”è¿˜æ˜¯å—çº§ã€‚è¯¥ç›’å­åˆå¯ä»¥ç»†åˆ†ä¸º<strong>â€œå†…è”ç›’å­â€</strong>å’Œ<strong>â€œåŒ¿åå†…è”ç›’å­â€</strong>ä¸¤ç±»ï¼š</p><p><img src="https://upload-images.jianshu.io/upload_images/11794918-7f5b2f269ef80945.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/603/format/webp" alt="img"></p><p>å†…è”ç›’å­</p><p><strong>è¡Œæ¡†ç›’å­ï¼ˆline boxï¼‰</strong></p><p><img src="https://upload-images.jianshu.io/upload_images/11794918-f1889ebe5b82b2da.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/590/format/webp" alt="img"></p><p>è¡Œæ¡†ç›’å­</p><p>  æ¯ä¸€è¡Œå°±æ˜¯ä¸€ä¸ª<strong>â€œè¡Œæ¡†ç›’å­â€</strong>ï¼ˆå®çº¿æ¡†æ ‡æ³¨ï¼‰ï¼Œæ¯ä¸ª<strong>â€œè¡Œæ¡†ç›’å­â€</strong>åˆæ˜¯ç”±ä¸€ä¸ªä¸€ä¸ª<strong>â€œå†…è”ç›’å­â€</strong>ç»„æˆçš„ã€‚æ¯ä¸ªè¡Œæ¡†ç›’å­éƒ½å‰é¢æœ‰ä¸€ä¸ªå®½åº¦ä¸º0çš„å…·æœ‰è¯¥å…ƒç´ çš„å­—ä½“å’Œè¡Œé«˜å±æ€§çš„çœ‹ä¸è§çš„â€œå¹½çµç©ºç™½èŠ‚ç‚¹â€ï¼ˆstrutï¼‰</p><p><strong>åŒ…å«ç›’å­ï¼ˆcontaining boxï¼‰</strong></p><p><img src="https://upload-images.jianshu.io/upload_images/11794918-3561f2dc90a8ead3.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/577/format/webp" alt="img"></p><p>åŒ…å«ç›’å­</p><p>æ ‡ç­¾å°±æ˜¯ä¸€ä¸ªâ€œåŒ…å«ç›’å­â€ï¼ˆå®çº¿æ¡†æ ‡æ³¨ï¼‰ï¼Œæ­¤ç›’å­ç”±ä¸€è¡Œä¸€è¡Œçš„â€œè¡Œæ¡†ç›’å­â€ç»„æˆã€‚<p>  éœ€è¦è¡¥å……è¯´æ˜ä¸€ç‚¹ï¼Œåœ¨CSS è§„èŒƒä¸­ï¼Œå¹¶æ²¡æœ‰<strong>â€œåŒ…å«ç›’å­â€</strong>çš„è¯´æ³•ï¼Œæ›´å‡†ç¡®çš„ç§°å‘¼åº”è¯¥æ˜¯<strong>â€œåŒ…å«****å—â€</strong>ï¼ˆcontaining blockï¼‰ã€‚è¿™é‡Œä¹‹æ‰€ä»¥æŠŠå®ƒç§°ä¸ºç›’å­ï¼Œä¸€æ˜¯ä¸ºäº†ä¸å…¶ä»–ç›’å­åç§°ç»Ÿä¸€ï¼ŒäºŒæ˜¯ç§°ä¸ºç›’å­æ›´å½¢è±¡ã€æ›´å®¹æ˜“ç†è§£ã€‚</p><p><strong>æ›¿æ¢å…ƒç´ </strong></p><blockquote><p>ä»€ä¹ˆæ˜¯æ›¿æ¢å…ƒç´ ï¼Ÿ</p><p>é€šè¿‡ä¿®æ”¹æŸä¸ªå±æ€§å€¼å‘ˆç°çš„å†…å®¹å°±å¯ä»¥è¢«æ›¿æ¢çš„å…ƒç´ å°±ç§°ä¸ºâ€œæ›¿æ¢å…ƒç´ â€ã€‚å› æ­¤ï¼Œ<strong>img</strong>ã€<strong>æ›¿æ¢å…ƒç´ </strong>ã€<strong>video</strong>ã€<strong>iframe</strong>æˆ–è€…è¡¨å•å…ƒç´ <strong>textarea</strong>å’Œ<strong>input</strong>éƒ½æ˜¯å…¸å‹çš„æ›¿æ¢å…ƒç´ ã€‚</p></blockquote><p>ç‰¹æ€§ï¼š</p><ol><li>å†…å®¹çš„å¤–è§‚ä¸å—é¡µé¢ä¸Šçš„ CSS çš„å½±å“</li><li>æœ‰è‡ªå·±çš„å°ºå¯¸ã€‚</li><li>åœ¨å¾ˆå¤šCSSå±æ€§ä¸Šæœ‰è‡ªå·±çš„ä¸€å¥—è¡¨ç°è§„åˆ™ã€‚</li></ol><p>æ›¿æ¢å…ƒç´ çš„ display å±æ€§å€¼</p><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221010174705251.png" alt="image-20221010174705251"></p><h4 id="æ›¿æ¢å…ƒç´ çš„å°ºå¯¸è®¡ç®—"><a href="#æ›¿æ¢å…ƒç´ çš„å°ºå¯¸è®¡ç®—" class="headerlink" title="æ›¿æ¢å…ƒç´ çš„å°ºå¯¸è®¡ç®—"></a>æ›¿æ¢å…ƒç´ çš„å°ºå¯¸è®¡ç®—</h4><p>å°†æ›¿æ¢å…ƒç´ çš„å°ºå¯¸ä»å†…è€Œå¤–åˆ†ä¸º3ç±»ï¼šå›ºæœ‰å°ºå¯¸ã€HTMLå°ºå¯¸å’ŒCSSå°ºå¯¸ã€‚</p><ol><li><p>å›ºæœ‰å°ºå¯¸æŒ‡çš„æ˜¯æ›¿æ¢å†…å®¹åŸæœ¬çš„å°ºå¯¸ï¼ˆç®€å•è¯´å°±æ˜¯åŸæ–‡ä»¶çš„å°ºå¯¸ï¼‰</p><p> ä¾‹å¦‚ï¼Œå›¾ç‰‡ã€è§†é¢‘ä½œä¸ºä¸€ä¸ªç‹¬ç«‹æ–‡ä»¶å­˜åœ¨çš„æ—¶å€™ï¼Œéƒ½æ˜¯æœ‰ç€è‡ªå·±çš„å®½åº¦å’Œé«˜åº¦çš„</p></li><li><p>HTMLå°ºå¯¸è¿™ä¸ªæ¦‚å¿µç•¥å¾®æŠ½è±¡ ï¼ˆç®€å•æ¥è¯´å°±æ˜¯æ ‡ç­¾è‡ªå¸¦çš„width,hieghtç­‰å±æ€§ï¼‰</p><p> æˆ‘ä»¬ä¸å¦¨å°†å…¶æƒ³è±¡æˆæ°´ç…®è›‹é‡Œé¢çš„é‚£ä¸€å±‚ç™½è‰²çš„è†œï¼Œé‡Œé¢æ˜¯â€œå›ºæœ‰å°ºå¯¸â€è¿™ä¸ªè›‹é»„è›‹ç™½ï¼Œå¤–é¢æ˜¯â€œCSSå°ºå¯¸â€è¿™ä¸ªè›‹å£³ã€‚â€œHTMLå°ºå¯¸â€åªèƒ½é€šè¿‡HTMLåŸç”Ÿå±æ€§æ”¹å˜ï¼Œè¿™äº›HTMLåŸç”Ÿå±æ€§åŒ…æ‹¬<strong>img</strong>çš„widthå’Œheightå±æ€§ã€<strong>input</strong>çš„sizeå±æ€§ã€<strong>textarea</strong>çš„colså’Œrowså±æ€§ç­‰ã€‚</p></li><li><p>CSSå°ºå¯¸</p><p> ç‰¹æŒ‡å¯ä»¥é€šè¿‡CSSçš„widthå’Œheightæˆ–è€…max-width/min-widthå’Œmax-height/min-heightè®¾ç½®çš„å°ºå¯¸ï¼Œå¯¹åº”ç›’å°ºå¯¸ä¸­çš„content boxã€‚</p></li></ol><p>æƒé‡ï¼š csså°ºå¯¸&gt;HTMLå°ºå¯¸&gt;å›ºæœ‰å°ºå¯¸</p><h4 id="å…ƒç´ ï¼Œå›¾ç‰‡çš„å›ºå®šå°ºå¯¸ä¸å—CSSå®½é«˜æ§åˆ¶ï¼Œé‚£ä¸ºä½•æˆ‘ä»¬è®¾å®šimgçš„-widthå’Œheight-å±æ€§ä¼šå½±å“å›¾ç‰‡çš„å°ºå¯¸å‘¢ï¼Ÿ"><a href="#å…ƒç´ ï¼Œå›¾ç‰‡çš„å›ºå®šå°ºå¯¸ä¸å—CSSå®½é«˜æ§åˆ¶ï¼Œé‚£ä¸ºä½•æˆ‘ä»¬è®¾å®šimgçš„-widthå’Œheight-å±æ€§ä¼šå½±å“å›¾ç‰‡çš„å°ºå¯¸å‘¢ï¼Ÿ" class="headerlink" title="å…ƒç´ ï¼Œå›¾ç‰‡çš„å›ºå®šå°ºå¯¸ä¸å—CSSå®½é«˜æ§åˆ¶ï¼Œé‚£ä¸ºä½•æˆ‘ä»¬è®¾å®šimgçš„ widthå’Œheight å±æ€§ä¼šå½±å“å›¾ç‰‡çš„å°ºå¯¸å‘¢ï¼Ÿ"></a><img>å…ƒç´ ï¼Œå›¾ç‰‡çš„å›ºå®šå°ºå¯¸ä¸å—CSSå®½é«˜æ§åˆ¶ï¼Œé‚£ä¸ºä½•æˆ‘ä»¬è®¾å®šimgçš„ widthå’Œheight å±æ€§ä¼šå½±å“å›¾ç‰‡çš„å°ºå¯¸å‘¢ï¼Ÿ</h4><p>â€‹    å› ä¸ºå›¾ç‰‡ä¸­çš„<strong>content</strong>æ›¿æ¢å†…å®¹é»˜è®¤çš„é€‚é…æ–¹å¼æ˜¯å¡«å……ï¼ˆfillï¼‰ï¼Œä¹Ÿå°±æ˜¯å¤–éƒ¨è®¾å®šçš„å°ºå¯¸å¤šå¤§ï¼Œæˆ‘å°±å¡«æ»¡ã€è·Ÿç€ä¸€æ ·å¤§ã€‚æ¢å¥è¯è¯´ï¼Œå°ºå¯¸å˜åŒ–çš„æœ¬è´¨å¹¶ä¸æ˜¯æ”¹å˜å›ºæœ‰å°ºå¯¸ï¼Œè€Œæ˜¯é‡‡ç”¨äº†å¡«å……ä½œä¸ºé€‚é…HTMLå°ºå¯¸å’ŒCSSå°ºå¯¸çš„æ–¹å¼ï¼Œä¸”åœ¨CSS3ä¹‹å‰ï¼Œæ­¤é€‚é…æ–¹å¼æ˜¯ä¸èƒ½ä¿®æ”¹çš„ã€‚</p><p>object-fit å±æ€§å°±æ˜¯ç”¨æ¥ä¿®æ”¹å›¾ç‰‡è®¾é…æ–¹å¼çš„</p><blockquote><p>æ›¿æ¢å…ƒç´ å…·æœ‰å›ºå®šçš„å®½é«˜æ¯”ä¾‹ï¼Œæ‰€ä»¥å¦‚æœåªè®¾ç½®å®½/é«˜ï¼Œ å¦ä¸€ä¸ªå±æ€§ä¼šä¿ºæ¯”ä¾‹è‡ªåŠ¨è®¡ç®—</p></blockquote><blockquote><p>å¦‚æœä»»ä½•å°ºå¯¸éƒ½æ²¡æœ‰ï¼Œåˆ™å…ƒç´ åº”è¯¥æ˜¯300åƒç´ Ã—150åƒç´ ï¼Œè¿™æ¡è§„åˆ™ <strong>video</strong>ã€<strong>canvas</strong>å’Œ<strong>iframe</strong>è¿™äº›å…ƒç´ éƒ½ç¬¦åˆï¼Œå”¯ç‹¬å›¾ç‰‡ä¾‹å¤–ã€‚</p><p>ç»“æœä¸ä»…ä¸æ˜¯è¿™ä¸ªå°ºå¯¸ï¼Œè€Œä¸”å„ä¸ªæµè§ˆå™¨ä¸‹çš„å°ºå¯¸è¿˜ä¸ä¸€æ ·ã€‚IEæµè§ˆå™¨ä¸‹æ˜¯28Ã—30ï¼Œå¦‚å›¾4-2æ‰€ç¤ºã€‚Chromeæµè§ˆå™¨ä¸‹æ˜¯0Ã—0ï¼Œå¦‚å›¾4-3æ‰€ç¤ºã€‚Firefoxæµè§ˆå™¨ä¸‹æ˜¾ç¤ºçš„æ˜¯0Ã—22</p></blockquote><blockquote><p>å…³äºå›¾ç‰‡çš„src å±æ€§ï¼šé™¤éæ²¡æœ‰ src å±æ€§ï¼Œå¦åˆ™ä¸ç®¡æ˜¯ç©ºå€¼è¿˜æ˜¯å…¶ä»–å€¼ï¼Œå¾ˆå¤šæµè§ˆå™¨ä¸‹è¿˜æ˜¯ä¼šå‘é€è¯·æ±‚</p></blockquote><blockquote><p>å¯¹äºFirefoxæµè§ˆå™¨ï¼Œsrcé»˜è®¤çš„<strong>img</strong>ä¸æ˜¯æ›¿æ¢å…ƒç´ ï¼Œè€Œæ˜¯ä¸€ä¸ªæ™®é€šçš„å†…è”å…ƒç´ ï¼Œæ‰€ä»¥ä½¿ç”¨çš„å°±ä¸æ˜¯æ›¿æ¢å…ƒç´ çš„å°ºå¯¸è§„åˆ™ï¼Œè€Œæ˜¯ç±»ä¼¼<strong>span</strong>çš„å†…è”å…ƒç´ å°ºå¯¸è§„åˆ™ï¼Œå®½é«˜ä¼šæ— æ•ˆ</p><p>ä¿®å¤éœ€è®¾ç½®</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123; <span class="attribute">display</span>: inline-block; &#125;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>chrome æµè§ˆå™¨ä¸­ img è¦æƒ³è¡¨è±¡çš„åƒæ›¿æ¢å…ƒç´ ä¸€æ ·è¦è®¾ç½® alt=â€ä»»æ„å€¼â€ï¼Œå¦è€…å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å†…è”æ ‡ç­¾</p></blockquote><h4 id="srcç¼ºçœæ—¶ï¼Œimgå…ƒç´ çš„altä¿¡æ¯å±•ç¤º"><a href="#srcç¼ºçœæ—¶ï¼Œimgå…ƒç´ çš„altä¿¡æ¯å±•ç¤º" class="headerlink" title="srcç¼ºçœæ—¶ï¼Œimgå…ƒç´ çš„altä¿¡æ¯å±•ç¤º"></a>srcç¼ºçœæ—¶ï¼Œimgå…ƒç´ çš„altä¿¡æ¯å±•ç¤º</h4><ul><li><h5 id="HTMLï¼š"><a href="#HTMLï¼š" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">alt</span>=<span class="string">&quot;ç¾å¥³æ²‰æ€å›¾&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;1.jpg&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">button</span>&gt;</span>è®¾ç½®srcå±æ€§æ˜¾ç¤ºå›¾ç‰‡<span class="tag">&lt;/<span class="name">button</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š"><a href="#CSSï¼š" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">256px</span>; <span class="attribute">height</span>: <span class="number">192px</span>;</span><br><span class="line">    <span class="comment">/* éšè—Firefox altæ–‡å­— */</span></span><br><span class="line">    <span class="attribute">color</span>: transparent;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">:not</span>(<span class="selector-attr">[src]</span>) &#123;</span><br><span class="line">    <span class="comment">/* éšè—Chrome altæ–‡å­—ä»¥åŠé“¶è‰²è¾¹æ¡† */</span></span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="comment">/* æ·¡è“è‰²å ä½èƒŒæ™¯ */</span></span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute; <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>; <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f0f3f9</span>;</span><br><span class="line">    <span class="attribute">visibility</span>: visible;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="comment">/* é»‘è‰²altä¿¡æ¯æ¡ */</span></span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">attr</span>(alt);</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>; <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>);</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">100%</span>);</span><br><span class="line">    <span class="comment">/* æ¥ç‚¹è¿‡æ¸¡åŠ¨ç”»æ•ˆæœ */</span></span><br><span class="line">    <span class="attribute">transition</span>: transform .<span class="number">2s</span>;</span><br><span class="line">    <span class="attribute">visibility</span>: visible;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h5 id="JSï¼š"><a href="#JSï¼š" class="headerlink" title="JSï¼š"></a>JSï¼š</h5>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> eleButton = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;button&#x27;</span>),</span><br><span class="line">    eleImg = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;img&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (eleButton &amp;&amp; eleImg) &#123;</span><br><span class="line">    <span class="keyword">var</span> initValueButton = eleButton.<span class="property">innerHTML</span>;</span><br><span class="line">    <span class="comment">// å›¾ç‰‡åœ°å€</span></span><br><span class="line">    <span class="keyword">var</span> srcImage = eleImg.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-src&#x27;</span>);</span><br><span class="line">    <span class="comment">// ç§»é™¤è¯¥å±æ€§</span></span><br><span class="line">    eleImg.<span class="title function_">removeAttribute</span>(<span class="string">&#x27;data-src&#x27;</span>);</span><br><span class="line">    <span class="comment">// æŒ‰é’®ç‚¹å‡»äº‹ä»¶</span></span><br><span class="line">    eleButton.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">innerHTML</span> == initValueButton) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">innerHTML</span> = <span class="string">&#x27;ç§»é™¤srcå±æ€§&#x27;</span>;</span><br><span class="line">            <span class="comment">// å›¾ç‰‡æ˜¾ç¤º</span></span><br><span class="line">            eleImg.<span class="title function_">setAttribute</span>(<span class="string">&#x27;src&#x27;</span>, srcImage);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">innerHTML</span> = initValueButton;</span><br><span class="line">            <span class="comment">// srcå±æ€§ç§»é™¤</span></span><br><span class="line">            eleImg.<span class="title function_">removeAttribute</span>(<span class="string">&#x27;src&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>æŠ€å·§ï¼šå›¾ç‰‡ä»æ™®é€šå…ƒç´ å˜æˆæ›¿æ¢å…ƒç´ ï¼ŒåŸæœ¬éƒ½è¿˜æ”¯æŒçš„ï¼š:beforeå’Œï¼š:afteræ­¤æ—¶å…¨éƒ¨æ— æ•ˆ</p><p>å…¼å®¹æ€§é—®é¢˜</p><p>æ ¹æ®æˆ‘çš„æµ‹è¯•ï¼Œç›®å‰Chromeå’ŒFirefoxç­‰æµè§ˆå™¨æ”¯æŒï¼Œä½†IEæµè§ˆå™¨ä¸æ”¯æŒï¼›å…¶æ¬¡ï¼Œè¦æƒ³è®©Chromeæˆ–Firefoxç­‰æµè§ˆå™¨ç”Ÿæ•ˆï¼Œè¿˜æœ‰å…¶ä»–ä¸€äº›éœ€è¦æ³¨æ„çš„æŠ€æœ¯ç‚¹ã€‚</p><p>ï¼ˆ1ï¼‰ä¸èƒ½æœ‰srcå±æ€§ï¼ˆè¯æ˜è§‚ç‚¹çš„å…³é”®æ‰€åœ¨ï¼‰ï¼›</p><p>ï¼ˆ2ï¼‰ä¸èƒ½ä½¿ç”¨contentå±æ€§ç”Ÿæˆå›¾ç‰‡ï¼ˆé’ˆå¯¹Chromeï¼‰ï¼›</p><p>ï¼ˆ3ï¼‰éœ€è¦æœ‰altå±æ€§å¹¶æœ‰å€¼ï¼ˆé’ˆå¯¹Chromeï¼‰ï¼›</p><p>ï¼ˆ4ï¼‰Firefoxä¸‹ï¼š:beforeä¼ªå…ƒç´ çš„contentå€¼ä¼šè¢«æ— è§†ï¼Œ::afteræ— æ­¤é—®é¢˜ï¼Œåº”è¯¥ä¸Firefoxè‡ªå·±å ç”¨äº†ï¼š:beforeä¼ªå…ƒç´ çš„contentå±æ€§æœ‰å…³ã€‚</p></blockquote><blockquote><p>Chromeæµè§ˆå™¨çš„æ¸²æŸ“è¡¨ç°å¸®åŠ©æˆ‘ä»¬æ›´å¥½åœ°ç†è§£äº†æ›¿æ¢å…ƒç´ ã€‚ä»€ä¹ˆè¡¨ç°å‘¢ï¼Ÿå°±æ˜¯åœ¨Chromeæµè§ˆå™¨ä¸‹ï¼Œæ‰€æœ‰çš„å…ƒç´ éƒ½æ”¯æŒcontentå±æ€§ï¼Œè€Œå…¶ä»–æµè§ˆå™¨ä»…åœ¨ï¼š:before/::afterä¼ªå…ƒç´ ä¸­æ‰æœ‰æ”¯æŒ</p></blockquote><p>å®ç°è®¾ç½®é»˜è®¤å›¾ç‰‡</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span><span class="selector-pseudo">:not</span>(<span class="selector-attr">[src]</span>) &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="built_in">url</span>(<span class="string">1.jpg</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="contentä¸æ›¿æ¢å…ƒç´ å…³ç³»å‰–æ"><a href="#contentä¸æ›¿æ¢å…ƒç´ å…³ç³»å‰–æ" class="headerlink" title="contentä¸æ›¿æ¢å…ƒç´ å…³ç³»å‰–æ"></a>contentä¸æ›¿æ¢å…ƒç´ å…³ç³»å‰–æ</h4><blockquote><p>contentå±æ€§ç”Ÿæˆçš„å†…å®¹éƒ½æ˜¯æ›¿æ¢å…ƒç´ ï¼Ÿæ²¡é”™ï¼Œå°±æ˜¯æ›¿æ¢å…ƒç´ ï¼</p></blockquote><ol><li><p>contentç”Ÿæˆçš„æ–‡æœ¬æ˜¯æ— æ³•é€‰ä¸­ã€æ— æ³•å¤åˆ¶çš„</p></li><li><p>contentç”Ÿæˆçš„æ–‡æœ¬æ— æ³•è¢«å±å¹•é˜…è¯»è®¾å¤‡è¯»å–ï¼Œä¹Ÿæ— æ³•è¢«æœç´¢å¼•æ“æŠ“å–</p></li><li><p>ä¸èƒ½å·¦å³ï¼šemptyä¼ªç±» ã€‚content ä¸­æœ‰å†…å®¹ä¹Ÿä¼šè¢«å½“æˆ ç©º</p></li><li><p>contentåŠ¨æ€ç”Ÿæˆå€¼æ— æ³•è·å–</p><p> è®¡ç®—åŠ¨æ€å€¼</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.total</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line"><span class="attribute">content</span>: <span class="built_in">counter</span>(icecrean)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> è¯•å›¾è·å–è®¡ç®—å€¼æ—¶å´åªèƒ½æ‹¿åˆ° â€œcounter(icecrean)â€</p></li></ol><blockquote><p>è¾…åŠ©å®ç°â€œä¸¤ç«¯å¯¹é½â€ä»¥åŠâ€œå‚ç›´å±…ä¸­/ä¸Šè¾¹ç¼˜/ä¸‹è¾¹ç¼˜å¯¹é½â€æ•ˆæœ</p></blockquote><p>contentæ¢è¡Œç¬¦ä¸æ‰“ç‚¹loadingæ•ˆæœå®ä¾‹é¡µé¢</p><ul><li><h5 id="HTMLï¼š-1"><a href="#HTMLï¼š-1" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ­£åœ¨åŠ è½½ä¸­<span class="tag">&lt;<span class="name">dot</span>&gt;</span>...<span class="tag">&lt;/<span class="name">dot</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-1"><a href="#CSSï¼š-1" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">dot &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block; </span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">vertical-align</span>: -.<span class="number">25em</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line">dot<span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;...\A..\A.&#x27;</span>;</span><br><span class="line">    <span class="attribute">white-space</span>: pre-wrap;</span><br><span class="line">    <span class="attribute">animation</span>: dot <span class="number">3s</span> infinite step-start both;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> dot &#123;</span><br><span class="line">    <span class="number">33%</span> &#123; <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">2em</span>); &#125;</span><br><span class="line">    <span class="number">66%</span> &#123; <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">1em</span>); &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>ï¼ˆ1ï¼‰ä¸ºä»€ä¹ˆä½¿ç”¨<dot>è¿™ä¸ªå…ƒç´ ï¼Ÿ</p><p>â€‹    <dot>æ˜¯è‡ªå®šä¹‰çš„ä¸€ä¸ªæ ‡ç­¾å…ƒç´ ï¼Œé™¤äº†ç®€çº¦ã€è¯­ä¹‰åŒ–æ˜æ˜¾å¤–ï¼Œæ›´é‡è¦çš„æ˜¯æ–¹ä¾¿å‘ä¸‹å…¼å®¹ï¼ŒIE8ç­‰ä½ç‰ˆæœ¬æµè§ˆå™¨ä¸è®¤è¯†è‡ªå®šä¹‰çš„HTMLæ ‡ç­¾ï¼Œå› æ­¤ï¼Œä¼šä¹–ä¹–åœ°æ˜¾ç¤ºé‡Œé¢é»˜è®¤çš„3ä¸ªç‚¹ï¼Œå¯¹æˆ‘ä»¬çš„CSSä»£ç å®Œå…¨å¿½ç•¥ã€‚</p><p>ï¼ˆ2ï¼‰ä¸ºä»€ä¹ˆä½¿ç”¨ï¼š:beforeï¼Œå¯ä¸å¯ä»¥ä½¿ç”¨ï¼š:afterï¼Ÿ</p><p>â€‹    ä¼ªå…ƒç´ ä½¿ç”¨ï¼š:beforeåŒæ—¶displayè®¾ç½®ä¸ºblockï¼Œæ˜¯ä¸ºäº†åœ¨é«˜ç‰ˆæœ¬æµè§ˆå™¨ä¸‹åŸæ¥çš„3ä¸ªç‚¹æ¨åˆ°æœ€ä¸‹é¢ï¼Œä¸ä¼šå½±å“contentçš„3è¡Œå†…å®¹æ˜¾ç¤ºï¼Œå¦‚æœä½¿ç”¨ï¼š:afteræ€•æ˜¯æ•ˆæœå°±å¾ˆéš¾å®ç°äº†ã€‚</p><p>ï¼ˆ3ï¼‰ä»contentå±æ€§å€¼æ¥çœ‹ï¼Œæ˜¯3ä¸ªç‚¹åœ¨ç¬¬1è¡Œï¼Œè€Œ1ä¸ªç‚¹åè€Œåœ¨æœ€åä¸€è¡Œï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆå¤„ç†ï¼Ÿ</p><p>â€‹    3ä¸ªç‚¹åœ¨ç¬¬ä¸€è¡Œçš„ç›®çš„åœ¨äºå…¼å®¹IE9æµè§ˆå™¨ï¼Œå› ä¸ºIE9æµè§ˆå™¨è®¤è¯†<dot>ä»¥åŠï¼š:beforeï¼Œä½†æ˜¯ä¸æ”¯æŒCSSæ–°ä¸–ç•Œçš„animationå±æ€§ï¼Œæ‰€ä»¥ï¼Œä¸ºäº†IE9ä¹Ÿèƒ½æ­£å¸¸æ˜¾ç¤ºé™æ€çš„3ä¸ªç‚¹ï¼Œæ•…è€ŒæŠŠ3ä¸ªç‚¹æ”¾åœ¨ç¬¬ä¸€è¡Œã€‚</p><p>ï¼ˆ4ï¼‰è¿™é‡Œwhite-spaceå€¼ä¸ºä½•ä½¿ç”¨çš„æ˜¯pre-wrapè€Œä¸æ˜¯preï¼Ÿ</p><p>â€‹    è¿™é‡Œçš„white-space:pre-wrapæ”¹æˆwhite-space:preæ•ˆæœå…¶å®æ˜¯ä¸€æ ·çš„</p><h4 id="æ·±å…¥ç†è§£contentè®¡æ•°å™¨"><a href="#æ·±å…¥ç†è§£contentè®¡æ•°å™¨" class="headerlink" title="æ·±å…¥ç†è§£contentè®¡æ•°å™¨"></a>æ·±å…¥ç†è§£contentè®¡æ•°å™¨</h4><blockquote><p>æ‰€è°“CSSè®¡æ•°å™¨æ•ˆæœï¼ŒæŒ‡çš„æ˜¯ä½¿ç”¨CSSä»£ç å®ç°éšç€å…ƒç´ æ•°ç›®å¢å¤šï¼Œæ•°å€¼ä¹Ÿè·Ÿç€å˜å¤§çš„æ•ˆæœ</p></blockquote><p>è®¡æ•°å™¨æœ‰ä¸¤ä¸ªå±æ€§ï¼Œä¸€ä¸ªæ–¹æ³•</p><p>å±æ€§ï¼š</p><ul><li><p>counter-reset</p><p>  è®¡æ•°å™¨-é‡ç½®: é»˜è®¤æ˜¯0ï¼Œå¯ä»¥è®¾ç½®åˆå§‹å€¼ï¼Œå¯ä»¥æ˜¯è´Ÿæ•´æ•°ï¼Œå°æ•°ï¼Œä¸è¿‡ï¼ŒIEå’ŒFirefoxå¯¹æ­¤éƒ½ä¸è¯†åˆ«ï¼ŒChrome å°æ•°å‘ä¸‹å–æ•´</p></li><li><p>counter-increment</p><p>  è®¡æ•°å™¨é€’å¢ï¼šå€¼ä¸ºcounter-resetçš„1ä¸ªæˆ–å¤šä¸ªå…³é”®å­—</p></li></ul><p>æ–¹æ³•ï¼š</p><ul><li><p>counter()/counters()</p><p>  -counter(name, style)</p><p>  nameæ˜¯è®¡æ•°å™¨åï¼Œ style å®ƒæ”¯æŒlst-style-typeæ”¯æŒçš„å“ªäº›å€¼ã€‚ä½œç”¨ï¼šæˆ‘ä»¬é€’å¢/å‡çš„ä¸ä¸€å®šæ˜¯æ•°å­—ï¼Œè¿˜å¯ä»¥æ˜¯è‹±æ–‡å­—æ¯ï¼Œç½—é©¬æ–‡ç­‰</p><p>  -counters(name, string, style)</p><p>  â€‹    æ­¤æ–¹æ³•ç”¨äºç”Ÿæˆå­åºå· å¦‚ 1-1ï¼Œ1-1-1</p><p>  â€‹    name: è®¡æ•°å™¨åï¼Œ string:  è¡¨ç¤ºå­åºå·çš„è¿æ¥å­—ç¬¦ä¸²ã€‚</p></li></ul><p>counter è®¡ç®—å®ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.one &#123;</span><br><span class="line">    counter-reset: one 10 two 20;</span><br><span class="line">&#125;</span><br><span class="line">.one:before &#123;</span><br><span class="line">    content: counter(one) &#x27;~&#x27; counter(two);</span><br><span class="line">    counter-increment: one;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;one&quot;</span>&gt;</span>ã€Šè®¡æ•°å™¨ã€‹<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>counters è®¡ç®—å®ä¾‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">ul</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">counter-reset</span>: two <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">li</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">list-style-type</span>: none;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">ul</span> <span class="selector-tag">li</span><span class="selector-pseudo">::before</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">content</span>: <span class="built_in">counters</span>(two, <span class="string">&#x27;-&#x27;</span>) <span class="string">&#x27;ï¼š&#x27;</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">counter-increment</span>: two;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        ç¬¬ä¸€ç« </span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¼€å§‹<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç»“æŸ<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬äºŒç« <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        ç¬¬ä¸‰ç« </span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¼€å§‹<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç»“æŸ<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        ç¬¬å››ç« </span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>å¼€å§‹<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç»“æŸ<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>ç¬¬äº”ç« <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="padding-å±æ€§"><a href="#padding-å±æ€§" class="headerlink" title="padding å±æ€§"></a>padding å±æ€§</h3><p>è®¾ç½®äº† box-sizing: border-box; åå…ƒç´ çš„ content åŒºåŸŸä¼šè‡ªåŠ¨è®¡ç®—ã€‚ä¹Ÿå°±æ˜¯è¯´paddingå°±å¯ä»¥éšæ„è®¾ç½®ã€‚ä½†æ˜¯å¦‚æœpadding è¶³å¤Ÿå¤§çš„èŠ± å…ƒç´ çš„å°ºå¯¸ä¹Ÿæ˜¯ä¼šå‘ç”Ÿå˜åŒ–çš„ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">20px</span> <span class="number">60px</span>;</span><br><span class="line">    <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶çš„width ä¼šæ— æ•ˆï¼Œæœ€ç»ˆå®½åº¦ä¸º120px ,è€Œé‡Œé¢çš„å†…å®¹åˆ™è¡¨ç°ä¸º â€é¦–é€‰æœ€å°å®½åº¦â€œ</p><blockquote><p>padding å¯¹äºå†…è”å…ƒç´ çš„é«˜åº¦çš„å½±å“ã€‚ å¯¹äºå†…è”å…ƒç´ padding å¯ä»¥æ’‘å¼€å…ƒç´ çš„å®½ï¼ˆå½±å“å¸ƒå±€å°ºå¯¸ï¼‰ã€‚ä½†æ˜¯é«˜åº¦å´ä¸è¡Œã€‚è™½ç„¶é«˜åº¦å¯ä»¥æ’‘å¼€ï¼ˆä¸å½±å“å¸ƒå±€å°ºå¯¸ï¼‰ä½†æ˜¯æ’‘å¼€çš„ä¸Šä¸‹éƒ¨åˆ†ä¼šä¸å…¶ä»–å…ƒç´ å‘ç”Ÿé‡å </p></blockquote><h4 id="è®¾ç½®å®ä¾‹åˆ†å‰²çº¿"><a href="#è®¾ç½®å®ä¾‹åˆ†å‰²çº¿" class="headerlink" title="è®¾ç½®å®ä¾‹åˆ†å‰²çº¿"></a>è®¾ç½®å®ä¾‹åˆ†å‰²çº¿</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">a</span> href=&quot;&quot;&gt;ç™»å½•&lt;/<span class="selector-tag">a</span>&gt;&lt;<span class="selector-tag">a</span> href=&quot;&quot;&gt;æ³¨å†Œ&lt;/<span class="selector-tag">a</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">a</span> + <span class="selector-tag">a</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">3px</span> <span class="number">1px</span>;</span><br><span class="line">    <span class="attribute">margin-left</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">1px</span> solid gray;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="padding-çš„ç™¾åˆ†æ¯”å€¼"><a href="#padding-çš„ç™¾åˆ†æ¯”å€¼" class="headerlink" title="padding çš„ç™¾åˆ†æ¯”å€¼"></a>padding çš„ç™¾åˆ†æ¯”å€¼</h4><p>ä¸margin ä¸åŒ ï¼Œpadding ä¸æ”¯æŒ è´Ÿå€¼ï¼Œæ”¯æŒ%ä½†æ˜¯ï¼Œå’Œé«˜åº¦ç­‰å±æ€§%è®¡ç®—è§„åˆ™æœ‰äº›å·®å¼‚ã€‚</p><p>paddingç™¾åˆ†æ¯”å€¼æ— è®ºæ˜¯æ°´å¹³æ–¹å‘è¿˜æ˜¯å‚ç›´æ–¹å‘å‡æ˜¯ç›¸å¯¹äºå®½åº¦ï¼ˆçˆ¶çº§å®½åº¦ï¼‰è®¡ç®—çš„ï¼</p><h4 id="æŒ‰é’®-button-çš„padding"><a href="#æŒ‰é’®-button-çš„padding" class="headerlink" title="æŒ‰é’® button çš„padding"></a>æŒ‰é’® button çš„padding</h4><p>æŒ‰é’®paddingä¸é«˜åº¦è®¡ç®—ä¸åŒæµè§ˆå™¨ä¸‹åƒå·®ä¸‡åˆ«</p><p>å¦‚ä½•ç»Ÿä¸€ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">&quot;btn&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;btn&quot;</span>&gt;</span>æŒ‰é’®<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line">button &#123;</span><br><span class="line">    position: absolute;</span><br><span class="line">clip: react(0 0 0 0);</span><br><span class="line">&#125;</span><br><span class="line">label &#123;</span><br><span class="line">display: inline-block;</span><br><span class="line">line-height: 20px;</span><br><span class="line">padding: 10px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="padding-å®ç°ä¸‰é“æ -åŒå±‚åœ†ç‚¹å›¾å½¢æ•ˆæœå°å›¾æ ‡"><a href="#padding-å®ç°ä¸‰é“æ -åŒå±‚åœ†ç‚¹å›¾å½¢æ•ˆæœå°å›¾æ ‡" class="headerlink" title="padding  å®ç°ä¸‰é“æ  ,åŒå±‚åœ†ç‚¹å›¾å½¢æ•ˆæœå°å›¾æ ‡"></a>padding  å®ç°ä¸‰é“æ  ,åŒå±‚åœ†ç‚¹å›¾å½¢æ•ˆæœå°å›¾æ ‡</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.icon-menu</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">140px</span>; <span class="attribute">height</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">35px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border-top</span>: <span class="number">10px</span> solid;</span><br><span class="line">    <span class="attribute">border-bottom</span>: <span class="number">10px</span> solid;</span><br><span class="line">    <span class="attribute">background-color</span>: currentColor;</span><br><span class="line">    <span class="attribute">background-clip</span>: content-box;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icon-dot</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>; <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid;    </span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: currentColor;</span><br><span class="line">    <span class="attribute">background-clip</span>: content-box;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="padding-å…¼å®¹æ€§é—®é¢˜"><a href="#padding-å…¼å®¹æ€§é—®é¢˜" class="headerlink" title="padding å…¼å®¹æ€§é—®é¢˜"></a>padding å…¼å®¹æ€§é—®é¢˜</h4><blockquote><p>å¦‚æœå®¹å™¨å¯ä»¥æ»šåŠ¨ï¼Œåœ¨IEå’ŒFirefoxæµè§ˆå™¨ä¸‹æ˜¯ä¼šå¿½ç•¥padding-bottomå€¼çš„ï¼ŒChromeç­‰æµè§ˆå™¨åˆ™ä¸ä¼šã€‚</p><p>æœ¬è´¨åŒºåˆ«åœ¨äºï¼šChromeæµè§ˆå™¨æ˜¯å­å…ƒç´ è¶…è¿‡content boxå°ºå¯¸è§¦å‘æ»šåŠ¨æ¡æ˜¾ç¤ºï¼Œè€ŒIEå’ŒFirefoxæµè§ˆå™¨æ˜¯è¶…è¿‡padding boxå°ºå¯¸è§¦å‘æ»šåŠ¨æ¡æ˜¾ç¤ºã€‚</p></blockquote><p>å¦‚ éChromeæµè§ˆå™¨ä¸­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 100px; padding: 50px 0;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;0.jpg&quot;</span> <span class="attr">height</span>=<span class="string">&quot;300&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åº•éƒ¨æ²¡æœ‰50åƒç´ çš„padding-bottomé—´éš™</p><p>å…¼å®¹å†™æ³•ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;height: 100px;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;0.jpg&quot;</span> <span class="attr">height</span>=<span class="string">&quot;300&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin: 50px 0;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="margin-å±æ€§"><a href="#margin-å±æ€§" class="headerlink" title="margin å±æ€§"></a>margin å±æ€§</h3><p>åªè¦å…ƒç´ çš„å°ºå¯¸è¡¨ç°ç¬¦åˆâ€œå……åˆ†åˆ©ç”¨å¯ç”¨ç©ºé—´â€ï¼Œæ— è®ºæ˜¯å‚ç›´æ–¹å‘è¿˜æ˜¯æ°´å¹³æ–¹å‘ï¼Œéƒ½å¯ä»¥é€šè¿‡marginæ”¹å˜å°ºå¯¸ã€‚</p><p>CSSä¸–ç•Œé»˜è®¤çš„æµæ–¹å‘æ˜¯æ°´å¹³æ–¹å‘ï¼Œå› æ­¤ï¼Œå¯¹äºæ™®é€šæµä½“å…ƒç´ ï¼Œmarginåªèƒ½æ”¹å˜å…ƒç´ æ°´å¹³æ–¹å‘å°ºå¯¸ï¼›ä½†æ˜¯ï¼Œå¯¹äºå…·æœ‰æ‹‰ä¼¸ç‰¹æ€§çš„ç»å¯¹å®šä½å…ƒç´ ï¼Œåˆ™æ°´å¹³æˆ–å‚ç›´æ–¹å‘éƒ½å¯ä»¥ï¼Œå› ä¸ºæ­¤æ—¶çš„å°ºå¯¸è¡¨ç°ç¬¦åˆâ€œå……åˆ†åˆ©ç”¨å¯ç”¨ç©ºé—´â€</p><ul><li><p>å…ƒç´ å°ºå¯¸</p><p>  $().width()ï¼Œ$().height()æ–¹æ³• åŒ…æ‹¬ paddingå’Œborderã€‚ä¹Ÿå°±æ˜¯å…ƒç´ çš„border-boxå°ºå¯¸ã€‚å…ƒç´ DOM APIä¸­ å†™ä½œ offsetWidthå’ŒoffsetHeight ä¹Ÿç§°ä¸ºâ€œå…ƒç´ åç§»å°ºå¯¸â€</p></li><li><p>å…ƒç´ å†…éƒ¨å°ºå¯¸</p><p>  $().innerWidth()å’Œ$().innerHeight()æ–¹æ³•ï¼Œè¡¨ç¤ºå…ƒç´ çš„å†…éƒ¨åŒºåŸŸå°ºå¯¸ï¼ŒåŒ…æ‹¬paddingä½†ä¸åŒ…æ‹¬borderï¼Œä¹Ÿå°±æ˜¯å…ƒç´ çš„padding boxçš„å°ºå¯¸ã€‚åœ¨åŸç”Ÿçš„DOM APIä¸­å†™ä½œclientWidthå’ŒclientHeightï¼Œæ‰€ä»¥ï¼Œæœ‰æ—¶å€™ä¹Ÿç§°ä¸ºâ€œå…ƒç´ å¯è§†å°ºå¯¸â€</p></li><li><p>å…ƒç´ å¤–éƒ¨å°ºå¯¸</p><p>  $().outerWidth(true)å’Œ$().outerHeight (true)æ–¹æ³•ï¼Œè¡¨ç¤ºå…ƒç´ çš„å¤–éƒ¨å°ºå¯¸ï¼Œä¸ä»…åŒ…æ‹¬paddingå’Œborderï¼Œè¿˜åŒ…æ‹¬marginï¼Œä¹Ÿå°±æ˜¯å…ƒç´ çš„margin boxçš„å°ºå¯¸ã€‚æ²¡æœ‰ç›¸å¯¹åº”çš„åŸç”Ÿçš„DOM APIã€‚</p></li></ul><blockquote><p>marginå¯¹å°ºå¯¸æ²¡æœ‰å½±å“ï¼Œåªæœ‰å…ƒç´ æ˜¯â€œå……åˆ†åˆ©ç”¨å¯ç”¨ç©ºé—´â€çŠ¶æ€çš„æ—¶å€™ï¼Œmarginæ‰å¯ä»¥æ”¹å˜å…ƒç´ çš„å¯è§†å°ºå¯¸ã€‚</p><p>å› ä¸ºåªè¦å®½åº¦è®¾å®šï¼Œmarginå°±æ— æ³•æ”¹å˜å…ƒç´ å°ºå¯¸ï¼Œè¿™å’Œpaddingæ˜¯ä¸ä¸€æ ·çš„ã€‚</p></blockquote><h4 id="margin-å®ç°-ç­‰é«˜å¸ƒå±€æ•ˆæœç¤ºæ„"><a href="#margin-å®ç°-ç­‰é«˜å¸ƒå±€æ•ˆæœç¤ºæ„" class="headerlink" title="margin å®ç° ç­‰é«˜å¸ƒå±€æ•ˆæœç¤ºæ„"></a><a href="http://demo.cssworld.cn/4/3-2.php">margin å®ç° ç­‰é«˜å¸ƒå±€æ•ˆæœç¤ºæ„</a></h4><p>è¿™é‡Œæˆ‘ä»¬è®¾ç½®äº†margin-bottom:-9999pxæ„å‘³ç€å…ƒç´ çš„å¤–éƒ¨å°ºå¯¸åœ¨å‚ç›´æ–¹å‘ä¸Šå°äº†9999pxã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå‚ç›´æ–¹å‘å—çº§å…ƒç´ ä¸Šä¸‹è·ç¦»æ˜¯0ï¼Œä¸€æ—¦margin-bottom:-9999pxå°±æ„å‘³ç€åé¢æ‰€æœ‰å…ƒç´ å’Œä¸Šé¢å…ƒç´ çš„ç©ºé—´è·ç¦»å˜æˆäº†-9999pxï¼Œä¹Ÿå°±æ˜¯åé¢å…ƒç´ éƒ½å¾€ä¸Šç§»åŠ¨äº†9999pxã€‚æ­¤æ—¶ï¼Œé€šè¿‡ç¥æ¥ä¸€ç¬”padding-bottom:9999pxå¢åŠ å…ƒç´ é«˜åº¦ï¼Œè¿™æ­£è´Ÿä¸€æŠµæ¶ˆï¼Œå¯¹å¸ƒå±€å±‚å¹¶æ— å½±å“ï¼Œä½†å´å¸¦æ¥äº†æˆ‘ä»¬éœ€è¦çš„ä¸œè¥¿â€”è§†è§‰å±‚å¤šäº†9999pxé«˜åº¦çš„å¯ä½¿ç”¨çš„èƒŒæ™¯è‰²ã€‚ä½†æ˜¯ï¼Œ9999pxå¤ªå¤§äº†ï¼Œæ‰€ä»¥éœ€è¦é…åˆçˆ¶çº§overflow:hiddenæŠŠå¤šå‡ºæ¥çš„è‰²å—èƒŒæ™¯éšè—æ‰ï¼Œäºæ˜¯å®ç°äº†è§†è§‰ä¸Šçš„ç­‰é«˜å¸ƒå±€æ•ˆæœã€‚</p><p>ä¼˜ç‚¹ï¼šå…¼å®¹æ€§å¥½ï¼Œå¯å…¼å®¹IE6</p><p>ç¼ºç‚¹ï¼šå¦‚æœéœ€è¦æœ‰å­å…ƒç´ å®šä½åˆ°å®¹å™¨ä¹‹å¤–ï¼Œçˆ¶çº§çš„overflow:hiddenæ˜¯ä¸€ä¸ªæ£˜æ‰‹çš„é™åˆ¶ï¼›å…¶æ¬¡ï¼Œå½“è§¦å‘é”šç‚¹å®šä½æˆ–è€…ä½¿ç”¨DOM.scrollIntoview()æ–¹æ³•çš„æ—¶å€™ï¼Œå¯èƒ½å°±ä¼šå‡ºç°å¥‡æ€ªçš„å®šä½é—®é¢˜</p><p>å…¶ä»–æ–¹æ³•å®ç°ï¼šä¾‹å¦‚ä½¿ç”¨display:table-cellå¸ƒå±€ï¼Œå·¦å³ä¸¤æ ä½œä¸ºå•å…ƒæ ¼å¤„ç†ï¼Œæˆ–è€…ä½¿ç”¨borderè¾¹æ¡†æ¥æ¨¡æ‹Ÿ</p><ul><li><h5 id="HTMLï¼š-2"><a href="#HTMLï¼š-2" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;colLeft&quot;</span> <span class="attr">class</span>=<span class="string">&quot;column-left&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>æ­£æ–¹è§‚ç‚¹<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è§‚ç‚¹1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;colRight&quot;</span> <span class="attr">class</span>=<span class="string">&quot;column-right&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">h4</span>&gt;</span>åæ–¹è§‚ç‚¹<span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>è§‚ç‚¹1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;leftMore&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ›´å¤šæ­£æ–¹è§‚ç‚¹&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;button&quot;</span> <span class="attr">id</span>=<span class="string">&quot;rightMore&quot;</span> <span class="attr">value</span>=<span class="string">&quot;æ›´å¤šåæ–¹è§‚ç‚¹&quot;</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-2"><a href="#CSSï¼š-2" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.column-left</span>,</span><br><span class="line"><span class="selector-class">.column-right</span> &#123;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: -<span class="number">9999px</span>;</span><br><span class="line">    <span class="attribute">padding-bottom</span>: <span class="number">9999px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.column-left</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#34538b</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.column-right</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#cd0000</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><h5 id="JSï¼š-1"><a href="#JSï¼š-1" class="headerlink" title="JSï¼š"></a>JSï¼š</h5>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $ = <span class="keyword">function</span> (<span class="params">id</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(id);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// åˆ†æ å…ƒç´ </span></span><br><span class="line"><span class="keyword">var</span> colLeft = $(<span class="string">&#x27;colLeft&#x27;</span>), colRight = $(<span class="string">&#x27;colRight&#x27;</span>);</span><br><span class="line"><span class="comment">// æŒ‰é’®å…ƒç´ </span></span><br><span class="line"><span class="keyword">var</span> leftMore = $(<span class="string">&#x27;leftMore&#x27;</span>), rightMore = $(<span class="string">&#x27;rightMore&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// åºå·</span></span><br><span class="line"><span class="keyword">var</span> indexLeft = <span class="number">1</span>, indexRight = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (colLeft &amp;&amp; colRight &amp;&amp; leftMore &amp;&amp; rightMore) &#123;</span><br><span class="line">    leftMore.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        indexLeft = indexLeft + <span class="number">1</span>;</span><br><span class="line">        colLeft.<span class="title function_">insertAdjacentHTML</span>(<span class="string">&#x27;beforeend&#x27;</span>, <span class="string">&#x27;&lt;p&gt;è§‚ç‚¹&#x27;</span>+ indexLeft +<span class="string">&#x27;&lt;/p&gt;&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    rightMore.<span class="property">onclick</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        indexRight = indexRight + <span class="number">1</span>;</span><br><span class="line">        colRight.<span class="title function_">insertAdjacentHTML</span>(<span class="string">&#x27;beforeend&#x27;</span>, <span class="string">&#x27;&lt;p&gt;è§‚ç‚¹&#x27;</span>+ indexRight +<span class="string">&#x27;&lt;/p&gt;&#x27;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="margin-çš„ç™¾åˆ†æ¯”å€¼"><a href="#margin-çš„ç™¾åˆ†æ¯”å€¼" class="headerlink" title="margin çš„ç™¾åˆ†æ¯”å€¼"></a>margin çš„ç™¾åˆ†æ¯”å€¼</h4><blockquote><p>å’Œpaddingå±æ€§ä¸€æ ·ï¼Œmarginçš„ç™¾åˆ†æ¯”å€¼æ— è®ºæ˜¯æ°´å¹³æ–¹å‘è¿˜æ˜¯å‚ç›´æ–¹å‘éƒ½æ˜¯ç›¸å¯¹äºå®½åº¦è®¡ç®—çš„</p></blockquote><h4 id="margin-åˆå¹¶"><a href="#margin-åˆå¹¶" class="headerlink" title="margin åˆå¹¶"></a>margin åˆå¹¶</h4><blockquote><p>å—çº§å…ƒç´ çš„ä¸Šå¤–è¾¹è·ï¼ˆmargin-topï¼‰ä¸ä¸‹å¤–è¾¹è·ï¼ˆmargin-bottomï¼‰æœ‰æ—¶ä¼šåˆå¹¶ä¸ºå•ä¸ªå¤–è¾¹è·ï¼Œè¿™æ ·çš„ç°è±¡ç§°ä¸ºâ€œmarginåˆå¹¶â€</p></blockquote><ol><li><p>å—çº§å…ƒç´ ï¼Œä½†ä¸åŒ…æ‹¬æµ®åŠ¨å’Œç»å¯¹å®šä½å…ƒç´ </p></li><li><p>åªå‘ç”Ÿåœ¨å‚ç›´æ–¹å‘</p><p> ä¸è€ƒè™‘ writing-mode çš„æƒ…å†µä¸‹æ‰æ­£ç¡®</p></li></ol><p><strong>margin åˆå¹¶çš„3ç§åœºæ™¯</strong></p><ul><li><p>ç›¸é‚»å…„å¼Ÿå…ƒç´ marginåˆå¹¶</p></li><li><p><a href="http://demo.cssworld.cn/4/3-3.php">çˆ¶çº§å’Œç¬¬ä¸€ä¸ª/æœ€åä¸€ä¸ªå­å…ƒç´ </a></p><p>  ä¸‹é¢ä¸‰ç§è®¾ç½®ç­‰æ•ˆ</p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 80px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 80px&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 80px&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-top: 80px&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p><strong>å¦‚ä½•é˜»æ­¢ margin åˆå¹¶ï¼Ÿ</strong></p><p>å¯¹äºmargin-top å¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼ˆæ»¡è¶³ä¸€ä¸ªæ¡ä»¶å³å¯ï¼‰</p><ul><li><p> çˆ¶å…ƒç´ è®¾ç½®ä¸ºå—çŠ¶æ ¼å¼åŒ–ä¸Šä¸‹æ–‡å…ƒç´ ï¼›</p></li><li><p> çˆ¶å…ƒç´ è®¾ç½®border-topå€¼ï¼›</p></li><li><p> çˆ¶å…ƒç´ è®¾ç½®padding-topå€¼ï¼›</p></li><li><p> çˆ¶å…ƒç´ å’Œç¬¬ä¸€ä¸ªå­å…ƒç´ ä¹‹é—´æ·»åŠ å†…è”å…ƒç´ è¿›è¡Œåˆ†éš”ã€‚</p></li></ul><p>å¯¹äºmargin-bottom åˆå¹¶ï¼Œå¯ä»¥è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼ˆæ»¡è¶³ä¸€ä¸ªæ¡ä»¶å³å¯ï¼‰ï¼š</p><ul><li><p>çˆ¶å…ƒç´ è®¾ç½®ä¸ºå—çŠ¶æ ¼å¼åŒ–ä¸Šä¸‹æ–‡å…ƒç´ ï¼›</p></li><li><p>çˆ¶å…ƒç´ è®¾ç½®border-bottomå€¼ï¼›</p></li><li><p>çˆ¶å…ƒç´ è®¾ç½®padding-bottomå€¼ï¼›</p></li><li><p>çˆ¶å…ƒç´ å’Œæœ€åä¸€ä¸ªå­å…ƒç´ ä¹‹é—´æ·»åŠ å†…è”å…ƒç´ è¿›è¡Œåˆ†éš”ï¼›</p></li><li><p>çˆ¶å…ƒç´ è®¾ç½®heightã€min-heightæˆ–max-heightã€‚</p></li></ul><p>åœ¨å°è¯•è®¾ç½® å…ƒç´ ä¹‹é—´æ·»åŠ  ç©º div é˜»æ­¢åˆå¹¶æ—¶è¿˜éœ€å¦‚ä¸‹è®¾ç½®</p><ul><li><p>è®¾ç½®å‚ç›´æ–¹å‘çš„borderï¼›</p></li><li><p>è®¾ç½®å‚ç›´æ–¹å‘çš„paddingï¼›</p></li><li><p>é‡Œé¢æ·»åŠ å†…è”å…ƒç´ ï¼ˆç›´æ¥Spaceé”®ç©ºæ ¼æ˜¯æ²¡ç”¨çš„ï¼‰ï¼›</p></li><li><p>è®¾ç½®heightæˆ–è€…min-heightã€‚</p></li></ul><p><strong>margin åˆå¹¶çš„è§„åˆ™</strong></p><blockquote><p>è®¡ç®—è§„åˆ™æ€»ç»“ä¸ºâ€œæ­£æ­£å–å¤§å€¼â€â€œæ­£è´Ÿå€¼ç›¸åŠ â€â€œè´Ÿè´Ÿæœ€è´Ÿå€¼â€</p></blockquote><p><strong>margin åˆå¹¶çš„æ„ä¹‰</strong></p><p>è®©æˆ‘ä»¬çš„é¡µé¢ç»“æ„å®¹é”™æ€§æ›´å¼ºäº†ï¼Œæ¯”æ–¹è¯´æœ€åä¸€ä¸ªå…ƒç´ ç§»é™¤æˆ–ä½ç½®è°ƒæ¢ï¼Œå‡ä¸ä¼šç ´ååŸæ¥çš„å¸ƒå±€ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„CSSæ— é¡»åšä»»ä½•è°ƒæ•´ã€‚</p><p><strong>margin: auto;</strong></p><p>åœ¨çˆ¶å…ƒç´ æœ‰å¯Œä½™å®½åº¦æ—¶ï¼Œå¯è®¾ç½® margin: 0 auto; å·¦å³å±…ä¸­ã€‚è¦è®¾ç½®å‚ç›´å±…ä¸­å¯ä»¥æ”¹å˜æµæ–¹å‘(writing-mode: vertical-lr)ã€‚è¦åšåˆ°å‚ç›´å±…ä¸­åˆ™éœ€è¦å€ŸåŠ©å®šä½.å¦‚ä¸‹</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.father</span> &#123;</span><br><span class="line">hieght<span class="selector-class">.father</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>; <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f0f3f9</span>;</span><br><span class="line">    <span class="attribute">position</span>:relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.son</span> &#123; </span><br><span class="line">    <span class="attribute">position</span>: absolute; </span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>; <span class="attribute">right</span>: <span class="number">0</span>; <span class="attribute">bottom</span>: <span class="number">0</span>; <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">200px</span>; <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#cd0000</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¦‚æœson å¤ªå¤§è¶…è¿‡äº†father ï¼Œåˆ™marginä¼šå˜åŒ–ä¸º0</p><p><strong>margin æ— æ•ˆçš„æƒ…å†µ</strong></p><ol><li><p>displayè®¡ç®—å€¼inlineçš„éæ›¿æ¢å…ƒç´ çš„å‚ç›´marginæ˜¯æ— æ•ˆçš„</p><p> å¯¹äºå†…è”æ›¿æ¢å…ƒç´ ï¼Œå‚ç›´marginæœ‰æ•ˆï¼Œå¹¶ä¸”æ²¡æœ‰marginåˆå¹¶çš„é—®é¢˜ï¼Œæ‰€ä»¥å›¾ç‰‡æ°¸è¿œä¸ä¼šå‘ç”Ÿmarginåˆå¹¶ã€‚</p></li><li><p>è¡¨æ ¼ä¸­çš„<tr>å’Œ<td>å…ƒç´ æˆ–è€…è®¾ç½®displayè®¡ç®—å€¼æ˜¯table-cellæˆ–table-rowçš„å…ƒç´ çš„marginéƒ½æ˜¯æ— æ•ˆçš„</p></li><li><p>marginåˆå¹¶çš„æ—¶å€™ï¼Œæ›´æ”¹marginå€¼å¯èƒ½æ˜¯æ²¡æœ‰æ•ˆæœçš„ã€‚é™¤éè¶…è¿‡å½“å‰æœ€å€¼</p></li><li><p>ç»å¯¹å®šä½å…ƒç´ éå®šä½æ–¹ä½çš„marginå€¼â€œæ— æ•ˆâ€ã€‚</p><p> å¦‚ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">img</span> &#123; <span class="attribute">top</span>: <span class="number">10%</span>; <span class="attribute">left</span>: <span class="number">30%</span>; &#125;</span><br></pre></td></tr></table></figure><p> æ­¤æ—¶rightå’Œbottomå€¼å±äºautoçŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯å³ä¾§å’Œåº•éƒ¨æ²¡æœ‰è¿›è¡Œå®šä½ï¼Œæ­¤æ—¶ï¼Œè¿™ä¸¤ä¸ªæ–¹å‘è®¾ç½®marginå€¼æˆ‘ä»¬åœ¨é¡µé¢ä¸Šæ˜¯çœ‹ä¸åˆ°å®šä½å˜åŒ–çš„</p></li><li><p>å®šé«˜å®¹å™¨çš„å­å…ƒç´ çš„margin-bottomæˆ–è€…å®½åº¦å®šæ­»çš„å­å…ƒç´ çš„margin-rightçš„å®šä½â€œå¤±æ•ˆâ€ã€‚</p><p> ä¾‹å¦‚ï¼Œä¸€ä¸ªæ™®é€šå…ƒç´ ï¼Œåœ¨é»˜è®¤æµä¸‹ï¼Œå…¶å®šä½æ–¹å‘æ˜¯å·¦ä¾§ä»¥åŠä¸Šæ–¹ï¼Œæ­¤æ—¶åªæœ‰margin-leftå’Œmargin-topå¯ä»¥å½±å“å…ƒç´ çš„å®šä½ã€‚ä½†æ˜¯ï¼Œå¦‚æœé€šè¿‡ä¸€äº›å±æ€§æ”¹å˜äº†å®šä½æ–¹å‘ï¼Œå¦‚float:rightæˆ–è€…ç»å¯¹å®šä½å…ƒç´ çš„rightå³ä¾§å®šä½ï¼Œåˆ™åè¿‡æ¥margin-rightå¯ä»¥å½±å“å…ƒç´ çš„å®šä½ï¼Œmargin-leftåªèƒ½å½±å“å…„å¼Ÿå…ƒç´ ã€‚</p></li><li><p>é­é•¿è«åŠå¯¼è‡´çš„marginæ— æ•ˆ</p><p> å¦‚ä¸‹ä¾‹å­ï¼š</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;mml.jpg&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        å†…å®¹</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">.box &gt; img &#123;</span><br><span class="line">float: left;</span><br><span class="line">width: 256px;</span><br><span class="line">&#125;</span><br><span class="line">.box &gt; p &#123;</span><br><span class="line">overflow: hidden;</span><br><span class="line">margin-left: 200px;// æ­¤æ—¶è®¾ç½®æ— æ•ˆï¼Œå‡†ç¡®åœ°è®²ï¼Œæ­¤æ—¶çš„<span class="tag">&lt;<span class="name">p</span>&gt;</span>çš„margin-leftä»è´Ÿæ— ç©·åˆ°256pxéƒ½æ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>ï¼‰å†…è”ç‰¹æ€§å¯¼è‡´çš„marginæ— æ•ˆ <strong>(*)</strong></p><p> å¦‚ä¸‹ï¼š</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">clss</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;mml.jpg&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">.box &gt; img &#123;</span><br><span class="line">height: 96px;</span><br><span class="line">margin-top: -200px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> ä¸€ä¸ªå®¹å™¨é‡Œé¢æœ‰ä¸€ä¸ªå›¾ç‰‡ï¼Œç„¶åè¿™å¼ å›¾ç‰‡è®¾ç½®margin-topè´Ÿå€¼ï¼Œè®©å›¾ç‰‡ä¸Šåç§»ã€‚ä½†æ˜¯ï¼Œéšç€æˆ‘ä»¬çš„è´Ÿå€¼è¶Šæ¥è¶Šè´Ÿï¼Œç»“æœè¾¾åˆ°æŸä¸€ä¸ªå…·ä½“è´Ÿå€¼çš„æ—¶å€™ï¼Œå›¾ç‰‡ä¸å†å¾€ä¸Šåç§»äº†ã€‚æ¯”æ–¹è¯´ï¼Œæœ¬ä¾‹margin-topè®¾ç½®çš„æ˜¯-200pxï¼Œå¦‚æœæ­¤æ—¶æŠŠmargin-topè®¾ç½®æˆ-300pxï¼Œå›¾ç‰‡ä¼šå†å¾€ä¸Šåç§»100pxå—ï¼Ÿä¸ä¼šï¼å®ƒä¼šå¾®ä¸ä¸åŠ¨ï¼Œmargin-topå˜å¾—æ— æ•ˆäº†ã€‚è¦è§£é‡Šè¿™é‡Œä¸ºä½•ä¼šæ— æ•ˆï¼Œéœ€è¦å¯¹vertical-alignå’Œå†…è”ç›’æ¨¡å‹æœ‰æ·±å…¥çš„ç†è§£</p></li></ol><h3 id="border-å±æ€§"><a href="#border-å±æ€§" class="headerlink" title="border å±æ€§"></a>border å±æ€§</h3><p><strong>ä¸ºå•¥ border-width ä¸æ”¯æŒç™¾åˆ†æ¯”å€¼ï¼Ÿ</strong></p><p>marginï¼Œpaddingéƒ½æ˜¯ç›¸å¯¹äºå®½åº¦è®¡ç®—ã€‚å‡è®¾å¦‚æœboderæ”¯æŒ%ï¼Œé‚£ä¹ˆä¸åŒå®½åº¦å±å¹•çš„ç›¸åŒ%å€¼çš„è¾¹æ¡†å¤§å°å°±ä¸ä¸€æ ·ï¼Œæ˜¾ç„¶ä¸åˆè¾¹æ¡†çš„è¯­ä¹‰ï¼Œ åŒæ—¶è®¾è®¡ä¹‹åˆä¹Ÿæ²¡æœ‰éœ€è¦ä½¿ç”¨%å€¼å¾—åœºæ™¯</p><p>æ”¯æŒå¾—å…³é”®å­—ï¼š</p><ul><li>thin: ç›¸å½“äºpx</li><li>medium: ç›¸å½“äº 3px (é»˜è®¤)</li><li>think: ç›¸å½“äº4px</li></ul><p>ä¸ºå•¥ é»˜è®¤æ˜¯mediumï¼Œåº”ä¸º border-style:doubleè‡³å°‘3pxæ‰æœ‰æ•ˆæœï¼</p><p><strong>border-style</strong></p><ul><li>solid å®çº¿</li><li>dashed è™šçº¿</li><li>dotted è™šç‚¹ï¼ˆIEä¸­æ¸²æŸ“ä¸ºåœ†ç‚¹ï¼ŒIE9ä¸€ä¸‹ä¸æ”¯æŒborder-raduis,soâ€¦ï¼‰</li><li>doble åŒçº¿è¾¹æ¡†</li><li>å…¶ä»– insetï¼ˆå†…å‡¹ï¼‰ã€outsetï¼ˆå¤–å‡¸ï¼‰ã€grooveï¼ˆæ²Ÿæ§½ï¼‰ã€ridgeï¼ˆå±±è„Šï¼‰é£æ ¼è€åœŸè¿‡æ—¶ï¼Œä¸”å…¼å®¹æ€§æƒ¨ä¸å¿ç¹</li></ul><p>è®¡å·§</p><ul><li><p><a href="https://demo.cssworld.cn/4/4-1.php">borderç»˜åˆ¶å¸¦åŠ å·çš„ä¸Šä¼ æŒ‰é’®</a></p></li><li><p>é€šè¿‡é€æ˜border è®¾ç½®å·¦å³é—´è·</p></li><li><p><a href="http://demo.cssworld.cn/4/4-2.php">å¢åŠ ç‚¹å‡»åŒºåŸŸå¤§å°</a></p></li><li><p>ç»˜åˆ¶ä¸‰è§’å½¢ (é€šè¿‡ä¸åŒçš„ border-style å¯ç»˜åˆ¶æ›´å¤šå½¢çŠ¶)</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.div</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">10px</span> solid;</span><br><span class="line">    <span class="attribute">border-color</span>: $f30 transparent transparent transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><a href="http://demo.cssworld.cn/4/4-4.php">borderå®ç°ç­‰é«˜å¸ƒå±€</a> é€šè¿‡border-left/rightåªæŒæ”¯2-3æ </p></li></ul><h3 id="å†…è”ä¸æµ"><a href="#å†…è”ä¸æµ" class="headerlink" title="å†…è”ä¸æµ"></a>å†…è”ä¸æµ</h3><h4 id="å­—æ¯Xä¸CSSä¸–ç•Œçš„åŸºçº¿"><a href="#å­—æ¯Xä¸CSSä¸–ç•Œçš„åŸºçº¿" class="headerlink" title="å­—æ¯Xä¸CSSä¸–ç•Œçš„åŸºçº¿"></a>å­—æ¯Xä¸CSSä¸–ç•Œçš„åŸºçº¿</h4><blockquote><p>åœ¨å„ç§å†…è”ç›¸å…³æ¨¡å‹ä¸­ï¼Œå‡¡æ˜¯æ¶‰åŠå‚ç›´æ–¹å‘çš„æ’ç‰ˆæˆ–è€…å¯¹é½çš„ï¼Œéƒ½ç¦»ä¸å¼€æœ€åŸºæœ¬çš„åŸºçº¿ï¼ˆbaselineï¼‰ã€‚ä¾‹å¦‚ï¼Œline-heightè¡Œé«˜çš„å®šä¹‰å°±æ˜¯ä¸¤åŸºçº¿çš„é—´è·ï¼Œvertical-alignçš„é»˜è®¤å€¼å°±æ˜¯åŸºçº¿</p></blockquote><p><strong>CSSä¸­æœ‰ä¸€ä¸ªæ¦‚å¿µå«ä½œx-heightï¼ŒæŒ‡çš„æ˜¯å­—æ¯xçš„é«˜åº¦ã€‚</strong></p><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221012165319074.png" alt="image-20221012165319074"></p><ul><li><p>ascender heightï¼šä¸Šä¸‹çº¿é«˜åº¦ã€‚</p></li><li><p>cap heightï¼šå¤§å†™å­—æ¯é«˜åº¦ã€‚</p></li><li><p>medianï¼šä¸­çº¿ã€‚</p></li><li><p>descender heightï¼šä¸‹è¡Œçº¿é«˜åº¦ã€‚</p></li></ul><p><strong>vertical-align:middle</strong></p><p>è¿™é‡Œçš„middleæ˜¯ä¸­é—´çš„æ„æ€ã€‚æ³¨æ„ï¼Œè·Ÿä¸Šé¢çš„medianï¼ˆä¸­çº¿ï¼‰ä¸æ˜¯ä¸€ä¸ªæ„æ€ã€‚åœ¨CSSä¸–ç•Œä¸­ï¼ŒmiddleæŒ‡çš„æ˜¯åŸºçº¿å¾€ä¸Š1/2 x-heighté«˜åº¦ã€‚æˆ‘ä»¬å¯ä»¥è¿‘ä¼¼ç†è§£ä¸ºå­—æ¯xäº¤å‰ç‚¹é‚£ä¸ªä½ç½®ã€‚</p><p><strong>å­—æ¯ä¸­çš„xä¸CSSä¸­çš„ex</strong></p><blockquote><p>exæ˜¯CSSä¸­çš„ä¸€ä¸ªç›¸å¯¹å•ä½ï¼ŒæŒ‡çš„æ˜¯å°å†™å­—æ¯xçš„é«˜åº¦ï¼Œæ²¡é”™ï¼Œå°±æ˜¯æŒ‡x-heightã€‚</p><p>exçš„ä»·å€¼å°±åœ¨å…¶å‰¯ä¸šä¸Šâ€”ä¸å—å­—ä½“å’Œå­—å·å½±å“çš„å†…è”å…ƒç´ çš„å‚ç›´å±…ä¸­å¯¹é½æ•ˆæœã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/5/1-1.php">åŸºäºexå•ä½çš„å¤©ç„¶å‚ç›´å±…ä¸­å¯¹é½æ•ˆæœ</a></p><ul><li><h5 id="CSSï¼šç®­å¤´å›¾æ ‡å‚ç›´å¯¹é½æ–‡å­—"><a href="#CSSï¼šç®­å¤´å›¾æ ‡å‚ç›´å¯¹é½æ–‡å­—" class="headerlink" title="CSSï¼šç®­å¤´å›¾æ ‡å‚ç›´å¯¹é½æ–‡å­—"></a>CSSï¼šç®­å¤´å›¾æ ‡å‚ç›´å¯¹é½æ–‡å­—</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.icon-arrow</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1ex</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">/images/5/arrow.png</span>) no-repeat center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="å†…è”å…ƒç´ çš„é«˜åº¦ä¹‹æœ¬â€”line-height"><a href="#å†…è”å…ƒç´ çš„é«˜åº¦ä¹‹æœ¬â€”line-height" class="headerlink" title="å†…è”å…ƒç´ çš„é«˜åº¦ä¹‹æœ¬â€”line-height"></a><strong>å†…è”å…ƒç´ çš„é«˜åº¦ä¹‹æœ¬â€”line-height</strong></h4><p>ä¸€ä¸ªç©ºdiv å†™ä¸Šå‡ ä¸ªæ–‡å­—ï¼Œè¯·é—®divçš„é«˜åº¦æ˜¯ç”±ä»€ä¹ˆå†³å®šçš„?</p><p>ä¸€èˆ¬äººéƒ½ä¼šè§‰å¾—æ˜¯æ–‡å­—font-sizeå†³å®šçš„ï¼Œä½†æœ¬è´¨ä¸Šæ˜¯ç”±line-heightå±æ€§å…¨æƒå†³å®šçš„</p><p><a href="http://demo.cssworld.cn/5/2-1.php">ä¾‹å­å¦‚ä¸‹</a>ï¼š</p><ul><li><h5 id="HTMLï¼š-3"><a href="#HTMLï¼š-3" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;test1&quot;</span>&gt;</span>æˆ‘çš„é«˜åº¦æ˜¯ï¼Ÿ<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;test2&quot;</span>&gt;</span>æˆ‘çš„é«˜åº¦æ˜¯ï¼Ÿ<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-3"><a href="#CSSï¼š-3" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.test1</span>,</span><br><span class="line"><span class="selector-class">.test2</span> &#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">24px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ccc</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#eee</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test1</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.test2</span> &#123; </span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">16px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>è¡Œè·ï¼ŒåŠè¡Œè·ã€å†…å®¹åŒºåŸŸ</strong></p><p>ä¸€èˆ¬ä¸šç•Œçš„å…±è¯†æ˜¯ï¼šè¡Œè·= è¡Œé«˜ - em-boxï¼ˆä¸€ä¸ªæ¦‚å¿µï¼‰</p><p>è½¬æ¢æˆCSSè¯­è¨€å°±æ˜¯ï¼šè¡Œè·= line-height - font-size</p><p>å†…å®¹åŒºåŸŸï¼šFirefox/IEæµè§ˆå™¨ä¸‹æ–‡æœ¬é€‰ä¸­å¸¦èƒŒæ™¯è‰²çš„åŒºåŸŸ</p><p><a href="http://demo.cssworld.cn/5/2-2.php%E3%80%82">åŠè¡Œé—´è·</a></p><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221012171416152.png" alt="image-20221012171416152"></p><p>å½“å­—ä½“æ˜¯æ˜¯å®‹ä½“æ—¶ï¼Œem-box ç­‰é«˜ä¸ å†…å®¹åŒºåŸŸ</p><p>å‡è®¾line-heightæ˜¯1.5, font-sizeå¤§å°æ˜¯14pxï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„åŠè¡Œè·å¤§å°å°±æ˜¯ï¼ˆå¥—ç”¨ä¸Šé¢çš„è¡Œè·å…¬å¼å†é™¤ä»¥2ï¼‰:(14px ï¼Š 1.5-14px) / 2= 14px ï¼Š 0.25 = 3.5pxã€‚borderä»¥åŠline-heightç­‰ä¼ ç»ŸCSSå±æ€§å¹¶æ²¡æœ‰å°æ•°åƒç´ çš„æ¦‚å¿µï¼ˆä»CSS3åŠ¨ç”»çš„ç»†è…»ç¨‹åº¦å¯ä»¥çœ‹å‡ºï¼‰ï¼Œå› æ­¤ï¼Œè¿™é‡Œçš„3.5pxéœ€è¦å–æ•´å¤„ç†ï¼Œå¦‚æœæ ‡æ³¨çš„æ˜¯æ–‡å­—ä¸Šè¾¹è·ï¼Œåˆ™å‘ä¸‹å–æ•´ï¼›å¦‚æœæ˜¯æ–‡å­—ä¸‹è¾¹è·ï¼Œåˆ™å‘ä¸Šå–æ•´ï¼Œå› ä¸ºç»å¤§å¤šæ•°çš„å­—ä½“åœ¨å†…å®¹åŒºåŸŸä¸­éƒ½æ˜¯åä¸‹çš„ã€‚æ‰€ä»¥ï¼Œå‡è®¾è®¾è®¡å¸ˆæ ‡æ³¨äº†æ–‡å­—å­—å½¢ä¸Šè¾¹ç¼˜åˆ°å›¾ç‰‡ä¸‹è¾¹ç¼˜é—´è·20pxï¼Œåˆ™æˆ‘ä»¬å®é™…çš„margin-topå€¼åº”è¯¥æ˜¯17pxï¼Œå› ä¸º3.5pxå‘ä¸‹å–æ•´æ˜¯3pxã€‚</p><p><a href="http://demo.cssworld.cn/5/2-3.php">line-heighté€šè¿‡æ§åˆ¶è¡Œè·å®ç°æ–‡å­—æ’ç‰ˆ</a></p><blockquote><p>å¯¹äºå—çº§å…ƒç´ ï¼Œline-heightå¯¹å…¶æœ¬èº«æ˜¯æ²¡æœ‰ä»»ä½•ä½œç”¨çš„ï¼Œæˆ‘ä»¬å¹³æ—¶æ”¹å˜line-heightï¼Œå—çº§å…ƒç´ çš„é«˜åº¦è·Ÿç€å˜åŒ–å®é™…ä¸Šæ˜¯é€šè¿‡æ”¹å˜å—çº§å…ƒç´ é‡Œé¢å†…è”çº§åˆ«å…ƒç´ å æ®çš„é«˜åº¦å®ç°çš„ã€‚</p></blockquote><p><strong>line-heightå¯ä»¥è®©å†…è”å…ƒç´ â€œå‚ç›´å±…ä¸­â€</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.title</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">24px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">24px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢æ ·å¼å¯ä»¥å®ç°å•è¡Œæ–‡å­—å‚ç›´å±…ä¸­ï¼Œè¿™ä¼¼ä¹æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚ä½†å®é™…ä¸Šè¿™ç§è¯´æ³•ä¸å¤Ÿä¸¥è°¨ï¼Œå‡†ç¡®æ¥è¯´æ˜¯è¿‘ä¼¼å‚ç›´å±…ä¸­</p><p>å‚ç›´å±…ä¸­çš„åŸç†å°±æ˜¯ <strong>è¡Œè·çš„ä¸Šä¸‹ç­‰åˆ†æœºåˆ¶</strong>ï¼Œå¦‚æœè¡Œè·çš„æ·»åŠ è§„åˆ™æ˜¯åœ¨æ–‡å­—çš„ä¸Šæ–¹æˆ–è€…ä¸‹æ–¹ï¼Œåˆ™è¡Œé«˜æ˜¯æ— æ³•è®©æ–‡å­—å‚ç›´å±…ä¸­çš„ã€‚</p><p>è¯´â€œè¿‘ä¼¼â€æ˜¯å› ä¸ºæ–‡å­—å­—å½¢çš„å‚ç›´ä¸­çº¿ä½ç½®æ™®éè¦æ¯”çœŸæ­£çš„â€œè¡Œæ¡†ç›’å­â€çš„å‚ç›´ä¸­çº¿ä½ç½®ä½</p><p><strong><a href="http://demo.cssworld.cn/5/2-4.php">å®ç°å¤šè¡Œæ–‡å­—å‚ç›´å±…ä¸­</a></strong></p><p>è¿™é‡Œçš„å‚ç›´å±…ä¸­å…¶å®ä¹Ÿæ˜¯è¿‘ä¼¼</p><ul><li><h5 id="HTMLï¼š-4"><a href="#HTMLï¼š-4" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span>åŸºäºè¡Œé«˜å®ç°çš„...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-4"><a href="#CSSï¼š-4" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">280px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">120px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f0f3f9</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.content</span> &#123;</span><br><span class="line">    // åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„â€œè¡Œæ¡†ç›’å­.æ—¢èƒ½é‡ç½®å¤–éƒ¨çš„<span class="attribute">line-height</span>ä¸ºæ­£å¸¸çš„å¤§å°ï¼Œåˆèƒ½ä¿æŒå†…è”å…ƒç´ ç‰¹æ€§</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    // äº§ç”Ÿä¸€ä¸ªéå¸¸å…³é”®çš„â€œè¡Œæ¡†ç›’å­â€,æ¯ä¸ªâ€œè¡Œæ¡†ç›’å­â€éƒ½ä¼šé™„å¸¦çš„ä¸€ä¸ªäº§ç‰©â€”â€œå¹½çµç©ºç™½èŠ‚ç‚¹â€ï¼Œå³ä¸€ä¸ªå®½åº¦ä¸º<span class="number">0</span>ã€è¡¨ç°å¦‚åŒæ™®é€šå­—ç¬¦çš„çœ‹ä¸è§çš„â€œèŠ‚ç‚¹â€</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>line-height å±æ€§çš„å€¼</strong></p><ul><li><p>normal</p><p>  è®¡ç®—å€¼ï¼Œåªè¦å­—ä½“ç›¸åŒï¼Œå„ä¸ªæµè§ˆå™¨ä¸‹çš„é»˜è®¤line-heightè§£æå€¼åŸºæœ¬ä¸Šéƒ½æ˜¯ä¸€æ ·çš„ã€‚</p></li><li><p>æ•°å€¼</p><p>  å…¶æœ€ç»ˆçš„è®¡ç®—å€¼æ˜¯å’Œå½“å‰font-sizeç›¸ä¹˜åçš„å€¼ï¼Œæ•°å€¼(1.5) * fontSize</p></li><li><p>ç™¾åˆ†æ¯”å€¼</p><p>  å¦‚line-height:150%ï¼Œå…¶æœ€ç»ˆçš„è®¡ç®—å€¼æ˜¯å’Œå½“å‰font-sizeç›¸ä¹˜åçš„å€¼ã€‚</p></li><li><p>é•¿åº¦å€¼</p><p>  ä¹Ÿå°±æ˜¯å¸¦å•ä½çš„å€¼ï¼Œå¦‚line-height:21pxæˆ–è€…line-height:1.5emç­‰ã€‚æœ€ç»ˆçš„è®¡ç®—å€¼ä¹Ÿæ˜¯å’Œå½“å‰font-sizeç›¸ä¹˜åçš„å€¼</p></li></ul><blockquote><p><a href="http://demo.cssworld.cn/5/2-5.php">ç»§æ‰¿ç»†èŠ‚æœ‰æ‰€å·®åˆ«</a>ã€‚å¦‚æœä½¿ç”¨æ•°å€¼ä½œä¸ºline-heightçš„å±æ€§å€¼ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„å­å…ƒç´ ç»§æ‰¿çš„éƒ½æ˜¯è¿™ä¸ªå€¼ï¼›ä½†æ˜¯ï¼Œå¦‚æœä½¿ç”¨ç™¾åˆ†æ¯”å€¼æˆ–è€…é•¿åº¦å€¼ä½œä¸ºå±æ€§å€¼ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„å­å…ƒç´ ç»§æ‰¿çš„æ˜¯æœ€ç»ˆçš„è®¡ç®—å€¼</p></blockquote><p><strong>å†…è”å…ƒç´ line-heightçš„å¤§å€¼ç‰¹æ€§</strong></p><blockquote><p>æ— è®ºå†…è”å…ƒç´ line-heightå¦‚ä½•è®¾ç½®ï¼Œæœ€ç»ˆçˆ¶çº§å…ƒç´ çš„é«˜åº¦éƒ½æ˜¯ç”±æ•°å€¼å¤§çš„é‚£ä¸ªline-heightå†³å®šçš„</p></blockquote><h4 id="vertical-align"><a href="#vertical-align" class="headerlink" title="vertical-align"></a><strong>vertical-align</strong></h4><blockquote><p>å®ƒæ˜¯line-height çš„å¥½æœ‹å‹ï¼Œä¸ºå•¥è¿™ä¹ˆè¯´å‘¢ï¼Ÿåº”ä¸ºline-height ç”Ÿæ•ˆçš„åœ°æ–¹ï¼Œvertical-align ä¹Ÿä¸€å®šèµ·ä½œç”¨</p></blockquote><p>å¾ˆå¤šäººè®¤ä¸º å•è¡Œæ–‡æœ¬åªè¦è®¾ç½®è¡Œé«˜æ˜¯å¤šå°‘ï¼Œå…¶å æ®çš„é«˜åº¦å°±æ˜¯å¤šå°‘ã€‚<a href="http://demo.cssworld.cn/5/3-1.php">çœ‹ä¸‹é¢ä¸€ä¸ªä¾‹å­</a></p><ul><li><h5 id="HTMLï¼š-5"><a href="#HTMLï¼š-5" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>æ–‡æœ¬<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-5"><a href="#CSSï¼š-5" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">32px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-tag">span</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">24px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  box ç›’å­é«˜åº¦æ˜¯å¤šå°‘ï¼Ÿ</p></li></ul><p>å¾ˆå¤šäººè®¤ä¸º box é«˜åº¦æ˜¯32px, å› ä¸ºæ²¡æœ‰è®¾ç½®é«˜åº¦ï¼Œé«˜åº¦ç”±line-height å†³å®šã€‚ç„¶è€Œå®é™…ä¸Šç¡®å®è¦å¤§é‚£ä¹ˆå‡ åƒç´ ï¼ˆå—å­—ä½“å½±å“ï¼Œå¢åŠ é«˜åº¦ä¸ä¸€æ ·ï¼‰ï¼Œæ¯”æ–¹è¯´36px</p><p>ä¸ºå•¥ä¼šè¿™æ ·å‘¢ï¼Ÿå…¶å®è¿™é‡Œæ˜¯vertical-align ä¸‹äº†é»‘æ‰‹</p><p>å…¶ä¸­ä¸€ä¸ªå…³é”®ç‚¹ï¼Œé‚£å°±æ˜¯ fontSize è®¾ç½®åœ¨span ,è¿™å°±å¯¼è‡´ boxçš„fontSize ä¸ span æœ‰å·®å¼‚ã€‚è¿™æ—¶æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½®: å­—ä½“å¤§å°ç»Ÿä¸€ï¼Œæˆ–è€…è®¾ç½®å¯¹é½æ–¹å¼æ¥ è§£å†³è¿™ä¸ªé—®é¢˜</p><h4 id="vertical-align-çš„å±æ€§å€¼"><a href="#vertical-align-çš„å±æ€§å€¼" class="headerlink" title="vertical-align çš„å±æ€§å€¼"></a><a href="http://demo.cssworld.cn/5/3-2.php">vertical-align çš„å±æ€§å€¼</a></h4><ul><li>æ•°å€¼ç™¾åˆ†æ¯”ç±»ï¼Œå¦‚20pxã€2emã€20%ç­‰ã€‚â€¢</li><li>ä¸Šæ ‡ä¸‹æ ‡ç±»ï¼Œå¦‚subã€superï¼›â€¢</li><li>æ–‡æœ¬ç±»ï¼Œå¦‚text-topã€text-bottomï¼›â€¢</li><li>çº¿ç±»ï¼Œå¦‚baselineï¼ˆé»˜è®¤å€¼ï¼‰ã€topã€middleã€bottomï¼›</li></ul><p>ç»è¿‡ä¸€ç•ªæµ‹è¯•æˆ‘ä»¬å¯ä»¥å‘ç°è´Ÿå€¼å…¨éƒ¨éƒ½æ˜¯å¾€ä¸‹åç§»ï¼Œæ­£å€¼å…¨éƒ¨éƒ½æ˜¯å¾€ä¸Šåç§»ï¼Œè€Œä¸”æ•°å€¼å¤§å°å…¨éƒ¨éƒ½æ˜¯ç›¸å¯¹äºåŸºçº¿ä½ç½®è®¡ç®—çš„ï¼Œå› æ­¤ï¼Œä»è¿™ä¸€ç‚¹æ¥çœ‹ï¼Œ<strong>vertical-align:baseline ç­‰åŒäº vertical-align:0</strong>ã€‚</p><blockquote><p>marginå’Œpaddingæ˜¯ç›¸å¯¹äºå®½åº¦è®¡ç®—çš„ï¼Œline-heightæ˜¯ç›¸å¯¹äºfont-sizeè®¡ç®—çš„ï¼Œè€Œè¿™é‡Œçš„vertical-alignå±æ€§çš„ç™¾åˆ†æ¯”å€¼åˆ™æ˜¯ç›¸å¯¹äºline-heightçš„è®¡ç®—å€¼è®¡ç®—çš„ã€‚</p></blockquote><p><strong>vertical-align ä½œç”¨çš„å‰æ</strong></p><p>æœ‰æ—¶å€™æˆ‘ä»¬æƒ³è®¾ç½® vertical-align ä½†æ˜¯å´ä¸ç”Ÿæ•ˆï¼Œä¸ºå•¥ï¼Ÿ</p><p>å› ä¸ºvertical-alignèµ·ä½œç”¨æ˜¯æœ‰å‰ææ¡ä»¶çš„ï¼Œè¿™ä¸ªå‰ææ¡ä»¶å°±æ˜¯ï¼š<strong>åªèƒ½åº”ç”¨äºå†…è”å…ƒç´ ä»¥åŠdisplayå€¼ä¸ºtable-cellçš„å…ƒç´ ã€‚</strong>æ¢å¥è¯è¯´ï¼Œvertical-alignå±æ€§åªèƒ½ä½œç”¨åœ¨displayè®¡ç®—å€¼ä¸ºinlineã€inline-block, inline-tableæˆ–table-cellçš„å…ƒç´ ä¸Šã€‚å› æ­¤ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œ<strong>span</strong>ã€<strong>strong</strong>ã€<strong>em</strong>ç­‰å†…è”å…ƒç´ ï¼Œ<strong>img</strong>ã€<strong>button</strong>ã€<strong>input</strong>ç­‰æ›¿æ¢å…ƒç´ ï¼ŒéHTMLè§„èŒƒçš„è‡ªå®šä¹‰æ ‡ç­¾å…ƒç´ ï¼Œä»¥åŠ<td>å•å…ƒæ ¼ï¼Œéƒ½æ˜¯æ”¯æŒvertical-alignå±æ€§çš„ï¼Œå…¶ä»–å—çº§å…ƒç´ åˆ™ä¸æ”¯æŒã€‚</p><blockquote><p>å¦‚æœè®¾ç½®äº†å…ƒç´  æµ®åŠ¨ï¼Œå®šä½ ä¼šè®©å…ƒç´ å—çŠ¶åŒ–ã€‚ç„¶åå¯¼è‡´vertical-alignä¸èµ·ä½œç”¨</p></blockquote><p><strong>å¦ä¸€ç§ä¸ç”Ÿæ•ˆæƒ…å†µå¦‚ä¸‹ï¼š</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">128px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">96px</span>;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;box&quot;&gt;</span><br><span class="line">&lt;<span class="selector-tag">img</span> <span class="attribute">src</span>=&quot;<span class="number">1</span><span class="selector-class">.jpg</span>&quot; &gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure><p>è¿™ç§æƒ…å†µ å›¾ç‰‡é¡¶ç€ box ä¸Šè¾¹ç¼˜ï¼Œä¸ºå•¥ä¸èµ·ä½œç”¨ï¼Ÿå®é™…ä¸Šæ˜¯è¡Œæ¡†ç›’å­å‰é¢çš„ <strong>å¹½çµç©ºåŒ…èŠ‚ç‚¹</strong>é«˜åº¦å¤ªå°ï¼Œå¦‚æœæˆ‘ä»¬è®¾ç½®è¶³å¤Ÿå¤§çš„è¡Œé«˜è®© â€<strong>å¹½çµèŠ‚ç‚¹</strong>â€œ é«˜åº¦è¶³å¤Ÿï¼Œå°±ä¼šçœ‹åˆ°æ•ˆæœäº†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">128px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">128px</span>; // å…³é”®</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">96px</span>;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¸ºå•¥ diaplay: table-cell å¯ä»¥æ— è§†è¡Œé«˜ï¼Ÿ</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">128px</span>;</span><br><span class="line">    <span class="attribute">display</span>: table-cell;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">96px</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;<span class="selector-tag">div</span> class=&quot;box&quot;&gt;</span><br><span class="line">&lt;<span class="selector-tag">img</span> <span class="attribute">src</span>=&quot;<span class="number">1</span><span class="selector-class">.jpg</span>&quot; &gt;</span><br><span class="line">&lt;/<span class="selector-tag">div</span>&gt;</span><br></pre></td></tr></table></figure><p>å¯¹table-cellå…ƒç´ è€Œè¨€ï¼Œvertical-alignèµ·ä½œç”¨çš„æ˜¯table-cellå…ƒç´ è‡ªèº«</p><p><strong><a href="http://demo.cssworld.cn/5/3-5.php">æ¶ˆé™¤åº•éƒ¨é—´éš™</a></strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">280px</span>;</span><br><span class="line"><span class="attribute">outline</span>: <span class="number">1px</span> solid <span class="number">#aaa</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">96px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç»“æœ box å…ƒç´  é«˜åº¦è‚¯èƒ½å°±æ— ç¼˜æ— æ•…å¤šäº†5 px.</p><p>é—´éš™äº§ç”Ÿçš„ä¸‰å¤§å…ƒå‡¶å°±æ˜¯â€œå¹½çµç©ºç™½èŠ‚ç‚¹â€ã€line-heightå’Œvertical-alignå±æ€§</p><ol><li>å›¾ç‰‡å—çŠ¶åŒ–ã€‚å¯ä»¥ä¸€å£æ°”å¹²æ‰â€œå¹½çµç©ºç™½èŠ‚ç‚¹â€ã€line-heightå’Œvertical-alignã€‚</li><li>å®¹å™¨line-heightè¶³å¤Ÿå°ã€‚åªè¦åŠè¡Œé—´è·å°åˆ°å­—æ¯xçš„ä¸‹è¾¹ç¼˜ä½ç½®æˆ–è€…å†å¾€ä¸Šï¼Œè‡ªç„¶å°±æ²¡æœ‰äº†æ’‘å¼€åº•éƒ¨é—´éš™é«˜åº¦ç©ºé—´äº†ã€‚æ¯”æ–¹è¯´ï¼Œå®¹å™¨è®¾ç½®line-height:0ã€‚</li><li>å®¹å™¨font-sizeè¶³å¤Ÿå°ã€‚æ­¤æ–¹æ³•è¦æƒ³ç”Ÿæ•ˆï¼Œéœ€è¦å®¹å™¨çš„line-heightå±æ€§å€¼å’Œå½“å‰font-sizeç›¸å…³ï¼Œå¦‚line-height:1.5æˆ–è€…line-height:150%ä¹‹ç±»ï¼›å¦åˆ™åªä¼šè®©ä¸‹é¢çš„é—´éš™å˜å¾—æ›´å¤§ï¼Œå› ä¸ºåŸºçº¿ä½ç½®å› å­—ç¬¦xå˜å°è€Œå¾€ä¸Šå‡äº†ã€‚</li><li>å›¾ç‰‡è®¾ç½®å…¶ä»–vertical-alignå±æ€§å€¼ã€‚é—´éš™çš„äº§ç”ŸåŸå› ä¹‹ä¸€å°±æ˜¯åŸºçº¿å¯¹é½ï¼Œæ‰€ä»¥æˆ‘ä»¬è®¾ç½®vertical-alignçš„å€¼ä¸ºtopã€middleã€bottomä¸­çš„ä»»æ„ä¸€ä¸ªéƒ½æ˜¯å¯ä»¥çš„ã€‚</li></ol><p><strong>å†…è”ç‰¹æ€§å¯¼è‡´çš„marginæ— æ•ˆ</strong></p><blockquote><p>è€Œåœ¨CSSä¸–ç•Œä¸­ï¼Œéä¸»åŠ¨è§¦å‘ä½ç§»çš„å†…è”å…ƒç´ æ˜¯ä¸å¯èƒ½è·‘åˆ°è®¡ç®—å®¹å™¨å¤–é¢çš„ï¼Œå¯¼è‡´å›¾ç‰‡çš„ä½ç½®è¢«â€œå¹½çµç©ºç™½èŠ‚ç‚¹â€çš„vertical-align:baselineç»™é™æ­»äº†</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">96px</span>;</span><br><span class="line">    <span class="attribute">margin-top</span>: -<span class="number">200px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    x<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;../images/b2.png&quot;</span> <span class="attr">alt</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>åœ¨å¹½çµèŠ‚ç‚¹å¤„ä½¿ç”¨Xä»£æ›¿ï¼Œå› ä¸ºå­—ç¬¦xä¸‹è¾¹ç¼˜å’Œå›¾ç‰‡ä¸‹è¾¹ç¼˜å¯¹é½ï¼Œå­—ç¬¦xéä¸»åŠ¨å®šä½ï¼Œä¸å¯èƒ½è·‘åˆ°å®¹å™¨å¤–é¢ï¼Œæ‰€ä»¥å›¾ç‰‡å°±è¢«é™æ­»åœ¨æ­¤é—®é¢˜ï¼Œmargin-topå¤±æ•ˆã€‚</p><p><strong>inline-blockä¸baseline</strong></p><blockquote><p>vertical-alignå±æ€§çš„é»˜è®¤å€¼<strong>baseline</strong>åœ¨<strong>æ–‡æœ¬ä¹‹ç±»çš„å†…è”å…ƒç´ </strong>é‚£é‡Œå°±æ˜¯<strong>å­—ç¬¦xçš„ä¸‹è¾¹ç¼˜</strong>ï¼Œå¯¹äº<strong>æ›¿æ¢å…ƒç´ </strong>åˆ™æ˜¯<strong>æ›¿æ¢å…ƒç´ çš„ä¸‹è¾¹ç¼˜</strong>ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ˜¯<strong>inline-blockå…ƒç´ </strong>ï¼Œåˆ™è§„åˆ™è¦å¤æ‚äº†ï¼šä¸€ä¸ªinline-blockå…ƒç´ ï¼Œå¦‚æœé‡Œé¢<strong>æ²¡æœ‰å†…è”å…ƒç´ ï¼Œæˆ–è€…overflowä¸æ˜¯visible</strong>,åˆ™è¯¥å…ƒç´ çš„åŸºçº¿å°±æ˜¯å…¶<strong>marginåº•è¾¹ç¼˜</strong>ï¼›å¦åˆ™å…¶åŸºçº¿å°±æ˜¯å…ƒç´ é‡Œé¢<strong>æœ€åä¸€è¡Œå†…è”å…ƒç´ çš„åŸºçº¿</strong>ã€‚</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;dib-baseline&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;dib-baseline&quot;</span>&gt;</span>x-baselinex-baselinex-baselinex-baselinex-baseline<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.dib-baseline</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>; <span class="attribute">height</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#ccc</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221013154058106.png" alt="image-20221013154058106"></p><p><a href="http://demo.cssworld.cn/5/3-6.php">text-align:jusitfyå£°æ˜å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°å…¼å®¹çš„åˆ—è¡¨ä¸¤ç«¯å¯¹é½æ•ˆæœ</a></p><p><a href="http://demo.cssworld.cn/5/3-7.php">å¤„ç†å›¾æ ‡å¯¹é½</a></p><p><strong><a href="http://demo.cssworld.cn/5/3-8.php">vertical-align middle è¿‘ä¼¼å‚ç›´å±…ä¸­çš„åŸå› </a>)</strong></p><ul><li><p>å†…è”å…ƒç´ ï¼šå…ƒç´ çš„å‚ç›´ä¸­å¿ƒç‚¹å’Œè¡Œæ¡†ç›’å­åŸºçº¿å¾€ä¸Š1/2 x-heightå¤„å¯¹é½ï¼ˆå°±æ˜¯å­—ç¬¦xçš„äº¤å‰ç‚¹ä½ç½®ï¼‰ã€‚</p></li><li><p>table-cellå…ƒç´ ï¼šå•å…ƒæ ¼å¡«å……ç›’å­ç›¸å¯¹äºå¤–é¢çš„è¡¨æ ¼è¡Œå±…ä¸­å¯¹é½ã€‚</p></li></ul><blockquote><p>åŸºæœ¬ä¸Šæ‰€æœ‰çš„å­—ä½“ä¸­ï¼Œå­—ç¬¦xçš„ä½ç½®éƒ½æ˜¯åä¸‹ä¸€ç‚¹å„¿çš„ï¼Œfont-sizeè¶Šå¤§åç§»è¶Šæ˜æ˜¾ï¼Œè¿™æ‰å¯¼è‡´é»˜è®¤çŠ¶æ€ä¸‹çš„vertial-align:middleå®ç°çš„éƒ½æ˜¯â€œè¿‘ä¼¼å‚ç›´å±…ä¸­â€ã€‚</p><p>å¦‚æœæƒ³è¦å®ç°çœŸæ­£æ„ä¹‰ä¸Šçš„å‚ç›´å±…ä¸­å¯¹é½ï¼Œåªè¦æƒ³åŠæ³•è®©å­—ç¬¦xçš„ä¸­å¿ƒä½ç½®å°±æ˜¯å®¹å™¨çš„å‚ç›´ä¸­å¿ƒä½ç½®å³å¯ï¼Œé€šå¸¸çš„åšæ³•æ˜¯è®¾ç½®font-size:0ã€‚</p></blockquote><p><strong><a href="http://demo.cssworld.cn/5/3-9.php">vertical-align çš„é¡¶éƒ¨ï¼Œåº•éƒ¨å¯¹é½</a></strong></p><ul><li>vertical-align:text-topï¼šç›’å­çš„é¡¶éƒ¨å’Œçˆ¶çº§å†…å®¹åŒºåŸŸçš„é¡¶éƒ¨å¯¹é½ã€‚</li><li>vertical-align:text-bottomï¼šç›’å­çš„åº•éƒ¨å’Œçˆ¶çº§å†…å®¹åŒºåŸŸçš„åº•éƒ¨å¯¹é½ã€‚</li></ul><p><strong><a href="http://demo.cssworld.cn/5/3-10.php">åŸºäºvertical-alignå±æ€§çš„æ°´å¹³å‚ç›´å±…ä¸­å¼¹æ¡†</a></strong></p><ul><li><h5 id="HTMLï¼š-6"><a href="#HTMLï¼š-6" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;dialog&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;content&quot;</span>&gt;</span>å†…å®¹å ä½<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-6"><a href="#CSSï¼š-6" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.container</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0</span>; <span class="attribute">right</span>: <span class="number">0</span>; <span class="attribute">bottom</span>: <span class="number">0</span>; <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="comment">/* for IE8 */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">data:image/png;base64,iVB...g==</span>);</span><br><span class="line">    <span class="comment">/* for IE9+ */</span></span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>), none;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">99</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: auto;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.container</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.dialog</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">vertical-align</span>: middle;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">    <span class="attribute">white-space</span>: normal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="æµçš„ç ´åä¸ä¿æŠ¤"><a href="#æµçš„ç ´åä¸ä¿æŠ¤" class="headerlink" title="æµçš„ç ´åä¸ä¿æŠ¤"></a>æµçš„ç ´åä¸ä¿æŠ¤</h3><h4 id="float"><a href="#float" class="headerlink" title="float"></a>float</h4><blockquote><p>è®¾è®¡åˆè¡·ï¼šæµ®åŠ¨çš„æœ¬è´¨å°±æ˜¯ä¸ºäº†å®ç°æ–‡å­—ç¯ç»•æ•ˆæœï¼ˆå³â€œçˆ¶çº§é«˜åº¦å¡Œé™·â€å’Œâ€œè¡Œæ¡†ç›’å­åŒºåŸŸé™åˆ¶â€ï¼‰</p><p>floatå±æ€§æœ‰ä¸ªè‘—åçš„ç‰¹æ€§è¡¨ç°ï¼Œå°±æ˜¯ä¼šè®©çˆ¶å…ƒç´ çš„é«˜åº¦å¡Œé™·ã€‚</p></blockquote><ul><li><p>æµ®åŠ¨é”šç‚¹</p><p>  æµ®åŠ¨é”šç‚¹æ˜¯floatå…ƒç´ æ‰€åœ¨çš„â€œæµâ€ä¸­çš„ä¸€ä¸ªç‚¹ï¼Œè¿™ä¸ªç‚¹æœ¬èº«å¹¶ä¸æµ®åŠ¨ï¼Œå°±è¡¨ç°è€Œè¨€æ›´åƒä¸€ä¸ªæ²¡æœ‰marginã€borderå’Œpaddingçš„ç©ºçš„å†…è”å…ƒç´ ã€‚</p></li><li><p>æµ®åŠ¨å‚è€ƒ</p><p>  æŒ‡çš„æ˜¯æµ®åŠ¨å…ƒç´ å¯¹é½å‚è€ƒçš„å®ä½“</p></li></ul><blockquote><p>æµ®åŠ¨é”šç‚¹å…¶ä½œç”¨å°±æ˜¯äº§ç”Ÿâ€œè¡Œæ¡†ç›’å­â€ï¼Œå› ä¸ºâ€œæµ®åŠ¨é”šç‚¹â€è¡¨ç°å¦‚åŒä¸€ä¸ªç©ºçš„å†…è”å…ƒç´ ï¼Œæœ‰å†…è”å…ƒç´ è‡ªç„¶å°±æœ‰â€œè¡Œæ¡†ç›’å­â€ï¼Œäºæ˜¯ï¼Œfloatå…ƒç´ å¯¹é½çš„å‚è€ƒå®ä½“â€œè¡Œæ¡†ç›’å­â€å¯¹äºå—çŠ¶å…ƒç´ ä¹ŸåŒæ ·é€‚ç”¨äº†ï¼Œåªä¸è¿‡è¿™ä¸ªâ€œè¡Œæ¡†ç›’å­â€ç”±äºæ²¡æœ‰ä»»ä½•å†…å®¹ï¼Œæ‰€ä»¥æ— å°ºå¯¸ï¼Œçœ‹ä¸è§ä¹Ÿæ‘¸ä¸ç€ç½¢äº†ã€‚</p></blockquote><p>ä¾‹å­ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">å³è¾¹æ–°å¢ä¸€ä¸ªaæ ‡ç­¾</span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#&quot;</span>&gt;</span>æ›´å¤š<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line"></span><br><span class="line">a æ ‡ç­¾è®¾ç½® float: right;</span><br><span class="line"></span><br><span class="line">å½“æ ‡é¢˜æ–‡å­—å‡ºç°æ¢è¡Œæ—¶ï¼Œæ›´å¤š æ˜¾ç¤ºçš„ä½ç½®ï¼Ÿ</span><br><span class="line">IE6/7ä¸­æµ®åŠ¨å…ƒç´ ä¼šåœ¨ç¬¬äºŒè¡Œæ˜¾ç¤ºï¼ŒIE8ä»¥ä¸Šçš„æµè§ˆå™¨ä¼šæ˜¾ç¤ºåœ¨ç¬¬ä¸€è¡Œ</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åœ¨CSSä¸–ç•Œä¸­ï¼Œfloatå…ƒç´ çš„â€œæµ®åŠ¨å‚è€ƒâ€æ˜¯â€œè¡Œæ¡†ç›’å­â€ï¼Œä¹Ÿå°±æ˜¯floatå…ƒç´ åœ¨å½“å‰â€œè¡Œæ¡†ç›’å­â€å†…å®šä½</p><p>æ¯ä¸€è¡Œå†…è”å…ƒç´ éƒ½æœ‰ä¸€ä¸ªâ€œè¡Œæ¡†ç›’å­â€ï¼Œè¿™ä¸ªä¾‹å­ä¸­æ ‡é¢˜æ–‡å­—æ¯”è¾ƒå¤šï¼Œä¸¤è¡Œæ˜¾ç¤ºäº†ï¼Œå› æ­¤æœ‰ä¸Šä¸‹ä¸¤ä¸ªâ€œè¡Œæ¡†ç›’å­â€ï¼Œè€Œâ€œæ›´å¤šâ€æ‰€åœ¨çš„<strong>a</strong>å…ƒç´ æ˜¯åœ¨æ ‡é¢˜æ–‡å­—åé¢ï¼Œä½äºç¬¬äºŒè¡Œï¼Œå› æ­¤ï¼Œè¿™é‡Œè®¾ç½®äº†float:rightçš„<strong>a</strong>å…ƒç´ æ˜¯ç›¸å¯¹äºç¬¬äºŒè¡Œçš„â€œè¡Œæ¡†ç›’å­â€å¯¹é½çš„ã€‚</p><p>é‚£å¦‚æœæ ‡é¢˜æ–‡å­—åˆšå¥½å¤Ÿä¸¤è¡Œï¼Œé‚£ä¹ˆ <strong>æ›´å¤š</strong>æ˜¾ç¤ºçš„ä½ç½®æ˜¯ï¼Ÿ</p><p>ä¼šå•ç‹¬å±•ç¤ºåœ¨ç¬¬ä¸‰è¡Œï¼Ÿ</p><p><strong><a href="http://demo.cssworld.cn/6/1-2.php">åˆ©ç”¨float ç ´åæµç‰¹æ€§çš„ä¸¤æ è‡ªé€‚åº”å¸ƒå±€</a></strong></p><p><strong>clear å±æ€§</strong></p><blockquote><p>ç”¨æ¥ä¸“é—¨å¤„ç†float å±æ€§å¸¦æ¥çš„å¡Œé™·é—®é¢˜</p><p>å®˜æ–¹å¯¹clearå±æ€§çš„è§£é‡Šæ˜¯ï¼šâ€œå…ƒç´ ç›’å­çš„è¾¹ä¸èƒ½å’Œå‰é¢çš„æµ®åŠ¨å…ƒç´ ç›¸é‚»ã€‚â€</p><p>å°±æ˜¯è®¾ç½®äº†clearå±æ€§çš„å…ƒç´ è‡ªèº«å¦‚ä½•å¦‚ä½•ï¼Œè€Œä¸æ˜¯è®©floatå…ƒç´ å¦‚ä½•å¦‚ä½•</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">clear</span>: none | left| right | both;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸€èˆ¬å¸¸ç”¨ both å‡ ä¹ä¸ä½¿ç”¨ right/left,åº”ä¸º ç”¨å®ƒä»¬æ—¶è‚¯å®šå¯ä»¥ç”¨ both ä»£æ›¿</p><p>å› ä¸ºclearå±æ€§åªæœ‰å—çº§å…ƒç´ æ‰æœ‰æ•ˆï¼Œè€Œ :afterçš„ä¼ªç±»å…ƒç´ éƒ½æ˜¯å†…è”æ°´å¹³ï¼Œ æ‰€ä»¥éœ€è¦æ‰‹åŠ¨è®¾ç½®display</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clear</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">display</span>: table;// block/list-item</span><br><span class="line">    <span class="attribute">clear</span>: both;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç”±äºclear:bothçš„ä½œç”¨æœ¬è´¨æ˜¯è®©è‡ªå·±ä¸å’Œfloatå…ƒç´ åœ¨ä¸€è¡Œæ˜¾ç¤ºï¼Œå¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„æ¸…é™¤æµ®åŠ¨ï¼Œå› æ­¤floatå…ƒç´ ä¸€äº›ä¸å¥½çš„ç‰¹æ€§ä¾ç„¶å­˜åœ¨ï¼Œäºæ˜¯ï¼Œä¼šæœ‰ç±»ä¼¼ä¸‹é¢çš„ç°è±¡ã€‚</p></blockquote><p>ç”±äºclear:bothçš„ä½œç”¨æœ¬è´¨æ˜¯è®©è‡ªå·±ä¸å’Œfloatå…ƒç´ åœ¨ä¸€è¡Œæ˜¾ç¤ºï¼Œå¹¶ä¸æ˜¯çœŸæ­£æ„ä¹‰ä¸Šçš„æ¸…é™¤æµ®åŠ¨ï¼Œå› æ­¤floatå…ƒç´ ä¸€äº›ä¸å¥½çš„ç‰¹æ€§ä¾ç„¶å­˜åœ¨ï¼Œäºæ˜¯ï¼Œä¼šæœ‰ç±»ä¼¼ä¸‹é¢çš„ç°è±¡ã€‚</p><ul><li>å¦‚æœclear:bothå…ƒç´ å‰é¢çš„å…ƒç´ å°±æ˜¯floatå…ƒç´ ï¼Œåˆ™margin-topè´Ÿå€¼å³ä½¿è®¾æˆ-9999pxï¼Œä¹Ÿä¸è§ä»»ä½•æ•ˆæœã€‚</li><li>clear:bothåé¢çš„å…ƒç´ ä¾æ—§å¯èƒ½ä¼šå‘ç”Ÿæ–‡å­—ç¯ç»•çš„ç°è±¡</li></ul><h4 id="cssä¸–ç•Œçš„ç»“ç•Œ"><a href="#cssä¸–ç•Œçš„ç»“ç•Œ" class="headerlink" title="cssä¸–ç•Œçš„ç»“ç•Œ"></a><strong>cssä¸–ç•Œçš„ç»“ç•Œ</strong></h4><blockquote><p>BFCå…¨ç§°ä¸ºblock formatting contextï¼Œä¸­æ–‡ä¸ºâ€œå—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡â€ã€‚</p><p>è¡¨ç°åŸåˆ™ï¼šå¦‚æœä¸€ä¸ªå…ƒç´ å…·æœ‰BFCï¼Œå†…éƒ¨å­å…ƒç´ å†æ€ä¹ˆç¿»æ±Ÿå€’æµ·ã€ç¿»äº‘è¦†é›¨ï¼Œéƒ½ä¸ä¼šå½±å“å¤–éƒ¨çš„å…ƒç´ ã€‚</p></blockquote><p><strong>è§¦å‘BFC</strong></p><p>æ»¡è¶³ä¸‹é¢æ¡ä»¶ä¹‹ä¸€å³å¯ï¼š</p><ul><li><html>æ ¹å…ƒç´ ï¼›</li><li>floatçš„å€¼ä¸ä¸ºnoneï¼›</li><li>overflowçš„å€¼ä¸ºautoã€scrollæˆ–hiddenï¼›</li><li>displayçš„å€¼ä¸ºtable-cellã€table-captionå’Œinline-blockä¸­çš„ä»»ä½•ä¸€ä¸ªï¼›</li><li>positionçš„å€¼ä¸ä¸ºrelativeå’Œstaticã€‚</li></ul><p>æ€»ç»“ä¸€ä¸‹ï¼Œæˆ‘ä»¬å¯¹BFCå£°æ˜å®¶æ—å¤§è‡´è¿‡äº†ä¸€éï¼Œèƒ½æ‹…ä»»è‡ªé€‚åº”å¸ƒå±€é‡ä»»çš„ä¹Ÿå°±æ˜¯ä»¥ä¸‹å‡ ä¸ªã€‚</p><ul><li>â€¢ overflow:auto/hiddenï¼Œé€‚ç”¨äºIE7åŠä»¥ä¸Šç‰ˆæœ¬æµè§ˆå™¨ï¼›</li><li>â€¢ display:inline-blockï¼Œé€‚ç”¨äºIE6å’ŒIE7ï¼›</li><li>â€¢ display:table-cellï¼Œé€‚ç”¨äºIE8åŠä»¥ä¸Šç‰ˆæœ¬æµè§ˆå™¨ã€‚</li></ul><p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥æç‚¼å‡ºä¸¤å¥—IE7åŠä»¥ä¸Šç‰ˆæœ¬æµè§ˆå™¨é€‚é…çš„è‡ªé€‚åº”è§£å†³æ–¹æ¡ˆã€‚</p><p>ï¼ˆ1ï¼‰å€ŸåŠ©overflowå±æ€§ï¼Œå¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.lbf-content</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ï¼ˆ2ï¼‰èåˆdisplay:table-cellå’Œdisplay:inline-blockï¼Œå¦‚ä¸‹ï¼š[æ’å›¾]</p><p>å•å…ƒæ ¼æœ‰ä¸€ä¸ªéå¸¸ç¥å¥‡çš„ç‰¹æ€§ï¼Œå°±æ˜¯å®½åº¦å€¼è®¾ç½®å¾—å†å¤§ï¼Œå®é™…å®½åº¦ä¹Ÿä¸ä¼šè¶…è¿‡è¡¨æ ¼å®¹å™¨çš„å®½åº¦.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.lbf-content</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: table-cell; <span class="attribute">width</span>: <span class="number">9999px</span>;</span><br><span class="line">    <span class="comment">/*å¦‚ä¸éœ€è¦å…¼å®¹IE7 ä¸‹é¢æ ·å¼å¯çœç•¥*/</span></span><br><span class="line">    <span class="attribute">display</span>: inline-block; <span class="attribute">width</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…³äº display: table-cell; å…ƒç´ å†…è¿ç»­è‹±æ–‡æ— æ³•æ¢è¡Œã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.word-break</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: table;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">table-layout</span>: fixed;</span><br><span class="line">    <span class="attribute">word-break</span>: break-all;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="æœ€ä½³ç»“ç•Œ-overflow"><a href="#æœ€ä½³ç»“ç•Œ-overflow" class="headerlink" title="æœ€ä½³ç»“ç•Œ overflow"></a><strong>æœ€ä½³ç»“ç•Œ overflow</strong></h4><blockquote><p>è¦æƒ³å½»åº•æ¸…é™¤æµ®åŠ¨çš„å½±å“ï¼Œæœ€é€‚åˆçš„å±æ€§ä¸æ˜¯clearè€Œæ˜¯overflowã€‚ä¸€èˆ¬ä½¿ç”¨overflow:hiddenï¼Œåˆ©ç”¨BFCçš„â€œç»“ç•Œâ€ç‰¹æ€§å½»åº•è§£å†³æµ®åŠ¨å¯¹å¤–éƒ¨æˆ–å…„å¼Ÿå…ƒç´ çš„å½±å“</p></blockquote><p><strong>overflow-xå’Œoverflow-y</strong></p><blockquote><p>å¦‚æœoverflow-xå’Œoverflow-yå±æ€§ä¸­çš„ä¸€ä¸ªå€¼è®¾ç½®ä¸ºvisibleè€Œå¦å¤–ä¸€ä¸ªè®¾ç½®ä¸ºscrollã€autoæˆ–hiddenï¼Œåˆ™visibleçš„æ ·å¼è¡¨ç°ä¼šå¦‚åŒautoã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé™¤éoverflow-xå’Œoverflow-yçš„å±æ€§å€¼éƒ½æ˜¯visibleï¼Œå¦åˆ™visibleä¼šå½“æˆautoæ¥è§£æã€‚æ¢å¥è¯è¯´ï¼Œæ°¸è¿œä¸å¯èƒ½å®ç°ä¸€ä¸ªæ–¹å‘æº¢å‡ºå‰ªè£æˆ–æ»šåŠ¨ï¼Œå¦ä¸€æ–¹å‘å†…å®¹æº¢å‡ºæ˜¾ç¤ºçš„æ•ˆæœã€‚</p></blockquote><p><strong>overflowä¸æ»šåŠ¨æ¡</strong></p><p>HTML ä¸­é»˜è®¤äº§ç”Ÿæ»šåŠ¨çš„æ¡çš„æ ‡ç­¾ï¼š html,textarea. åº”ä¸ºå®ƒä»¬çš„overflow å±æ€§é»˜è®¤å€¼ä¸æ˜¯ visibleï¼Œè€Œæ˜¯ auto</p><p><strong>å…³äºæµè§ˆå™¨æ»šåŠ¨æ¡</strong></p><ul><li>é’ˆå¯¹PCç«¯ï¼šæ— è®ºæ˜¯å•¥æµè§ˆå™¨ï¼Œé»˜è®¤æ»šåŠ¨æ¡å‡æ¥è‡ª html,è€Œä¸æ˜¯body .å¦‚éœ€å»é™¤é¡µé¢é»˜è®¤æ»šåŠ¨æ¡åªéœ€</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;<span class="attribute">overflow</span>: hidden;&#125;</span><br></pre></td></tr></table></figure><ul><li>æ»šåŠ¨æ¡ä¼šå ç”¨å®¹å™¨çš„å¯ç”¨å®½åº¦æˆ–é«˜åº¦ã€‚ï¼ˆç§»åŠ¨ç«¯ä¸ä¼šï¼‰</li></ul><p>å®ç°è¡¨å¤´å›ºå®šï¼Œè¡¨æ ¼å†…å®¹å¯æ»šåŠ¨æ•ˆæœï¼Œä¸€èˆ¬ä½¿ç”¨åŒè¡¨æ ¼å®ç°ï¼Œä½†æ˜¯å½“è¡¨æ ¼å†…å®¹å‡ºç°æ»šåŠ¨æ¡æ—¶ï¼Œé¡µé¢å¯èƒ½å‡ºç°æ™ƒåŠ¨ï¼Œåº”ä¸ºä¸€å¼€å§‹æ²¡æœ‰æ»šåŠ¨æ¡åé¢å‡ºç°æ»šåŠ¨æ¡ï¼Œæ­¤æ—¶é¡µé¢å¯ç”¨å®½åº¦å‘ç”Ÿå˜åŒ–ï¼Œæ°´å¹³å±…ä¸­é‡æ–°è®¡ç®—ï¼Œå¯¼è‡´é¡µé¢å‘ç”Ÿæ™ƒåŠ¨ï¼Œä½“éªŒéå¸¸ä¸å¥½ã€‚ä¸‹è¾¹æ¨èä¸€å‰‚è‰¯è¯</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line">    <span class="attribute">overflow-y</span>: scroll;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:root</span> &#123;</span><br><span class="line">    <span class="attribute">overflow-y</span>: auto;</span><br><span class="line">    <span class="attribute">overflow-x</span>: hide;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:root</span> <span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100vw</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŸºæœ¬ä¸Šè¯åˆ°ç—…é™¤ï¼Œè€Œä¸”åé—ç—‡éå¸¸å°‘ï¼Œå¤§å®¶ä¸å¦¨è¯•è¯•ï¼</p><p>å¯¹äºChromeæµè§ˆå™¨ï¼š</p><p>â€¢ æ•´ä½“éƒ¨åˆ†ï¼Œ::-webkit-scrollbarï¼›</p><p>â€¢ ä¸¤ç«¯æŒ‰é’®ï¼Œ::-webkit-scrollbar-buttonï¼›</p><p>â€¢ å¤–å±‚è½¨é“ï¼Œ::-webkit-scrollbar-trackï¼›</p><p>â€¢ å†…å±‚è½¨é“ï¼Œ::-webkit-scrollbar-track-pieceï¼›</p><p>â€¢ æ»šåŠ¨æ»‘å—ï¼Œ::-webkit-scrollbar-thumbï¼›</p><p>â€¢ è¾¹è§’ï¼Œ::-webkit-scrollbar-corner</p><p>ä½†å¹³æ—¶å¼€å‘åªç”¨ä¸‹é¢3ä¸ªå±æ€§ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">::-webkit-scrollbar &#123;</span><br><span class="line">    <span class="comment">/*è¡€æ§½åšåº¦*/</span></span><br><span class="line">    <span class="attribute">width</span>: <span class="number">8px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">8px</span>;</span><br><span class="line">&#125;</span><br><span class="line">::-webkit-scrollbar-thumb &#123;</span><br><span class="line">    <span class="comment">/*æ‹–åŠ¨æ¡*/</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0.3</span>)</span><br><span class="line">        boorder-radius: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br><span class="line">::-webkit-scrollbar-track &#123;</span><br><span class="line">    <span class="comment">/*èƒŒæ™¯æ§½*/</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#ddd</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">6px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¾èµ–overflow çš„æ–‡å­—æº¢å‡º</strong></p><p>å•è¡Œè¶…å‡ºéšè—</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.overfolw</span> &#123;</span><br><span class="line">    <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">    <span class="attribute">overflow</span>: hide;</span><br><span class="line">    <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ€å¤šæ˜¾ç¤º2è¡Œ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.ell-rows-2</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">    -webkit-box-orient: vertical;</span><br><span class="line">    -webkit-line-clamp: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>overflowä¸é”šç‚¹å®šä½</strong></p><p>é”šç‚¹å®šä½ï¼š é€šè¿‡ å…ƒç´ Id å±æ€§ï¼Œä¸aæ ‡ç­¾ hrefå±æ€§è”åŠ¨</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#1&quot;</span>&gt;</span>å‘å±•å†ç¨‹<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">h2</span> <span class="attr">id</span>=<span class="string">&quot;1&quot;</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line">    å‘å±•å†ç¨‹</span><br><span class="line"><span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;javascript:&quot;</span>&gt;</span>è¿”å›é¡¶éƒ¨<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é”šç‚¹å®šä½è¡Œä¸ºçš„å‘ç”Ÿï¼Œæœ¬è´¨ä¸Šæ˜¯é€šè¿‡æ”¹å˜å®¹å™¨æ»šåŠ¨é«˜åº¦æˆ–è€…å®½åº¦æ¥å®ç°çš„</p><p><a href="https://demo.cssworld.cn/6/4-2.php#four">URLé”šé“¾é”šç‚¹å®šä½å’Œoverflowçš„é€‰é¡¹å¡åˆ‡æ¢æ•ˆæœå®ä¾‹é¡µé¢</a></p><blockquote><p>é€šè¿‡URLé”šç‚¹å®šä½æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œå¦‚æœé¡µé¢æœ‰æ»šåŠ¨æ¡ï¼Œåˆ‡æ¢æ—¶é¡µé¢ä¼šå‘ç”Ÿæ»šåŠ¨ï¼Œè€Œfocuså®šä½å´ä¸ä¼šï¼ˆoverflow:hiden;åªæ˜¯æ²¡æœ‰æ˜¾ç¤ºæ»šåŠ¨æ¡ä¸å½±å“é”šç‚¹å®šä½ï¼‰</p></blockquote><p><a href="https://demo.cssworld.cn/6/4-3.php">focusé”šç‚¹å®šä½å’Œoverflowçš„é€‰é¡¹å¡åˆ‡æ¢æ•ˆæœå®ä¾‹é¡µé¢</a></p><blockquote><p>åŸç†å…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯åœ¨æ¯ä¸ªåˆ—è¡¨é‡Œå¡å…¥ä¸€ä¸ªè‚‰çœ¼çœ‹ä¸è§çš„<input>è¾“å…¥æ¡†ï¼Œç„¶åé€‰é¡¹å¡æŒ‰é’®å˜æˆ<label>å…ƒç´ ï¼Œå¹¶é€šè¿‡forå±æ€§ä¸<input>è¾“å…¥æ¡†çš„idç›¸å…³è”ï¼Œè¿™æ ·ï¼Œç‚¹å‡»é€‰é¡¹æŒ‰é’®ä¼šè§¦å‘è¾“å…¥æ¡†çš„focusè¡Œä¸ºï¼Œè§¦å‘é”šç‚¹å®šä½ï¼Œå®ç°é€‰é¡¹å¡åˆ‡æ¢æ•ˆæœ</p></blockquote><h4 id="floatçš„å…„å¼Ÿposition-absolute"><a href="#floatçš„å…„å¼Ÿposition-absolute" class="headerlink" title="floatçš„å…„å¼Ÿposition:absolute"></a><strong>floatçš„å…„å¼Ÿposition:absolute</strong></h4><blockquote><p>éƒ½å…¼å…·â€œå—çŠ¶åŒ–â€â€œåŒ…è£¹æ€§â€â€œç ´åæ€§â€ç­‰ç‰¹æ€§ï¼Œä¸å°‘å¸ƒå±€åœºåˆç”šè‡³å¯ä»¥ç›¸äº’æ›¿ä»£</p><p>absoluteå’Œfloatå¯ä»¥çœ‹ä½œæ˜¯â€œåŒçˆ¶å¼‚æ¯â€çš„å…„å¼Ÿå…³ç³»</p></blockquote><p><strong>absoluteçš„åŒ…å«å—</strong></p><blockquote><p>å°±æ˜¯å…ƒç´ ç”¨æ¥è®¡ç®—å’Œå®šä½çš„ä¸€ä¸ªæ¡†</p><p>æœ‰ç»éªŒçš„äººåº”è¯¥éƒ½çŸ¥é“ï¼Œæ™®é€šå…ƒç´ çš„ç™¾åˆ†æ¯”å®½åº¦æ˜¯ç›¸å¯¹äºçˆ¶å…ƒç´ çš„content boxå®½åº¦è®¡ç®—çš„ï¼Œè€Œç»å¯¹å®šä½å…ƒç´ çš„å®½åº¦æ˜¯ç›¸å¯¹äºç¬¬ä¸€ä¸ªpositionä¸ä¸ºstaticçš„ç¥–å…ˆå…ƒç´ è®¡ç®—çš„ã€‚</p></blockquote><ol><li><p>æ ¹å…ƒç´ ï¼ˆå¤§å¤šæ•°åœºæ™¯ä¸‹htmlå°±æ˜¯ï¼‰è¢«ç§°ä¸ºâ€œåˆå§‹åŒ…å«å¿«â€ï¼Œå…¶å°ºå¯¸ç­‰åŒäºæµè§ˆå™¨çª—å£å¤§å°</p></li><li><p>å¦‚æœå…ƒç´ position: fixed; åˆ™åŒ…å«å—æ˜¯åˆå§‹åŒ…å«å¿«</p></li><li><p>å¦‚æœè¯¥å…ƒç´ çš„positionæ˜¯relativeæˆ–è€…staticï¼Œåˆ™â€œåŒ…å«å—â€ç”±å…¶æœ€è¿‘çš„å—å®¹å™¨ç¥–å…ˆç›’çš„content boxè¾¹ç•Œå½¢æˆã€‚</p></li><li><p>å¦‚æœå…ƒç´ position:absoluteï¼Œåˆ™â€œåŒ…å«å—â€ç”±æœ€è¿‘çš„positionä¸ä¸ºstaticçš„ç¥–å…ˆå…ƒç´ å»ºç«‹</p><p> å¦‚æœè¯¥ç¥–å…ˆæ˜¯çº¯inlineå…ƒç´ åˆ™è§„åˆ™ç•¥å¾®å¤æ‚ï¼š</p><ul><li>å‡è®¾ç»™å†…è”å…ƒç´ çš„å‰åå„ç”Ÿæˆä¸€ä¸ªå®½åº¦ä¸º0çš„å†…è”ç›’å­ï¼ˆinline boxï¼‰ï¼Œåˆ™è¿™ä¸¤ä¸ªå†…è”ç›’å­çš„padding boxå¤–é¢çš„åŒ…å›´ç›’å°±æ˜¯å†…è”å…ƒç´ çš„â€œåŒ…å«å—â€ï¼›</li><li>å¦‚æœè¯¥å†…è”å…ƒç´ è¢«è·¨è¡Œåˆ†å‰²äº†ï¼Œé‚£ä¹ˆâ€œåŒ…å«å—â€æ˜¯æœªå®šä¹‰çš„ï¼Œä¹Ÿå°±æ˜¯CSS2.1è§„èŒƒå¹¶æ²¡æœ‰æ˜ç¡®å®šä¹‰ï¼Œæµè§ˆå™¨è‡ªè¡Œå‘æŒ¥ã€‚</li><li>å¦åˆ™ï¼Œâ€œåŒ…å«å—â€ç”±è¯¥ç¥–å…ˆçš„padding boxè¾¹ç•Œå½¢æˆã€‚å¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„ç¥–å…ˆå…ƒç´ ï¼Œåˆ™â€œåŒ…å«å—â€æ˜¯â€œåˆå§‹åŒ…å«</li></ul></li></ol><p>å’Œå¸¸è§„å…ƒç´ ç›¸æ¯”ï¼Œabsoluteç»å¯¹å®šä½å…ƒç´ çš„â€œåŒ…å«å—â€æœ‰ä»¥ä¸‹3ä¸ªæ˜æ˜¾å·®å¼‚ï¼š</p><p>ï¼ˆ1ï¼‰å†…è”å…ƒç´ ä¹Ÿå¯ä»¥ä½œä¸ºâ€œåŒ…å«å—â€æ‰€åœ¨çš„å…ƒç´ ï¼›</p><p>ï¼ˆ2ï¼‰â€œåŒ…å«å—â€æ‰€åœ¨çš„å…ƒç´ ä¸æ˜¯çˆ¶å—çº§å…ƒç´ ï¼Œè€Œæ˜¯æœ€è¿‘çš„positionä¸ä¸ºstaticçš„ç¥–å…ˆå…ƒç´ æˆ–æ ¹å…ƒç´ ï¼›</p><p>ï¼ˆ3ï¼‰è¾¹ç•Œæ˜¯padding boxè€Œä¸æ˜¯content boxã€‚</p><blockquote><p>position: absolute;<a href="http://demo.cssworld.cn/6/5-1.php">å®šä½å…ƒç´ çš„æœ€å¤§å®½åº¦ä¼šå—åˆ°åŒ…å«å—å®½åº¦çš„å½±å“</a>ã€‚</p></blockquote><blockquote><p>å…ƒç´ paddingå€¼å¯èƒ½ä¼šå½±å“ åˆ° å†…éƒ¨ absolute å®šä½å…ƒç´ çš„ä½ç½® </p></blockquote><p><strong>å¯¹ absolute çš„è¯¯åŒº</strong></p><p><a href="http://demo.cssworld.cn/6/5-4.php">ä¸€ä¸ªç»å¯¹å®šä½å…ƒç´ ï¼Œæ²¡æœ‰ä»»ä½•left/top/right/bottomå±æ€§è®¾ç½®ï¼Œå¹¶ä¸”å…¶ç¥–å…ˆå…ƒç´ å…¨éƒ¨éƒ½æ˜¯éå®šä½å…ƒç´ ï¼Œå…¶ä½ç½®åœ¨å“ªé‡Œï¼Ÿ</a></p><p>å¾ˆå¤šäººéƒ½ä¼šè®¤ä¸ºæ˜¯åœ¨æµè§ˆå™¨çª—å£å·¦ä¸Šæ–¹ï¼Œå…¶å®ä¸æ˜¯çš„ï¼Œè¿˜æ˜¯å½“å‰ä½ç½®ã€‚</p><blockquote><p>æ­£æ˜¯è¿™ç§é”™è¯¯è®¤çŸ¥å¯¼è‡´å‡¡æ˜¯ä½¿ç”¨absoluteç»å¯¹å®šä½çš„åœ°æ–¹ï¼Œä¸€å®šçˆ¶å®¹å™¨position:relativeï¼ŒåŒæ—¶left/topç­‰å±æ€§å®šä½ï¼Œç”šè‡³å¿…åŒæ—¶ä½¿ç”¨z-indexå±æ€§è®¾ç½®å±‚çº§ã€‚</p></blockquote><blockquote><p>æˆ‘æŠŠè¿™ç§æ²¡æœ‰è®¾ç½®left/top/right/bottomå±æ€§å€¼çš„ç»å¯¹å®šä½ç§°ä¸ºâ€œæ— ä¾èµ–ç»å¯¹å®šä½â€</p><p>â€œæ— ä¾èµ–ç»å¯¹å®šä½â€æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªä¸å æ®ä»»ä½•ç©ºé—´çš„ç›¸å¯¹å®šä½å…ƒç´ </p><p><a href="https://demo.cssworld.cn/6/5-5.php">æ— ä¾èµ–ç»å¯¹å®šä½çš„å¼ºå¤§ä¹‹å¤„</a></p><p><a href="http://demo.cssworld.cn/6/5-6.php">â€œæ— ä¾èµ–ç»å¯¹å®šä½â€ä¸è¶…è¶Šå¸¸è§„å¸ƒå±€çš„æ’ç‰ˆå®ä¾‹é¡µé¢</a></p><p><a href="http://demo.cssworld.cn/6/5-7.php">ä¸‹æ‹‰åˆ—è¡¨å®šä½</a></p></blockquote><p>è™½ç„¶â€œæ— ä¾èµ–ç»å¯¹å®šä½â€å¥½å¤„å¤šå¤šï¼Œä½†å»ºè®®åªç”¨åœ¨é™æ€äº¤äº’æ•ˆæœä¸Šï¼Œæ¯”æ–¹è¯´ï¼Œå¯¼èˆªäºŒçº§èœå•çš„æ˜¾ç¤ºä¸å®šä½ã€‚å¦‚æœæ˜¯åŠ¨æ€å‘ˆç°çš„åˆ—è¡¨ï¼Œå»ºè®®è¿˜æ˜¯ä½¿ç”¨JavaScriptæ¥è®¡ç®—å’Œå®šä½ã€‚</p><p><strong>æ— ä¾èµ–ç»å¯¹å®šä½ å¯¹å†…è”ï¼Œå—çº§å…ƒç´ è¡¨ç°</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.follow</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h3</span>&gt;</span> <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;follow&quot;</span>&gt;</span>span<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">h3</span>&gt;</span>æ ‡é¢˜<span class="tag">&lt;/<span class="name">h3</span>&gt;</span> <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;follow&quot;</span>&gt;</span>div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>é‚£ä¹ˆç”±äºéç»å¯¹å®šä½çŠ¶æ€ä¸‹spanå’Œdivéƒ½åœ¨â€œæ ‡é¢˜â€çš„ä¸‹é¢ï¼Œå› æ­¤ï¼Œè¿™é‡Œæœ€åçš„æ•ˆæœä¹ŸåŒæ ·æ˜¯éƒ½åœ¨â€œæ ‡é¢˜â€çš„ä¸‹é¢ã€‚</p><p><strong>æµ®åŠ¨ä¸æ— ä¾èµ–ç»å¯¹å®šä½ ä¸ä¸€è‡´çš„è¡¨ç°</strong></p><p>å½“â€œæµ®åŠ¨â€å’Œâ€œæ— ä¾èµ–ç»å¯¹å®šä½â€ç›¸é‡çš„æ—¶å€™ï¼Œå°±ä¼šå‘ç”Ÿä¸€äº›ä¸æ„‰å¿«çš„äº‹æƒ…</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>+&quot;<span class="attr">nav</span>&quot;&gt;</span> å¯¼èˆª1 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;new.png&quot;</span> <span class="attr">class</span>=<span class="string">&quot;follow&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span> &gt;</span>å¯¼èˆª2<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.follow</span> &#123;</span><br><span class="line">    posotion: absolute;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">40px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#333</span>;</span><br><span class="line">    <span class="attribute">color</span>: white;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">float</span>: left;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“æœåœ¨IEå’ŒChromeæµè§ˆå™¨ä¸‹ï¼Œå¤¹åœ¨ä¸­é—´çš„<strong>img</strong>åœ¨ä¸­é—´æ˜¾ç¤ºï¼Œä½†æ˜¯Firefoxæµè§ˆå™¨å´æ˜¯åœ¨æœ€åæ˜¾ç¤º</p><p>å¯¹äºä¸Šè¿°åœºæ™¯ï¼Œå¦‚æœå¸Œæœ›å„ä¸ªæµè§ˆå™¨çš„è¡¨ç°éƒ½æ˜¯ä¸€æ ·çš„ï¼Œ<strong>img</strong>å¤–å±‚åµŒå¥—ä¸€å±‚æ ‡ç­¾å¹¶æµ®åŠ¨å³å¯ï¼Œæ³¨æ„ï¼Œæ˜¯å¤–å±‚æ ‡ç­¾æµ®åŠ¨ã€‚ç”±äºæµ®åŠ¨å’Œç»å¯¹å®šä½æ°´ç«ä¸å®¹ï¼Œæœ¬èº«è®¾ç½®æµ®åŠ¨æ˜¯æ²¡æœ‰ä»»ä½•æ•ˆæœçš„ã€‚</p><hr><p><strong>absoluteä¸text-align</strong></p><p>æŒ‰é“ç†è®²ï¼Œabsolute ä¸ float ä¸€æ ·ï¼Œéƒ½å¯ä»¥è®©å…ƒç´ å—çŠ¶åŒ–ï¼Œåº”è¯¥ä¸ä¼šå—åˆ°å†…è”å…ƒç´ å¯¹é½çš„text-alignå±æ€§çš„å½±å“ã€‚ä½† <a href="http://demo.cssworld.cn/6/5-8.php">text-align å¯ä»¥æ”¹å˜absoluteå…ƒç´ ä½ç½®</a></p><ul><li><h5 id="HTMLï¼š-7"><a href="#HTMLï¼š-7" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-7"><a href="#CSSï¼š-7" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">300px</span>; <span class="attribute">height</span>: <span class="number">120px</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#eef0f6</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>è¿™é‡Œä¹‹æ‰€ä»¥äº§ç”Ÿäº†ä½ç½®å˜åŒ–ï¼Œæœ¬è´¨ä¸Šæ˜¯â€œå¹½çµç©ºç™½èŠ‚ç‚¹â€å’Œâ€œæ— ä¾èµ–ç»å¯¹å®šä½â€å…±åŒä½œç”¨çš„ç»“æœã€‚</p></blockquote><p>imgæ˜¯å†…è”æ°´å¹³ï¼Œ æ‰€ä»¥pæ ‡ç­¾å†… å­˜åœ¨è¡Œæ¡†ç›’å­ï¼Œä¼šå­˜åœ¨å¹½çµèŠ‚ç‚¹ã€‚ç”±äº img è®¾ç½®äº†absolute ä¸å æ®ä½ç½®ï¼Œæ‰€ä»¥å¹½çµèŠ‚ç‚¹å°±å±…ä¸­äº†ã€‚æ ¹æ®æ— ä¾èµ–ç»å¯¹å®šä½è§„åˆ™ å›¾ç‰‡å°±è·Ÿåœ¨å¹½çµèŠ‚ç‚¹åé¢ã€‚è®¾ç½®å¹½çµèŠ‚ç‚¹ä½ç½®å¯¹é½é—´æ¥å½±å“äº† img</p><p><a href="http://demo.cssworld.cn/6/5-10.php">é€šè¿‡å¹½çµèŠ‚ç‚¹å½±å“å®šä½å…ƒç´ å®ç°è¿”å›é¡¶éƒ¨</a></p><ul><li><h5 id="HTMLï¼š-8"><a href="#HTMLï¼š-8" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;constr&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;alignright&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;follow&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;circle.png&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;backtop.png&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-8"><a href="#CSSï¼š-8" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.constr</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80%</span>;</span><br><span class="line">    <span class="attribute">margin</span>: auto;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#f0f3f9</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.alignright</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: right;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.alignright</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&quot;\2002&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.follow</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: fixed;</span><br><span class="line">    <span class="attribute">bottom</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.follow</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="absoluteä¸overflow"><a href="#absoluteä¸overflow" class="headerlink" title="absoluteä¸overflow"></a><strong>absoluteä¸overflow</strong></h4><p>ä¸Šè¾¹ç¤ºä¾‹ä»£ç ä¸­ï¼Œ è®¾ç½®äº†hieght: 0; åˆè®¾ç½®äº†overflow: hidden;é‚£å²‚ä¸æ˜¯å†…å®¹ä¼šè¢«å‰ªè£è‡³ä¸å¯è§ï¼Ÿ</p><blockquote><p>å®˜æ–¹ï¼šç»å¯¹å®šä½å…ƒç´ ä¸æ€»æ˜¯è¢«çˆ¶çº§overflowå±æ€§å‰ªè£ï¼Œå°¤å…¶å½“overflowåœ¨ç»å¯¹å®šä½å…ƒç´ åŠå…¶åŒ…å«å—ä¹‹é—´çš„æ—¶å€™ã€‚</p><p>æ¢ä¸€ç§æ–¹æ³•è¡¨è¿°å°±æ˜¯ï¼šå¦‚æœoverflow ä¸æ˜¯å®šä½å…ƒç´ ï¼ŒåŒæ—¶ç»å¯¹å®šä½å…ƒç´ å’Œ overflow å®¹å™¨ä¹‹é—´ä¹Ÿæ²¡æœ‰å®šä½å…ƒç´ ï¼Œåˆ™overflowæ— æ³•å¯¹absoluteå…ƒç´ è¿›è¡Œå‰ªè£ã€‚</p></blockquote><p>ä¸‹é¢HTMLä¸­å›¾ç‰‡ä¸ä¼šè¢«è£å‰ª</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;overflow: hidden;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: absollute;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>overflow å…ƒç´ çˆ¶çº§æ˜¯å®šä½å…ƒç´ ä¹Ÿä¸ä¼šè¢«è£å†³</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;position: relative;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;overflow: hidden;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: absolute;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœoverflowå±æ€§æ‰€åœ¨çš„å…ƒç´ åŒæ—¶ä¹Ÿæ˜¯å®šä½å…ƒç´ ï¼Œé‡Œé¢çš„ç»å¯¹å®šä½å…ƒç´ ä¼šè¢«å‰ªè£ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;overflow: hidden; position: relative;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: absollute;&quot;</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚æœoverflowå…ƒç´ å’Œç»å¯¹å®šä½å…ƒç´ ä¹‹é—´æœ‰å®šä½å…ƒç´ ï¼Œä¹Ÿä¼šè¢«å‰ªè£ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;overflow: hidden;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;position: relative;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: absolute;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æœ€åï¼Œéå¸¸æœ‰å¿…è¦è¡¥å……ä¸€ç‚¹ï¼Œé‚£å°±æ˜¯ç”±äºposition:fixedå›ºå®šå®šä½å…ƒç´ çš„åŒ…å«å—æ˜¯æ ¹å…ƒç´ ï¼Œå› æ­¤ï¼Œé™¤éæ˜¯çª—ä½“æ»šåŠ¨ï¼Œå¦åˆ™ä¸Šé¢è®¨è®ºçš„æ‰€æœ‰overflowå‰ªè£è§„åˆ™å¯¹å›ºå®šå®šä½éƒ½ä¸é€‚ç”¨ã€‚</p><p>overflowå…ƒç´ è‡ªèº«transformçš„æ—¶å€™ï¼ŒChromeå’ŒOperaæµè§ˆå™¨ä¸‹çš„overflowå‰ªè£æ˜¯æ— æ•ˆçš„</p><p>transformé™¤äº†æ”¹å˜overflowå±æ€§åŸæœ‰è§„åˆ™ï¼Œå¯¹å±‚å ä¸Šä¸‹æ–‡ä»¥åŠposition:fixedçš„æ¸²æŸ“éƒ½æœ‰å½±å“</p></blockquote><h4 id="absoluteä¸clip"><a href="#absoluteä¸clip" class="headerlink" title="absoluteä¸clip"></a><strong>absoluteä¸clip</strong></h4><p>æ™®é€šå…ƒç´ å¯ä»¥ä½¿ç”¨ overflow è¿›è¡Œè£å‰ªï¼Œä½†æ˜¯ fixed å…ƒç´  åŒ…å«å¿«æ˜¯æ ¹å…ƒç´ ï¼Œæ‰€ä»¥åªèƒ½ä½¿ç”¨clip</p><p>clipå±æ€§è¦æƒ³èµ·ä½œç”¨ï¼Œå…ƒç´ å¿…é¡»æ˜¯ç»å¯¹å®šä½æˆ–è€…å›ºå®šå®šä½ï¼Œä¹Ÿå°±æ˜¯positionå±æ€§å€¼å¿…é¡»æ˜¯absoluteæˆ–è€…fixedã€‚</p><p>è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">clip</span>: <span class="built_in">rect</span>(top right bottom left)</span><br></pre></td></tr></table></figure><p>å®é™…è¯­æ³•åº”è¯¥æ˜¯ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">clip</span>: <span class="built_in">rect</span>(top, right, bottom, left)</span><br></pre></td></tr></table></figure><blockquote><p>å°±é¡ºåºè€Œè¨€ï¼Œtopâ†’rightâ†’bottomâ†’leftåœ¨CSSä¸–ç•Œä¸­æ˜¯ä¸€è„‰ç›¸æ‰¿çš„ï¼Œå’Œmargin/border-widthç­‰å±æ€§çš„4ä¸ªå€¼çš„é¡ºåºä¸€æ ·ï¼Œéƒ½æ˜¯ä»topå¼€å§‹ï¼Œé¡ºæ—¶é’ˆæ—‹è½¬ã€‚</p><p>è¿™é‡Œçš„4ä¸ªå€¼æœ‰ä¸€ä¸ªæ˜æ˜¾ä¸ä¸€æ ·çš„åœ°æ–¹ï¼Œå°±æ˜¯ä¸èƒ½ç¼©å†™ï¼Œä¸”å’Œborder-widthç±»ä¼¼ï¼Œæ˜¯ä¸æ”¯æŒç™¾åˆ†æ¯”å€¼çš„ã€‚</p></blockquote><p>åœºæ™¯ï¼šå¾ˆå¤šç½‘ç«™å·¦ä¸Šè§’éƒ½æœ‰åŒ…å«è‡ªå·±ç½‘ç«™åç§°çš„æ ‡è¯†ï¼ˆlogoï¼‰ï¼Œè€Œè¿™äº›æ ‡è¯†ä¸€èˆ¬éƒ½æ˜¯å›¾ç‰‡ï¼Œä¸ºäº†æ›´å¥½åœ°SEOä»¥åŠæ— éšœç¢è¯†åˆ«ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨&lt;h1&gt;æ ‡ç­¾å†™ä¸Šç½‘ç«™çš„åç§°ï¼Œä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;/&quot;</span> <span class="attr">class</span>=<span class="string">&quot;logo&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">h1</span>&gt;</span></span><br><span class="line">        css ä¸–ç•Œ</span><br><span class="line">    <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><p>å¦‚ä½•éšè—&lt;h1&gt;æ ‡ç­¾ä¸­çš„â€œCSSä¸–ç•Œâ€è¿™å‡ ä¸ªæ–‡å­—ï¼Œé€šå¸¸æœ‰ä»¥ä¸‹ä¸€äº›æŠ€æœ¯é€‰å‹ã€‚</p><ul><li><p>ä¸‹ç­–æ˜¯display:noneæˆ–è€…visibility:hiddenéšè—ï¼Œå› ä¸ºå±å¹•é˜…è¯»è®¾å¤‡ä¼šå¿½ç•¥è¿™é‡Œçš„æ–‡å­—ã€‚</p></li><li><p>text-indentç¼©è¿›æ˜¯ä¸­ç­–ï¼Œä½†æ–‡å­—å¦‚æœç¼©è¿›è¿‡å¤§ï¼Œå¤§åˆ°å±å¹•ä¹‹å¤–ï¼Œå±å¹•é˜…è¯»è®¾å¤‡ä¹Ÿæ˜¯ä¸ä¼šè¯»å–çš„ã€‚</p></li><li><p>color:transparentæ˜¯ç§»åŠ¨ç«¯ä¸Šç­–ï¼Œä½†å´æ˜¯æ¡Œé¢ç«¯ä¸­ç­–ï¼Œå› ä¸ºåŸç”ŸIE8æµè§ˆå™¨å¹¶ä¸æ”¯æŒå®ƒã€‚color:transparentå£°æ˜ï¼Œå¾ˆéš¾ç”¨ç®€å•çš„æ–¹å¼é˜»æ­¢æ–‡æœ¬è¢«æ¡†é€‰ã€‚</p></li><li><p>clipå‰ªè£éšè—æ˜¯ä¸Šç­–ï¼Œæ—¢æ»¡è¶³è§†è§‰ä¸Šçš„éšè—ï¼Œå±å¹•é˜…è¯»è®¾å¤‡ç­‰è¾…åŠ©è®¾å¤‡ä¹Ÿæ”¯æŒå¾—å¾ˆå¥½ã€‚</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.logo</span> <span class="selector-tag">h1</span> &#123;</span><br><span class="line">    <span class="comment">/*æ— ä¾èµ–ç»å¯¹å®šä½ï¼Œnice*/</span></span><br><span class="line"><span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">clip</span>: <span class="built_in">rect</span>(<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>è¿™é‡Œä½¿ç”¨çš„clipå‰ªè£éšè—æ˜¯æˆ‘å·¥ä½œè¿™ä¹ˆå¤šå¹´å¤§æµªæ·˜æ²™ç­›é€‰åçš„æœ€ä½³å®è·µï¼Œæœ‰å¯¹æ¯”æ‰èƒ½æ˜¾å‡ºå¥½åœ¨ä½•å¤„</p><ul><li><p>display:noneæˆ–è€…visibility:hiddenéšè—æœ‰ä¸¤ä¸ªé—®é¢˜ï¼Œä¸€ä¸ªæ˜¯æŒ‰é’®æ— æ³•è¢«focusäº†ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯IE8æµè§ˆå™¨ä¸‹æäº¤è¡Œä¸ºä¸¢å¤±ï¼ŒåŸå› åº”è¯¥ä¸æŒ‰é’®focusç‰¹æ€§ä¸¢å¤±æœ‰å…³ã€‚</p></li><li><p>é€æ˜åº¦0è¦†ç›–ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„å®è·µã€‚å¦‚æœæ˜¯ç§»åŠ¨ç«¯é¡¹ç›®ï¼Œå»ºè®®è¿™ä¹ˆåšï¼›ä½†å¦‚æœæ˜¯æ¡Œé¢ç«¯é¡¹ç›®ï¼Œåˆ™å®Œå…¨æ²¡æœ‰å¿…è¦ã€‚ä½¿ç”¨é€æ˜åº¦0è¦†ç›–çš„é—®é¢˜æ˜¯æ¯ä¸€ä¸ªåœºæ™¯éƒ½éœ€è¦æ ¹æ®ç¯å¢ƒçš„ä¸åŒé‡æ–°å®šä½ï¼Œä»¥ä¿è¯ç‚¹å‡»åŒºåŸŸçš„å‡†ç¡®æ€§ï¼Œæˆæœ¬è¾ƒé«˜ï¼Œä½†clipéšè—ç›´æ¥ç”¨ä¸€ä¸ªç±»ååŠ ä¸€ä¸‹å°±å¥½ã€‚</p></li><li><p>è¿˜æœ‰ä¸€ç§æ¯”è¾ƒå…·æœ‰é€‚ç”¨æ€§çš„â€œå¯è®¿é—®éšè—â€æ˜¯ä¸‹é¢è¿™ç§å±å¹•å¤–éšè—ï¼š</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.abs-out</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">999px</span>;</span><br><span class="line">    <span class="attribute">top</span>: -<span class="number">999px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>å½“ä¸€ä¸ªæ§ä»¶å…ƒç´ è¢«focusçš„æ—¶å€™ï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ”¹å˜æ»šåŠ¨é«˜åº¦ï¼Œè®©è¿™ä¸ªæ§ä»¶å…ƒç´ åœ¨å±å¹•å†…æ˜¾ç¤ºã€‚å‡å¦‚è¯´æˆ‘ä»¬çš„&lt;label&gt;â€œæäº¤â€æŒ‰é’®åœ¨ç¬¬äºŒå±ï¼Œåˆ™ç‚¹å‡»æŒ‰é’®çš„æ—¶å€™æµè§ˆå™¨ä¼šè‡ªåŠ¨è·³åˆ°ç¬¬ä¸€å±ç½®é¡¶ï¼Œå› ä¸ºæŒ‰é’®éšè—åœ¨äº†å±å¹•å¤–ï¼Œäºæ˜¯å‘ç”Ÿäº†éå¸¸ç³Ÿç³•çš„ä½“éªŒé—®é¢˜ã€‚è€Œclipå°±åœ°å‰ªè£ï¼Œå°±ä¸ä¼šæœ‰â€œé¡µé¢è·³åŠ¨â€çš„ä½“éªŒé—®é¢˜ã€‚äºæ˜¯ï¼Œæƒè¡¡æˆæœ¬å’Œæ•ˆæœï¼Œclipéšè—æˆä¸ºäº†æœ€ä½³é€‰æ‹©ï¼Œç‰¹åˆ«æ˜¯å¯¹äºæ¡Œé¢ç«¯é¡¹ç›®ã€‚</p></blockquote><blockquote><p><strong>clipéšè—ä»…ä»…æ˜¯å†³å®šäº†å“ªéƒ¨åˆ†æ˜¯å¯è§çš„ï¼Œéå¯è§éƒ¨åˆ†æ— æ³•å“åº”ç‚¹å‡»äº‹ä»¶ç­‰</strong></p><p><strong>ä½¿ç”¨clipè¿›è¡Œå‰ªè£çš„å…ƒç´ å…¶clientWidthå’ŒclientHeightåŒ…æ‹¬æ ·å¼è®¡ç®—çš„å®½é«˜éƒ½è¿˜æ˜¯åŸæ¥çš„å¤§å°</strong></p></blockquote><h4 id="absoluteçš„æµä½“ç‰¹æ€§"><a href="#absoluteçš„æµä½“ç‰¹æ€§" class="headerlink" title="absoluteçš„æµä½“ç‰¹æ€§"></a><strong>absoluteçš„æµä½“ç‰¹æ€§</strong></h4><p>å½“absoluteé‡åˆ°left/top/right/bottomå±æ€§çš„æ—¶å€™ï¼Œabsoluteå…ƒç´ æ‰çœŸæ­£å˜æˆç»å¯¹å®šä½å…ƒç´ ã€‚æ­¤æ—¶åŸæœ¬çš„ç›¸å¯¹ç‰¹æ€§ä¸¢å¤±</p><p>è¯´åˆ°æµä½“ç‰¹æ€§ï¼Œæˆ‘ä»¬é€šå¸¸ç¬¬ä¸€ååº”å°±æ˜¯**<div>ä¹‹ç±»çš„æ™®é€šå—çº§å…ƒç´ <strong>ã€‚å®é™…ä¸Šï¼Œç»å¯¹å®šä½å…ƒç´ ä¹Ÿå…·æœ‰ç±»ä¼¼çš„æµä½“ç‰¹æ€§ï¼Œå½“ç„¶ï¼Œä¸æ˜¯é»˜è®¤å°±æœ‰çš„ï¼Œè€Œæ˜¯åœ¨</strong>ç‰¹å®šæ¡ä»¶ä¸‹æ‰å…·æœ‰<strong>ï¼Œè¿™ä¸ªæ¡ä»¶å°±æ˜¯â€œ</strong>å¯¹ç«‹æ–¹å‘åŒæ—¶å‘ç”Ÿå®šä½çš„æ—¶å€™**â€ã€‚</p><p>ä¾‹å¦‚ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è€Œç»å¯¹å®šä½å…ƒç´ çš„è¿™ç§æµä½“ç‰¹æ€§æ¯”æ™®é€šå…ƒç´ è¦æ›´å¼ºå¤§ï¼Œ<strong>æ™®é€šå…ƒç´ æµä½“ç‰¹æ€§åªæœ‰ä¸€ä¸ªæ–¹å‘</strong>ï¼Œé»˜è®¤æ˜¯æ°´å¹³æ–¹å‘ï¼Œä½†æ˜¯<strong>ç»å¯¹å®šä½å…ƒç´ å¯ä»¥è®©å‚ç›´æ–¹å‘å’Œæ°´å¹³æ–¹å‘åŒæ—¶ä¿æŒæµåŠ¨æ€§</strong>ã€‚</p></blockquote><h4 id="position-relative"><a href="#position-relative" class="headerlink" title="position:relative"></a><strong>position:relative</strong></h4><blockquote><p>è™½ç„¶è¯´relative/absolute/fixedéƒ½èƒ½å¯¹absoluteçš„â€œåŒ…è£¹æ€§â€ä»¥åŠâ€œå®šä½â€äº§ç”Ÿé™åˆ¶ï¼Œä½†åªæœ‰relativeå¯ä»¥è®©å…ƒç´ ä¾ç„¶ä¿æŒåœ¨æ­£å¸¸çš„æ–‡æ¡£æµä¸­ã€‚</p><p>relativeçš„å®šä½æœ‰ä¸¤å¤§ç‰¹æ€§ï¼š</p><ul><li><p>ä¸€æ˜¯ç›¸å¯¹è‡ªèº«</p><p>  ç›¸å¯¹å®šä½å…ƒç´ çš„left/top/right/bottomçš„ç™¾åˆ†æ¯”å€¼æ˜¯ç›¸å¯¹äºåŒ…å«å—è®¡ç®—çš„ï¼Œè€Œä¸æ˜¯è‡ªèº«.å¦‚æœåŒ…å«å—çš„é«˜åº¦æ˜¯autoï¼Œé‚£ä¹ˆè®¡ç®—å€¼æ˜¯0ï¼Œåç§»æ— æ•ˆ</p><p>  å„æ–¹å‘çš„å€¼ç›¸å¯¹è‡ªèº«åç§»</p></li><li><p>äºŒæ˜¯æ— ä¾µå…¥</p><p>  å½“relativeè¿›è¡Œå®šä½åç§»çš„æ—¶å€™ï¼Œä¸€èˆ¬æƒ…å†µä¸‹ä¸ä¼šå½±å“å‘¨å›´å…ƒç´ çš„å¸ƒå±€ã€‚</p></li></ul></blockquote><p>å½“ç›¸å¯¹å®šä½å…ƒç´ åŒæ—¶åº”ç”¨å¯¹ç«‹æ–¹å‘çš„å®šä½å€¼å¾—æ—¶å€™ï¼Œï¼Œä¹Ÿå°±æ˜¯<strong>top/bottomå’Œleft/rightåŒæ—¶ä½¿ç”¨</strong>çš„æ—¶å€™ï¼Œå…¶è¡¨ç°å’Œç»å¯¹å®šä½å·®å¼‚å¾ˆå¤§ã€‚<strong>ç»å¯¹å®šä½æ˜¯å°ºå¯¸æ‹‰ä¼¸ï¼Œä¿æŒæµä½“ç‰¹æ€§</strong>ï¼Œä½†æ˜¯<strong>ç›¸å¯¹å®šä½å´æ˜¯â€œä½ æ­»æˆ‘æ´»â€çš„è¡¨ç°</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>åªæœ‰ä¸€ä¸ªæ–¹å‘çš„å®šä½å±æ€§ä¼šèµ·ä½œç”¨</strong>ã€‚è€Œå­°å¼ºå­°å¼±åˆ™æ˜¯ä¸æ–‡æ¡£æµçš„é¡ºåºæœ‰å…³çš„ï¼Œ<strong>é»˜è®¤çš„æ–‡æ¡£æµæ˜¯è‡ªä¸Šè€Œä¸‹ã€ä»å·¦å¾€å³</strong>ï¼Œå› æ­¤<strong>top/bottomåŒæ—¶ä½¿ç”¨çš„æ—¶å€™ï¼Œbottomè¢«å¹²æ‰</strong>ï¼›<strong>left/rightåŒæ—¶ä½¿ç”¨çš„æ—¶å€™ï¼Œrightæ¯™å‘½</strong>ã€‚</p><p><a href="https://demo.cssworld.cn/6/6-1.php">relativeå®šä½å’Œmarginå®šä½å¯¹æ¯”å®ä¾‹é¡µé¢</a></p><p><strong>relativeçš„æœ€å°åŒ–å½±å“åŸåˆ™</strong></p><p>ï¼ˆ1ï¼‰å°½é‡ä¸ä½¿ç”¨relativeï¼Œå¦‚æœæƒ³å®šä½æŸäº›å…ƒç´ ï¼Œçœ‹çœ‹èƒ½å¦ä½¿ç”¨â€œæ— ä¾èµ–çš„ç»å¯¹å®šä½â€ï¼›</p><p>ï¼ˆ2ï¼‰å¦‚æœåœºæ™¯å—é™ï¼Œä¸€å®šè¦ä½¿ç”¨relativeï¼Œåˆ™è¯¥relativeåŠ¡å¿…æœ€å°åŒ–ã€‚</p><p>æœ€å°åŒ–å½±å“ ç¤ºä¾‹ï¼š</p><p>ç»™imgæ·»åŠ ä¸€å±‚ç›¸å¯¹å®šä½ç›’å­ï¼Œè€Œä¸æ˜¯ç»™æœ€å¤–å±‚ç›’å­æ·»åŠ ç›¸å¯¹å®šä½</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;position: relative;&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position: absolute;top:0;left:0;&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å†…å®¹1<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å†…å®¹2<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å†…å®¹3<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>å†…å®¹4<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="position-fixedå›ºå®šå®šä½"><a href="#position-fixedå›ºå®šå®šä½" class="headerlink" title="position:fixedå›ºå®šå®šä½"></a>position:fixedå›ºå®šå®šä½</h4><blockquote><p>position:fixedå›ºå®šå®šä½å…ƒç´ çš„â€œåŒ…å«å—â€æ˜¯æ ¹å…ƒç´ ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶è¿‘ä¼¼çœ‹æˆ&lt;html&gt;å…ƒç´ ã€‚æ¢å¥è¯è¯´ï¼Œå”¯ä¸€å¯ä»¥é™åˆ¶å›ºå®šå®šä½å…ƒç´ çš„å°±æ˜¯&lt;html&gt;æ ¹å…ƒç´ </p></blockquote><p>å®ç°å°†ç›®æ ‡å…ƒç´ å®šä½åˆ°æŸä¸ªæ¨¡å—çš„å³ä¸Šè§’ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;father&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;right&quot;</span>&gt;</span></span><br><span class="line">        <span class="symbol">&amp;nbsp;</span><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;son&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">.father &#123;</span><br><span class="line">width: 300px; height: 200px;</span><br><span class="line">position: relative;</span><br><span class="line">&#125;</span><br><span class="line">.right &#123;</span><br><span class="line">height: 0;</span><br><span class="line">text-align: right;</span><br><span class="line">overflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line">.son &#123;</span><br><span class="line">display: inline;</span><br><span class="line">width: 40px; height: 40px;</span><br><span class="line">position: fixed;</span><br><span class="line">margin-left: -40px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>position:fixedçš„absoluteæ¨¡æ‹Ÿ</strong></p><blockquote><p>æœ‰æ—¶å€™æˆ‘ä»¬å¸Œæœ›å…ƒç´ æ—¢æœ‰ä¸è·Ÿéšæ»šåŠ¨çš„å›ºå®šå®šä½æ•ˆæœï¼Œåˆèƒ½è¢«å®šä½å…ƒç´ é™åˆ¶å’Œç²¾å‡†å®šä½ï¼Œé‚£è¯¥æ€ä¹ˆåŠå‘¢ï¼Ÿ</p></blockquote><p>æŠŠéœ€è¦å›ºå®šçš„å…ƒç´ ï¼Œæ”¾ç½®åˆ°å‡ºç°æ»šåŠ¨æ¡å…ƒç´ çš„å¤–é¢å³å¯</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;page&quot;</span>&gt;</span></span><br><span class="line">            å›ºå®šå®šä½å…ƒç´ </span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;fixed&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    hmtl, <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.page</span>: &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">overflow</span>: auto;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-class">.fixed</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">position</span>: absolute;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>position:fixedä¸èƒŒæ™¯é”å®š</strong></p><blockquote><p>è’™å±‚å¼¹çª—æ˜¯ç½‘é¡µä¸­å¸¸è§çš„äº¤äº’ï¼Œå…¶ä¸­é»‘è‰²åŠé€æ˜å…¨å±è¦†ç›–çš„è’™å±‚åŸºæœ¬ä¸Šéƒ½æ˜¯ä½¿ç”¨position:fixedå®šä½å®ç°çš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœç»†è‡´ä¸€ç‚¹å„¿å°±ä¼šå‘ç°è’™å±‚æ— æ³•è¦†ç›–æµè§ˆå™¨å³ä¾§çš„æ»šåŠ¨æ ï¼Œå¹¶ä¸”é¼ æ ‡æ»šåŠ¨çš„æ—¶å€™åé¢çš„èƒŒæ™¯å†…å®¹ä¾ç„¶å¯ä»¥è¢«æ»šåŠ¨ï¼Œå¹¶æ²¡æœ‰è¢«é”å®šï¼Œä½“éªŒç•¥æ‰“æŠ˜æ‰£ã€‚å¦‚æœå¸Œæœ›èƒŒæ™¯é”å®šï¼Œè¯¥å¦‚ä½•å®ç°å‘¢ï¼Ÿ</p></blockquote><p>position:fixedè’™å±‚ä¹‹æ‰€ä»¥å‡ºç°èƒŒæ™¯ä¾ç„¶æ»šåŠ¨ï¼Œé‚£æ˜¯å› ä¸ºæ»šåŠ¨å…ƒç´ æ˜¯æ ¹å…ƒç´ ï¼Œæ­£å¥½æ˜¯position:fixedçš„â€œåŒ…å«å—â€ã€‚æ‰€ä»¥ï¼Œå¦‚æœå¸Œæœ›èƒŒæ™¯è¢«é”å®šï¼Œå¯ä»¥å€Ÿé‰´â€œabsoluteæ¨¡æ‹Ÿfixedå®šä½â€çš„æ€è·¯ï¼Œè®©é¡µé¢æ»šåŠ¨æ¡ç”±å†…éƒ¨çš„æ™®é€šå…ƒç´ äº§ç”Ÿå³å¯ã€‚</p><p>å¦‚æœæ˜¯ç§»åŠ¨ç«¯é¡¹ç›®ï¼Œé˜»æ­¢touchmoveäº‹ä»¶çš„é»˜è®¤è¡Œä¸ºå¯ä»¥é˜²æ­¢æ»šåŠ¨ï¼›å¦‚æœæ˜¯æ¡Œé¢ç«¯é¡¹ç›®ï¼Œå¯ä»¥è®©æ ¹å…ƒç´ ç›´æ¥overflow:hidden</p><h3 id="CSSä¸–ç•Œçš„å±‚å è§„åˆ™"><a href="#CSSä¸–ç•Œçš„å±‚å è§„åˆ™" class="headerlink" title="CSSä¸–ç•Œçš„å±‚å è§„åˆ™"></a>CSSä¸–ç•Œçš„å±‚å è§„åˆ™</h3><blockquote><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œç½‘é¡µå†…å®¹æ˜¯æ²¡æœ‰åç§»è§’çš„å‚ç›´è§†è§‰å‘ˆç°ï¼Œå½“å†…å®¹å‘ç”Ÿå±‚å çš„æ—¶å€™ï¼Œä¸€å®šä¼šæœ‰ä¸€ä¸ªå‰åçš„å±‚å é¡ºåºäº§ç”Ÿï¼Œæœ‰ç‚¹å„¿ç±»ä¼¼äºçœŸå®ä¸–ç•Œä¸­â€œè®ºèµ„æ’è¾ˆâ€çš„æ„Ÿè§‰ã€‚</p></blockquote><h4 id="z-indexåªæ˜¯CSSå±‚å è§„åˆ™ä¸­çš„ä¸€å¶å°èˆŸ"><a href="#z-indexåªæ˜¯CSSå±‚å è§„åˆ™ä¸­çš„ä¸€å¶å°èˆŸ" class="headerlink" title="z-indexåªæ˜¯CSSå±‚å è§„åˆ™ä¸­çš„ä¸€å¶å°èˆŸ"></a>z-indexåªæ˜¯CSSå±‚å è§„åˆ™ä¸­çš„ä¸€å¶å°èˆŸ</h4><p>è¯´åˆ°å±‚å ï¼Œå¾ˆå¤šäººç¬¬ä¸€ ååº”å°±æ˜¯z-index å±æ€§ã€‚z-indexå±æ€§åªæœ‰å’Œå®šä½å…ƒç´ ï¼ˆpositionä¸ä¸ºstaticçš„å…ƒç´ ï¼‰åœ¨ä¸€èµ·çš„æ—¶å€™æ‰æœ‰ä½œç”¨ï¼Œå¯ä»¥æ˜¯æ­£æ•°ä¹Ÿå¯ä»¥æ˜¯è´Ÿæ•°ã€‚ç†è®ºä¸Šè¯´ï¼Œæ•°å€¼è¶Šå¤§å±‚çº§è¶Šé«˜ï¼Œä½†å®é™…ä¸Šå…¶è§„åˆ™è¦å¤æ‚å¾ˆå¤šã€‚</p><p>ä½†éšç€CSS3æ–°ä¸–ç•Œçš„åˆ°æ¥ï¼Œz-indexå·²å¹¶éæ”¯é˜Ÿå®šä½å…ƒç´ æœ‰æ•ˆï¼Œflexç›’å­çš„å­å…ƒç´ ä¹Ÿå¯ä»¥è®¾ç½®ã€‚</p><p>ç½‘é¡µä¸­ç»å¤§å¤šæ•°å…ƒç´ æ˜¯éå®šä½å…ƒç´ ï¼Œå¹¶å½±å“å±‚å é¡ºåºå±æ€§è¿œä¸æ­¢z-indexï¼Œ å› æ­¤å¤§å®¶åƒä¸‡ä¸è¦è®¤ä¸ºz-index å±æ€§å°±å¯ä»¥ä»£è¡¨cssä¸–ç•Œçš„å±‚å è§„åˆ™</p><h4 id="ç†è§£CSSä¸–ç•Œçš„å±‚å ä¸Šä¸‹æ–‡å’Œå±‚å æ°´å¹³ï¼ˆæ¦‚å¿µï¼‰"><a href="#ç†è§£CSSä¸–ç•Œçš„å±‚å ä¸Šä¸‹æ–‡å’Œå±‚å æ°´å¹³ï¼ˆæ¦‚å¿µï¼‰" class="headerlink" title="ç†è§£CSSä¸–ç•Œçš„å±‚å ä¸Šä¸‹æ–‡å’Œå±‚å æ°´å¹³ï¼ˆæ¦‚å¿µï¼‰"></a>ç†è§£CSSä¸–ç•Œçš„å±‚å ä¸Šä¸‹æ–‡å’Œå±‚å æ°´å¹³ï¼ˆæ¦‚å¿µï¼‰</h4><blockquote><p>å±‚å ä¸Šä¸‹æ–‡</p><p>è‹±æ–‡ç§°ä½œstacking contextï¼Œæ˜¯HTMLä¸­çš„ä¸€ä¸ªä¸‰ç»´çš„æ¦‚å¿µã€‚å¦‚æœä¸€ä¸ªå…ƒç´ å«æœ‰å±‚å ä¸Šä¸‹æ–‡ï¼Œæˆ‘ä»¬å¯ä»¥ç†è§£ä¸ºè¿™ä¸ªå…ƒç´ åœ¨zè½´ä¸Šå°±â€œé«˜äººä¸€ç­‰â€ã€‚</p></blockquote><blockquote><p>å±‚å æ°´å¹³</p><p>è‹±æ–‡ç§°ä½œstacking levelï¼Œå†³å®šäº†åŒä¸€ä¸ªå±‚å ä¸Šä¸‹æ–‡ä¸­å…ƒç´ åœ¨zè½´ä¸Šçš„æ˜¾ç¤ºé¡ºåºã€‚</p></blockquote><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¯¸ä½<strong>åƒä¸‡ä¸è¦æŠŠå±‚å æ°´å¹³å’ŒCSSçš„z-indexå±æ€§æ··ä¸ºä¸€è°ˆ</strong>ã€‚å°½ç®¡æŸäº›æƒ…å†µä¸‹z-indexç¡®å®å¯ä»¥å½±å“å±‚å æ°´å¹³ï¼Œä½†æ˜¯åªé™äºå®šä½å…ƒç´ ä»¥åŠflexç›’å­çš„å­©å­å…ƒç´ ï¼›è€Œå±‚å æ°´å¹³æ‰€æœ‰çš„å…ƒç´ éƒ½å­˜åœ¨ã€‚</p><h4 id="ç†è§£å…ƒç´ çš„å±‚å é¡ºåºï¼ˆè§„åˆ™ï¼‰"><a href="#ç†è§£å…ƒç´ çš„å±‚å é¡ºåºï¼ˆè§„åˆ™ï¼‰" class="headerlink" title="ç†è§£å…ƒç´ çš„å±‚å é¡ºåºï¼ˆè§„åˆ™ï¼‰"></a>ç†è§£å…ƒç´ çš„å±‚å é¡ºåºï¼ˆè§„åˆ™ï¼‰</h4><blockquote><p>åœ¨CSS 2.1çš„å¹´ä»£ï¼Œåœ¨CSS3æ–°ä¸–ç•Œè¿˜æ²¡æœ‰åˆ°æ¥çš„æ—¶å€™ï¼ˆæ³¨æ„è¿™é‡Œçš„å‰æï¼‰ï¼Œå±‚å é¡ºåºè§„åˆ™å¦‚å›¾7-2æ‰€ç¤º</p></blockquote><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221018082705146.png" alt="image-20221018082705146"></p><ol><li>ä½äºæœ€ä¸‹é¢çš„background/borderç‰¹æŒ‡å±‚å ä¸Šä¸‹æ–‡å…ƒç´ çš„è¾¹æ¡†å’ŒèƒŒæ™¯è‰²ã€‚æ¯ä¸€ä¸ªå±‚å é¡ºåºè§„åˆ™ä»…é€‚ç”¨äºå½“å‰å±‚å ä¸Šä¸‹æ–‡å…ƒç´ çš„å°ä¸–ç•Œã€‚</li><li>inlineæ°´å¹³ç›’å­æŒ‡çš„æ˜¯åŒ…æ‹¬inline/inline-block/inline-tableå…ƒç´ çš„â€œå±‚å é¡ºåºâ€ï¼Œå®ƒä»¬éƒ½æ˜¯åŒç­‰çº§åˆ«çš„ã€‚</li><li>å•çº¯ä»å±‚å æ°´å¹³ä¸Šçœ‹ï¼Œå®é™…ä¸Šz-index:0å’Œz-index:autoæ˜¯å¯ä»¥çœ‹æˆæ˜¯ä¸€æ ·çš„ã€‚æ³¨æ„è¿™é‡Œçš„æªè¾â€”â€œå•çº¯ä»å±‚å æ°´å¹³ä¸Šçœ‹â€ï¼Œå®é™…ä¸Šï¼Œä¸¤è€…åœ¨å±‚å ä¸Šä¸‹æ–‡é¢†åŸŸæœ‰ç€æ ¹æœ¬æ€§çš„å·®å¼‚</li></ol><p><strong>ä¸ºå•¥ inlineæ°´å¹³ç›’å­å±‚å é¡ºåºæ¯”æµ®åŠ¨å…ƒç´ è¿˜è¦é«˜ï¼Ÿ</strong></p><p>background/borderä¸ºè£…é¥°å±æ€§ï¼Œæµ®åŠ¨å’Œå—çŠ¶å…ƒç´ ä¸€èˆ¬ç”¨ä½œå¸ƒå±€ï¼Œè€Œå†…è”å…ƒç´ éƒ½æ˜¯å†…å®¹ã€‚ç½‘é¡µä¸­æœ€é‡è¦çš„æ˜¯ä»€ä¹ˆï¼Ÿå½“ç„¶æ˜¯å†…å®¹äº†</p><p>ä¸‹é¢è¿™ä¸¤æ¡æ˜¯å±‚å é¢†åŸŸçš„é»„é‡‘å‡†åˆ™ã€‚å½“å…ƒç´ å‘ç”Ÿå±‚å çš„æ—¶å€™ï¼Œå…¶è¦†ç›–å…³ç³»éµå¾ªä¸‹é¢ä¸¤æ¡å‡†åˆ™ï¼š</p><ul><li><p>è°å¤§è°ä¸Šï¼šå½“å…·æœ‰æ˜æ˜¾çš„å±‚å æ°´å¹³æ ‡è¯†çš„æ—¶å€™ï¼Œå¦‚ç”Ÿæ•ˆçš„z-indexå±æ€§å€¼ï¼Œåœ¨åŒä¸€ä¸ªå±‚å ä¸Šä¸‹æ–‡é¢†åŸŸï¼Œå±‚å æ°´å¹³å€¼å¤§çš„é‚£ä¸€ä¸ªè¦†ç›–å°çš„é‚£ä¸€ä¸ªã€‚</p></li><li><p>åæ¥å±…ä¸Šï¼šå½“å…ƒç´ çš„å±‚å æ°´å¹³ä¸€è‡´ã€å±‚å é¡ºåºç›¸åŒçš„æ—¶å€™ï¼Œåœ¨DOMæµä¸­å¤„äºåé¢çš„å…ƒç´ ä¼šè¦†ç›–å‰é¢çš„å…ƒç´ ã€‚</p></li></ul><h4 id="å±‚å ä¸Šä¸‹æ–‡çš„ç‰¹æ€§"><a href="#å±‚å ä¸Šä¸‹æ–‡çš„ç‰¹æ€§" class="headerlink" title="å±‚å ä¸Šä¸‹æ–‡çš„ç‰¹æ€§"></a>å±‚å ä¸Šä¸‹æ–‡çš„ç‰¹æ€§</h4><ul><li>å±‚å ä¸Šä¸‹æ–‡çš„å±‚å æ°´å¹³è¦æ¯”æ™®é€šå…ƒç´ é«˜ï¼ˆåŸå› åé¢ä¼šè¯´æ˜ï¼‰ã€‚</li><li>å±‚å ä¸Šä¸‹æ–‡å¯ä»¥é˜»æ–­å…ƒç´ çš„æ··åˆæ¨¡å¼ï¼ˆå‚è§<a href="http://www.zhangxinxu.com/wordpress/">http://www.zhangxinxu.com/wordpress/</a>? p=5155çš„è¿™ç¯‡æ–‡ç« çš„ç¬¬äºŒéƒ¨åˆ†è¯´æ˜ï¼‰ã€‚</li><li> å±‚å ä¸Šä¸‹æ–‡å¯ä»¥åµŒå¥—ï¼Œå†…éƒ¨å±‚å ä¸Šä¸‹æ–‡åŠå…¶æ‰€æœ‰å­å…ƒç´ å‡å—åˆ¶äºå¤–éƒ¨çš„â€œå±‚å ä¸Šä¸‹æ–‡â€ã€‚</li><li> æ¯ä¸ªå±‚å ä¸Šä¸‹æ–‡å’Œå…„å¼Ÿå…ƒç´ ç‹¬ç«‹ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“è¿›è¡Œå±‚å å˜åŒ–æˆ–æ¸²æŸ“çš„æ—¶å€™ï¼Œåªéœ€è¦è€ƒè™‘åä»£å…ƒç´ ã€‚</li><li>æ¯ä¸ªå±‚å ä¸Šä¸‹æ–‡æ˜¯è‡ªæˆä½“ç³»çš„ï¼Œå½“å…ƒç´ å‘ç”Ÿå±‚å çš„æ—¶å€™ï¼Œæ•´ä¸ªå…ƒç´ è¢«è®¤ä¸ºæ˜¯åœ¨çˆ¶å±‚å ä¸Šä¸‹æ–‡çš„å±‚å é¡ºåºä¸­ã€‚</li></ul><h4 id="å±‚å ä¸Šä¸‹æ–‡çš„åˆ›å»º"><a href="#å±‚å ä¸Šä¸‹æ–‡çš„åˆ›å»º" class="headerlink" title="å±‚å ä¸Šä¸‹æ–‡çš„åˆ›å»º"></a>å±‚å ä¸Šä¸‹æ–‡çš„åˆ›å»º</h4><p>ï¼ˆ1ï¼‰å¤©ç”Ÿæ´¾ï¼šé¡µé¢æ ¹å…ƒç´ å¤©ç”Ÿå…·æœ‰å±‚å ä¸Šä¸‹æ–‡ï¼Œç§°ä¸ºæ ¹å±‚å ä¸Šä¸‹æ–‡ã€‚</p><p>ï¼ˆ2ï¼‰æ­£ç»Ÿæ´¾ï¼šz-indexå€¼ä¸ºæ•°å€¼çš„å®šä½å…ƒç´ çš„ä¼ ç»Ÿâ€œå±‚å ä¸Šä¸‹æ–‡â€ã€‚</p><p>ï¼ˆ3ï¼‰æ‰©æ‹›æ´¾ï¼šå…¶ä»–CSS3å±æ€§ã€‚</p><h4 id="æ ¹å±‚å ä¸Šä¸‹æ–‡"><a href="#æ ¹å±‚å ä¸Šä¸‹æ–‡" class="headerlink" title="æ ¹å±‚å ä¸Šä¸‹æ–‡"></a>æ ¹å±‚å ä¸Šä¸‹æ–‡</h4><p>æ ¹å±‚å ä¸Šä¸‹æ–‡æŒ‡çš„æ˜¯é¡µé¢æ ¹å…ƒç´ ï¼Œå¯ä»¥çœ‹æˆæ˜¯<html>å…ƒç´ ã€‚å› æ­¤ï¼Œé¡µé¢ä¸­æ‰€æœ‰çš„å…ƒç´ ä¸€å®šå¤„äºè‡³å°‘ä¸€ä¸ªâ€œå±‚å ç»“ç•Œâ€ä¸­ã€‚</p><h4 id="å®šä½å…ƒç´ ä¸ä¼ ç»Ÿå±‚å ä¸Šä¸‹æ–‡"><a href="#å®šä½å…ƒç´ ä¸ä¼ ç»Ÿå±‚å ä¸Šä¸‹æ–‡" class="headerlink" title="å®šä½å…ƒç´ ä¸ä¼ ç»Ÿå±‚å ä¸Šä¸‹æ–‡"></a>å®šä½å…ƒç´ ä¸ä¼ ç»Ÿå±‚å ä¸Šä¸‹æ–‡</h4><p>å¯¹äºpositionå€¼ä¸ºrelative/absoluteä»¥åŠFirefox/IEæµè§ˆå™¨ï¼ˆä¸åŒ…æ‹¬Chromeæµè§ˆå™¨ï¼‰ä¸‹å«æœ‰position:fixedå£°æ˜çš„å®šä½å…ƒç´ ï¼Œå½“å…¶z-indexå€¼ä¸æ˜¯autoçš„æ—¶å€™ï¼Œä¼šåˆ›å»ºå±‚å ä¸Šä¸‹æ–‡ã€‚</p><p>HTMLï¼š</p><p>æ¯”è¾ƒå›¾ç‰‡å±‚çº§è°å¤§è°å…ˆä¸Šï¼Œç»“æœå›¾ç‰‡åœ¨ä¸Š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;position:relative; z-index:auto;&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç¾å¥³ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position:absolute; z-index:2;&quot;</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;position:relative; z-index:auto;&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç¾æ™¯ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;2.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position:relative; z-index:1;&quot;</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ çˆ¶çº§z-index å±‚çº§ä¸º0ï¼Œåˆ›å»ºå±‚å ä¸Šä¸‹æ–‡ã€‚æ¯”è¾ƒçˆ¶çº§å±‚çº§ï¼Œç›¸åŒï¼Œåæ¥å±…ä¸Šï¼ŒèƒŒæ™¯åœ¨ä¸Š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;position:relative; z-index:0;&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç¾å¥³ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position:absolute; z-index:2;&quot;</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;position:relative; z-index:0;&quot;</span>&gt;</span></span><br><span class="line">    <span class="comment">&lt;!-- ç¾æ™¯ --&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;2.jpg&quot;</span> <span class="attr">style</span>=<span class="string">&quot;position:relative; z-index:1;&quot;</span>&gt;</span>  </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>Chromeç­‰WebKitå†…æ ¸æµè§ˆå™¨ä¸‹ï¼Œposition:fixedå…ƒç´ å¤©ç„¶å±‚å ä¸Šä¸‹æ–‡å…ƒç´ ï¼Œæ— é¡»z-indexä¸ºæ•°å€¼ã€‚æ ¹æ®æˆ‘çš„æµ‹è¯•ï¼Œç›®å‰IEå’ŒFirefoxä»æ˜¯è€å¥—è·¯ã€‚</p></blockquote><h4 id="css3ä¸æ–°æ—¶ä»£çš„å±‚å ä¸Šä¸‹æ–‡"><a href="#css3ä¸æ–°æ—¶ä»£çš„å±‚å ä¸Šä¸‹æ–‡" class="headerlink" title="css3ä¸æ–°æ—¶ä»£çš„å±‚å ä¸Šä¸‹æ–‡"></a>css3ä¸æ–°æ—¶ä»£çš„å±‚å ä¸Šä¸‹æ–‡</h4><p>ï¼ˆ1ï¼‰å…ƒç´ ä¸ºflexå¸ƒå±€å…ƒç´ ï¼ˆçˆ¶å…ƒç´ display:flex|inline-flexï¼‰ï¼ŒåŒæ—¶z-indexå€¼ä¸æ˜¯autoã€‚</p><p>ï¼ˆ2ï¼‰å…ƒç´ çš„opacityå€¼ä¸æ˜¯1ã€‚</p><p>ï¼ˆ3ï¼‰å…ƒç´ çš„transformå€¼ä¸æ˜¯noneã€‚</p><p>ï¼ˆ4ï¼‰å…ƒç´ mix-blend-modeå€¼ä¸æ˜¯normalã€‚</p><p>ï¼ˆ5ï¼‰å…ƒç´ çš„filterå€¼ä¸æ˜¯noneã€‚</p><p>ï¼ˆ6ï¼‰å…ƒç´ çš„isolationå€¼æ˜¯isolateã€‚</p><p>ï¼ˆ7ï¼‰å…ƒç´ çš„will-changeå±æ€§å€¼ä¸ºä¸Šé¢2ï½6çš„ä»»æ„ä¸€ä¸ªï¼ˆå¦‚will-change:opacitgã€will-chang:transformç­‰ï¼‰ã€‚</p><p>ï¼ˆ8ï¼‰å…ƒç´ çš„-webkit-overflow-scrollingè®¾ä¸ºtouchã€‚</p><h4 id="å±‚å ä¸Šä¸‹æ–‡ä¸å±‚å é¡ºåº"><a href="#å±‚å ä¸Šä¸‹æ–‡ä¸å±‚å é¡ºåº" class="headerlink" title="å±‚å ä¸Šä¸‹æ–‡ä¸å±‚å é¡ºåº"></a>å±‚å ä¸Šä¸‹æ–‡ä¸å±‚å é¡ºåº</h4><p>æ™®é€šå…ƒç´ å…·æœ‰äº†å±‚å ä¸Šä¸‹æ–‡ï¼Œå…¶å±‚å é¡ºåºå°±ä¼šä¸è§é«˜ï¼Œé‚£å®ƒçš„å±‚å é¡ºåºç©¶ç«Ÿåœ¨å“ªä¸ªä½ç½®ã€å“ªä¸ªçº§åˆ«å‘¢ï¼Ÿ</p><p>è¿™é‡Œéœ€è¦åˆ†ä¸¤ç§æƒ…å†µè®¨è®ºï¼š</p><p>ï¼ˆ1ï¼‰å¦‚æœå±‚å ä¸Šä¸‹æ–‡å…ƒç´ ä¸ä¾èµ–z-indexæ•°å€¼ï¼Œåˆ™å…¶å±‚å é¡ºåºæ˜¯z-index:autoï¼Œå¯çœ‹æˆz:index:0çº§åˆ«ï¼›</p><p>ï¼ˆ2ï¼‰å¦‚æœå±‚å ä¸Šä¸‹æ–‡å…ƒç´ ä¾èµ–z-indexæ•°å€¼ï¼Œåˆ™å…¶å±‚å é¡ºåºç”±z-indexå€¼å†³å®šã€‚</p><blockquote><p>å…ƒç´ ä¸€æ—¦æˆä¸ºå®šä½å…ƒç´ ï¼Œå…¶z-indexå°±ä¼šè‡ªåŠ¨ç”Ÿæ•ˆï¼Œæ­¤æ—¶å…¶z-indexå°±æ˜¯é»˜è®¤çš„autoï¼Œä¹Ÿå°±æ˜¯0çº§åˆ«ï¼Œæ ¹æ®ä¸Šé¢çš„å±‚å é¡ºåºè¡¨ï¼Œå°±ä¼šè¦†ç›–inlineæˆ–blockæˆ–floatå…ƒç´ ã€‚è€Œä¸æ”¯æŒz-indexçš„å±‚å ä¸Šä¸‹æ–‡å…ƒç´ å¤©ç„¶æ˜¯z-index:autoçº§åˆ«ï¼Œä¹Ÿå°±æ„å‘³ç€ï¼Œå±‚å ä¸Šä¸‹æ–‡å…ƒç´ å’Œå®šä½å…ƒç´ æ˜¯ä¸€ä¸ªå±‚å é¡ºåºçš„ï¼Œäºæ˜¯å½“å®ƒä»¬å‘ç”Ÿå±‚å çš„æ—¶å€™ï¼Œéµå¾ªçš„æ˜¯â€œåæ¥å±…ä¸Šâ€å‡†åˆ™ã€‚</p></blockquote><p><a href="https://demo.cssworld.cn/7/5-1.php">å›¾ç‰‡æ·¡å‡ºï¼Œæ–‡å­—è·‘åˆ°å›¾ç‰‡åé¢</a></p><ul><li><h5 id="HTMLï¼š-9"><a href="#HTMLï¼š-9" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span>               </span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;text&quot;</span>&gt;</span>åªæœ‰å›¾ç‰‡æ·¡å‡ºï¼Œæ–‡æ¡ˆä¸€ç›´100%é€æ˜<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">class</span>=<span class="string">&quot;fade&quot;</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-9"><a href="#CSSï¼š-9" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@keyframes</span> fadeIn &#123;</span><br><span class="line">  <span class="number">0%</span> &#123; <span class="attribute">opacity</span>: <span class="number">0</span>; &#125;</span><br><span class="line">  <span class="number">100%</span> &#123; <span class="attribute">opacity</span>: <span class="number">1</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">256px</span>; <span class="attribute">height</span>: <span class="number">192px</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.text</span> &#123;</span><br><span class="line">  <span class="attribute">line-height</span>: <span class="number">30px</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute; <span class="attribute">left</span>: <span class="number">0</span>; <span class="attribute">right</span>: <span class="number">0</span>; <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>);</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">14px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.fade</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: fadeIn <span class="number">2s</span> <span class="number">2s</span> infinite; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>opacityçš„å€¼ä¸æ˜¯1çš„æ—¶å€™ï¼Œæ˜¯å…·æœ‰å±‚å ä¸Šä¸‹æ–‡çš„ï¼Œå±‚å é¡ºåºæ˜¯z-index:autoçº§åˆ«ï¼Œè·Ÿæ²¡æœ‰z-indexå€¼çš„absoluteç»å¯¹å®šä½å…ƒç´ æ˜¯å¹³èµ·å¹³åçš„ã€‚è€Œæœ¬å®ä¾‹ä¸­çš„æ–‡å­—å…ƒç´ åœ¨å›¾ç‰‡å…ƒç´ çš„å‰é¢ï¼Œäºæ˜¯ï¼Œåªè¦CSS3åŠ¨ç”»ä¸æ˜¯æœ€ç»ˆä¸€ç¬é—´çš„opacity:1ï¼Œä½äºDOMæµåé¢çš„å›¾ç‰‡å°±ä¼šéµå¾ªâ€œåæ¥å±…ä¸Šâ€å‡†åˆ™è€Œè¦†ç›–æ–‡å­—ã€‚</p><p>çŸ¥é“åŸå› ï¼Œæƒ³è¦è§£å†³è¿™ä¸ªé—®é¢˜å°±å¾ˆç®€å•äº†ï¼š</p><p>ï¼ˆ1ï¼‰è°ƒæ•´DOMæµçš„å…ˆåé¡ºåºï¼›</p><p>ï¼ˆ2ï¼‰æé«˜æ–‡å­—çš„å±‚å é¡ºåºï¼Œä¾‹å¦‚ï¼Œè®¾ç½®z-index:1ã€‚</p><h4 id="z-index-çš„è´Ÿå€¼"><a href="#z-index-çš„è´Ÿå€¼" class="headerlink" title="z-index çš„è´Ÿå€¼"></a>z-index çš„è´Ÿå€¼</h4><blockquote><p>ä¸€å¼€å§‹çš„æ—¶å€™ï¼Œä»¥ä¸ºä¸€ä¸ªå®šä½å…ƒç´ è®¾ç½®z-indexè´Ÿå€¼ï¼Œå°±ä¼šè·‘åˆ°é¡µé¢çš„èƒŒåï¼Œéšè—æ‰ï¼Œçœ‹ä¸åˆ°äº†ã€‚ç»“æœå®é™…ä¸Šæ˜¯æœ‰æ—¶å€™ç¡®å®éšè—äº†ï¼Œä½†æœ‰æ—¶å€™åˆéšè—ä¸æ‰ã€‚ä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ</p></blockquote><p>z-indexè´Ÿå€¼å…ƒç´ çš„å±‚çº§ï¼šå±‚å ä¸Šä¸‹æ–‡å…ƒç´ ä¸Šé¢ &lt;  z-indexè´Ÿå€¼  &lt; blockå…ƒç´ çš„ä¸‹é¢</p><p><a href="https://demo.cssworld.cn/7/6-1.php">ä¸€ä¸ªæ —å­</a></p><ul><li><h5 id="HTMLï¼š-10"><a href="#HTMLï¼š-10" class="headerlink" title="HTMLï¼š"></a>HTMLï¼š</h5>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/* æ­¤æ—¶å›¾ç‰‡è¢«.boxèƒŒæ™¯é®æŒ¡*/</span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>.boxéå±‚å ä¸Šä¸‹æ–‡å…ƒç´ <span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">/* æ­¤æ—¶å›¾ç‰‡åœ¨.boxèƒŒæ™¯ä¸Šæ–¹*/</span><br><span class="line"><span class="tag">&lt;<span class="name">h4</span>&gt;</span>.boxæ˜¯å±‚å ä¸Šä¸‹æ–‡å…ƒç´ <span class="tag">&lt;/<span class="name">h4</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;box context&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li><li><h5 id="CSSï¼š-10"><a href="#CSSï¼š-10" class="headerlink" title="CSSï¼š"></a>CSSï¼š</h5>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: blue;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-tag">img</span> &#123; </span><br><span class="line">    <span class="attribute">position</span>: relative; </span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>; </span><br><span class="line">    <span class="attribute">right</span>: -<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.context</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>è´Ÿå€¼çš„åº”ç”¨ï¼š</p><ol><li><p>IE8ä¸‹çš„å¤šèƒŒæ™¯æ¨¡æ‹Ÿ</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: (<span class="number">1</span>.jpg);</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">0</span>; <span class="comment">/*åˆ›å»ºå±‚å ä¸Šä¸‹æ–‡*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:before</span>,</span><br><span class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: (<span class="number">2</span>.png);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: (<span class="number">3</span>.png);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> æ­¤æ—¶ï¼Œå°±ç®—ï¼boxå…ƒç´ é‡Œé¢æ˜¯çº¯æ–‡å­—ï¼Œä¼ªå…ƒç´ å›¾ç‰‡ç…§æ ·åœ¨æ–‡å­—ä¸‹é¢ï¼Œå¦‚æ­¤å¹¿æ³›çš„é€‚ç”¨åœºæ™¯ä½¿ä¸Šé¢çš„å¤„ç†å‡ ä¹å¯ä»¥ä½œä¸ºé€šç”¨çš„å¤šèƒŒæ™¯æ¨¡æ‹Ÿå®ç°å‡†åˆ™æ¥å®ç°äº†</p></li><li><p><a href="http://demo.cssworld.cn/7/6-2.php">å®šä½åœ¨å…ƒç´ çš„åé¢</a></p></li><li><p>å¯è®¿é—®æ€§éšè—</p><p> z-indexè´Ÿå€¼å¯ä»¥éšè—å…ƒç´ ï¼Œåªéœ€è¦å±‚å ä¸Šä¸‹æ–‡å†…çš„æŸä¸€ä¸ªçˆ¶å…ƒç´ åŠ ä¸ªèƒŒæ™¯è‰²å°±å¯ä»¥</p></li></ol><h4 id="z-index-â€ä¸çŠ¯äºŒâ€œå‡†åˆ™"><a href="#z-index-â€ä¸çŠ¯äºŒâ€œå‡†åˆ™" class="headerlink" title="z-index â€ä¸çŠ¯äºŒâ€œå‡†åˆ™"></a>z-index â€ä¸çŠ¯äºŒâ€œå‡†åˆ™</h4><blockquote><p>å¯¹äºéæµ®å±‚å…ƒç´ ï¼Œé¿å…è®¾ç½®z-indexå€¼ï¼Œz-indexå€¼æ²¡æœ‰ä»»ä½•é“ç†éœ€è¦è¶…è¿‡2ã€‚ç”±äºz-indexä¸èƒ½è¶…è¿‡2ï¼Œå› æ­¤ï¼Œæˆ‘ç§°å…¶ä¸ºâ€œä¸çŠ¯äºŒâ€å‡†åˆ™ã€‚</p></blockquote><p><strong>ä¸ºå•¥éœ€è¦è®¾ç½®è¿™ä¸ªå‡†åˆ™ï¼Ÿ</strong></p><p>ï¼ˆ1ï¼‰å®šä½å…ƒç´ ä¸€æ—¦è®¾ç½®äº†z-indexå€¼ï¼Œå°±ä»æ™®é€šå®šä½å…ƒç´ å˜æˆäº†å±‚å ä¸Šä¸‹æ–‡å…ƒç´ ï¼Œç›¸äº’é—´çš„å±‚å é¡ºåºå°±å‘ç”Ÿäº†æ ¹æœ¬çš„å˜åŒ–ï¼Œå¾ˆå®¹æ˜“å‡ºç°è®¾ç½®äº†å·¨å¤§çš„z-indexå€¼ä¹Ÿæ— æ³•è¦†ç›–å…¶ä»–å…ƒç´ çš„é—®é¢˜ã€‚</p><p>ï¼ˆ2ï¼‰é¿å…z-indexâ€œä¸€å±±æ¯”ä¸€å±±é«˜â€çš„æ ·å¼æ··ä¹±é—®é¢˜ã€‚æ­¤é—®é¢˜å¤šå‘ç”Ÿåœ¨å¤šäººåä½œä»¥åŠåæœŸç»´æŠ¤çš„æ—¶å€™ã€‚ä¾‹å¦‚ï¼ŒAå°å›¾æ ‡å®šä½ï¼Œä¹ æƒ¯æ€§å†™äº†ä¸ªz-index:9; Bä¸€çœ‹ï¼Œè‡ªå·±åŸæ¥çš„å®ç°è¢«è¦†ç›–äº†ï¼Œç«‹é©¬å†™äº†ä¸ªz-index:99ï¼›ç»“æœæ¯”å¼¹æ¡†ç»„ä»¶å±‚çº§è¿˜é«˜ï¼Œé‚£è¿˜å¾—äº†ï¼Œç«‹é©¬å¼¹æ¡†ç»„ä»¶æ¥ä¸€ä¸ªz-index:999999ï¼›è°çŸ¥åæ¥ï¼Œå¼¹æ¡†ä¸­åˆè¦æœ‰å‡ºé”™æç¤ºæ•ˆæœâ€¦â€¦æ˜¾ç„¶ï¼Œæœ€åé¡¹ç›®çš„z-indexå±‚çº§ç®¡ç†å°±æ˜¯ä¸€å›¢ç³Ÿã€‚</p><blockquote><p>å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œæˆ‘è¿™é‡Œçš„â€œä¸çŠ¯äºŒâ€å‡†åˆ™ï¼Œå¹¶ä¸åŒ…æ‹¬é‚£äº›åœ¨é¡µé¢ä¸Šé£˜æ¥é£˜å»çš„å…ƒç´ å®šä½ï¼Œå¼¹æ¡†ã€å‡ºé”™æç¤ºã€ä¸€äº›ä¸‹æ‹‰æ•ˆæœç­‰éƒ½ä¸å—è¿™ä¸€å‡†åˆ™é™åˆ¶ã€‚</p><p>å¯¹äºè¿™ç±»JavaScripté©±åŠ¨çš„æµ®å±‚ç»„ä»¶ï¼Œæˆ‘ä¼šå€ŸåŠ©â€œå±‚çº§è®¡æ•°å™¨â€æ¥ç®¡ç†</p><p>ï¼ˆ1ï¼‰æ€»ä¼šé‡åˆ°æ„æƒ³ä¸åˆ°çš„é«˜å±‚çº§å…ƒç´ ï¼›</p><p>ï¼ˆ2ï¼‰ç»„ä»¶çš„è¦†ç›–è§„åˆ™å…·æœ‰åŠ¨æ€æ€§ã€‚</p></blockquote><p><strong>å±‚çº§è®¡æ•°å™¨</strong></p><p>å®é™…ä¸Šå°±æ˜¯ä¸€æ®µJavaScriptè„šæœ¬ï¼Œä¼šéå†æ‰€æœ‰ <strong>body</strong> <strong>å¤„äºæ˜¾ç¤ºçŠ¶æ€çš„å­å…ƒç´ </strong>ï¼Œå¹¶å¾—åˆ°æœ€å¤§z-indexå€¼ï¼Œå’Œé»˜è®¤çš„z-indexåšæ¯”è¾ƒã€‚å¦‚æœè¶…å‡ºï¼Œåˆ™æ˜¾ç¤ºçš„ç»„ä»¶çš„z-indexè‡ªåŠ¨åŠ 1ï¼Œè¿™æ ·å°±ä¸ä¼šå‡ºç°æœ‰ç»„ä»¶è¢«å…¶ä»–ç»„ä»¶è¦†ç›–çš„é—®é¢˜ï¼›å¦‚æœä¸è¶…å‡ºï¼Œå°±ä½¿ç”¨é»˜è®¤çš„z-indexå€¼ï¼Œ</p><h3 id="å¼ºå¤§çš„æ–‡æœ¬å¤„ç†èƒ½åŠ›"><a href="#å¼ºå¤§çš„æ–‡æœ¬å¤„ç†èƒ½åŠ›" class="headerlink" title="å¼ºå¤§çš„æ–‡æœ¬å¤„ç†èƒ½åŠ›"></a>å¼ºå¤§çš„æ–‡æœ¬å¤„ç†èƒ½åŠ›</h3><h4 id="font-sizeå’Œvertical-align"><a href="#font-sizeå’Œvertical-align" class="headerlink" title="font-sizeå’Œvertical-align"></a>font-sizeå’Œvertical-align</h4><blockquote><p>line-heightçš„éƒ¨åˆ†ç±»åˆ«å±æ€§å€¼æ˜¯ç›¸å¯¹äºfont-sizeè®¡ç®—çš„ï¼Œvertical-alignç™¾åˆ†æ¯”å€¼å±æ€§å€¼åˆæ˜¯ç›¸å¯¹äºline-heightè®¡ç®—çš„ï¼Œäºæ˜¯ï¼Œçœ‹ä¸Šå»å…«è¾ˆå­éƒ½æ­ä¸ä¸Šè¾¹çš„vertical-alignå’Œfont-sizeå±æ€§èƒŒåå…¶å®ä¹Ÿæœ‰æœ‰ç€å…³è”çš„ã€‚</p></blockquote><p>å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">16px</span>;</span><br><span class="line">    <span class="attribute">line-height</span>: <span class="number">1.5</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">p</span> &gt; <span class="selector-tag">img</span> &#123;</span><br><span class="line">    <span class="attribute">vertical-align</span>: -<span class="number">25%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­¤æ—¶ img çš„vertical-align çš„å€¼æ˜¯å¤šå°‘ï¼Ÿ</p><blockquote><p>16 * 1.5 * -25% = -6px</p></blockquote><h4 id="ç†è§£font-sizeä¸exã€emå’Œremçš„å…³ç³»"><a href="#ç†è§£font-sizeä¸exã€emå’Œremçš„å…³ç³»" class="headerlink" title="ç†è§£font-sizeä¸exã€emå’Œremçš„å…³ç³»"></a>ç†è§£font-sizeä¸exã€emå’Œremçš„å…³ç³»</h4><blockquote><p>exæ˜¯å­—ç¬¦xé«˜åº¦ï¼Œæ˜¾ç„¶å’Œfont-sizeå…³ç³»å¯†åˆ‡ï¼Œfont-sizeå€¼è¶Šå¤§ï¼Œè‡ªç„¶exå¯¹åº”çš„å¤§å°ä¹Ÿå°±å¤§</p><p>æŸå…ƒç´  font-size å¤§å°æ˜¯å¤šå°‘ï¼Œå…¶1em å°±æ˜¯font Size å¤§å°ï¼Œemå°±æ˜¯â€™ä¸­â€™ç­‰æ±‰å­—çš„é«˜åº¦</p><p>æ ¹å…ƒç´  font-size å¤§å°å°±æ˜¯ 1rem çš„å¤§å°</p></blockquote><h4 id="font-sizeçš„å…³é”®å­—å±æ€§å€¼"><a href="#font-sizeçš„å…³é”®å­—å±æ€§å€¼" class="headerlink" title="font-sizeçš„å…³é”®å­—å±æ€§å€¼"></a>font-sizeçš„å…³é”®å­—å±æ€§å€¼</h4><ol><li><p>ç›¸å¯¹å°ºå¯¸å…³é”®å­—</p><p> â€¢ largerï¼šå¤§ä¸€ç‚¹ï¼Œæ˜¯<big>å…ƒç´ çš„é»˜è®¤font-sizeå±æ€§å€¼ã€‚</p><p> â€¢ smallerï¼šå°ä¸€ç‚¹ï¼Œæ˜¯<small>å…ƒç´ çš„é»˜è®¤font-sizeå±æ€§å€¼ã€‚</p></li><li><p>ç»å¯¹å°ºå¯¸å…³é”®å­—</p><p> ä¸å½“å‰å…ƒç´ font-sizeæ— å…³ï¼Œä»…å—æµè§ˆå™¨è®¾ç½®çš„å­—å·å½±å“ã€‚æ³¨æ„è¿™é‡Œçš„æªè¾ï¼Œæ˜¯â€œæµè§ˆå™¨è®¾ç½®â€ï¼Œè€Œéâ€œæ ¹å…ƒç´ â€ï¼Œä¸¤è€…æ˜¯æœ‰åŒºåˆ«çš„ã€‚</p><p> â€¢ xx-largeï¼šå¥½å¤§å¥½å¤§ï¼Œå’Œ<h1>å…ƒç´ è®¡ç®—å€¼ä¸€æ ·ã€‚</p><p> â€¢ x-largeï¼šå¥½å¤§ï¼Œå’Œ<h2>å…ƒç´ è®¡ç®—å€¼ä¸€æ ·ã€‚</p><p> â€¢ largeï¼šå¤§ï¼Œå’Œ<h3>å…ƒç´ è®¡ç®—å€¼è¿‘ä¼¼ï¼ˆâ€œè¿‘ä¼¼â€æŒ‡è®¡ç®—å€¼åå·®åœ¨1åƒç´ ä»¥å†…ï¼Œä¸‹åŒï¼‰ã€‚</p><p> â€¢ mediumï¼šä¸ä¸Šä¸ä¸‹ï¼Œæ˜¯font-sizeçš„åˆå§‹å€¼ï¼Œå’Œ<h4>å…ƒç´ è®¡ç®—å€¼ä¸€æ ·</p><p> â€¢ smallï¼šå°ï¼Œå’Œ<h5>å…ƒç´ è®¡ç®—å€¼è¿‘ä¼¼ã€‚</p><p> â€¢ x-smallï¼šå¥½å°ï¼Œå’Œ<h6>å…ƒç´ è®¡ç®—å€¼è¿‘ä¼¼ã€‚â€¢ xx-smallï¼šå¥½å°å¥½å°ï¼Œæ— å¯¹åº”çš„HTMLå…ƒç´ ã€‚</p></li></ol><h4 id="font-size-0ä¸æ–‡æœ¬çš„éšè—"><a href="#font-size-0ä¸æ–‡æœ¬çš„éšè—" class="headerlink" title="font-size:0ä¸æ–‡æœ¬çš„éšè—"></a>font-size:0ä¸æ–‡æœ¬çš„éšè—</h4><blockquote><p>æ¡Œé¢Chromeæµè§ˆå™¨ä¸‹æœ‰ä¸ª12pxçš„å­—å·é™åˆ¶ï¼Œå°±æ˜¯æ–‡å­—çš„font-sizeè®¡ç®—å€¼ä¸èƒ½å°äº12pxï¼Œæˆ‘çŒœæ˜¯å› ä¸ºä¸­æ–‡ï¼Œå¦‚å®‹ä½“ï¼Œè¦æ˜¯å°äº12pxï¼Œå°±ä¼šæŒ¤æˆæˆä¸€å›¢ï¼Œç•¥ä¸‘ï¼ŒChromeçœ‹ä¸ä¸‹å»ï¼Œå°±ç›´æ¥ç¦ç”¨äº†ã€‚</p></blockquote><p>å¦‚æœfont-size:0çš„å­—å·è¡¨ç°å°±æ˜¯0ï¼Œé‚£ä¹ˆæ–‡å­—ä¼šç›´æ¥è¢«éšè—æ‰ï¼Œå¹¶ä¸”åªèƒ½æ˜¯font-size:0ï¼Œå“ªæ€•è®¾ç½®æˆfont-size:0.0000001pxï¼Œéƒ½è¿˜æ˜¯ä¼šè¢«å½“ä½œ12pxå¤„ç†çš„ã€‚</p><h4 id="å­—ä½“å±æ€§å®¶æ—çš„å¤§å®¶é•¿font-family"><a href="#å­—ä½“å±æ€§å®¶æ—çš„å¤§å®¶é•¿font-family" class="headerlink" title="å­—ä½“å±æ€§å®¶æ—çš„å¤§å®¶é•¿font-family"></a>å­—ä½“å±æ€§å®¶æ—çš„å¤§å®¶é•¿font-family</h4><p>font-familyæ”¯æŒä¸¤ç±»å±æ€§å€¼ï¼Œ</p><p>ä¸€ç±»æ˜¯â€œå­—ä½“åâ€</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: simsun; <span class="comment">/*å­—ä½“åç§°æœ‰ç©ºæ ¼å°±éœ€è¦å¼•å·åŒ…èµ·æ¥*/</span></span><br><span class="line">    <span class="comment">/* å¤šå­—ä½“ */</span></span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;PingFang SC&#x27;</span>,<span class="string">&#x27;Microsoft Yahei&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€ç±»æ˜¯â€œå­—ä½“æ—â€</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: serif;</span><br></pre></td></tr></table></figure><ul><li><p>serifï¼šè¡¬çº¿å­—ä½“</p><p>  é€šä¿—è®²å°±æ˜¯ç¬”ç”»å¼€å§‹ã€ç»“æŸçš„åœ°æ–¹æœ‰é¢å¤–è£…é¥°è€Œä¸”å£ç”»ç²—ç»†ä¼šæœ‰æ‰€ä¸åŒçš„å­—ä½“</p></li><li><p>sans-serifï¼šæ— è¡¬çº¿å­—ä½“ã€‚</p></li><li><p>monospaceï¼šç­‰å®½å­—ä½“ã€‚</p></li><li><p>cursiveï¼šæ‰‹å†™å­—ä½“ã€‚</p></li><li><p>fantasyï¼šå¥‡å¹»å­—ä½“ã€‚</p></li><li><p>system-uiï¼šç³»ç»ŸUIå­—ä½“ã€‚</p></li></ul><p>å­—ä½“æ—ä¸å­—ä½“åä¸€èµ·æ—¶ï¼Œè¦å°†å­—ä½“åæ”¾åœ¨å‰é¢ï¼Œä¸ç„¶å­—ä½“åå¯èƒ½ä¸ä¼šåŠ è½½ï¼Œåº”ä¸ºå­—ä½“æ—æ»¡è¶³æ–‡æœ¬æ¸²æŸ“å°±ä¸ä¼šåœ¨å¾€åé¢è§£æäº†</p><h4 id="ç­‰å®½å­—ä½“çš„å®è·µä»·å€¼"><a href="#ç­‰å®½å­—ä½“çš„å®è·µä»·å€¼" class="headerlink" title="ç­‰å®½å­—ä½“çš„å®è·µä»·å€¼"></a>ç­‰å®½å­—ä½“çš„å®è·µä»·å€¼</h4><blockquote><p>æ‰€è°“ç­‰å®½å­—ä½“ï¼Œä¸€èˆ¬æ˜¯é’ˆå¯¹è‹±æ–‡å­—ä½“è€Œè¨€çš„ã€‚æ®æˆ‘æ‰€çŸ¥ï¼Œä¸œäºšå­—ä½“åº”è¯¥éƒ½æ˜¯ç­‰å®½çš„ï¼Œå°±æ˜¯æ¯ä¸ªå­—ç¬¦åœ¨åŒç­‰font-sizeä¸‹å æ®çš„å®½åº¦æ˜¯ä¸€æ ·çš„ã€‚ä½†æ˜¯è‹±æ–‡å­—ä½“å°±ä¸ä¸€å®šäº†ï¼Œæˆ‘éšä¾¿å†™ä¸€ä¸ªå•è¯ï¼Œå°±iMacå§ï¼Œå¤§å®¶å¾ˆæ˜æ˜¾åœ°å‘ç°è¿™ä¸ªå­—ç¬¦iè¦æ¯”Må æ®çš„å®½åº¦å°ã€‚</p></blockquote><p>é¦–å…ˆç­‰å®½å­—ä½“åˆ©äºä»£ç å‘ˆç°ã€‚å¯¹äºå†™ä»£ç çš„äººæ¥è¯´ï¼Œæ— è®ºæ˜¯ä»€ä¹ˆè¯­è¨€ï¼Œæ˜“è¯»æ˜¯ç¬¬ä¸€ä½ï¼Œä½¿ç”¨ç­‰å®½å­—ä½“ï¼Œæˆ‘ä»¬é˜…è¯»èµ·æ¥ä¼šæ›´è½»æ¾èˆ’æœã€‚å› æ­¤ï¼Œä¸€èˆ¬ç¼–è¾‘å™¨ä½¿ç”¨çš„å­—ä½“æˆ–è€…Webä¸Šéœ€è¦å‘ˆç°æºä»£ç çš„å­—ä½“éƒ½æ˜¯ç­‰å®½å­—ä½“</p><p><a href="http://demo.cssworld.cn/8/2-1.php">ç­‰å®½å­—ä½“ä¸å›¾å½¢å‘ˆç°æ¡ˆä¾‹ä¸€åˆ™</a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-family</span>: Consolas, Monaco, monospace;</span><br></pre></td></tr></table></figure><h4 id="chå•ä½ä¸ç­‰å®½å­—ä½“å¸ƒå±€"><a href="#chå•ä½ä¸ç­‰å®½å­—ä½“å¸ƒå±€" class="headerlink" title="chå•ä½ä¸ç­‰å®½å­—ä½“å¸ƒå±€"></a>chå•ä½ä¸ç­‰å®½å­—ä½“å¸ƒå±€</h4><blockquote><p>chå’Œemã€remã€exä¸€æ ·ï¼Œæ˜¯CSSä¸­å’Œå­—ç¬¦ç›¸å…³çš„ç›¸å¯¹å•ä½ã€‚å’Œchç›¸å…³çš„å­—ç¬¦æ˜¯0ï¼Œæ²¡é”™ï¼Œå°±æ˜¯é˜¿æ‹‰ä¼¯æ•°å­—0ã€‚1chè¡¨ç¤ºä¸€ä¸ª0å­—ç¬¦çš„å®½åº¦</p></blockquote><p>ä½†æ˜¯æˆ‘ä»¬ç½‘é¡µå†…å®¹çš„å­—ç¬¦ä¸å¯èƒ½éƒ½æ˜¯0ï¼Œæ‰€ä»¥è¿™ä¸ªå•ä½ä¹çœ‹å°±æ˜¾å¾—å¾ˆé¸¡è‚‹ã€‚ä½†æ˜¯ï¼Œå¦‚æœå’Œç­‰å®½å­—ä½“åœ¨ä¸€èµ·ä½¿ç”¨ï¼Œå®ƒå°±å¯ä»¥å‘æŒ¥ä¸ä¸€æ ·çš„å¨åŠ›</p><h4 id="ä¸­æ–‡å­—ä½“å’Œè‹±æ–‡åç§°"><a href="#ä¸­æ–‡å­—ä½“å’Œè‹±æ–‡åç§°" class="headerlink" title="ä¸­æ–‡å­—ä½“å’Œè‹±æ–‡åç§°"></a>ä¸­æ–‡å­—ä½“å’Œè‹±æ–‡åç§°</h4><blockquote><p>è™½ç„¶ä¸€äº›å¸¸è§ä¸­æ–‡å­—ä½“ï¼Œå¦‚å®‹ä½“ã€å¾®è½¯é›…é»‘ç­‰ï¼Œç›´æ¥ä½¿ç”¨ä¸­æ–‡åç§°ä½œä¸ºCSS font-familyçš„å±æ€§å€¼ä¹Ÿèƒ½ç”Ÿæ•ˆï¼Œä½†æˆ‘ä»¬ä¸€èˆ¬éƒ½ä¸ä½¿ç”¨ä¸­æ–‡åç§°ï¼Œè€Œæ˜¯ä½¿ç”¨è‹±æ–‡åç§°ï¼Œä¸»è¦æ˜¯ä¸ºäº†è§„é¿ä¹±ç çš„é£é™©ã€‚è¿˜æœ‰ä¸€äº›ä¸­æ–‡å­—ä½“ç›´æ¥ä½¿ç”¨ä¸­æ–‡åç§°ä½œä¸ºCSS font-familyçš„å±æ€§å€¼æ˜¯æ²¡æœ‰æ•ˆæœçš„ï¼Œå¦‚æ€æºé»‘ä½“ã€å…°äº­é»‘ä½“ç­‰ï¼Œéœ€è¦ä½¿ç”¨å­—ä½“å¯¹åº”çš„è‹±æ–‡åç§°æ‰å¯ä»¥ç”Ÿæ•ˆã€‚</p></blockquote><h4 id="è¡¥å……è¯´æ˜"><a href="#è¡¥å……è¯´æ˜" class="headerlink" title="è¡¥å……è¯´æ˜"></a>è¡¥å……è¯´æ˜</h4><blockquote><p>å¾®è½¯æ­£é»‘ä½“æ˜¯ä¸€æ¬¾å…¨é¢æ”¯æŒClearTypeæŠ€æœ¯çš„TrueTypeæ— è¡¬çº¿å­—ä½“ï¼Œç”¨äºç¹ä½“ä¸­æ–‡ç³»ç»Ÿã€‚ç›¸å¯¹åº”åœ°ï¼Œä¸­å›½å¤§é™†åœ°åŒºç”¨çš„æ˜¯å¾®è½¯é›…é»‘</p></blockquote><blockquote><p>â€œæ€æºé»‘ä½“â€å’Œâ€œæ€æºå®‹ä½“â€æ˜¯Adobeä¸Googleåˆä½œæ¨å‡ºçš„å¼€æºå­—ä½“ã€‚å…¶è®¾è®¡ç›®æ ‡æ˜¯å¯ä»¥å¹¿æ³›ç”¨äºå¤šç§ç”¨é€”çš„è®¡ç®—æœºå­—ä½“ï¼Œæ¯”å¦‚ç”¨äºæ‰‹æœºã€å¹³æ¿æˆ–è€…æ¡Œé¢çš„ç”¨æˆ·ç•Œé¢ã€ç½‘é¡µæµè§ˆæˆ–è€…ç”µå­ä¹¦é˜…è¯»ç­‰ï¼Œå‡åŒ…å«7ä¸ªå­—é‡</p></blockquote><blockquote><p>æ–‡æ³‰é©¿å¾®ç±³é»‘â€æ˜¯Google Droidçš„å¼€æºè¡ç”Ÿå­—ä½“ã€‚Droidå­—ä½“ç³»æ˜¯GoogleåŒ…å«åœ¨è‘—åçš„å¼€æºæ‰‹æœºå¹³å°Androidç³»ç»Ÿä¸­çš„é»˜è®¤å­—ä½“ï¼Œå…¶ä¸­çš„Droid Sans FallbackåŒ…å«CJKæ ‡å‡†æ±‰å­—16000ä½™ä¸ªï¼Œæ˜¯ç›®å‰æ‰€çŸ¥ä¸ºæ•°ä¸å¤šçš„å¼€æºä¸­æ–‡å­—ä½“ä¹‹ä¸€ï¼ˆä¹Ÿæ˜¯ç»§æ–‡æ³‰é©¿æ­£é»‘ä¹‹åç¬¬äºŒä¸ªå¼€æºä¸­æ–‡é»‘ä½“ï¼‰</p></blockquote><h4 id="å­—ä½“å®¶æ—å…¶ä»–æˆå‘˜"><a href="#å­—ä½“å®¶æ—å…¶ä»–æˆå‘˜" class="headerlink" title="å­—ä½“å®¶æ—å…¶ä»–æˆå‘˜"></a>å­—ä½“å®¶æ—å…¶ä»–æˆå‘˜</h4><p><strong>font-weight</strong></p><p>å…³é”®å­—ï¼šnormal å’Œ bold</p><p>å±æ€§å€¼ï¼š</p><p>â€¢ 100ï¼šæ–‡å­—å¾ˆç»†ï¼Œç»†å¦‚å‘ä¸ã€‚</p><p>â€¢ 200ï¼šæ–‡å­—å¾ˆè½»ï¼Œè½»å¦‚é¸¿æ¯›ã€‚</p><p>â€¢ 300ï¼šæ–‡å­—è¾ƒè½»ï¼Œè½»å¦‚é£ç‡•ã€‚</p><p>â€¢ 400ï¼šæ–‡å­—æ­£å¸¸ï¼Œç­‰åŒnormalã€‚</p><p>â€¢ 500ï¼šæ–‡å­—ä¸ç²—ä¸ç»†ï¼Œä¸è½»ä¸é‡ã€‚</p><p>â€¢ 600ï¼šæ–‡å­—ç•¥ç²—ï¼Œç²—å¦‚å°è…¿ã€‚</p><p>â€¢ 700ï¼šæ–‡å­—åŠ ç²—ï¼Œç­‰åŒboldã€‚</p><p>â€¢ 800ï¼šæ–‡å­—è¶…ç²—ï¼Œç²—å¦‚å¤§è…¿ã€‚</p><p>â€¢ 900ï¼šæ–‡å­—å¾ˆé‡ï¼Œé‡å¦‚æ³°å±±ã€‚</p><blockquote><p>å¦‚æœæˆ‘ä»¬åœ¨è®¾ç½®å±æ€§å€¼æ—¶å‘ç°æ–‡å­—æ²¡å•¥å˜åŒ–ï¼Œé‚£å°±æ˜¯å½“å‰å­—ä½“ä¸è¡Œï¼Œå¯ä»¥æ¢ä¸€ä¸ªå­—ä½“è¯•è¯• ï¼ˆæ€æºé»‘ä½“ï¼‰</p></blockquote><h4 id="å…·æœ‰è¿‘ä¼¼å§å¦¹èŠ±å±æ€§å€¼çš„font-style"><a href="#å…·æœ‰è¿‘ä¼¼å§å¦¹èŠ±å±æ€§å€¼çš„font-style" class="headerlink" title="å…·æœ‰è¿‘ä¼¼å§å¦¹èŠ±å±æ€§å€¼çš„font-style"></a>å…·æœ‰è¿‘ä¼¼å§å¦¹èŠ±å±æ€§å€¼çš„font-style</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">font-style</span></span><br><span class="line"></span><br><span class="line">italic/oblique è¿™ä¸¤ä¸ªå…³é”®å­—éƒ½è¡¨ç¤ºâ€œæ–œä½“â€</span><br></pre></td></tr></table></figure><p>italicæ˜¯ä½¿ç”¨å½“å‰å­—ä½“çš„æ–œä½“å­—ä½“ï¼Œè€Œobliqueåªæ˜¯å•çº¯åœ°è®©æ–‡å­—å€¾æ–œã€‚å¦‚æœå½“å‰å­—ä½“æ²¡æœ‰å¯¹åº”çš„æ–œä½“å­—ä½“ï¼Œåˆ™é€€è€Œæ±‚å…¶æ¬¡ï¼Œè§£æä¸ºobliqueï¼Œä¹Ÿå°±æ˜¯å•çº¯å½¢çŠ¶å€¾æ–œã€‚</p><h4 id="fontå±æ€§"><a href="#fontå±æ€§" class="headerlink" title="fontå±æ€§"></a>fontå±æ€§</h4><p>fontå±æ€§è¿›è¡Œæ–‡æœ¬ç›¸å…³æ ·å¼çš„ç¼©å†™ã€‚å¯ä»¥ç¼©å†™åœ¨fontå±æ€§ä¸­çš„å±æ€§éå¸¸å¤šï¼ŒåŒ…æ‹¬font-styleã€font-variantã€font-weightã€font-sizeã€line-heightã€font-familyç­‰ã€‚å®Œæ•´è¯­æ³•ä¸ºï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[[font-style]</span> || <span class="attribute">font-variant</span> || <span class="attribute">font-weight</span>]? <span class="attribute">font-size</span> <span class="selector-attr">[/ line-hieght]</span>? <span class="attribute">font</span>-familly ]</span><br><span class="line"></span><br><span class="line">? è¡¨ç¤º<span class="number">0</span>/<span class="number">1</span></span><br><span class="line">|| è¡¨ç¤º æˆ–</span><br><span class="line"></span><br><span class="line"><span class="attribute">font-size</span>å’Œ<span class="attribute">font-family</span>åé¢æ²¡æœ‰é—®å·ï¼Œä¹Ÿå°±æ˜¯è¯´æ˜¯å¿…éœ€çš„</span><br></pre></td></tr></table></figure><p>font-family ä¸èƒ½çœç•¥ï¼Œè€Œä¸”å¾ˆé•¿ï¼Œæ¯æ¬¡å†™éƒ½è¦å¸¦ä¸€å¤§ä¸²å°±å¾ˆä¸å¥½ï¼Œæœ‰å•¥æŠ€å·§é¿å…ï¼Ÿ</p><ul><li><p>æ–¹æ³•1</p><p>  å¯ä»¥éšä¾¿æ‰¾ä¸€ä¸ªç³»ç»Ÿæ ¹æœ¬ä¸å­˜åœ¨çš„å­—ä½“åå ä½ï¼Œå¦‚å­—æ¯aï¼Œæˆ–è€…ç‰¹æ®Šä¸€ç‚¹ï¼Œç”¨ç¬‘è„¸è¡¨æƒ…â˜ºï¼Œç„¶åå†è®¾ç½®font-family:inheritæ¥é‡ç½®è¿™ä¸ªå ä½å­—ä½“</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.font</span> &#123;</span><br><span class="line">    <span class="attribute">font</span>: <span class="number">30px</span>/<span class="number">30px</span> <span class="string">&#x27;â˜º&#x27;</span>;</span><br><span class="line">    <span class="attribute">font-family</span>: inherit;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>åˆ©ç”¨@font faceè§„åˆ™å°†æˆ‘ä»¬çš„å­—ä½“åˆ—è¡¨é‡å®šä¹‰ä¸ºä¸€ä¸ªå­—ä½“ï¼Œè¿™æ˜¯å…¼å®¹æ€§å¾ˆå¥½ã€æ•ˆç›Šå¾ˆé«˜çš„ä¸€ç§è§£å†³æ–¹æ³•</p></li></ul><p><strong>font å…³é”®å­—</strong></p><p>â€¢ iconï¼šåŒ…å«å›¾æ ‡å†…å®¹æ‰€ä½¿ç”¨çš„å­—ä½“ï¼Œå¦‚æ‰€æœ‰æ–‡ä»¶å¤¹åç§°ã€æ–‡ä»¶åç§°ã€ç£ç›˜åç§°ï¼Œç”šè‡³æµè§ˆå™¨çª—å£æ ‡é¢˜æ‰€ä½¿ç”¨çš„å­—ä½“ã€‚</p><p>â€¢ captionï¼šæ´»åŠ¨çª—å£æ ‡é¢˜æ ä½¿ç”¨çš„å­—ä½“ã€‚</p><p>â€¢ status-barï¼šçª—ä½“çŠ¶æ€æ ä½¿ç”¨çš„å­—ä½“ã€‚</p><p>â€¢ small-captionï¼šè°ƒè‰²æ¿æ ‡é¢˜æ‰€ä½¿ç”¨çš„å­—ä½“ã€‚</p><p>â€¢ message-boxï¼šæ¶ˆæ¯ç›’é‡Œé¢ä½¿ç”¨çš„å­—ä½“ã€‚</p><p>â€¢ menuï¼šèœå•ä½¿ç”¨çš„å­—ä½“ï¼Œå¦‚æ–‡ä»¶å¤¹èœå•ã€‚</p><p>æ­¤å¤–è¿˜æœ‰å¾ˆå¤šéæ ‡å‡†å…³é”®å­—,ç•¥</p><h4 id="å­—ä½“å±æ€§çš„åº”ç”¨ä»·å€¼"><a href="#å­—ä½“å±æ€§çš„åº”ç”¨ä»·å€¼" class="headerlink" title="å­—ä½“å±æ€§çš„åº”ç”¨ä»·å€¼"></a><strong>å­—ä½“å±æ€§çš„åº”ç”¨ä»·å€¼</strong></h4><p>ç›®å‰ï¼Œéå¸¸å¤šç½‘ç«™çš„é€šç”¨font-familyç›´æ¥å°±æ˜¯ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span> &#123;</span><br><span class="line"><span class="attribute">font-family</span>: <span class="string">&#x27;Microsoft YaHei&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ ·ä¸€è®¾ç½®ï¼Œå°±æ„å‘³ç€æ‰€æœ‰æ“ä½œç³»ç»Ÿä¸‹çš„æ‰€æœ‰æµè§ˆå™¨éƒ½è¦ä½¿ç”¨â€œå¾®è½¯é›…é»‘â€å­—ä½“ã€‚å‡å¦‚è¯´ç”¨æˆ·çš„iMacæˆ–è€…macbookå› ä¸ºæŸäº›åŸå› å®‰è£…äº†â€œå¾®è½¯é›…é»‘â€å­—ä½“ï¼Œé‚£å²‚ä¸æ˜¯è¿™äº›ç³»ç»ŸåŸæœ¬æ›´åŠ æ¼‚äº®çš„ä¸­æ–‡å­—ä½“å°±ä¸èƒ½ä½¿ç”¨äº†ï¼Ÿ</p><p><strong>è®¾ç½®è®©å­—ä½“è·Ÿéšç³»ç»Ÿ</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* ä¸‰é€‰ä¸€è®¾ç½® */</span></span><br><span class="line"><span class="selector-tag">html</span> &#123; <span class="attribute">font</span>: menu; &#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123; <span class="attribute">font-size</span>: <span class="number">16px</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span> &#123; <span class="attribute">font</span>: small-caption; &#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123; <span class="attribute">font-size</span>: <span class="number">16px</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">html</span> &#123; <span class="attribute">font</span>: status-bar; &#125;</span><br><span class="line"><span class="selector-tag">body</span> &#123; <span class="attribute">font-size</span>: <span class="number">16px</span>; &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="çœŸæ­£äº†è§£-font-faceè§„åˆ™"><a href="#çœŸæ­£äº†è§£-font-faceè§„åˆ™" class="headerlink" title="çœŸæ­£äº†è§£@font faceè§„åˆ™"></a>çœŸæ­£äº†è§£@font faceè§„åˆ™</h4><blockquote><p>å¾ˆå¤šäººåªè¦ä¸€æåˆ°@font faceè§„åˆ™ï¼Œå¿ƒä¸­å°±ä¼šä¸ç”±è‡ªä¸»â€œå“¦â€åœ°ä¸€å£°ï¼šâ€œè¿™ä¸ªæˆ‘çŸ¥é“ï¼Œå¯ä»¥ç”¨æ¥ç”Ÿæˆè‡ªå®šä¹‰å­—ç¬¦å°å›¾æ ‡ï¼â€è¯æ˜¯æ²¡é”™ï¼Œé—®é¢˜åœ¨äºå¾ˆå¤šäººä»¥ä¸ºç”Ÿæˆå­—ç¬¦å°å›¾æ ‡å°±æ˜¯@font faceè§„åˆ™çš„å…¨éƒ¨ï¼Œå®é™…ä¸Šè¿™åªæ˜¯å…¶åŠŸèƒ½ä¹‹ä¸€ï¼Œä¸€æ—¦çœŸæ­£äº†è§£@font faceè§„åˆ™ï¼Œä½ ä¼šå‘ç°ï¼Œ@font faceè§„åˆ™å¯ä»¥åšçš„äº‹æƒ…å…¶å®éå¸¸å¤šã€‚</p></blockquote><p><strong>@font faceçš„æœ¬è´¨æ˜¯å˜é‡</strong></p><blockquote><p>è™½ç„¶è¯´CSS3æ–°ä¸–ç•Œä¸­æ‰å‡ºç°çœŸæ­£æ„ä¹‰ä¸Šçš„å˜é‡varï¼Œä½†å®é™…ä¸Šï¼Œåœ¨CSSä¸–ç•Œä¸­å·²ç»å‡ºç°äº†æœ¬è´¨ä¸Šå°±æ˜¯å˜é‡çš„ä¸œè¥¿ï¼Œ@font faceè§„åˆ™å°±æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚@font faceæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªå®šä¹‰å­—ä½“æˆ–å­—ä½“é›†çš„å˜é‡ï¼Œè¿™ä¸ªå˜é‡ä¸ä»…ä»…æ˜¯ç®€å•åœ°è‡ªå®šä¹‰å­—ä½“ï¼Œè¿˜åŒ…æ‹¬å­—ä½“é‡å‘½åã€é»˜è®¤å­—ä½“æ ·å¼è®¾ç½®ç­‰ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;example&#x27;</span>;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">example.ttf</span>);</span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">    <span class="attribute">font-weight</span>: normal;</span><br><span class="line">    unicode-range: U+<span class="number">0025</span>-<span class="number">00</span>FF;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><p><strong>font-family</strong></p><p> è¿™é‡Œçš„ font-family å¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªå­—ä½“å˜é‡ï¼Œåç§°å¯ä»¥éšæ„è®¾ç½® å¦‚ â€œ$â€</p></li><li><p><strong>src</strong></p><p> srcè¡¨ç¤ºå¼•å…¥çš„å­—ä½“èµ„æºå¯ä»¥æ˜¯ç³»ç»Ÿå­—ä½“ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤–é“¾å­—ä½“ã€‚å¦‚æœæ˜¯ä½¿ç”¨ç³»ç»Ÿå®‰è£…å­—ä½“ï¼Œåˆ™ä½¿ç”¨local()ã€IE9ä»¥ä¸Šæ”¯æŒã€‘åŠŸèƒ½ç¬¦ï¼›å¦‚æœæ˜¯ä½¿ç”¨å¤–é“¾å­—ä½“ï¼Œåˆ™ä½¿ç”¨url()åŠŸèƒ½ç¬¦</p><p> ç¤ºä¾‹ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: ICON;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;icon.eot&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;eot&#x27;</span>);</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;icon.eot?#iefix&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;embeded-opentype&#x27;</span>),</span><br><span class="line">     url (<span class="string">&#x27;icon.woff2&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff2&#x27;</span>),</span><br><span class="line">     url (<span class="string">&#x27;icon.woff&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff&#x27;</span>),</span><br><span class="line">     url (<span class="string">&#x27;icon.ttf&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;typetrue&#x27;</span>),</span><br><span class="line">     url (<span class="string">&#x27;icon.svg#icon&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;svg&#x27;</span>);</span><br><span class="line">    <span class="attribute">font-weight</span>: normal;</span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> <strong>å‡ºç°çš„æ ¼å¼</strong></p><p> â€¢ svgæ ¼å¼æ˜¯ä¸ºäº†å…¼å®¹iOS 4.1åŠå…¶ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œè€ƒè™‘åˆ°ç°å¦‚ä»ŠiOSçš„ç‰ˆæœ¬æ•°å·²ç»ç¿»äº†ä¸€ç•ªï¼Œæ‰€ä»¥svgæ ¼å¼çš„å…¼å®¹ä»£ç å¤§å¯èˆå¼ƒã€‚</p><p> â€¢ eotæ ¼å¼æ˜¯IEç§æœ‰çš„ã€‚æ³¨æ„ï¼Œç›®å‰æ‰€æœ‰ç‰ˆæœ¬çš„IEæµè§ˆå™¨éƒ½æ”¯æŒeotæ ¼å¼ï¼Œå¹¶ä¸æ˜¯åªæœ‰IE6ï½IE8æ”¯æŒã€‚åªæ˜¯ï¼ŒIE6ï½IE8ä»…æ”¯æŒeotè¿™ä¸€ç§å­—ä½“æ ¼å¼ã€‚</p><p> â€¢ woffæ˜¯web open font formatå‡ ä¸ªè¯çš„é¦–å­—æ¯ç®€å†™ï¼Œæ˜¯ä¸“é—¨ä¸ºWebå¼€å‘è€Œè®¾è®¡çš„å­—ä½“æ ¼å¼ï¼Œæ˜¾ç„¶æ˜¯ä¼˜å…ˆä½¿ç”¨çš„å­—ä½“æ ¼å¼ï¼Œå…¶å­—ä½“å°ºå¯¸æ›´å°ï¼ŒåŠ è½½æ›´å¿«ã€‚Android 4.4å¼€å§‹å…¨é¢æ”¯æŒã€‚</p><p> â€¢ woff2æ˜¯æ¯”woffå°ºå¯¸æ›´å°çš„å­—ä½“ï¼Œå°å¾—éå¸¸æ˜æ˜¾ã€‚å› æ­¤ï¼ŒWebå¼€å‘ç¬¬ä¸€é¦–é€‰å­—ä½“å°±æ˜¯woff2ï¼Œåªæ˜¯æ­¤å­—ä½“ç›®å‰ä»…Chromeå’ŒFirefoxæ”¯æŒå¾—æ¯”è¾ƒå¥½ã€‚</p><p> â€¢ ttfæ ¼å¼ä½œä¸ºç³»ç»Ÿå®‰è£…å­—ä½“æ¯”è¾ƒå¤šï¼ŒWebå¼€å‘ä¹Ÿèƒ½ç”¨ï¼Œå°±æ˜¯å°ºå¯¸å¤§äº†ç‚¹å„¿ï¼Œä¼˜ç‚¹åœ¨äºè€ç‰ˆæœ¬Androidä¹Ÿæ”¯æŒã€‚</p><p> <strong>ç»¼åˆä¸Šé¢çš„åˆ†æï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„ç»“è®ºã€‚</strong></p><blockquote><p>ï¼ˆ1ï¼‰svgæ ¼å¼æœæ–­èˆå¼ƒã€‚</p><p>ï¼ˆ2ï¼‰å¦‚æœæ— é¡»å…¼å®¹IE8æµè§ˆå™¨ï¼Œeotæ ¼å¼æœæ–­èˆå¼ƒã€‚</p><p>ï¼ˆ3ï¼‰å¦‚æœæ— é¡»å…¼å®¹Android 4.3ä¹‹å‰ç‰ˆæœ¬æ‰‹æœºï¼Œttfæ ¼å¼æœæ–­èˆå¼ƒã€‚</p></blockquote><p> ä¹‹æ‰€ä»¥å­˜åœ¨ä¸Šé¢çš„å†™æ³•ï¼Œå°±æ˜¯å› ä¸º <strong>å…¼å®¹æ€§</strong> </p><p> <strong>#iefix æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</strong></p><blockquote><p>å®é™…ä¸Šæ²¡å•¥ç”¨ï¼ŒçœŸæ­£æœ‰ç”¨çš„å…¶å®æ˜¯å‰é¢çš„é—®å·ã€‚æ˜¯è¿™æ ·çš„ï¼ŒIE9ä¹‹å‰çš„ç‰ˆæœ¬è§£ææœ‰ä¸€ä¸ªä¸¥é‡çš„é—®é¢˜ï¼Œå½“srcå±æ€§åŒ…å«å¤šä¸ªurl()æ—¶ï¼Œä¼šæŠŠé•¿é•¿çš„å­—ç¬¦å½“ä½œä¸€ä¸ªåœ°å€è§£æè€Œè¿”å›404é”™è¯¯ã€‚å› æ­¤æŠŠeotæ ¼å¼æ”¾åœ¨ç¬¬ä¸€ä½ï¼Œç„¶ååœ¨å­—ä½“æ–‡ä»¶urlåœ°å€ååŠ ä¸Šé—®å·ï¼Œè¿™æ ·IE9ä¹‹å‰çš„ç‰ˆæœ¬ä¼šæŠŠé—®å·ä¹‹åçš„å†…å®¹å½“ä½œurlçš„å‚æ•°ã€‚ã€</p></blockquote><p> <strong>ä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä¸ªsrc?</strong></p><blockquote><p>å¦‚æœæ˜¯åŸç”Ÿçš„IE7å’ŒIE8æµè§ˆå™¨ï¼Œç¬¬ä¸€ä¸ªsrcå®é™…ä¸Šæ˜¯å¤šä½™çš„ï¼Œä¸ºä»€ä¹ˆè¿™ä¹ˆè®²å‘¢ï¼Ÿä¹‹æ‰€ä»¥è¦æ”¾ä¸Šæ¥ï¼Œå¾ˆå¤§ä¸€éƒ¨åˆ†åŸå› æ˜¯ä¸ºäº†æµ‹è¯•å·¥ç¨‹å¸ˆã€‚å› ä¸ºç°åœ¨æµ‹è¯•å·¥ç¨‹å¸ˆæµ‹è¯•ä½ç‰ˆæœ¬çš„IEæµè§ˆå™¨å–œæ¬¢ä½¿ç”¨å…¼å®¹æ¨¡å¼ï¼Œå…¼å®¹æ¨¡å¼çš„IEå’ŒåŸç”ŸåŒç‰ˆæœ¬çš„IEçš„è§£ææ˜¯æœ‰åŒºåˆ«çš„ï¼Œå…¶ä¸­åŒºåˆ«ä¹‹ä¸€å°±æ˜¯å…¼å®¹æ¨¡å¼çš„IE7å’ŒIE8ä¸è®¤è¯†é—®å·ï¼ˆ?ï¼‰è§£å†³æ–¹æ¡ˆï¼Œå¯¼è‡´ç¬¬äºŒä¸ªsrcæ— æ³•è¯†åˆ«ï¼Œä¸å¾—å·²æ‰å¤šäº†ç¬¬ä¸€è¡Œçš„srcã€‚</p></blockquote><p> <strong>font-weight:normalå’Œfont-style:normalæ˜¯ä¸æ˜¯å¤šä½™çš„ï¼Ÿ</strong></p><blockquote><p>å¦‚æœä½ æ²¡æœ‰åŒå­—ä½“åçš„å¤šå­—ä½“è®¾ç½®ï¼Œåˆ™å®ƒå°±æ˜¯å¤šä½™çš„ï¼Œè‡³å°‘æˆ‘åœ¨å¸¸è§„é¡¹ç›®ä¸­åˆ æ‰è¿™ä¸¤è¡ŒCSSæ²¡æœ‰å‡ºç°ä»»ä½•å¼‚å¸¸ã€‚</p></blockquote><p> <strong>format()åŠŸèƒ½ç¬¦æœ‰ä»€ä¹ˆä½œç”¨ï¼Œå¯ä¸å¯ä»¥çœç•¥ï¼Ÿ</strong></p><blockquote><p>æˆ‘çš„å›ç­”æ˜¯æœ€å¥½ä¸è¦çœç•¥ã€‚format()åŠŸèƒ½ç¬¦çš„ä½œç”¨æ˜¯è®©æµè§ˆå™¨æå‰çŸ¥é“å­—ä½“çš„æ ¼å¼ï¼Œä»¥å†³å®šæ˜¯å¦éœ€è¦åŠ è½½è¿™ä¸ªå­—ä½“ï¼Œè€Œä¸æ˜¯åŠ è½½å®Œäº†ä¹‹åå†è‡ªåŠ¨åˆ¤æ–­ã€‚</p></blockquote><p> ä¾‹å­ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: ICON;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;icon.eot&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;embedded-opentype&#x27;</span>),</span><br><span class="line">        <span class="built_in">url</span>(<span class="string">&#x27;icon.ttf&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™ç§å†™æ³•åªä¼šåŠ è½½ttfè¿™ä¸€ç§æ ¼å¼å­—ä½“ï¼Œå› ä¸ºæµè§ˆå™¨æå‰çŸ¥é“äº†æ–‡ä»¶æ ¼å¼æ˜¯è‡ªå·±æ— æ³•è¯†åˆ«çš„</p></blockquote><p> äºæ˜¯ä¹æœ€ä¸Šé¢é‚£ç§å†™æ³•å¯ä»¥ä¼˜åŒ–æˆï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: ICON;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">&#x27;icon.eot&#x27;</span>);</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">&#x27;ğŸ˜Š&#x27;</span>),</span><br><span class="line">     url (<span class="string">&#x27;icon.woff2&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff2&#x27;</span>),</span><br><span class="line">     url (<span class="string">&#x27;icon.woff&#x27;</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff&#x27;</span>),</span><br><span class="line">     url (<span class="string">&#x27;icon.ttf&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>font-style</strong></p><blockquote><p>åœ¨Chromeæµè§ˆå™¨ä¸‹ï¼Œ@font faceè§„åˆ™è®¾ç½®font-style:italicå¯ä»¥è®©æ–‡å­—å€¾æ–œï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯å…¶ä½œç”¨æ‰€åœ¨ã€‚</p></blockquote><p> @font faceè§„åˆ™ä¸­çš„font-styleå’Œfont-weightç±»ä¼¼ï¼Œéƒ½æ˜¯ç”¨æ¥è®¾ç½®å¯¹åº”å­—ä½“æ ·å¼æˆ–å­—é‡ä¸‹è¯¥ä½¿ç”¨ä»€ä¹ˆå­—ä½“ã€‚å› ä¸ºæœ‰äº›å­—ä½“å¯èƒ½ä¼šæœ‰ä¸“é—¨çš„æ–œä½“å­—ä½“ï¼Œæ³¨æ„è¿™ä¸ªæ–œä½“å­—ä½“å¹¶ä¸æ˜¯è®©æ–‡å­—çš„å½¢çŠ¶å€¾æ–œï¼Œè€Œæ˜¯ä¸“é—¨è®¾è®¡çš„å€¾æ–œçš„å­—ä½“ï¼Œæ‰€ä»¥å¾ˆå¤šç»†èŠ‚ä¼šè·Ÿç‰©ç†ä¸Šçš„è¯·æ±‚ä¸ä¸€æ ·:</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;I&#x27;</span>;</span><br><span class="line">    <span class="attribute">font-style</span>: normal;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">&#x27;FZYaoti&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;I&#x27;</span>;</span><br><span class="line">    <span class="attribute">font-style</span>: italic;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">&#x27;FZShuTi&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> åˆ¶å®šä¸€ä¸ªå­—ä½“ï¼Œåå«â€™Iâ€™ï¼Œå½“æ–‡å­—æ ·å¼æ­£å¸¸çš„æ—¶å€™ï¼Œå­—ä½“è¡¨ç°ä½¿ç”¨â€œæ–¹æ­£å§šä½“â€ï¼›å½“æ–‡å­—è®¾ç½®äº†font-style:italicçš„æ—¶å€™ï¼Œå­—ä½“è¡¨ç°ä¸ºâ€œæ–¹æ­£èˆ’ä½“â€ã€‚</p></li><li><p><strong>font-weight</strong></p><blockquote><p>font-weightå’Œfont-styleç±»ä¼¼ï¼Œåªä¸è¿‡å®ƒå®šä¹‰äº†ä¸åŒå­—é‡ã€ä½¿ç”¨ä¸åŒå­—ä½“</p></blockquote> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;QH&#x27;</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">400</span>;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">&#x27;HYQihei 40S&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;QH&#x27;</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">500</span>;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">&#x27;HYQihei 50S&#x27;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">&#x27;QH&#x27;</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">&#x27;HYQihei 60S&#x27;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> æ˜¯ä¸€ä¸ªå…¨æ–°çš„å­—ä½“ï¼Œåä¸ºâ€™QHâ€™ã€‚å½“å­—é‡font-weightä¸º400çš„æ—¶å€™ï¼Œä½¿ç”¨â€œæ±‰ä»ªæ——é»‘40Sâ€å­—é‡å­—ä½“ï¼›ä¸º500çš„æ—¶å€™ï¼Œä½¿ç”¨â€œæ±‰ä»ªæ——é»‘50Sâ€å­—é‡å­—ä½“ï¼›ä¸º600çš„æ—¶å€™ï¼Œä½¿ç”¨â€œæ±‰ä»ªæ——é»‘60Sâ€å­—é‡å­—ä½“ã€‚</p><p> <a href="https://demo.cssworld.cn/8/5-1.php">å€ŸåŠ©font-weightå®ç°å“åº”å¼å›¾æ ‡å®ä¾‹é¡µé¢</a></p></li><li><p><strong>unicode-range</strong></p><p> unicode-rangeçš„ä½œç”¨æ˜¯å¯ä»¥è®©ç‰¹å®šçš„å­—ç¬¦æˆ–è€…ç‰¹å®šèŒƒå›´çš„å­—ç¬¦ä½¿ç”¨æŒ‡å®šçš„å­—ä½“ã€‚ä¾‹å¦‚ï¼Œâ€œå¾®è½¯é›…é»‘â€å­—ä½“çš„å¼•å·å·¦å³é—´éš™ä¸å‡ï¼Œæ–¹å‘ä¸æ˜ï¼Œå®åœ¨æ˜¯çœ‹ç€ä¸èˆ’æœï¼Œæ­¤æ—¶æˆ‘ä»¬å°±ä¸“é—¨æŒ‡å®šè¿™ä¸¤ä¸ªå¼•å·ä½¿ç”¨å…¶ä»–å­—ä½“ï¼ŒCSSä»£ç å¦‚ä¸‹ï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: quote;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">local</span>(<span class="string">&#x27;SimSun&#x27;</span>);</span><br><span class="line">    unicode-range: U+<span class="number">201</span>c, U+<span class="number">201</span>d;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.font</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: quote, <span class="string">&#x27;Mircorosoft Yahei&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h4 id="font-faceä¸å­—ä½“å›¾æ ‡æŠ€æœ¯"><a href="#font-faceä¸å­—ä½“å›¾æ ‡æŠ€æœ¯" class="headerlink" title="@font faceä¸å­—ä½“å›¾æ ‡æŠ€æœ¯"></a>@font faceä¸å­—ä½“å›¾æ ‡æŠ€æœ¯</h4><blockquote><p>ä»é¢å‘æœªæ¥çš„è§’åº¦è®²ï¼Œå­—ä½“å›¾æ ‡æŠ€æœ¯çš„ä½¿ç”¨ä¼šè¶Šæ¥è¶Šè¾¹ç¼˜åŒ–ï¼Œå› ä¸ºå’ŒSVGå›¾æ ‡æŠ€æœ¯ç›¸æ¯”ï¼Œå…¶å”¯ä¸€çš„ä¼˜åŠ¿å°±æ˜¯å…¼å®¹ä¸€äº›è€çš„IEæµè§ˆå™¨ã€‚ç­‰å†è¿‡å‡ å¹´ï¼ŒIE8ç­‰æµè§ˆå™¨å½»åº•è¢«æ·˜æ±°äº†ï¼Œæˆ‘ä»¬å°±æ²¡æœ‰ä»»ä½•ä½¿ç”¨å­—ä½“å›¾æ ‡æŠ€æœ¯çš„ç†ç”±äº†ã€‚</p></blockquote><p><strong>å­—ä½“çš„æœ¬è´¨æ˜¯ä»€ä¹ˆ?</strong></p><blockquote><p>æ‰€è°“å­—ä½“ï¼Œæœ¬è´¨ä¸Šæ˜¯å­—ç¬¦é›†å’Œå›¾å½¢çš„ä¸€ç§æ˜ å°„å…³ç³»</p><p>ä¸€ä¸ªå­—ä½“æ–‡ä»¶å°±å¥½æ¯”ä¸€ä¸ªå·¨å‹å•†å“æˆ¿ï¼Œé‡Œé¢æœ‰å¾ˆå¤šæˆ¿é—´ï¼Œæ¯ä¸ªæˆ¿é—´éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„é—¨ç‰Œå·ï¼Œç„¶åè¿™äº›æˆ¿é—´å°±ä¸“é—¨ç”¨æ¥æŒ‚åç”»ã€‚è¿™é‡Œçš„â€œé—¨ç‰Œå·â€å°±æ˜¯â€œå­—ç¬¦é›†â€ï¼Œâ€œæˆ¿é—´é‡Œçš„åç”»â€å°±æ˜¯æˆ‘ä»¬çš„â€œå­—ä½“å›¾å½¢â€</p><p>ä¸¾ä¸ªä¾‹å­ï¼Œâ€œå®¶â€è¿™ä¸ªæ±‰å­—Unicodeç¼–ç æ˜¯5BB6ï¼Œè¿™ä¸ª5BB6å°±æ˜¯â€œé—¨ç‰Œå·â€ï¼Œåœ¨ä¸­æ–‡å­—ä½“ä¸­ï¼Œè¿™ä¸ªâ€œé—¨ç‰Œå·â€å¯¹åº”çš„æˆ¿é—´é‡Œé¢çš„ç”»ä½œå°±é•¿å¾—æ˜¯â€œå®¶â€è¿™ä¸ªè‚‰çœ¼æ‰€è§çš„å­—ç¬¦å½¢çŠ¶ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªå­—ç¬¦ç¼–ç å¯¹åº”ä¸€ä¸ªå½¢çŠ¶ã€‚</p></blockquote><p>ç°åœ¨å¦‚æœæˆ‘ä»¬é€šè¿‡ä¸€å®šçš„æ‰‹æ®µï¼ŒæŠŠæŒ‚5BB6è¿™ä¸ªâ€œé—¨ç‰Œå·â€æˆ¿é—´é‡Œé¢çš„ç”»ä½œæ”¹æˆä¸€ä¸ªæˆ¿å±‹çš„å½¢çŠ¶ï¼Œé‚£å²‚ä¸æ˜¯ä½¿ç”¨è¿™ä¸ªå­—ä½“æ–‡ä»¶çš„æ—¶å€™ï¼Œâ€œå®¶â€å°±ä¸æ˜¯â€œå®¶â€ï¼Œè€Œæ˜¯æˆ¿å­äº†å‘¢ï¼Ÿ</p><p>å­—ä½“å›¾æ ‡æŠ€æœ¯å°±æ˜¯ä½¿ç”¨ç±»ä¼¼çš„åŸç†å®ç°çš„ï¼Œå³æŠŠé€šå¸¸çš„å­—ç¬¦æ˜ å°„æˆä¸ºå¦å¤–çš„å›¾æ ‡å½¢çŠ¶ï¼Œäºæ˜¯ï¼Œè™½ç„¶æˆ‘ä»¬çœ¼ç›çœ‹åˆ°çš„æ˜¯ä¸ªå›¾æ ‡ï¼Œä½†æ˜¯å®é™…ä¸Šå®ƒæœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å­—ç¬¦ã€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line"><span class="attribute">font-family</span>: ICON;</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">icon.eot</span>);</span><br><span class="line">    <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">icon.eot?#iefix</span>) <span class="built_in">format</span>(<span class="string">&#x27;embedded-opentype&#x27;</span>),</span><br><span class="line">        <span class="built_in">url</span>(<span class="string">icon.eot.woff2</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff2&#x27;</span>),</span><br><span class="line">        <span class="built_in">url</span>(<span class="string">icon.eot.woff</span>) <span class="built_in">format</span>(<span class="string">&#x27;woff&#x27;</span>);</span><br><span class="line">        </span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icon</span> &#123;</span><br><span class="line">    <span class="attribute">font-family</span>: ICON;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.icon-microphone</span><span class="selector-pseudo">:before</span> &#123;</span><br><span class="line">    <span class="attribute">content</span>: <span class="string">&#x27;\1f3a4&#x27;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>è¿™é‡Œï¼Œ1f3a4å°±æ˜¯ä¸€ä¸ªå”¯ä¸€çš„â€œé—¨ç‰Œå·â€ï¼Œåœ¨é€šå¸¸çš„å­—ä½“ä¸‹ï¼Œå…¶å­—ç¬¦å±•ç¤ºçš„æ˜¯ä¸€ä¸ªæ–œçš„éº¦å…‹é£ã€‚ä½†æ˜¯ï¼Œåœ¨ICONè¿™ä¸ªå­—ä½“ä¸­ï¼Œ1f3a4çš„å›¾å½¢è¢«æ˜ å°„æˆäº†ä¸€ä¸ªæ­£ç«‹çš„éº¦å…‹é£å›¾å½¢ã€‚</p></blockquote><p><strong>çŸ¥é“äº†å­—ä½“å›¾æ ‡æŠ€æœ¯çš„åŸç†</strong>ï¼Œæˆ‘ä»¬å°±èƒ½å¾ˆå¥½åœ°ç†è§£ä¸€äº›æ¸²æŸ“ç°è±¡äº†ã€‚</p><p>ï¼ˆ1ï¼‰å› ä¸ºåŸå§‹å­—ç¬¦å’Œæœ€ç»ˆçš„å›¾å½¢è¡¨ç°ç›¸å·®å¾ˆå¤§ï¼Œæ‰€ä»¥å½“æˆ‘ä»¬çš„å­—ä½“æ–‡ä»¶åŠ è½½ç¼“æ…¢çš„æ—¶å€™ï¼Œå¯ä»¥æ˜æ˜¾çœ‹åˆ°å­—ç¬¦å˜å›¾å½¢çš„è¿‡ç¨‹ï¼Œè¿™ç§åŠ è½½ä½“éªŒæ˜¯ä¸å¤ªå‹å¥½çš„ï¼Œå­—ä½“å†…è”åœ¨CSSæ–‡ä»¶ä¸­å¯ä»¥æœ‰æ•ˆé¿å…è¿™ä¸€é—®é¢˜ï¼Œä½†å¾€å¾€å­—ä½“æ–‡ä»¶ä½“ç§¯éƒ½æ¯”è¾ƒå¤§ï¼Œè¿™æ ·å¤„ç†å¾—ä¸å¿å¤±ã€‚æ®æˆ‘æ‰€çŸ¥ï¼Œé™¤æ­¤ä¹‹å¤–å¹¶æ²¡æœ‰éå¸¸å¥½çš„è§£å†³æ–¹æ³•ã€‚</p><p>ï¼ˆ2ï¼‰åŸå§‹çš„å­—ç¬¦x-heightå’Œæœ€ç»ˆçš„å›¾å½¢x-heightå¾€å¾€æ˜¯ä¸ä¸€æ ·çš„ï¼Œè¿™ä¼šå½±å“å†…è”å…ƒç´ çš„å‚ç›´å¯¹é½ï¼Œå› æ­¤å¾ˆå®¹æ˜“å‡ºç°é¡µé¢é«˜åº¦é—ªåŠ¨æƒ…å†µï¼Œè¿™ç§åŠ è½½ä½“éªŒä¹Ÿæ˜¯ä¸å‹å¥½çš„ã€‚</p><p>ï¼ˆ3ï¼‰åŸå§‹å­—ç¬¦çš„chå®½åº¦ï¼Œä¹Ÿå°±æ˜¯æ°´å¹³å æ®çš„å®½åº¦å’Œæœ€ç»ˆçš„å›¾å½¢ä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ï¼Œå› æ­¤å¾ˆå®¹æ˜“å‡ºç°å†…è”å…ƒç´ æ°´å¹³æ–¹å‘æ™ƒåŠ¨çš„é—®é¢˜ï¼Œè¿™ç§åŠ è½½ä½“éªŒä¹Ÿæ˜¯ä¸å‹å¥½çš„ï¼Œä¸ºæ­¤å›¾æ ‡å°±éœ€è¦è®¾å®šå…·ä½“å®½åº¦å€¼</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.icon</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: inline-block;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">20px</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">font-family</span>: ICON;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æˆ‘å¯ä¸å¯ä»¥æŠŠæ˜ å°„å­—ç¬¦ç›´æ¥å†™åœ¨é¡µé¢ä¸­ï¼Œè€Œä¸æ˜¯æ”¾åœ¨ï¼šbeforeä¼ªå…ƒç´ ä¸­ï¼Ÿ</strong></p><blockquote><p>ä»æŠ€æœ¯å®ç°çš„è§’åº¦æ¥è®²è¿™æ˜¯å®Œå…¨å¯ä»¥çš„ï¼Œè€Œä¸”ä¸æ”¯æŒä¼ªå…ƒç´ çš„IE7ç­‰æµè§ˆå™¨éƒ½æ”¯æŒè¿™æ ·åšã€‚ä½†æ˜¯åœ¨å®é™…å¼€å‘çš„æ—¶å€™ï¼Œæˆ‘å¹¶ä¸å»ºè®®è¿™ä¹ˆåšï¼Œæœ‰ä¸¤ç‚¹åŸå› ï¼šä¸€æ˜¯ä¸å¥½ç»´æŠ¤ï¼Œå¦‚æœä»¥åå­—ç¬¦æ˜ å°„å…³ç³»æ”¹å˜ï¼Œè€Œå›¾æ ‡HTMLæ˜¯æ•£å¸ƒåœ¨å„ä¸ªé¡µé¢ä¸­çš„ï¼Œé‚£ä¹ˆæˆ‘ä»¬çš„æ”¹åŠ¨å°±ä¼šå¾ˆéº»çƒ¦ï¼›äºŒæ˜¯ä»è¯­ä¹‰è§’åº¦è€ƒè™‘ï¼Œå›¾æ ‡å­—ç¬¦å¾€å¾€æ˜¯ä¸åŒ…å«ä»»ä½•æ„ä¹‰çš„ï¼Œåº”è¯¥æ²¡æœ‰å¿…è¦è®©æœç´¢å¼•æ“çŸ¥é“ï¼Œä¹Ÿæ— é¡»è®©è¾…åŠ©è®¾å¤‡è¯»å–ï¼Œè€Œä¼ªå…ƒç´ æ°å¥½æœ‰è¿™æ ·çš„åŠŸèƒ½ï¼Œå¦‚æœå†…è”åœ¨HTMLä¸­ï¼Œåˆ™åè€Œæˆäº†ä¸€ç§å¹²æ‰°ã€‚</p></blockquote><h4 id="æ–‡æœ¬çš„æ§åˆ¶"><a href="#æ–‡æœ¬çš„æ§åˆ¶" class="headerlink" title="æ–‡æœ¬çš„æ§åˆ¶"></a>æ–‡æœ¬çš„æ§åˆ¶</h4><p><strong>text-indentä¸å†…è”å…ƒç´ ç¼©è¿›</strong></p><blockquote><p>ï¼Œtext-indentå°±æ˜¯å¯¹æ–‡æœ¬è¿›è¡Œç¼©è¿›æ§åˆ¶ã€‚ä½†æ˜¯è¿™ç§ç¼©è¿›å¯¹å†…å®¹è¦æ±‚æ¯”è¾ƒé«˜ï¼Œå¦‚æœæ®µè½æºæ‚è‹±æ–‡ã€æ•°å­—æˆ–è€…å›¾ç‰‡ç­‰å†…å®¹ï¼Œç¼©è¿›åè€Œå¯èƒ½ä¼šç»™äººä»¥å‚å·®ä¸é½çš„æ„Ÿè§‰ï¼ŒåŠ ä¸Šç°ä»£Webå½¢å¼æ›´åŠ å¤šæ ·ï¼Œtext-indentåœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨å·²ç»è„±ç¦»äº†å®ƒåŸæœ¬çš„è®¾è®¡åˆè¡·ã€‚</p></blockquote><p>é¦–å…ˆç”¨å¾—æ¯”è¾ƒå¤šçš„æ˜¯text-indentè´Ÿå€¼éšè—æ–‡æœ¬å†…å®¹</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">h1</span> <span class="attr">class</span>=<span class="string">&quot;logo&quot;</span>&gt;</span> CSSä¸–ç•Œ <span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line"></span><br><span class="line">.logo &#123;</span><br><span class="line">width: 120px;</span><br><span class="line">background: url(logo.png);</span><br><span class="line">text-indent: -120px;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æœ‰äº›äººå–œæ¬¢è®¾ç½®ä¸€ä¸ªå¾ˆå¤§çš„ text-indent è´Ÿå€¼ï¼šå¦‚ -9999em;</p><blockquote><p>æˆ‘æ˜¯ä¸å»ºè®®è¿™ä¹ˆåšçš„ã€‚é¦–å…ˆï¼Œè¿™æ ·åšåœ¨æŸäº›è®¾å¤‡ä¸‹æœ‰æ½œåœ¨çš„æ€§èƒ½é£é™©ï¼Œä½“ç°åœ¨æ»šå±çš„æ—¶å€™ä¼šå‘ç”Ÿå¡é¡¿ï¼›å…¶æ¬¡ï¼Œå¯¹äºä¸€äº›æ™ºèƒ½è®¾å¤‡çš„å±å¹•é˜…è¯»è½¯ä»¶ï¼Œå¦‚VoiceOverï¼Œå¦‚æœå†…å®¹ç¼©è¿›åœ¨å±å¹•ä¹‹å¤–ï¼Œå®ƒæ˜¯ä¸ä¼šè¯»å–çš„ï¼Œè¿™æ ·å°±é™ä½äº†é¡µé¢çš„æ— éšœç¢è®¿é—®èƒ½åŠ›ã€‚å¦å¤–ï¼Œtext-indentè´Ÿå€¼ç¼©è¿›åœ¨éƒ¨åˆ†æµè§ˆå™¨ä¸‹ä¼šå½±å“å…ƒç´ çš„outlineåŒºåŸŸï¼Œé€šå¸¸éœ€è¦å†è®¾ç½®overflow:hiddenã€‚</p></blockquote><p><strong>å¦‚æœå•çœ‹æœ€ç»ˆçš„CSSæ ·å¼æ•ˆæœä¸‹é¢ä»£ç æ˜¯å¦ç­‰åŒï¼Ÿ</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.logo</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">120px</span>;</span><br><span class="line">    <span class="attribute">text-indent</span>: -<span class="number">120px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.logo</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">120px</span>;</span><br><span class="line">    <span class="attribute">text-indent</span>: -<span class="number">100%</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç­”æ¡ˆæ˜¯ä¸ç­‰åŒï¼Œ</p><p>text-indentçš„ç™¾åˆ†æ¯”å€¼æ˜¯ç›¸å¯¹äºå½“å‰å…ƒç´ çš„â€œåŒ…å«å—â€è®¡ç®—çš„ï¼Œè€Œä¸æ˜¯å½“å‰å…ƒç´ ã€‚ç”±äºtext-indentæœ€ç»ˆä½œç”¨çš„æ˜¯å½“å‰å…ƒç´ é‡Œçš„å†…è”ç›’å­ï¼Œå› æ­¤å¾ˆå®¹æ˜“è®©äººè¯¯ä»¥ä¸ºtext-indentçš„ç™¾åˆ†æ¯”å€¼æ˜¯ç›¸å¯¹äºå½“å‰å…ƒç´ å®½åº¦è®¡ç®—çš„ã€‚ã€è¡¥å……ï¼šChrome 72æ”¹å˜äº†ç™¾åˆ†æ¯”è®¡ç®—ç­–ç•¥ã€‘</p><p><a href="http://demo.cssworld.cn/8/6-1.php">ç¤ºä¾‹</a></p><p><a href="https://demo.cssworld.cn/8/6-2.php">å®ç°ç™¾åˆ†æ¯”å±…ä¸­</a></p><p><strong>æœ€åå†è¯´å‡ ä¸ªä½ å¯èƒ½ä¸çŸ¥é“çš„å°çŸ¥è¯†</strong>ã€‚</p><blockquote><p>ï¼ˆ1ï¼‰text-indentä»…å¯¹ç¬¬ä¸€è¡Œå†…è”ç›’å­å†…å®¹æœ‰æ•ˆã€‚</p><p>ï¼ˆ2ï¼‰éæ›¿æ¢å…ƒç´ ä»¥å¤–çš„displayè®¡ç®—å€¼ä¸ºinlineçš„å†…è”å…ƒç´ è®¾ç½®text-indentå€¼æ— æ•ˆï¼Œå¦‚æœè®¡ç®—å€¼æ˜¯inline-block/inline-tableåˆ™ä¼šç”Ÿæ•ˆã€‚å› æ­¤ï¼Œå¦‚æœçˆ¶çº§å—çŠ¶å…ƒç´ è®¾ç½®äº†text-indentå±æ€§å€¼ï¼Œå­inline-block/inline-tableéœ€è¦è®¾ç½®text-indent:0é‡ç½®ã€‚</p><p>ï¼ˆ3ï¼‰<strong>input</strong>æ ‡ç­¾æŒ‰é’®text-indentå€¼æ— æ•ˆã€‚</p><p>ï¼ˆ4ï¼‰<strong>button</strong>æ ‡ç­¾æŒ‰é’®text-indentå€¼æœ‰æ•ˆï¼Œä½†æ˜¯å­˜åœ¨å…¼å®¹æ€§å·®å¼‚ï¼ŒIEæµè§ˆå™¨ç†è§£ä¸ºå•æ ‡ç­¾ï¼Œç™¾åˆ†æ¯”å€¼æŒ‰ç…§å®¹å™¨è®¡ç®—ï¼Œè€ŒChromeå’ŒFirefoxæµè§ˆå™¨æ ‡ç­¾å†…è¿˜æœ‰å…¶ä»–Shadow DOMå…ƒç´ ï¼Œå› æ­¤ç™¾åˆ†æ¯”å€¼æ˜¯æŒ‰ç…§è‡ªèº«çš„å°ºå¯¸è®¡ç®—çš„ã€‚</p><p>ï¼ˆ5ï¼‰<strong>input</strong>å’Œ<strong>textarea</strong>è¾“å…¥æ¡†çš„text-indentåœ¨ä½ç‰ˆæœ¬IEæµè§ˆå™¨ä¸‹æœ‰å…¼å®¹é—®é¢˜ã€‚</p></blockquote><p><strong>letter-spacingä¸å­—ç¬¦é—´è·</strong></p><blockquote><p>letter-spacingå¯ä»¥ç”¨æ¥æ§åˆ¶å­—ç¬¦ä¹‹é—´çš„é—´è·ï¼Œè¿™é‡Œè¯´çš„â€œå­—ç¬¦â€åŒ…æ‹¬è‹±æ–‡å­—æ¯ã€æ±‰å­—ä»¥åŠç©ºæ ¼ç­‰ã€‚</p></blockquote><p>ï¼ˆ1ï¼‰ç»§æ‰¿æ€§ã€‚</p><p>ï¼ˆ2ï¼‰é»˜è®¤å€¼æ˜¯normalè€Œä¸æ˜¯0ã€‚è™½ç„¶è¯´æ­£å¸¸æƒ…å†µä¸‹ï¼Œnormalçš„è®¡ç®—å€¼å°±æ˜¯0ï¼Œä½†ä¸¤è€…è¿˜æ˜¯æœ‰å·®åˆ«çš„ï¼Œåœ¨æœ‰äº›åœºæ™¯ä¸‹ï¼Œletter-spacingä¼šè°ƒæ•´normalçš„è®¡ç®—å€¼ä»¥å®ç°æ›´å¥½çš„ç‰ˆé¢å¸ƒå±€ã€‚</p><p>ï¼ˆ3ï¼‰æ”¯æŒè´Ÿå€¼ï¼Œä¸”å€¼è¶³å¤Ÿå¤§çš„æ—¶å€™ï¼Œä¼šè®©å­—ç¬¦å½¢æˆé‡å ï¼Œç”šè‡³åå‘æ’åˆ—ï¼ˆéIEæµè§ˆå™¨)</p><p>ï¼ˆ4ï¼‰å’Œtext-indentå±æ€§ä¸€æ ·ï¼Œæ— è®ºå€¼å¤šå¤§æˆ–å¤šå°ï¼Œç¬¬ä¸€è¡Œä¸€å®šä¼šä¿ç•™è‡³å°‘ä¸€ä¸ªå­—ç¬¦ã€‚letter-spacingè¿˜æœ‰ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„ç‰¹æ€§å°±æ˜¯ï¼Œåœ¨é»˜è®¤çš„å·¦å¯¹é½æƒ…å†µä¸‹ï¼Œæ— è®ºå€¼å¦‚ä½•è®¾ç½®ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦çš„ä½ç½®ä¸€å®šæ˜¯çº¹ä¸ä¸åŠ¨çš„ã€‚</p><p>ï¼ˆ5ï¼‰æ”¯æŒå°æ•°å€¼ï¼Œå³ä½¿0.1pxä¹Ÿæ˜¯æ”¯æŒçš„ï¼Œä½†å¹¶ä¸æ€»èƒ½çœ‹åˆ°æ•ˆæœï¼Œè¿™ä¸å±å¹•çš„å¯†åº¦æœ‰å…³ã€‚å¯¹æ™®é€šçš„æ¡Œé¢æ˜¾ç¤ºå™¨ï¼Œè®¾å¤‡åƒç´ æ¯”æ˜¯1ï¼Œæœ€å°æ¸²æŸ“å•ä½æ˜¯1pxï¼Œå› æ­¤ï¼Œéœ€è¦è‡³å°‘è¿ç»­10ä¸ªå­—ç¬¦ï¼Œæ‰èƒ½çœ‹åˆ°0.1pxäº§ç”Ÿçš„1pxé—´è·å˜åŒ–ï¼Œå¦‚æœæ˜¯9ä¸ªå­—ç¬¦ï¼Œåˆ™ä¸ä¼šæœ‰æ•ˆæœï¼Œè¿™å¾ˆå¯èƒ½ä¼šè®©äººè¯¯ä»¥ä¸ºletter-spacingä¸æ”¯æŒéå¸¸å°çš„æ•°å€¼ï¼Œå®é™…ä¸Šæ˜¯æ”¯æŒçš„ã€‚</p><p>ï¼ˆ6ï¼‰æš‚ä¸æ”¯æŒç™¾åˆ†æ¯”å€¼ã€‚åœ¨å®é™…å¼€å‘çš„æ—¶å€™ï¼Œletter-spacingé™¤äº†æ§åˆ¶æ–‡å­—å†…å®¹æ’ç‰ˆå¤–ï¼Œè¿˜å¯ä»¥ä¿®å¤ä¸€äº›å¸ƒå±€ä¸Šçš„é—®é¢˜ã€‚ä¾‹å¦‚ï¼Œæ¸…é™¤inline-blockåˆ—è¡¨ç”±äºæ¢è¡Œç¬¦æˆ–è€…ç©ºæ ¼äº§ç”Ÿçš„ç©ºç™½é—´éš™ï¼Œä½¿æˆ‘ä»¬çš„å¸ƒå±€æ§åˆ¶æ›´ç²¾å‡†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">letter-spacing</span>: -<span class="number">1em</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list</span> &#123;</span><br><span class="line">    <span class="attribute">letter-spacing</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”±äºletter-spacingè´Ÿå€¼çš„å­—ä½“é‡å ç‰¹æ€§ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥åˆ©ç”¨è¯¥å±æ€§å®ç°ä¸€äº›æ–‡æœ¬åŠ¨æ•ˆ</p><p><a href="http://demo.cssworld.cn/8/6-4.php">å­—ç¬¦åŠ¨æ•ˆåˆ†æ­¥ç¤ºæ„</a></p><p><strong>word-spacingä¸å•è¯é—´è·</strong></p><p>word-spacingå’Œletter-spacingåç§°ç±»ä¼¼ï¼Œå…¶ç‰¹æ€§ä¹Ÿæœ‰å¾ˆå¤šå…±é€šä¹‹å¤„ï¼š</p><p>ï¼ˆ1ï¼‰éƒ½å…·æœ‰ç»§æ‰¿æ€§ã€‚</p><p>ï¼ˆ2ï¼‰é»˜è®¤å€¼éƒ½æ˜¯normalè€Œä¸æ˜¯0ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œä¸¤è€…è¡¨ç°å¹¶æ— å·®å¼‚ã€‚</p><p>ï¼ˆ3ï¼‰éƒ½æ”¯æŒè´Ÿå€¼ï¼Œéƒ½å¯ä»¥è®©å­—ç¬¦é‡å ï¼Œä½†æ˜¯å¯¹äºinline-blockå’Œinline-tableå…ƒç´ å´å­˜åœ¨å…¼å®¹æ€§å·®å¼‚ï¼ŒChromeæµè§ˆå™¨ä¸‹å¯ä»¥é‡å ï¼ŒIEå’ŒFirefoxæµè§ˆå™¨ä¸‹åˆ™å†å¤§çš„è´Ÿå€¼ä¹Ÿä¸ä¼šé‡å ï¼Œå› æ­¤ä¸é€‚åˆä½¿ç”¨word-spacingæ¥æ¸…é™¤ç©ºç™½é—´éš™ã€‚</p><p>ï¼ˆ4ï¼‰éƒ½æ”¯æŒå°æ•°å€¼ï¼Œå¦‚word-spacing:0.5pxã€‚</p><p>ï¼ˆ5ï¼‰åœ¨ç›®å‰çš„CSS2.1è§„èŒƒä¸­ï¼Œå¹¶ä¸æ”¯æŒç™¾åˆ†æ¯”å€¼ï¼Œä½†æ–°çš„è‰æ¡ˆä¸­æ–°å¢äº†å¯¹ç™¾åˆ†å€¼çš„æ”¯æŒï¼Œæ˜¯æ ¹æ®ç›¸å¯¹äºå­—ç¬¦çš„â€œæ­¥è¿›å®½åº¦â€ï¼ˆadvance widthï¼‰è®¡ç®—çš„ã€‚è¿™å±äºæ–°ä¸–ç•Œå†…å®¹ï¼Œæœ¬ä¹¦ä¸åšä»‹ç»ã€‚</p><p>ï¼ˆ6ï¼‰é—´éš”ç®—æ³•éƒ½ä¼šå—åˆ°text-align:justifyä¸¤ç«¯å¯¹é½çš„å½±å“ã€‚</p><p>letter-spacingä½œç”¨äºæ‰€æœ‰å­—ç¬¦ï¼Œä½†word-spacingä»…ä½œç”¨äºç©ºæ ¼å­—ç¬¦ã€‚æ³¨æ„ï¼Œæ˜¯ä½œç”¨åœ¨â€œç©ºæ ¼â€ä¸Šï¼Œè€Œä¸æ˜¯å­—é¢æ„ä¹‰ä¸Šçš„â€œå•è¯â€ã€‚ä¾‹å¦‚ï¼Œå‡è®¾æœ‰ä»¥ä¸‹CSSå’ŒHTMLï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.wp &#123;</span><br><span class="line">word-spacing: 20px;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;wp&quot;</span>&gt;</span></span><br><span class="line">    æˆ‘loveå‰ç«¯ï¼</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>loveè™½ç„¶æ˜¯å•è¯ï¼Œä½†æ˜¯æ²¡æœ‰ç©ºæ ¼ï¼Œé‚£ä¹ˆword-spacing å°±æ— æ•ˆ</p><p><strong>å¦‚ä½•è®¾ç½®CSSï¼Œè®©å¤šæŒ‰é’®çš„æ—¶å€™ä¸­é—´è‡ªåŠ¨æœ‰åˆé€‚çš„é—´è·å‘¢ï¼Ÿ</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">    <span class="attribute">word-spacing</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨IE6æ—¶ä»£ï¼Œè¿™ç¡®å®æ˜¯ä¸ªéå¸¸å¥½çš„æ–¹æ³•ï¼Œä½†å¦‚ä»Šä¸‹é¢çš„åšæ³•å¯èƒ½è¦æ›´åˆé€‚äº›ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">button</span> + <span class="selector-tag">button</span> &#123;</span><br><span class="line"><span class="attribute">margin-left</span>: <span class="number">20px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>äº†è§£word-breakå’Œword-wrapçš„åŒºåˆ«</strong></p><blockquote><p>å‡†ç¡®æ¥è®²æ˜¯ äº†è§£word-break:break-allå’Œword-wrap:break-wordçš„åŒºåˆ«</p></blockquote><p>word-breakå±æ€§ï¼š</p><p>â€¢ normalï¼šä½¿ç”¨é»˜è®¤çš„æ¢è¡Œè§„åˆ™ã€‚</p><p>â€¢ break-allï¼šå…è®¸ä»»æ„éCJKï¼ˆChinese/Japanese/Koreanï¼‰æ–‡æœ¬é—´çš„å•è¯æ–­è¡Œã€‚</p><p>â€¢ keep-allï¼šä¸å…è®¸CJKæ–‡æœ¬ä¸­çš„å•è¯æ¢è¡Œï¼Œåªèƒ½åœ¨åŠè§’ç©ºæ ¼æˆ–è¿å­—ç¬¦å¤„æ¢è¡Œã€‚éCJKæ–‡æœ¬çš„è¡Œä¸ºå®é™…ä¸Šå’Œnormalä¸€è‡´ã€‚ã€æ­¤å±æ€§å…¼å®¹æ€§ä¸å’‹å¥½ã€‘</p><p>word-wrapå±æ€§ï¼š</p><p>â€¢ normalï¼šå°±æ˜¯å¤§å®¶å¹³å¸¸è§å¾—æœ€å¤šçš„æ­£å¸¸çš„æ¢è¡Œè§„åˆ™ã€‚</p><p>â€¢ break-wordï¼šä¸€è¡Œå•è¯ä¸­å®åœ¨æ²¡æœ‰å…¶ä»–é è°±çš„æ¢è¡Œç‚¹çš„æ—¶å€™æ¢è¡Œã€‚</p><blockquote><p>å®ƒä¹‹å‰ç”±äºå’Œword-breaké•¿å¾—å¤ªåƒï¼Œéš¾å…ä¼šè®©äººè®°ä¸ä½æˆ–ææ··ï¼Œäºæ˜¯åœ¨CSS3è§„èŒƒé‡Œï¼Œè¿™ä¸ªå±æ€§çš„åç§°è¢«ä¿®æ”¹äº†ï¼Œå«ä½œoverflow-wrap ã€å…¼å®¹æ€§å¯èƒ½ä¸ä½³ã€‘</p></blockquote><p><a href="http://demo.cssworld.cn/8/6-5.php">é‚£ä¸¤è€…çš„åŒºåˆ«æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</a></p><blockquote><p>word-break:break-allçš„ä½œç”¨æ˜¯æ‰€æœ‰çš„éƒ½æ¢è¡Œï¼Œæ¯«ä¸ç•™æƒ…ï¼Œä¸€ç‚¹å„¿ç©ºéš™éƒ½ä¸æ”¾è¿‡ï¼Œè€Œword-wrap:break-wordåˆ™å¸¦æœ‰æ€œæ‚¯ä¹‹å¿ƒï¼Œå¦‚æœè¿™ä¸€è¡Œæ–‡å­—æœ‰å¯ä»¥æ¢è¡Œçš„ç‚¹ï¼Œå¦‚ç©ºæ ¼æˆ–CJKï¼ˆä¸­æ–‡/æ—¥æ–‡/éŸ©æ–‡ï¼‰ä¹‹ç±»çš„ï¼Œå°±ä¸æ‰“è‹±æ–‡å•è¯æˆ–å­—ç¬¦çš„ä¸»æ„äº†ï¼Œåœ¨è¿™äº›æ¢è¡Œç‚¹æ¢è¡Œï¼Œè‡³äºå¯¹ä¸å¯¹é½ã€å¥½ä¸å¥½çœ‹åˆ™ä¸å…³å¿ƒï¼Œå› æ­¤ï¼Œå¾ˆå®¹æ˜“å‡ºç°ä¸€ç‰‡ä¸€ç‰‡ç©ºç™½åŒºåŸŸçš„æƒ…å†µã€‚</p></blockquote><p><strong>white-spaceä¸æ¢è¡Œå’Œç©ºæ ¼çš„æ§åˆ¶</strong></p><blockquote><p>white-spaceå±æ€§å£°æ˜äº†å¦‚ä½•å¤„ç†å…ƒç´ å†…çš„ç©ºç™½å­—ç¬¦ï¼Œè¿™ç±»ç©ºç™½å­—ç¬¦åŒ…æ‹¬Spaceï¼ˆç©ºæ ¼ï¼‰é”®ã€Enterï¼ˆå›è½¦ï¼‰é”®ã€Tabï¼ˆåˆ¶è¡¨ç¬¦ï¼‰é”®äº§ç”Ÿçš„ç©ºç™½ã€‚å› æ­¤ï¼Œwhite-spaceå¯ä»¥å†³å®šå›¾æ–‡å†…å®¹æ˜¯å¦åœ¨ä¸€è¡Œæ˜¾ç¤ºï¼ˆå›è½¦ç©ºæ ¼æ˜¯å¦ç”Ÿæ•ˆï¼‰ï¼Œæ˜¯å¦æ˜¾ç¤ºå¤§æ®µè¿ç»­ç©ºç™½ï¼ˆç©ºæ ¼æ˜¯å¦ç”Ÿæ•ˆï¼‰ç­‰ã€‚</p></blockquote><p>å±æ€§å€¼:</p><p>â€¢ normalï¼šåˆå¹¶ç©ºç™½å­—ç¬¦å’Œæ¢è¡Œç¬¦ã€‚</p><p>â€¢ preï¼šç©ºç™½å­—ç¬¦ä¸åˆå¹¶ï¼Œå¹¶ä¸”å†…å®¹åªåœ¨æœ‰æ¢è¡Œç¬¦çš„åœ°æ–¹æ¢è¡Œã€‚</p><p>â€¢ nowrapï¼šè¯¥å€¼å’Œnormalä¸€æ ·ä¼šåˆå¹¶ç©ºç™½å­—ç¬¦ï¼Œä½†ä¸å…è®¸æ–‡æœ¬ç¯ç»•ã€‚</p><p>â€¢ pre-wrapï¼šç©ºç™½å­—ç¬¦ä¸åˆå¹¶ï¼Œå¹¶ä¸”å†…å®¹åªåœ¨æœ‰æ¢è¡Œç¬¦çš„åœ°æ–¹æ¢è¡Œï¼ŒåŒæ—¶å…è®¸æ–‡æœ¬ç¯ç»•ã€‚</p><p>â€¢ pre-lineï¼šåˆå¹¶ç©ºç™½å­—ç¬¦ï¼Œä½†åªåœ¨æœ‰æ¢è¡Œç¬¦çš„åœ°æ–¹æ¢è¡Œï¼Œå…è®¸æ–‡æœ¬ç¯ç»•ã€‚</p><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221019154123966.png" alt="image-20221019154123966"></p><p>**text-alignä¸å…ƒç´ å¯¹é½ **</p><blockquote><p>å› ä¸ºCSSæ˜¯æ¯è¯­ä¸ºè‹±è¯­çš„äººå‘æ˜çš„ï¼Œæ‰€ä»¥åœ¨æ—©æœŸçš„æ—¶å€™ï¼Œå¯¹ä¸­æ–‡æˆ–å…¶ä»–ä¸œäºšè¯­è¨€å¹¶æ²¡æœ‰è€ƒè™‘å¾—é‚£ä¹ˆç»†è‡´ï¼Œä»text-align:justifyçš„è¡¨ç°ä¸Šå°±å¯ä»¥çª¥è§ä¸€æ–‘ã€‚ä¾‹å¦‚ï¼ŒIEæµè§ˆå™¨ï¼ˆè‡³å°‘åˆ°IE11ï¼‰åˆ°ç›®å‰ä¸ºæ­¢ä½¿ç”¨text-align:justifyéƒ½æ— æ³•è®©ä¸­æ–‡ä¸¤ç«¯å¯¹é½ï¼Œè€ŒChromeã€Firefoxå’ŒSafariç­‰æµè§ˆå™¨éƒ½æ˜¯å¯ä»¥çš„ã€‚</p><p>ä¸è¿‡ï¼Œå¥½åœ¨IEæœ‰ä¸€ä¸ªç§æœ‰çš„CSSå±æ€§text-justifyï¼ˆç›®å‰ä¹Ÿå†™å…¥è§„èŒƒè‰æ¡ˆäº†ï¼‰å¯ä»¥å®ç°ä¸­æ–‡ä¸¤ç«¯å¯¹é½çš„ã€‚</p></blockquote><p>é€šè¿‡ä¸‹é¢çš„CSSä»£ç ç»„åˆå°±å¯ä»¥å®ç°å…¨éƒ¨æµè§ˆå™¨éƒ½å…¼å®¹çš„ä¸­æ–‡ä¸¤ç«¯å¯¹é½</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.justify</span> &#123;</span><br><span class="line">    <span class="attribute">text-align</span>: justify;</span><br><span class="line">    <span class="attribute">text-justify</span>: inter-ideograph;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œå±æ€§å€¼inter-ideographçš„å­—é¢æ„æ€æ˜¯â€œå›½é™…è±¡å½¢æ–‡å­—â€ï¼Œéå®˜æ–¹éæ ‡å‡†ï¼Œå¯ä»¥æ”¾å¿ƒä½¿ç”¨ï¼Œä¸ç”¨æ‹…å¿ƒä»¥åå…¶ä»–æµè§ˆå™¨ä¹Ÿæ”¯æŒä¹‹åå‡ºç°æ–°æ—§æ¸²æŸ“ä¸ä¸€è‡´çš„é—®é¢˜ã€‚</p><p><a href="http://demo.cssworld.cn/8/6-7.php">ä¸­æ–‡çš„ä¸¤ç«¯å¯¹é½æ•ˆæœå®ç°å®ä¾‹é¡µé¢</a></p><p>CSSä¸–ç•Œä¸­æœ‰ä¸€ä¸ªtext-align-lastå±æ€§ï¼Œå¯ä»¥è§„å®šæœ€åä¸€è¡Œå†…è”å†…å®¹çš„æ’åˆ—æ–¹å¼ï¼Œè¿™æ˜¯ä»IEæµè§ˆå™¨è¿‡æ¥çš„</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.justify</span> &#123;</span><br><span class="line">    <span class="attribute">text-align-last</span>: justify;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¥½ä¸€ä¸ªåŠæ—¶é›¨ï¼ç„¶è€Œå¯æƒœï¼ŒSafariæµè§ˆå™¨ï¼ŒåŒ…æ‹¬Safari 10ï¼Œéƒ½ä¸æ”¯æŒï¼Œä»¥è‡³äºç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯éƒ½ä¸èƒ½ä½¿ç”¨ï¼Œç”šæ˜¯é—æ†¾ã€‚</p></blockquote><p><a href="http://demo.cssworld.cn/8/6-8.php">ä¸¤ç«¯å¯¹é½æ¡ˆä¾‹</a></p><p><strong>å¦‚ä½•è§£å†³text-decorationä¸‹åˆ’çº¿å’Œæ–‡æœ¬é‡å çš„é—®é¢˜</strong></p><blockquote><p>å¦‚æœå¯¹ç»†èŠ‚è¦æ±‚è¾ƒé«˜ï¼Œå°±ä¼šå‘ç°ï¼Œä¸‹åˆ’çº¿ç»å¸¸ä¼šå’Œä¸­æ–‡æ–‡å­—çš„ä¸‹è¾¹ç¼˜ç²˜è¿åœ¨ä¸€èµ·ï¼Œè‹±æ–‡çš„è¯ç”šè‡³ç›´æ¥ç©¿è¿‡ï¼Œè¶Šçœ‹è¶Šæœ‰å¿ƒç—›çš„æ„Ÿè§‰ã€‚</p></blockquote><p>æœ€ä½³å®è·µå°±æ˜¯ä½¿ç”¨ border æ¨¡æ‹Ÿä¸‹åˆ’çº¿ã€‚å¦å¤–ï¼Œä½¿ç”¨border-bottomæ¨¡æ‹Ÿä¸‹åˆ’çº¿çš„æ—¶å€™ï¼Œborder-coloræœ€å¥½çœç•¥ï¼Œè¿™æ ·å°±ä¼šä½¿ç”¨æ–‡å­—çš„coloré¢œè‰²ä½œä¸ºè¾¹æ¡†è‰²ï¼Œé¼ æ ‡hoverçš„æ—¶å€™ï¼Œä¸‹åˆ’çº¿ä¼šè‡ªåŠ¨å’Œæ–‡å­—ä¸€èµ·å˜è‰²</p><p>text-decorationè¿˜æ”¯æŒåŒæ—¶è®¾ç½®å¤šä¸ªå±æ€§</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span> &#123;</span><br><span class="line">    <span class="attribute">text-decoration</span>: underline overline;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ä¸€æœ¬ä¸‡åˆ©çš„text-transformå­—ç¬¦å¤§å°å†™</strong></p><blockquote><p>text-transformä¹Ÿæ˜¯ä¸ºè‹±æ–‡å­—ç¬¦è®¾è®¡çš„ï¼Œè¦ä¹ˆå…¨å¤§å†™text-transform:uppercaseï¼Œè¦ä¹ˆå…¨å°å†™text-transform:lowercaseï¼Œä¼¼ä¹æ²¡ä»€ä¹ˆå€¼å¾—æŒ–æ˜çš„ï¼Œä½†æœ‰ä¸€äº›åœºæ™¯ä½¿ç”¨å®ƒå´ä¼šæœ‰ä¸€æœ¬ä¸‡åˆ©çš„æ•ˆæœã€‚</p></blockquote><ol><li><p>èº«ä»½è¯è¾“å…¥</p><p> æˆ‘å›½çš„èº«ä»½è¯æœ€åä¸€ä½æœ‰å¯èƒ½æ˜¯å­—æ¯Xï¼Œä¸”å„ç§åœºåˆéƒ½æ˜¯æŒ‡å®šå¿…é¡»å¤§å†™ã€‚å¦‚æœæˆ‘ä»¬ç»™è¾“å…¥èº«ä»½è¯çš„ <strong>input</strong> è¾“å…¥æ¡†è®¾ç½®</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">input</span> &#123;</span><br><span class="line">    <span class="attribute">text-transform</span>: uppercase;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> å°±ç®—æˆ‘ä»¬æ•²å°å†™x,å‡ºç°çš„ä¹Ÿæ˜¯å¤§å†™</p></li><li><p>éªŒè¯ç è¾“å…¥</p><p> å¦‚æœéªŒè¯ç ä¸åŒºåˆ†å¤§å°å†™ï¼Œé‚£ä¹ˆè®¾ç½®å…¨è½¬å¤§å†™èµ·æ­¥çˆ½æ­ªæ­ª</p></li></ol><h4 id="first-letter-first-lineä¼ªå…ƒç´ "><a href="#first-letter-first-lineä¼ªå…ƒç´ " class="headerlink" title="first-letter/:first-lineä¼ªå…ƒç´ "></a><strong>first-letter/:first-lineä¼ªå…ƒç´ </strong></h4><blockquote><p>å¾ˆå¤šå¹´å‰ï¼ŒChromeæµè§ˆå™¨å’ŒIE9æµè§ˆå™¨è¿˜æœªå‡ºç°ï¼Œé‚£æ—¶å€™first-letterå«ä¼ªç±»é€‰æ‹©å™¨ï¼Œå†™æ³•æ˜¯å‰é¢åŠ ä¸€ä¸ªå†’å·ï¼Œå¦‚ï¼šfirst-letterã€‚é‚£æ—¶å€™çš„è¯­ä¹‰è¦æ›´ç›´ç™½ä¸€äº›ï¼Œé€‰æ‹©ç¬¬ä¸€ä¸ªå­—ç¬¦ï¼Œç„¶åè®¾ç½®ä¸€äº›æ ·å¼ã€‚åæ¥ï¼Œä¼ªç±»å’Œä¼ªå…ƒç´ è¢«åˆ’åˆ†å¾—æ›´åŠ æ˜ç¡®å’Œè§„èŒƒäº†ï¼Œ::afterã€::beforeã€::backdropã€::first-letterã€::first-lineã€::selectionç­‰æ˜¯ä¼ªå…ƒç´ ï¼Œ:activeã€:focusã€:checkedç­‰è¢«ç§°ä¸ºä¼ªç±»ï¼Œè¿™å°±å¯¼è‡´ï¼š:first-letterçš„è¯­ä¹‰å‘ç”Ÿäº†ä¸€äº›å˜åŒ–â€”é¦–å­—ç¬¦ä½œä¸ºå…ƒç´ çš„å‡æƒ³å­å…ƒç´ ã€‚</p></blockquote><p>::first-letter<strong>ä¼ªå…ƒç´ ç”Ÿæ•ˆçš„å‰æ</strong></p><blockquote><p>é¦–å…ˆï¼Œå…ƒç´ çš„displayè®¡ç®—å€¼å¿…é¡»æ˜¯blockã€inline-blockã€list-itemã€table-cellæˆ–è€…table-captionï¼Œå…¶ä»–æ‰€æœ‰displayè®¡ç®—å€¼éƒ½æ²¡æœ‰ç”¨ï¼ŒåŒ…æ‹¬display:tableå’Œdisplay:flexç­‰ã€‚</p></blockquote><p><strong>æ­¤å¤–ï¼Œä¸æ˜¯æ‰€æœ‰çš„å­—ç¬¦éƒ½èƒ½å•ç‹¬ä½œä¸ºï¼š:first-letterä¼ªå…ƒç´ å­˜åœ¨çš„ã€‚ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿæˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼ŒCSSå’ŒHTMLä»£ç å¦‚ä¸‹ï¼š</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p:first-letter &#123; color: silver; &#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿ<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>æŒ‰ç…§æˆ‘ä»¬çš„è®¾æƒ³ï¼Œç¬¬ä¸€ä¸ªé—®å·æ˜¯é“¶è‰²ï¼Œä½†å®é™…ä¸Šå…¨éƒ¨éƒ½æ˜¯</p><blockquote><p>ä¸ºä»€ä¹ˆå‘¢ï¼Ÿè¿™æ˜¯å› ä¸ºå¸¸è§çš„æ ‡ç‚¹ç¬¦å·ã€å„ç±»æ‹¬å·å’Œå¼•å·åœ¨ï¼š:first-letterä¼ªå…ƒç´ çœ¼ä¸­å…¨éƒ¨éƒ½æ˜¯â€œè¾…åŠ©ç±»â€å­—ç¬¦ï¼Œæœ‰ç‚¹å„¿ä¹°ä¸œè¥¿é€èµ å“çš„æ„Ÿè§‰ï¼Œä½†æ˜¯èµ å“æœ¬èº«å´ä¸èƒ½è´­ä¹°ï¼Œè¿™é‡Œçš„é—®å·â€œ? â€å°±å±äºèµ å“</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p:first-letter &#123; color: silver; &#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿè¾…åŠ©<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>è¿™æ¬¡æˆ‘ä»¬å‘ç°ï¼Œâ€ï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿï¼Ÿè¾…â€ å˜æˆäº†é“¶è‰²ã€‚è¿™å°±æ˜¯<strong>èµ å“</strong>çš„è¡¨ç°</p><blockquote><p>æœ‰äººå¯èƒ½ä¼šæœ‰ç–‘é—®ï¼šé‚£åˆ°åº•å“ªäº›å­—ç¬¦å±äºâ€œèµ å“â€ï¼Œå“ªäº›å±äºâ€œå•†å“â€å‘¢ï¼Ÿæˆ‘ç‰¹æ„åšäº†æµ‹è¯•ï¼Œæ€»ç»“ä¸‹æ¥å°±æ˜¯ï¼Œâ€œèµ å“å­—ç¬¦â€åŒ…æ‹¬Â·@#%&amp;ï¼Š()ï¼ˆï¼‰[]ã€ã€‘{}::â€â€â€; ; â€˜â€™â€™ã€‹ã€Š, , .ã€‚? ? ! ! â€¦ï¼Šã€/\ã€‚</p><p>æ­£å¸¸æƒ…å†µä¸‹å¯ä»¥ç›´æ¥ä½œä¸ºä¼ªå…ƒç´ çš„å­—ç¬¦å°±æ˜¯æ•°å­—ã€è‹±æ–‡å­—æ¯ã€ä¸­æ–‡ã€$ã€ä¸€äº›è¿ç®—ç¬¦ï¼Œä»¥åŠéå¸¸å®¹æ˜“è¢«å¿½è§†çš„ç©ºæ ¼ç­‰ã€‚è¿™é‡Œçš„â€œç©ºæ ¼â€æœ‰å¿…è¦å†åŠ ç²—å¼ºè°ƒä¸€ä¸‹ï¼Œå› ä¸ºå®ƒçš„ç¡®æ˜¯å¾ˆå®¹æ˜“è¢«å¿½è§†çš„ä¸€ä¸ªå­—ç¬¦ã€‚</p></blockquote><blockquote><p>æœ€åè¯´æ˜ä¸€ç‚¹ï¼Œå­—ç¬¦å‰é¢ä¸èƒ½æœ‰å›¾ç‰‡æˆ–è€…inline-block/inline-tableä¹‹ç±»çš„å…ƒç´ å­˜åœ¨</p></blockquote><p>å¦‚ä¸‹ï¼šä¼šå¯¼è‡´ä¸ç”Ÿæ•ˆ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p:first-letter &#123;color: silver;&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">i</span> <span class="attr">style</span>=<span class="string">&quot;display:inline-block;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span>é“¶è‰²<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p><strong>::beforeä¼ªå…ƒç´ ä¹Ÿå‚ä¸ï¼š:first-letterä¼ªå…ƒç´ </strong></p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">p:before &#123;</span><br><span class="line">content: &#x27;æ–°é—»&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">p:first-letter &#123;</span><br><span class="line">color: silver;</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span>è¿™æ˜¯æ–°é—»çš„æ ‡é¢˜......<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p>ç»“æœâ€œæ–°â€å˜æˆäº†é“¶è‰²,åŒ…æ‹¬IE8åœ¨å†…çš„æµè§ˆå™¨éƒ½æ˜¯è¿™æ ·çš„è¡¨ç°ã€‚</p><p><strong>::first-letterä¼ªå…ƒç´ å¯ä»¥ç”Ÿæ•ˆçš„CSSå±æ€§</strong></p><p>â€¢ æ‰€æœ‰å­—ä½“ç›¸å…³å±æ€§ï¼šfontã€font-styleã€font-variantã€font-weightã€font-sizeã€line-heightå’Œfont-familyã€‚</p><p>â€¢ æ‰€æœ‰èƒŒæ™¯ç›¸å…³å±æ€§ï¼šbackground-colorã€background-imageã€background-positionã€background-repeatã€background-sizeå’Œbackground-attachmentã€‚</p><p>â€¢ æ‰€æœ‰marginç›¸å…³å±æ€§ï¼šmarginã€margin-topã€margin-rightã€margin-bottomå’Œmargin-leftã€‚</p><p>â€¢ æ‰€æœ‰paddingç›¸å…³å±æ€§ï¼špaddingã€padding-topã€padding-rightã€padding-bottomå’Œpadding-leftã€‚</p><p>â€¢ æ‰€æœ‰borderç›¸å…³å±æ€§ï¼šç¼©å†™çš„borderã€border-styleã€border-colorã€border-widthå’Œæ™®é€šä¹¦å†™çš„å±æ€§ã€‚</p><p>â€¢ colorå±æ€§ã€‚</p><p>â€¢ text-decorationã€text-transformã€letter-spacingã€word-spacingï¼ˆåˆé€‚æƒ…å¢ƒä¸‹ï¼‰ã€line-heightã€floatå’Œvertical-alignï¼ˆåªæœ‰å½“floatä¸ºnoneçš„æ—¶å€™ï¼‰ç­‰å±æ€§ã€‚</p><blockquote><p>å› æ­¤ï¼Œå¦‚æœå¦„å›¾ä½¿ç”¨visibility:hiddenæˆ–è€…display:noneéšè—ï¼š:first-letterä¼ªå…ƒç´ ï¼Œè¿˜æ˜¯çœçœå§ã€‚</p></blockquote><p><strong>::first-letterä¼ªå…ƒç´ çš„ä¸€äº›æœ‰æ„æ€çš„ç‰¹ç‚¹</strong></p><ol><li><p>æ”¯æŒéƒ¨åˆ†displayå±æ€§å€¼æ ‡ç­¾åµŒå¥—ã€‚::first-letterä¼ªå…ƒç´ è·å–å¯ä»¥è·¨æ ‡ç­¾ï¼Œä¹Ÿå°±æ˜¯ä¸ä»…èƒ½é€‰æ‹©åŒ¿åå†…è”ç›’å­ï¼Œè¿˜èƒ½é€è¿‡å±‚å±‚æ ‡ç­¾è¿›è¡Œé€‰æ‹©ï¼Œä½†æ˜¯ä¹Ÿæœ‰ä¸€äº›é™åˆ¶ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰æ ‡ç­¾åµŒå¥—éƒ½æ˜¯æœ‰ç”¨çš„ã€‚</p><blockquote><p>displayå€¼å¦‚æœæ˜¯inlineã€blockã€tableã€table-rowã€table-captionã€table-cellã€list-iteméƒ½æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯ä¸èƒ½æ˜¯inline-blockå’Œinline-tableï¼Œå¦åˆ™ï¼š:first-letterä¼ªå…ƒç´ ä¼šç›´æ¥æ— æ•ˆï¼›è€Œdisplay:flexåˆ™æ”¹å˜äº†è§„åˆ™ï¼Œç›´æ¥é€‰æ‹©äº†ä¸‹ä¸€è¡Œçš„å­—ç¬¦å†…å®¹ã€‚</p></blockquote><p> <a href="http://demo.cssworld.cn/8/7-1.php">çœ¼è§ä¸ºå®</a></p></li><li><p>é¢œè‰²ç­‰æƒé‡æ€»æ˜¯å¤šäº†ä¸€å±‚ã€‚</p><p> è¿™æ˜¯éå¸¸å®¹æ˜“çŠ¯çš„ä¸€ä¸ªé”™è¯¯ï¼Œä¹Ÿæ˜¯CSSä¸–ç•Œåå¤§ä¸æ˜“ç†è§£é—®é¢˜ä¹‹ä¸€ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢è¿™ä¸ªé—®é¢˜æ˜¯æŸåŒè¡Œå‘é‚®ä»¶é—®æˆ‘çš„ï¼Œæˆ‘ç®€å•ç¼–è¾‘äº†ä¸€ä¸‹ï¼š</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">p:first-letter &#123;</span><br><span class="line">    color: red;</span><br><span class="line">&#125;</span><br><span class="line">p &gt; span &#123;</span><br><span class="line">color: blue!important;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span><span class="tag">&lt;<span class="name">span</span>&gt;</span>ç¬¬ä¸€ä¸ª<span class="tag">&lt;/<span class="name">span</span>&gt;</span>å­—ç¬¦çœ‹çœ‹ä¼šä¸ä¼šå˜çº¢ï¼Ÿ<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure><p> è¯·é—®â€œç¬¬â€è¿™ä¸ªå­—ç¬¦çš„é¢œè‰²æ˜¯ä»€ä¹ˆï¼Ÿ</p></li></ol><blockquote><p>åŸºæœ¬ä¸Šï¼Œè¶…è¿‡95%çš„å‰ç«¯äººå‘˜ä¼šè®¤ä¸ºæ˜¯blueï¼Œå› ä¸ºå¤§å®¶éƒ½æ˜¯ä»CSSé€‰æ‹©å™¨æƒé‡çš„è§’åº¦å»è€ƒè™‘çš„ã€‚è¿™ä¸ªç­”æ¡ˆæœ¬èº«æ²¡é—®é¢˜ï¼Œä½†æ˜¯å´å¿½ç•¥äº†å¾ˆé‡è¦çš„ä¸€ç‚¹ï¼Œ::first-letterä¼ªå…ƒç´ å…¶å®æ˜¯ä½œä¸ºå­å…ƒç´ å­˜åœ¨çš„ï¼Œæˆ–è€…è¯´åº”å½“çœ‹å‡ºæ˜¯å­å…ƒç´ ï¼Œäºæ˜¯å°±å¾ˆå¥½ç†è§£äº†ã€‚å¯¹äºç±»ä¼¼colorè¿™æ ·çš„ç»§æ‰¿å±æ€§ï¼Œå­å…ƒç´ çš„CSSè®¾ç½®ä¸€å®šæ¯”çˆ¶å…ƒç´ çš„çº§åˆ«è¦é«˜ï¼Œå“ªæ€•çˆ¶çº§ä½¿ç”¨äº†é‡é‡çº§çš„ï¼importantï¼Œå› ä¸ºå­å…ƒç´ ä¼šå…ˆç»§æ‰¿ï¼Œç„¶åå†åº”ç”¨è‡ªèº«è®¾ç½®ã€‚å› æ­¤ï¼Œä¸Šé¢CSSå’ŒHTMLä»£ç çš„æœ€ç»ˆç»“æœæ˜¯ï¼Œç¬¬ä¸€ä¸ªå­—ç¬¦â€œç¬¬â€å­—çš„é¢œè‰²æ˜¯redï¼Œçº¢è‰²ï¼è¿™å°±æ˜¯ï¼š:first-letterä¼ªå…ƒç´ çš„å¦å¤–ä¸€ä¸ªé‡è¦ç‰¹æ€§â€”é¢œè‰²ç­‰æƒé‡æ€»æ˜¯å¤šäº†ä¸€å±‚ã€‚</p></blockquote><p><strong>::first-letterå®é™…åº”ç”¨ä¸¾ä¾‹</strong></p><ul><li><p>ç”µå•†äº§å“ç»å¸¸ä¼šæœ‰ä»·æ ¼ï¼Œä»·æ ¼å‰é¢ä¸€èˆ¬éƒ½æœ‰ä¸€ä¸ªÂ¥ç¬¦å·ï¼Œè¿™ä¸ªç¬¦å·å­—ä½“å¾€å¾€ä¼šæ¯”è¾ƒç‰¹æ®Šï¼Œå­—å·ä¹Ÿæ¯”è¾ƒå¤§ï¼ŒåŒæ—¶å’Œæ–‡å­—çš„æ•°å€¼æœ‰å‡ åƒç´ çš„è·ç¦»</p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.price:first-letter &#123;</span><br><span class="line">maargin-right: 5px;</span><br><span class="line">font-size: xx-large;</span><br><span class="line">...</span><br><span class="line">&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    ï¿¥399</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><p><strong>æ•…äº‹ç›¸å¯¹è¾ƒå°‘çš„ï¼šfirst-lineä¼ªå…ƒç´ </strong></p><blockquote><p>å®ƒä»¬é•¿å¾—ç±»ä¼¼ï¼Œå¾ˆå¤šç‰¹æ€§ä¹Ÿç±»ä¼¼ã€‚ä½†æ˜¯ç›¸æ¯”ä¹‹ä¸‹ï¼Œ:first-lineçš„æ•…äº‹è¦å°‘ä¸€äº›ï¼Œæ²¡æœ‰â€œèµ å“å­—ç¬¦â€ä¹‹ç±»çš„æ¢—å­˜åœ¨ã€‚</p></blockquote><p>â€¢ :first-lineå’Œï¼šfirst-letterä¼ªå…ƒç´ ä¸€æ ·ï¼ŒIE9åŠä»¥ä¸Šç‰ˆæœ¬æµè§ˆå™¨æ”¯æŒåŒå†’å·ï¼š:first-line{}å†™æ³•ï¼ŒIE8æµè§ˆå™¨åªè®¤è¯†å•å†’å·å†™æ³•ã€‚</p><p>â€¢ :first-lineå’Œï¼šfirst-letterä¼ªå…ƒç´ ä¸€æ ·ï¼Œåªèƒ½ä½œç”¨åœ¨å—çº§å…ƒç´ ä¸Šï¼Œä¹Ÿå°±æ˜¯displayä¸ºblockã€inline-blockã€list-itemã€table-cellæˆ–è€…table-captionçš„å…ƒç´ è®¾ç½®ï¼šfirst-lineæ‰æœ‰æ•ˆï¼Œtableã€flexä¹‹ç±»éƒ½æ˜¯æ— æ•ˆçš„ã€‚</p><p>â€¢ :first-lineå’Œï¼šfirst-letterä¼ªå…ƒç´ ä¸€æ ·ï¼Œä»…æ”¯æŒéƒ¨åˆ†CSSå±æ€§ï¼Œä¾‹å¦‚ï¼š</p><p>æ‰€æœ‰å­—ä½“ç›¸å…³å±æ€§ï¼›</p><ul><li><p>colorå±æ€§ï¼›</p></li><li><p>æ‰€æœ‰èƒŒæ™¯ç›¸å…³å±æ€§ï¼›</p></li><li><p>text-decorationã€text-transforã€letter-spacingã€word-spacingã€line-heightå’Œvertical-alignç­‰å±æ€§ã€‚</p></li></ul><p>â€¢ :first-lineå’Œï¼šfirst-letterä¼ªå…ƒç´ ä¸€æ ·ï¼Œcolorç­‰ç»§æ‰¿å±æ€§çš„æƒé‡æ€»æ˜¯å¤šäº†ä¸€å±‚ï¼Œæ¯•ç«Ÿç§°ä¸ºâ€œä¼ªå…ƒç´ â€ï¼Œå°±å¥½åƒé‡Œé¢è¿˜æœ‰ä¸ªå­å…ƒç´ ã€‚å¦‚æœï¼šfirst-lineå’Œï¼šfirst-letteråŒæ—¶è®¾ç½®é¢œè‰²ï¼Œ:first-letterçº§åˆ«æ¯”ï¼šfirst-lineé«˜ï¼Œå³ä½¿ï¼šfirst-lineå†™åœ¨åé¢ï¼Œç”šè‡³åŠ ï¼importantï¼ˆå¦‚æœæµè§ˆå™¨æ”¯æŒï¼‰ä¹Ÿæ˜¯å¦‚æ­¤ã€‚</p><p>â€¢ :first-lineå’Œï¼šfirst-letterä¼ªå…ƒç´ ä¸€æ ·ï¼Œä¹Ÿæ”¯æŒæ ‡ç­¾åµŒå¥—ï¼Œä½†æ˜¯å…·ä½“ç»†åˆ™å’Œï¼šfirst-letterå‡ºå…¥è¾ƒå¤§ï¼Œä¾‹å¦‚ï¼Œå®ƒä¸æ”¯æŒtableç›¸å…³å±æ€§ç­‰ã€‚</p><p><a href="http://demo.cssworld.cn/8/7-2.php">çœ¼è§ä¸ºå®</a></p><blockquote><p>åœ¨Chrome ä¸­inline-block å…ƒç´ ä¼šé˜»æ–­ first-line</p></blockquote><h3 id="å…ƒç´ è£…é¥°ä¸ç¾åŒ–"><a href="#å…ƒç´ è£…é¥°ä¸ç¾åŒ–" class="headerlink" title="å…ƒç´ è£…é¥°ä¸ç¾åŒ–"></a>å…ƒç´ è£…é¥°ä¸ç¾åŒ–</h3><h4 id="å°‘å¾—å¯æ€œçš„é¢œè‰²å…³é”®å­—"><a href="#å°‘å¾—å¯æ€œçš„é¢œè‰²å…³é”®å­—" class="headerlink" title="å°‘å¾—å¯æ€œçš„é¢œè‰²å…³é”®å­—"></a>å°‘å¾—å¯æ€œçš„é¢œè‰²å…³é”®å­—</h4><blockquote><p>CSS1çš„æ—¶å€™åªæ”¯æŒ16ä¸ªåŸºæœ¬é¢œè‰²å…³é”®å­—</p><p>CSS2çš„æ—¶å€™ï¼Œæ˜¾ç„¶åº”è¯¥è¦æ–°å¢ä¸€äº›é¢œè‰²å…³é”®å­—ã€‚æˆ–è®¸å¾ˆå¤šäººæ»¡æ€€å¸Œæœ›ï¼Œæ€»ä»¥ä¸ºä¼šæœ‰ä»€ä¹ˆæƒŠå–œï¼Œç»“æœæœç„¶å¾ˆæƒŠå–œï¼šå±…ç„¶åªåŠ å…¥äº†ä¸€ä¸ªé¢œè‰²â€”æ©™è‰²orangeã€‚</p><p>åˆ°äº†CSS3çš„æ—¶å€™ï¼Œä»¥ä¸ºåˆä¼šæ˜¯â€œé›·å£°å¤§ï¼Œé›¨ç‚¹å°â€ï¼Œç»“æœè¿™æ¬¡å´å‡ºäººæ„æ–™ï¼Œä¸€ä¸‹å­å¢åŠ äº†100å¤šä¸ªé¢œè‰²å…³é”®å­—</p><p>åˆ°äº†CSS4çš„æ—¶å€™ï¼Œä»¥ä¸ºåˆä¼šæœ‰ä»€ä¹ˆæƒŠäººä¹‹ä¸¾ï¼Œç»“æœåˆä»…å¢åŠ äº†ä¸€ä¸ªé¢œè‰²å…³é”®å­—â€”rebeccapurple</p><p>[æ›´å¤š](<a href="http://www.zhangxinxu.com/wordpress/">http://www.zhangxinxu.com/wordpress/</a>? p=4859)</p></blockquote><blockquote><p>currentColorå˜é‡æ˜¯ä¸ªå¥½ä¸œè¥¿ï¼Œå¯ä»¥ä½¿ç”¨å½“å‰colorè®¡ç®—å€¼ï¼Œå³æ‰€è°“é¢œè‰²å€¼ã€‚</p><p>IE9+æµè§ˆå™¨æ‰æ”¯æŒå®ƒã€‚</p></blockquote><h4 id="CSSä¸–ç•Œçš„backgroundå¾ˆå•è°ƒ"><a href="#CSSä¸–ç•Œçš„backgroundå¾ˆå•è°ƒ" class="headerlink" title="CSSä¸–ç•Œçš„backgroundå¾ˆå•è°ƒ"></a>CSSä¸–ç•Œçš„backgroundå¾ˆå•è°ƒ</h4><blockquote><p>CSSä¸–ç•Œä¸­çš„backgroundå¤§éƒ¨åˆ†æœ‰æ„æ€çš„å†…å®¹éƒ½æ˜¯åœ¨CSS3æ–°ä¸–ç•Œä¸­æ‰å‡ºç°çš„ï¼Œå¦‚Multiple backgroundsï¼ˆå¤šèƒŒæ™¯ï¼‰ã€background-sizeï¼ˆèƒŒæ™¯å°ºå¯¸ï¼‰ã€background-originï¼ˆèƒŒæ™¯åˆå§‹å®šä½ç›’å­ï¼‰ã€background-clipï¼ˆèƒŒæ™¯å‰ªåˆ‡ç›’å­ï¼‰ç­‰ã€‚</p></blockquote><p>backgroundç›¸å…³å±æ€§çš„é›†åˆï¼ŒåŒ…æ‹¬ï¼š</p><p>â€¢ background-image: none</p><p>â€¢ background-position: 0% 0%</p><p>â€¢ background-repeat: repeat</p><p>â€¢ background-attachment: scroll</p><p>â€¢ background-color: transparent</p><p>å¦‚æœæ˜¯IE9+æµè§ˆå™¨ï¼Œåˆ™è¿˜åŒ…æ‹¬ï¼š</p><p>â€¢ background-size: auto auto</p><p>â€¢ background-origin: padding-box</p><p>â€¢ background-clip: border-box</p><p><strong>éšè—å…ƒç´ çš„background-imageåˆ°åº•åŠ ä¸åŠ è½½?</strong></p><blockquote><p>æ ¹æ®æˆ‘çš„æµ‹è¯•ï¼Œä¸€ä¸ªå…ƒç´ å¦‚æœdisplayè®¡ç®—å€¼ä¸ºnoneï¼Œåœ¨IEæµè§ˆå™¨ä¸‹ï¼ˆIE8ï½IE11ï¼Œæ›´é«˜ç‰ˆæœ¬ä¸ç¡®å®šï¼‰ä¾ç„¶ä¼šå‘é€å›¾ç‰‡è¯·æ±‚ï¼ŒFirefoxæµè§ˆå™¨ä¸ä¼šï¼Œè‡³äºChromeå’ŒSafariæµè§ˆå™¨åˆ™ä¼¼ä¹æ›´åŠ æ™ºèƒ½ä¸€ç‚¹ï¼šå¦‚æœéšè—å…ƒç´ åŒæ—¶åˆè®¾ç½®äº†background-imageï¼Œåˆ™å›¾ç‰‡ä¾ç„¶ä¼šå»åŠ è½½ï¼›å¦‚æœæ˜¯çˆ¶å…ƒç´ çš„displayè®¡ç®—å€¼ä¸ºnoneï¼Œåˆ™èƒŒæ™¯å›¾ä¸ä¼šè¯·æ±‚ï¼Œæ­¤æ—¶æµè§ˆå™¨æˆ–è®¸æ”¾å¿ƒåœ°è®¤ä¸ºè¿™ä¸ªèƒŒæ™¯å›¾æš‚æ—¶æ˜¯ä¸ä¼šä½¿ç”¨çš„ã€‚</p></blockquote><blockquote><p>å¦‚æœæƒ³ç”¨background-imageå®ç°é¼ æ ‡å…‰æ ‡ç»è¿‡å˜æ¢å›¾ç‰‡çš„æ•ˆæœï¼ˆä¾‹å¦‚ï¼Œç°è‰²çš„å…³é—­å›¾ç‰‡é¼ æ ‡å…‰æ ‡ç»è¿‡å˜æˆæ·±è‰²ï¼‰ï¼Œåˆ™åŠ¡å¿…å°†è¿™ä¸¤å¼ å›¾ç‰‡åˆå¹¶åœ¨ä¸€å¼ å›¾ç‰‡ä¸Šï¼Œé™¤äº†å‡å°‘è¯·æ±‚å¤–ï¼Œè¿™æ ·åšæ›´é‡è¦çš„å¥½å¤„æ˜¯äº¤äº’ä½“éªŒæ›´å¥½äº†ã€‚å¦‚æœå›¾ç‰‡ä¸åˆåœ¨ä¸€èµ·ï¼Œå½“é¼ æ ‡å…‰æ ‡ç»è¿‡çš„æ—¶å€™ï¼Œå°±ä¼šå»è¯·æ±‚å¦å¤–ä¸€å¼ å›¾ç‰‡çš„åœ°å€ï¼Œå¦‚æœè¿™ä¸ªå›¾ç‰‡æ²¡æœ‰è¢«ç¼“å­˜ï¼Œåˆ™è¯·æ±‚å‘å‡ºå»åˆ°å›¾ç‰‡æ˜¾ç¤ºæ˜¯æœ‰ä¸€æ®µæ—¶é—´çš„ï¼Œå¾ˆå®¹æ˜“å‡ºç°é¼ æ ‡å…‰æ ‡ç»è¿‡å…³é—­å›¾ç‰‡ï¼Œç»“æœå›¾ç‰‡æ¶ˆå¤±çš„æƒ…å†µï¼Œå®é™…ä¸Šå›¾ç‰‡ä¸æ˜¯æ¶ˆå¤±äº†ï¼Œè€Œæ˜¯è¿˜åœ¨è¯·æ±‚çš„è·¯ä¸Šã€‚</p></blockquote><p><strong>ä¸ä¼—ä¸åŒçš„background-positionç™¾åˆ†æ¯”è®¡ç®—æ–¹å¼</strong></p><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221020103129977.png" alt="image-20221020103129977"></p><p>IE8æµè§ˆå™¨æœ€å¤šåªæ”¯æŒåŒæ—¶å‡ºç°2ä¸ªå€¼ï¼Œä»IE9å¼€å§‹æ”¯æŒåŒæ—¶å‡ºç°3ä¸ªå€¼æˆ–4ä¸ªå€¼ï¼Œ<strong>ä½œç”¨æ˜¯æŒ‡å®šå®šä½çš„åç§»è®¡ç®—ä»å“ªä¸ªæ–¹ä½ç®—èµ·</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-position</span>: right <span class="number">40px</span> bottom <span class="number">20px</span>;</span><br></pre></td></tr></table></figure><p>è¡¨ç¤ºè·ç¦»å³è¾¹ç¼˜40åƒç´ ï¼Œè·ç¦»åº•è¾¹ç¼˜20åƒç´ </p><p><strong>positionå€¼ä¹Ÿæ”¯æŒç™¾åˆ†æ¯”å€¼</strong></p><p>positionå€¼çš„ç™¾åˆ†æ¯”å€¼æœ‰ç€ç‰¹æ®Šçš„è®¡ç®—å…¬å¼ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">position = (å®¹å™¨çš„å®½ - å›¾ç‰‡çš„å®½) * percentX</span><br><span class="line"></span><br><span class="line">position = (å®¹å™¨çš„é«˜ - å›¾ç‰‡çš„é«˜) * percentY</span><br></pre></td></tr></table></figure><p>å› æ­¤ï¼Œå½“background-position:100% 100%æ—¶å€™ï¼Œå®é™…å®šä½å€¼å°±æ˜¯å®¹å™¨å°ºå¯¸å’Œå›¾ç‰‡å°ºå¯¸çš„å·®ï¼Œäºæ˜¯å°±æœ‰äº†å³ä¸‹è§’æ‰€ç¤ºçš„å®šä½æ•ˆæœã€‚</p><p><strong>å½“æˆ‘ä»¬è®¾ç½®ç™¾åˆ†æ¯”è´Ÿå€¼æ—¶</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-position</span>: -<span class="number">50%</span> -<span class="number">50%</span>;</span><br></pre></td></tr></table></figure><p>ç»“æœä»–çš„æ•ˆæœç±»ä¼¼äº</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background-position</span>: <span class="number">40px</span> <span class="number">10px</span>;</span><br></pre></td></tr></table></figure><blockquote><p>æ·±å—ä¼ ç»Ÿç™¾åˆ†æ¯”å®šä½è¿·æƒ‘çš„æˆ‘ä»¬å¯èƒ½ä¸€æ—¶ä¼šæƒ³ä¸é€šï¼Œæ˜æ˜æ˜¯ä¸ªè´Ÿå€¼ç™¾åˆ†æ¯”å®šä½ï¼Œæ€ä¹ˆä¼šæ˜¯ä¸€ä¸ªæ­£å€¼æ•ˆæœå‘¢ï¼Ÿ</p><p>æˆ‘ä»¬å¥—ç”¨ <strong>position</strong> ç™¾åˆ†æ¯”å€¼è®¡ç®—å…¬å¼ï¼Œå°±è±ç„¶å¼€æœ—äº†ï¼æ­¤æ¡ˆä¾‹ä¸­å®¹å™¨å°ºå¯¸æ˜¯160Ã—160ï¼Œå›¾ç‰‡å°ºå¯¸æ˜¯256Ã—192ï¼Œå›¾ç‰‡å°ºå¯¸å¤§äºå®¹å™¨å°ºå¯¸ï¼Œæ‰€ä»¥ï¼š</p><p>â€¢ï¼ˆå®¹å™¨çš„å®½åº¦-å›¾ç‰‡çš„å®½åº¦ï¼‰Ã—ï¼ˆ-50%ï¼‰çš„ç»“æœæ˜¯ä¸ªæ­£å€¼ï¼›</p><p>â€¢ï¼ˆå®¹å™¨çš„é«˜åº¦-å›¾ç‰‡çš„é«˜åº¦ï¼‰Ã—ï¼ˆ-50%ï¼‰çš„ç»“æœä¹Ÿæ˜¯ä¸ªæ­£å€¼ã€‚</p><p>å› æ­¤ï¼Œæœ€ç»ˆçš„è¡¨ç°å¹¶ä¸æ˜¯å›¾ç‰‡å®šä½åœ¨å®¹å™¨å¤–ï¼Œè€Œæ˜¯å®šä½åœ¨å®¹å™¨å†…ã€‚</p></blockquote><p>** background-repeatä¸æ¸²æŸ“æ€§èƒ½**</p><blockquote><p>background-repeatæ”¯æŒrepeatã€repeat-xã€repeat-yè¿™å‡ ä¸ªå€¼ï¼Œè¯­ä¹‰æ¸…æ™°ï¼Œå…¼å®¹æ€§å¥½ï¼Œæ²¡ä»€ä¹ˆæœ‰è¶£çš„æ•…äº‹ã€‚background-repeatä»¥å‰ç”¨å¾—å¾ˆå¤šï¼Œä½†å¦‚ä»Šè®¾è®¡è¶‹åŠ¿æ˜¯å–œæ¬¢æ‰å¹³å’Œçº¯è‰²ï¼Œå…¶ä½¿ç”¨é¢‘ç‡ä¸‹é™æ˜æ˜¾ï¼Œåå€’æ˜¯åœ¨å®ç°ä¸€äº›å¤æ‚çº¹ç†æˆ–è€…é…åˆâ€œè‰åŸåˆ™â€å®ç°éšæœºèƒŒæ™¯è¿™äº›æ¯”è¾ƒæ–°æ½®çš„åœ°æ–¹è§åˆ°çš„æ¯”è¾ƒå¤šã€‚</p></blockquote><p>å…³äº background-repeat æ€§èƒ½ï¼Œ</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.overlay</span> &#123;</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">&#x27;alpha.png&#x27;</span>);</span><br><span class="line"><span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, .<span class="number">75</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æœ‰äº›äººä¸ºäº†è¿½æ±‚æè‡´ï¼ŒæŠŠ alpha.png åšæˆäº†1X1åƒç´ å¤§å°ï¼Œï¼Œä½†æ˜¯é®ç½©èƒŒæ™¯å‡ºç°çš„æ—¶å€™ä¼šæœ‰æ˜æ˜¾çš„å¡é¡¿ï¼Œä½“éªŒéå¸¸ä¸å¥½ã€‚ç©¶å…¶åŸå› ï¼Œå°±æ˜¯å¹³é“ºå›¾ç‰‡å°ºå¯¸å¤ªå°ï¼Œå¹³é“ºæ¬¡æ•°å¤ªå¤šï¼Œæ¸²æŸ“å¤ªåƒåŠ›ï¼Œå…¶å®æˆ‘ä»¬å¤§å¯æŠŠèƒŒæ™¯å›¾ä¿å­˜æˆ100åƒç´ Ã—100åƒç´ å¤§å°ï¼Œè¿™æ ·ä¸€æ¥ï¼Œå›¾ç‰‡å°ºå¯¸å¹¶æ²¡æœ‰å¤§å¤šå°‘ï¼Œä½†æ˜¯æ¸²æŸ“æ€§èƒ½å´æœ‰æ˜æ˜¾æå‡ã€‚</p></blockquote><p><strong>å¤–å¼ºä¸­å¹²çš„background-attachment:fixed</strong></p><blockquote><p>åœ¨CSSä¸–ç•Œä¸­ï¼Œbackground-attachmentæ”¯æŒscrollå’Œfixedä¸¤ä¸ªå±æ€§å€¼ï¼Œå…¶ä¸­scrollæ˜¯é»˜è®¤å€¼ï¼Œå°±æ˜¯å¹³å¸¸ä½¿ç”¨èƒŒæ™¯å›¾çš„æ•ˆæœè¡¨ç°ï¼›fixedè¡¨ç¤ºèƒŒæ™¯ç›¸å¯¹äºå½“å‰æ–‡æ¡£è§†åŒºå®šä½ï¼Œä¹Ÿå°±æ˜¯é¡µé¢å†æ€ä¹ˆæ»šåŠ¨èƒŒæ™¯å›¾ç‰‡ä½ç½®ä¾æ—§çº¹ä¸ä¸åŠ¨ï¼Œç¨³è‹¥æ³°å±±ã€‚</p><p>å¬ä¸Šå»ï¼Œbackground-attachmen:fixedåº”è¯¥å’Œposition:fixedå£°æ˜ä¸€æ ·ï¼Œæ˜¯ä¸ªå¾ˆå‰å®³çš„è§’è‰²æ‰å¯¹ã€‚ä½†å®é™…ä¸Šå…¶å¤–å¼ºä¸­å¹²ï¼Œåœ¨æŸäº›åœºåˆå®ƒç¡®å®å¾ˆå‰å®³ï¼Œä½†æ˜¯å±€é™å¤ªå¤§ï¼Œæ²¡æ³•å®ç”¨ã€‚</p></blockquote><ul><li><p>è¦å®ç°ä¸€ä¸ªå›¾ç‰‡å±€éƒ¨åŠ¨æ€æ¨¡ç³Šæ•ˆæœ</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line"><span class="attribute">width</span>: <span class="number">256px</span>; hieght: <span class="number">1192px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">1.jpg</span>);</span><br><span class="line">    <span class="attribute">background-attachment</span>: fixed;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-class">.drag</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">100px</span>; <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">background</span>: inherit;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">blur</span>(<span class="number">5px</span>);</span><br><span class="line">    <span class="attribute">cursor</span>: grap;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>dragå…ƒç´ çš„backgroundç»§æ‰¿äºçˆ¶å…ƒç´ ï¼boxï¼ŒåŒæ ·çš„èƒŒæ™¯å›¾ï¼ŒåŒæ ·çš„background-attachment: fixedé”å®šï¼Œæ ¹æœ¬å°±ä¸éœ€è¦JavaScriptåŠ¨æ€æ”¹å˜background-positionä½ç½®ï¼Œå› ä¸ºå…ƒç´ éƒ½æ˜¯ç›¸å¯¹äºæ–‡æ¡£è§†åŒºå®šä½çš„ã€‚è¿™çœ‹ä¼¼ç¾å¥½ï¼Œå´æœ‰ä¸€ä¸ªå¾ˆå¤§çš„å±€é™æ€§ï¼Œé‚£å°±æ˜¯é¡µé¢çš„é«˜åº¦ä¸èƒ½è¶…è¿‡ä¸€å±ï¼Œå› ä¸ºé¡µé¢ä¸€æ—¦å¯ä»¥æ»šåŠ¨ï¼Œæ•ˆæœå°±å®Œå…¨è¢«æ¯æ‰ï¼ŒèƒŒæ™¯å›¾ç«‹é©¬å°±æ˜¾ç¤ºä¸å…¨äº†ï¼Œå› ä¸ºå…ƒç´ è¢«æ»šèµ°äº†ï¼Œä½†æ˜¯èƒŒæ™¯å›¾è¿˜æ˜¯å›ºå®šçš„ã€‚</p><p>è€Œç»å¤§å¤šæ•°ç½‘é¡µéƒ½æ˜¯å¯æ»šåŠ¨çš„ï¼Œè¿™å°±è®©background-attachment:fixedåªèƒ½å±€é™äºçª—ä½“èƒŒæ™¯å›¾çš„ä½¿ç”¨ä¸Šã€‚å½“ç„¶ï¼Œä¹Ÿæœ‰ä¸å¤ªå¥½çš„æ”¯æŒæ–¹æ³•ï¼Œå°±æ˜¯background-attachment:fixedäº¤äº’åšå‡ºä¸€ä¸ªç‹¬ç«‹çš„å°é¡µé¢ï¼Œç„¶åä¸»é¡µé¢ä½¿ç”¨ä¸€ä¸ªå°çš„iframeåµŒå¥—ã€‚</p><p>IE9åŠä»¥ä¸Šç‰ˆæœ¬æµè§ˆå™¨æ–°å¢äº†ä¸€ä¸ªbackground- attachmentå±æ€§å€¼localï¼Œéš¾é“å®ƒå°±æ˜¯ç”¨æ¥è§£å†³ä¸Šé¢çš„â€œä¸åˆä¹é¢„æœŸâ€çš„ç°è±¡çš„ï¼Ÿä¸å¥½æ„æ€ï¼Œä½ æƒ³å¤šäº†ï¼Œå®ƒä»¬ä¸æ˜¯ä¸€è·¯çš„ã€‚localçš„ä½œç”¨æ˜¯ï¼Œå¦‚æœï¼boxå…ƒç´ å¯ä»¥æ»šåŠ¨ï¼Œåˆ™ï¼boxå…ƒç´ çš„èƒŒæ™¯å›¾ä¹Ÿå¯ä»¥è¢«æ»šèµ°ï¼Œé»˜è®¤çš„scrollå€¼æ˜¯å›ºå®šçš„ï¼Œå’Œfixedæ— åŠç‚¹å„¿å…³ç³»ã€‚</p></blockquote></li></ul><p><strong>background-colorèƒŒæ™¯è‰²æ°¸è¿œæ˜¯æœ€ä½çš„</strong></p><blockquote><p>ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿå°±æ˜¯backgroundæ— è®ºæ˜¯å•èƒŒæ™¯å›¾è¿˜æ˜¯å¤šèƒŒæ™¯å›¾ï¼ŒèƒŒæ™¯è‰²ä¸€å®šæ˜¯åœ¨æœ€åº•ä¸‹çš„ä½ç½®ã€‚</p><p>çŸ¥é“è¿™ä¸€ç‰¹æ€§æœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿä¸ºäº†åŠæ—¶å‡†ç¡®åé¦ˆç”¨æˆ·çš„ç‚¹å‡»è¡Œä¸ºï¼Œæˆ‘ä»¬ä¼šåœ¨é“¾æ¥æˆ–æŒ‰é’®å…ƒç´ ä¸Šå¢åŠ ï¼šactiveæ ·å¼ï¼Œé€šå¸¸çš„æ€è·¯æ˜¯ï¼šactiveæ—¶å˜æ¢ä¸€ä¸‹èƒŒæ™¯è‰²ï¼Œä½†æ˜¯è¿™æ ·æœ‰ä¸€ä¸ªå¾ˆå¤§çš„é—®é¢˜ï¼Œå³æ¯ä¸ªæŒ‰é’®çš„èƒŒæ™¯è‰²éƒ½æ˜¯ä¸ä¸€æ ·çš„ï¼Œé‚£å²‚ä¸æ˜¯è¦å†™å¾ˆå¤šä¸ªï¼šactiveæ ·å¼ï¼Ÿæœ‰æ²¡æœ‰ä»€ä¹ˆæ•´ç«™é€šç”¨çš„ç®€å•ä»£ç å‘¢ï¼Ÿå½“ç„¶æœ‰ã€‚æˆ‘ä»¬å¯ä»¥è¯•è¯•ä½¿ç”¨èƒŒæ™¯å›¾ç‰‡ä»£æ›¿èƒŒæ™¯è‰²</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[href]</span><span class="selector-pseudo">:active</span>, <span class="selector-tag">button</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(to top, <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, .<span class="number">05</span>), <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, .<span class="number">05</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å› ä¸ºèƒŒæ™¯è‰²ä¸€å®šæ˜¯åœ¨æœ€åº•ä¸‹çš„ä½ç½®ï¼Œæ‰€ä»¥è¿™é‡Œçš„background-imageä¸€å®šæ˜¯è¦†ç›–åœ¨æŒ‰é’®ç­‰å…ƒç´ èƒŒæ™¯è‰²ä¹‹ä¸Šçš„ï¼Œä¸ä¼šå½±å“æŒ‰é’®åŸæ¥çš„èƒŒæ™¯è‰²ã€‚</p><p>å¦‚æœæ˜¯æ¡Œé¢ç«¯Webé¡¹ç›®ï¼Œéœ€è¦å…¼å®¹IE8å’ŒIE9æµè§ˆå™¨ï¼Œæˆ‘çš„å»ºè®®æ˜¯ä½¿ç”¨ä¸€ä¸ªåŒç­‰æ•ˆæœçš„PNGå›¾ç‰‡ä»£æ›¿ï¼Œå…·ä½“ä»£ç å¦‚ä¸‹ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">a</span><span class="selector-attr">[href]</span><span class="selector-pseudo">:active</span>, <span class="selector-tag">button</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">    <span class="comment">/*IE8,IE9*/</span></span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">url</span>(<span class="string">xxx</span>);</span><br><span class="line">    <span class="comment">/*IE10+*/</span></span><br><span class="line">    <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(to top, <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, .<span class="number">05</span>), <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>, .<span class="number">05</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>åˆ©ç”¨å¤šèƒŒæ™¯çš„å±æ€§hackå°æŠ€å·§</strong></p><blockquote><p>è™½ç„¶IE8æµè§ˆå™¨å¹¶ä¸æ”¯æŒå¤šèƒŒæ™¯ï¼Œä½†æ˜¯å¹¶ä¸è¡¨ç¤ºIE8æµè§ˆå™¨å’Œå¤šèƒŒæ™¯æ•ˆæœæ— ç¼˜ã€‚å› ä¸ºIE8æµè§ˆå™¨æ”¯æŒï¼šbeforeå’Œï¼šafterä¸¤ä¸ªä¼ªå…ƒç´ ï¼Œæ‰€ä»¥é…åˆz-indexè´Ÿå€¼ï¼Œæˆ‘ä»¬å¯ä»¥å®ç°æœ€å¤š3ä¸ªå›¾ç‰‡çš„å¤šèƒŒæ™¯æ•ˆæœï¼Œå¯¹ç»å¤§éƒ¨åˆ†çš„éœ€æ±‚æ¥è¯´è¶³å¤Ÿäº†ã€‚</p></blockquote><p><strong>IE9æµè§ˆå™¨ä¸æ”¯æŒèƒŒ</strong></p><blockquote><p>IE9æµè§ˆå™¨ä¸æ”¯æŒèƒŒæ™¯æ¸å˜ï¼Œä¸è¿‡ï¼Œä¹Ÿæ˜¯æœ‰æ‰‹æ®µå¯ä»¥åšå…¼å®¹çš„ï¼Œé‚£å°±æ˜¯ä½¿ç”¨IEç§æœ‰çš„æ¸å˜æ»¤é•œã€‚ä¾‹å¦‚ï¼Œä¸€ä¸ªçº¢è“æ¸å˜ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç ï¼š</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">filter</span>: progid: DXImageTransform.Micorosoft.<span class="built_in">gradient</span>(startcolorstr=red, encolorstr=blue, gradientType=<span class="number">1</span>);</span><br></pre></td></tr></table></figure><blockquote><p>è¿™è¡Œæ»¤é•œä»£ç ä¸»è¦æœ‰3ä¸ªå‚æ•°ï¼Œä¾æ¬¡æ˜¯startcolorstrã€endcolorstrå’Œgradient Typeã€‚å…¶ä¸­gradientType=1ä»£è¡¨æ¨ªå‘æ¸å˜ï¼ŒgradientType=0ä»£è¡¨çºµå‘æ·…æ¸å˜ï¼Œstartcolorsträ»£è¡¨æ¸å˜èµ·å§‹çš„è‰²å½©ã€‚é™¤äº†ä½¿ç”¨é¢œè‰²å…³é”®å­—ï¼Œè¿˜å¯ä»¥ä½¿ç”¨åå…­è¿›åˆ¶é¢œè‰²è¡¨ç¤ºæ³•ï¼Œå¦‚startcolorstr=#FF0000; endcolorsträ»£è¡¨æ¸å˜ç»“å°¾çš„è‰²å½©ï¼Œä¹Ÿæ”¯æŒåå…­è¿›åˆ¶é¢œè‰²è¡¨ç¤ºæ³•ï¼Œå¦‚endcolorstr=#0000FFã€‚</p></blockquote><blockquote><p>æƒ³è¦æ¸å˜åŠé€æ˜æ€ä¹ˆåŠï¼Ÿå¯ä»¥ä½¿ç”¨IEæµè§ˆå™¨çš„8å­—ç¬¦çš„åå…­è¿›åˆ¶é¢œè‰²è¡¨ç¤ºæ³•ï¼Œå…¶æ ¼å¼ä¸º#AARRGGBB, AAã€RRã€GGã€BBå‡ä¸ºåå…­è¿›åˆ¶æ­£æ•´æ•°ï¼Œå–å€¼èŒƒå›´ä¸º00ï½FFã€‚RRæŒ‡å®šçº¢è‰²å€¼ï¼ŒGGæŒ‡å®šç»¿è‰²å€¼ï¼ŒBBæŒ‡å®šè“è‰²å€¼ï¼ŒAAæŒ‡å®šé€æ˜åº¦ã€‚00è¡¨ç¤ºå®Œå…¨é€æ˜ï¼ŒFFè¡¨ç¤ºå®Œå…¨ä¸é€æ˜ã€‚è¶…å‡ºå–å€¼èŒƒå›´çš„å€¼å°†è¢«æ¢å¤ä¸ºé»˜è®¤å€¼ã€‚ä¾‹å¦‚ï¼Œæ¸å˜èµ·å§‹çº¢è‰²å¯ä»¥å†™æˆstartcolorstr=#FFFF0000ã€‚</p></blockquote><p>æœ‰äº›äººå¹¶ä¸æ¸…æ¥šå¦‚ä½•å°†0ï½1çš„CSS3æ ‡å‡†é€æ˜åº¦å€¼è½¬æ¢æˆåå…­è¿›åˆ¶ã€‚äº‹å®ä¸Šï¼Œå¯ä»¥è¿™æ ·å¤„ç†ï¼šæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œå‡è®¾éœ€è¦è½¬æ¢çš„é€æ˜åº¦æ˜¯opacityï¼Œåˆ™å¯ä»¥è¾“å…¥ä¸‹é¢çš„ä»£ç å†å›è½¦ï¼š</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Math</span>.<span class="title function_">round</span>(<span class="number">256</span>*opacity).<span class="title function_">toString</span>(<span class="number">16</span>);</span><br></pre></td></tr></table></figure><p>ç»¼ä¸Šæ‰€è¿°ï¼Œè¦æƒ³å®ç°ä¸€ä¸ª100%çº¢è‰²åˆ°50%é€æ˜åº¦è“è‰²å‚ç›´æ¸å˜ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹ä»£ç ç»„åˆï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.gradient</span> &#123;</span><br><span class="line">    <span class="attribute">filter</span>: progid:DXImageTransform.Micorosoft.<span class="built_in">gradient</span>(startsolorstr=<span class="number">#FFFF0000</span>, endcolorstr=<span class="number">#7F0000FF</span>, gradientType=<span class="number">0</span>);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to bottom, red, <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">255</span>, .<span class="number">5</span>))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">:root</span> <span class="selector-class">.bgcolor</span> &#123;</span><br><span class="line">    <span class="attribute">filter</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨IE9æµè§ˆå™¨ä¸‹ï¼ŒrgbaåŠé€æ˜å’Œfilteræ¸å˜ä¼šåŒæ—¶èµ·ä½œç”¨ï¼Œå› æ­¤ä½¿ç”¨ï¼šrooté€‰æ‹©å™¨é‡ç½®äº†ä¸€ä¸‹ã€‚</p><h3 id="å…ƒç´ çš„æ˜¾ç¤ºä¸éšè—"><a href="#å…ƒç´ çš„æ˜¾ç¤ºä¸éšè—" class="headerlink" title="å…ƒç´ çš„æ˜¾ç¤ºä¸éšè—"></a>å…ƒç´ çš„æ˜¾ç¤ºä¸éšè—</h3><blockquote><p>ä½¿ç”¨CSSè®©å…ƒç´ ä¸å¯è§çš„æ–¹æ³•å¾ˆå¤šï¼Œå‰ªè£ã€å®šä½åˆ°å±å¹•å¤–ã€æ˜åº¦å˜åŒ–ç­‰éƒ½æ˜¯å¯ä»¥çš„ã€‚è™½ç„¶å®ƒä»¬éƒ½æ˜¯è‚‰çœ¼ä¸å¯è§ï¼Œä½†èƒŒåå´åœ¨å¤šä¸ªç»´åº¦ä¸Šéƒ½æœ‰å·®åˆ«ã€‚</p></blockquote><p><strong>æ€»ç»“çš„ä¸€äº›æ¯”è¾ƒå¥½çš„éšè—å®è·µã€‚</strong></p><ul><li><p>å¦‚æœå¸Œæœ›å…ƒç´ ä¸å¯è§ï¼ŒåŒæ—¶ä¸å æ®ç©ºé—´ï¼Œè¾…åŠ©è®¾å¤‡æ— æ³•è®¿é—®ï¼ŒåŒæ—¶ä¸æ¸²æŸ“ï¼Œå¯ä»¥ä½¿ç”¨ <strong>script</strong> æ ‡ç­¾éšè—ã€‚</p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/html&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> /&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>  æ­¤æ—¶å›¾ç‰‡æ˜¯ä¸ä¼šæœ‰è¯·æ±‚çš„ï¼Œå¦‚æœå¸Œæœ›åœ¨ <strong>script</strong> æ ‡ç­¾ä¸­å†æ”¾ç½®å…¶ä»–ä¸æ¸²æŸ“çš„æ¨¡æ¿å†…å®¹ï¼Œå¯ä»¥è¯•è¯• <strong>textarea</strong> å…ƒç´ </p>  <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/html&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;1.jpg&quot;</span> /&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="tag">&lt;<span class="name">textarea</span> <span class="attr">style</span>=<span class="string">&quot;display:none;&quot;</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;2.jpg&quot;</span> /&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"><span class="tag">&lt;/<span class="name">textarea</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars"></span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>  å›¾ç‰‡2.jpgä¹Ÿæ˜¯ä¸ä¼šæœ‰è¯·æ±‚çš„ã€‚å¦å¤–ï¼Œ <strong>script</strong>  æ ‡ç­¾éšè—å†…å®¹è·å–ä½¿ç”¨script.innerHTML, <strong>textarea</strong> ä½¿ç”¨textarea.valueã€‚</p></li><li><p>å¦‚æœå¸Œæœ›å…ƒç´ ä¸å¯è§ï¼ŒåŒæ—¶ä¸å æ®ç©ºé—´ï¼Œè¾…åŠ©è®¾å¤‡æ— æ³•è®¿é—®ï¼Œä½†èµ„æºæœ‰åŠ è½½ï¼ŒDOMå¯è®¿é—®ï¼Œåˆ™å¯ä»¥ç›´æ¥ä½¿ç”¨display:noneéšè—</p></li><li><p>å¦‚æœå¸Œæœ›å…ƒç´ ä¸å¯è§ï¼ŒåŒæ—¶ä¸å æ®ç©ºé—´ï¼Œè¾…åŠ©è®¾å¤‡æ— æ³•è®¿é—®ï¼Œä½†æ˜¾éšçš„æ—¶å€™å¯ä»¥æœ‰transitionæ·¡å…¥æ·¡å‡ºæ•ˆæœï¼Œåˆ™å¯ä»¥ä½¿ç”¨</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hidden</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">visibility</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœå¸Œæœ›å…ƒç´ ä¸å¯è§ï¼Œä¸èƒ½ç‚¹å‡»ï¼Œè¾…åŠ©è®¾å¤‡æ— æ³•è®¿é—®ï¼Œä½†å æ®ç©ºé—´ä¿ç•™ï¼Œåˆ™å¯ä»¥ä½¿ç”¨visibility:hiddenéšè—</p></li><li><p>å¦‚æœå¸Œæœ›å…ƒç´ ä¸å¯è§ï¼Œä¸èƒ½ç‚¹å‡»ï¼Œä¸å æ®ç©ºé—´ï¼Œä½†é”®ç›˜å¯è®¿é—®ï¼Œåˆ™å¯ä»¥ä½¿ç”¨clipå‰ªè£éšè—</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.clip</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">clip</span>: <span class="built_in">rect</span>(<span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.out</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: -<span class="number">999em</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœå¸Œæœ›å…ƒç´ ä¸å¯è§ï¼Œä¸èƒ½ç‚¹å‡»ï¼Œä½†å æ®ç©ºé—´ï¼Œä¸”é”®ç›˜å¯è®¿é—®ï¼Œåˆ™å¯ä»¥è¯•è¯•relativeéšè—ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ¡ä»¶å…è®¸ï¼Œä¹Ÿå°±æ˜¯å’Œå±‚å ä¸Šä¸‹æ–‡ä¹‹é—´å­˜åœ¨è®¾ç½®äº†èƒŒæ™¯è‰²çš„çˆ¶å…ƒç´ ï¼Œåˆ™ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´å‹å¥½çš„z-indexè´Ÿå€¼éšè—ã€‚ä¾‹å¦‚ï¼š</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.lover</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">z-index</span>: -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœå¸Œæœ›å…ƒç´ ä¸å¯è§ï¼Œä½†å¯ä»¥ç‚¹å‡»ï¼Œè€Œä¸”ä¸å æ®ç©ºé—´ï¼Œåˆ™å¯ä»¥ä½¿ç”¨é€æ˜åº¦ã€‚</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.opacity</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">Alpha</span>(opcity=<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>å¦‚æœå•çº¯å¸Œæœ›å…ƒç´ çœ‹ä¸è§ï¼Œä½†ä½ç½®ä¿ç•™ï¼Œä¾ç„¶å¯ä»¥ç‚¹å¯ä»¥é€‰ï¼Œåˆ™ç›´æ¥è®©é€æ˜åº¦ä¸º0ã€‚</p>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.opacity</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">Alpha</span>(opcity=<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><blockquote><p>å®é™…å¼€å‘åœºæ™¯åƒå˜ä¸‡åŒ–ï¼Œä¸Šé¢ç½—åˆ—çš„å®è·µä¸è¶³ä»¥è¦†ç›–å…¨éƒ¨æƒ…å½¢ã€‚ä¾‹å¦‚ï¼Œåœ¨æ ‡ç­¾å—é™çš„æƒ…å†µä¸‹å¸Œæœ›éšè—æŸæ–‡å­—ï¼Œå¯èƒ½ä½¿ç”¨text-indentç¼©è¿›æ˜¯æœ€å‹å¥½çš„æ–¹æ³•ã€‚å¦‚æœå¸Œæœ›æ˜¾ç¤ºçš„æ—¶å€™å¯ä»¥åŠ ä¸€ä¸ªtransitionåŠ¨ç”»ï¼Œå°±å¯èƒ½è¦ä½¿ç”¨max-heightè¿›è¡Œéšè—äº†</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.hidden</span> &#123;</span><br><span class="line">    <span class="attribute">max-height</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨Firefoxæµè§ˆå™¨ä¸‹ï¼Œdisplay:noneçš„å…ƒç´ çš„background-imageå›¾ç‰‡æ˜¯ä¸åŠ è½½çš„ï¼ŒåŒ…æ‹¬çˆ¶å…ƒç´ display:noneä¹Ÿæ˜¯å¦‚æ­¤ï¼›å¦‚æœæ˜¯Chromeå’ŒSafariæµè§ˆå™¨ï¼Œåˆ™è¦åˆ†æƒ…å†µï¼Œè‹¥çˆ¶å…ƒç´ display:noneï¼Œå›¾ç‰‡ä¸åŠ è½½ï¼Œè‹¥æœ¬èº«èƒŒæ™¯å›¾æ‰€åœ¨å…ƒç´ éšè—ï¼Œåˆ™å›¾ç‰‡ä¾æ—§ä¼šå»åŠ è½½ï¼›å¯¹IEæµè§ˆå™¨è€Œè¨€ï¼Œæ— è®ºæ€æ ·éƒ½ä¼šè¯·æ±‚å›¾ç‰‡èµ„æºã€‚</p></blockquote><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.bg1 &#123;</span><br><span class="line">    background: url(1.png);</span><br><span class="line">&#125;</span><br><span class="line">.bg2 &#123;</span><br><span class="line">    background: url(2.png);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">hidden</span> <span class="attr">class</span>=<span class="string">&quot;bgl&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">hidden</span> &gt;</span></span><br><span class="line">   <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;bg2&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>æˆ‘ä»¬å‘ç°åªåŠ è½½äº†1.pngï¼Œå› æ­¤ï¼Œåœ¨å®é™…å¼€å‘çš„æ—¶å€™ï¼Œå¦‚å¤´å›¾è½®æ’­åˆ‡æ¢æ•ˆæœï¼Œé‚£äº›é»˜è®¤éœ€è¦éšè—çš„å›¾ç‰‡ä½œä¸ºèƒŒæ™¯å›¾è—åœ¨éšè—å…ƒç´ çš„å­å…ƒç´ ä¸Šï¼Œå¾®å°çš„æ”¹åŠ¨å°±å¯ä»¥æ˜æ˜¾æå‡é¡µé¢çš„åŠ è½½ä½“éªŒï¼Œå¯ä»¥è¯´æ˜¯éå¸¸å®ç”¨çš„å°æŠ€å·§ã€‚</p></blockquote><p>è¿˜æœ‰ä¸€äº›å±æ€§ä¹Ÿæ˜¯å¤©ç„¶display:noneçš„ã€‚ä¾‹å¦‚ï¼Œhiddenç±»å‹çš„ **input è¾“å…¥æ¡†</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">input</span> type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;<span class="number">1</span>&quot;&gt;</span><br></pre></td></tr></table></figure><p>HTML5ä¸­æ–°å¢äº†hiddenè¿™ä¸ªå¸ƒå°”å±æ€§ï¼Œå¯ä»¥è®©å…ƒç´ å¤©ç”Ÿdisplay:noneéšè—ã€‚ä¾‹å¦‚ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">hidden</span>&gt;</span></span><br><span class="line">    çœ‹ä¸è§æˆ‘</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>IE11ä»¥åŠå…¶ä»–ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒå®ƒï¼Œå› æ­¤ï¼Œå¦‚æœè¦å…¼å®¹æ¡Œé¢ç«¯ï¼Œéœ€è¦å¦‚ä¸‹CSSè®¾ç½®ï¼š</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-attr">[hidden]</span> &#123;</span><br><span class="line"><span class="attribute">display</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="visibilityä¸å…ƒç´ çš„æ˜¾éš"><a href="#visibilityä¸å…ƒç´ çš„æ˜¾éš" class="headerlink" title="visibilityä¸å…ƒç´ çš„æ˜¾éš"></a>visibilityä¸å…ƒç´ çš„æ˜¾éš</h4><blockquote><p>æœ‰ä¸€äº›äººç®€å•åœ°è®¤ä¸ºdisplay:noneå’Œvisibility:hiddenä¸¤ä¸ªéšè—çš„åŒºåˆ«å°±åœ¨äºï¼šdisplay:noneéšè—åçš„å…ƒç´ ä¸å æ®ä»»ä½•ç©ºé—´ï¼Œè€Œvisibility:hiddenéšè—çš„å…ƒç´ ç©ºé—´ä¾æ—§ä¿ç•™ã€‚å®é™…ä¸Šå¹¶æ²¡æœ‰è¿™ä¹ˆç®€å•ï¼Œvisibilityæ˜¯ä¸€ä¸ªéå¸¸æœ‰æ•…äº‹çš„å±æ€§ã€‚</p></blockquote><ol><li><p>visibilityçš„ç»§æ‰¿æ€§</p><p> é¦–å…ˆï¼Œå®ƒæœ€æœ‰æ„æ€çš„ä¸€ä¸ªç‰¹ç‚¹å°±æ˜¯ç»§æ‰¿æ€§ã€‚çˆ¶å…ƒç´ è®¾ç½®visibility:hiddenï¼Œå­å…ƒç´ ä¹Ÿä¼šçœ‹ä¸è§ï¼Œç©¶å…¶åŸå› æ˜¯ç»§æ‰¿æ€§ï¼Œå­å…ƒç´ ç»§æ‰¿äº†visibility:hiddenï¼Œä½†æ˜¯ï¼Œå¦‚æœå­å…ƒç´ è®¾ç½®äº†visibility:visibleï¼Œåˆ™å­å…ƒç´ åˆä¼šæ˜¾ç¤ºå‡ºæ¥ã€‚è¿™ä¸ªå’Œdisplayéšè—æœ‰ç€è´¨çš„åŒºåˆ«ã€‚</p><p> <a href="http://demo.cssworld.cn/10/2-1.php">çœ¼è§ä¸ºå®</a></p></li><li><p>visibilityä¸CSSè®¡æ•°å™¨</p><p> visibility:hiddenä¸ä¼šå½±å“è®¡æ•°å™¨çš„è®¡æ•°ï¼Œè¿™å’Œdisplay:noneå®Œå…¨ä¸ä¸€æ ·</p><blockquote><p>visibility:hiddenè™½ç„¶è®©å…¶ä¸­ä¸€ä¸ªåˆ—è¡¨ä¸å¯è§äº†ï¼Œä½†æ˜¯å…¶è®¡æ•°æ•ˆæœä¾ç„¶åœ¨è¿è¡Œã€‚ç›¸æ¯”ä¹‹ä¸‹ï¼Œè®¾ç½®display:noneçš„åˆ—è¡¨å°±å®Œå…¨æ²¡æœ‰å‚ä¸è®¡æ•°è¿ç®—ã€‚</p></blockquote></li><li><p>visibilityä¸transition</p><p> ä¸‹é¢çš„CSSæ˜¯ä¼šè®©ï¼boxå…ƒç´ hoveræ—¶æ˜¾ç¤ºï¼targetå­å…ƒç´ ï¼Œä½†ä¸ä¼šæœ‰è¿‡æ¸¡æ•ˆæœï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-class">.target</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: none;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: opacity .<span class="number">25s</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:hover</span> &gt; <span class="selector-class">.target</span> &#123;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> ä½†æ˜¯ï¼Œä¸‹é¢çš„CSSè¯­å¥å´å¯ä»¥è®©ï¼targetå­å…ƒç´ æœ‰æ·¡å‡ºçš„è¿‡æ¸¡æ•ˆæœï¼š</p> <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &gt; <span class="selector-class">.target</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: opacity .<span class="number">25s</span>;</span><br><span class="line">    visibililty: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.box</span><span class="selector-pseudo">:hover</span> &gt; <span class="selector-class">.target</span> &#123;</span><br><span class="line">    visibililty: visible;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p> è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿå› ä¸ºCSS3 transitionæ”¯æŒçš„CSSå±æ€§ä¸­æœ‰visibilityï¼Œä½†æ˜¯å¹¶æ²¡æœ‰displayã€‚</p><p> hover åˆ—è¡¨æ“ä½œå‡ºç°ä¸‹æ‹‰ï¼Œé¼ æ ‡ç§»å…¥ç¬¬äºŒè¡Œï¼Œä½†å› ä¸ºç»è¿‡ç¬¬ä¸€è¡Œå¯¼è‡´ç¬¬ä¸€è¡Œå‡ºç°ä¸‹æ‹‰å¯¼è‡´ç¬¬äºŒè¡Œè§¦å‘ä¸äº†ï¼Œè¿™ç§ç°è±¡ã€‚</p><p> <a href="http://demo.cssworld.cn/10/2-3.php">visibilityä¸å†…å®¹hoverçš„å»¶æ—¶æ˜¾ç¤ºå®ä¾‹é¡µé¢</a></p></li></ol><h3 id="ç”¨æˆ·ç•Œé¢æ ·å¼"><a href="#ç”¨æˆ·ç•Œé¢æ ·å¼" class="headerlink" title="ç”¨æˆ·ç•Œé¢æ ·å¼"></a>ç”¨æˆ·ç•Œé¢æ ·å¼</h3><h4 id="å’Œborderå½¢ä¼¼çš„outlineå±æ€§"><a href="#å’Œborderå½¢ä¼¼çš„outlineå±æ€§" class="headerlink" title="å’Œborderå½¢ä¼¼çš„outlineå±æ€§"></a>å’Œborderå½¢ä¼¼çš„outlineå±æ€§</h4><blockquote><p>outlineè¡¨ç¤ºå…ƒç´ çš„è½®å»“ï¼Œè¯­æ³•å’Œborderå±æ€§éå¸¸ç±»ä¼¼ï¼Œåˆ†å®½åº¦ã€ç±»å‹å’Œé¢œè‰²ï¼Œæ”¯æŒçš„å…³é”®å­—å’Œå±æ€§å€¼ä¸borderå±æ€§ä¸€æ¨¡ä¸€æ ·</p></blockquote><p>Highlightæ˜¯ç³»ç»Ÿé«˜äº®è‰²ï¼Œè¿™é‡Œç”¨æ¥æ¨¡æ‹ŸIEå’ŒFirefoxæµè§ˆå™¨çš„outlineæ•ˆæœç›¸å½“åˆé€‚</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">:focus</span> + <span class="selector-tag">label</span><span class="selector-class">.btn</span> &#123;</span><br><span class="line"><span class="attribute">outline</span>: <span class="number">1px</span> dotted Hghlight;</span><br><span class="line">    <span class="attribute">outline</span>: <span class="number">5px</span> auto -webkit-focus-ring-color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>çœŸæ­£çš„ä¸å æ®ç©ºé—´çš„outlineåŠå…¶åº”ç”¨</strong></p><blockquote><p>å†…è”å…ƒç´ çš„ä¸Šä¸‹paddingå€¼ä¼¼ä¹ä¸å æ®ä»»ä½•ç©ºé—´ï¼Œä½†æ˜¯ä¸€æ—¦ç¥–å…ˆå…ƒç´ overflowè®¡ç®—å€¼ä¸æ˜¯visibleï¼ŒåŒæ—¶paddingå€¼è¶³å¤Ÿå¤§ï¼Œæ»šåŠ¨æ¡å°±ä¼šå‡ºç°ï¼Œæš´éœ²å‡ºâ€œä¸å æ®ç©ºé—´â€å…¶å®æ˜¯ä¸€ä¸ªå‡è±¡ã€‚ä½†æ˜¯outlineå±æ€§ç¡®å®ä¸å æ®ä»»ä½•ç©ºé—´ï¼Œè½®å»“å®½åº¦è®¾ç½®å¾—å†å®½å¹¿ï¼Œä¹Ÿä¸ä¼šå½±å“ä»»ä½•å…ƒç´ çš„ä»»ä½•å¸ƒå±€ï¼Œå¹¶ä¸”outlineè½®å»“æ˜¯å¯ç©¿é€çš„ã€‚è€ƒè™‘åˆ°outlineæ˜¯ä¸€ä¸ªä»IE8å¼€å§‹å°±è¢«æ”¯æŒçš„CSSå±æ€§ï¼Œè¿™å°±æ³¨å®šäº†outlineè¦è„±ç¦»å…¶è®¾è®¡åˆè¡·ï¼Œåœ¨å…¶ä»–æ–¹é¢å¤§æ˜¾ç¥é€šï¼Œä¾‹å¦‚ï¼Œç”¨äºå®ç°ä¸€äº›çœ‹ä¼¼æ£˜æ‰‹çš„å¸ƒå±€æ•ˆæœã€‚</p></blockquote><p><strong>å¤´åƒè£å‰ªæ—¶ï¼Œåªæœ‰é€‰æ‹©èŒƒå›´æ¸…æ™°ï¼Œå…¶ä»–åŒºåŸŸé»‘è‰²é€æ˜èƒŒæ™¯</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.crop</span> &#123;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.crop</span> &gt; <span class="selector-class">.crop-area</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">80px</span>; <span class="attribute">height</span>: <span class="number">80px</span>;</span><br><span class="line">    <span class="attribute">outline</span>: <span class="number">256px</span> solid <span class="built_in">rgba</span>(<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,.<span class="number">5</span>);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">url</span>(<span class="string">about:blank</span>);</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(to top, transparent, transparent);</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">50</span>);</span><br><span class="line">    <span class="attribute">cursor</span>: move;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-pseudo">:root</span> <span class="selector-class">.crop-area</span> &#123;</span><br><span class="line">    <span class="attribute">filter</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”¨ä¸€å¥è¯æ¦‚æ‹¬å°±æ˜¯ä½¿ç”¨ä¸€ä¸ªå¤§å¤§çš„ outline æ¥å®ç°å‘¨å›´åŠé€æ˜é»‘è‰²é®ç½©ã€‚å› ä¸º outline å®½åº¦è®¾ç½®å†å¤§ï¼Œä¹Ÿä¸ä¼šå¯¹å¸ƒå±€äº§ç”Ÿä»»ä½•å½±å“ï¼Œè‡³äºè¶…å‡ºçš„åŒºåŸŸï¼Œé€šè¿‡å®¹å™¨overflow:hidden éšè—å°±å¯ä»¥äº†ã€‚æ²¡é”™ï¼ŒåŸç†å°±æ˜¯è¿™ä¹ˆç®€å•ã€‚</p><p><strong>è‡ªåŠ¨å¡«æ»¡å±å¹•å‰©ä½™ç©ºé—´çš„åº”ç”¨æŠ€å·§</strong></p><p>é¡µé¢å†…å®¹ä¸è¶³ä¸€å±ä¸­é—´é«˜åº¦æ˜¯ç”±å†…å®¹æ’‘å¼€çš„ã€‚æ‰€ä»¥å¯¼è‡´åº•éƒ¨ç•™ç™½çš„ç°è±¡</p><p>å¦‚ä½•è®©åº•éƒ¨èƒŒæ™¯è‰²æ­£å¥½å¡«æ»¡å‰©ä½™å±å¹•åŒºåŸŸå‘¢ï¼Ÿç›®å‰æˆ‘çŸ¥é“çš„æœ€å¥½çš„åŠæ³•å°±æ˜¯å·§ç”¨outlineå±æ€§ã€‚å‡è®¾åº•éƒ¨HTMLä»£ç æ˜¯è¿™æ ·çš„ï¼š</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;footer&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">        Designed <span class="symbol">&amp;amp;</span> Powered by zhangxinxu</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.footer</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.footer</span> &gt; <span class="selector-tag">p</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: absolute;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">0</span>; <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">text-align</span>: center;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">15px</span> <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#a0b3d6</span>;</span><br><span class="line">    <span class="attribute">outline</span>: <span class="number">999px</span> solid <span class="number">#a0b3d6</span>;</span><br><span class="line">    <span class="attribute">clip</span>: <span class="built_in">rect</span>(<span class="number">0</span> <span class="number">9999px</span> <span class="number">9999px</span> <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="å…‰æ ‡å±æ€§cursor"><a href="#å…‰æ ‡å±æ€§cursor" class="headerlink" title="å…‰æ ‡å±æ€§cursor"></a>å…‰æ ‡å±æ€§cursor</h4><blockquote><p>cursorå±æ€§å€¼å‡ ä¹å¯ä»¥è®¤ä¸ºæ˜¯å½“ä¸‹æ”¯æŒçš„å…³é”®å­—å±æ€§å€¼æœ€å¤šçš„CSSå±æ€§ï¼Œæ²¡æœ‰ä¹‹ä¸€ã€‚</p></blockquote><p>é¢å°±æ˜¯æŒ‰ç…§åŠŸèƒ½ç‰¹æ€§å¯¹å…¶è¿›è¡Œçš„åˆ†ç±»ä»¥åŠå…·ä½“è§£é‡Šæè¿°ã€‚</p><ol><li><p>å¸¸è§„</p><ul><li><p>cursor:auto:cursoré»˜è®¤å€¼ã€‚</p><blockquote><p>autoè¡¨ç¤ºå…‰æ ‡å½¢çŠ¶æ ¹æ®å†…å®¹ç±»åˆ«æµè§ˆå™¨è‡ªåŠ¨è¿›è¡Œå¤„ç†ã€‚ä¾‹å¦‚ï¼Œè¾“å…¥æ¡†é‡Œé¢å…‰æ ‡è¡¨ç°ä¸ºcursor:textï¼Œå¸¦hrefå±æ€§çš„é“¾æ¥è¡¨ç°ä¸ºcursor:pointerï¼Œè€ŒåŸç”Ÿçš„ <strong>button</strong> è¡¨ç°ä¸ºcursor:defaultç­‰ã€‚</p></blockquote></li><li><p>cursor:defaultï¼šç³»ç»Ÿé»˜è®¤å…‰æ ‡å½¢çŠ¶</p><blockquote><p>äºæ˜¯ï¼Œä¹…è€Œä¹…ä¹‹ï¼Œå¤§å®¶å°±çº¦å®šä¿—æˆï¼Œæ‰€æœ‰é“¾æ¥å’ŒæŒ‰é’®éƒ½ä½¿ç”¨æ‰‹å½¢ã€‚ä»¥è‡³äºå‘å±•åˆ°ç°åœ¨ï¼Œä½¿ç”¨åŸç”Ÿçš„<button>æŒ‰é’®ç”šè‡³ä¸‹æ‹‰æ¡†çš„æ—¶å€™ï¼Œéƒ½è¦è®¾ç½®ä¸€ä¸ªcursor:pointerã€‚è¿™ç§å¥‡æ€ªçš„å‘å±•å²çœŸæ˜¯æ¯”å°è¯´è¿˜ç²¾å½©</p></blockquote></li><li><p>cursor:noneï¼šè¿™ä¸ªå£°æ˜éå¸¸æœ‰æ„æ€ï¼Œå¯ä»¥è®©å…‰æ ‡éšè—ä¸è§ã€‚</p><blockquote><p>çœ‹è§†é¢‘çš„æ—¶å€™ï¼Œå°¤å…¶å…¨å±çœ‹è§†é¢‘çš„æ—¶å€™ã€‚æ­¤æ—¶é¼ æ ‡ä¸€ç›´åœ¨ç•Œé¢ä¸Šæ™ƒç€ï¼Œæ˜¯å¾ˆç¢çœ¼ã€å¾ˆéš¾å—çš„ã€‚ä¸€èˆ¬å¯ä»¥è¿™ä¹ˆå¤„ç†ï¼šå¦‚æœé¼ æ ‡é™æ­¢3ç§’ä¸åŠ¨ï¼Œå°±è®¾ç½®é¡µé¢æˆ–è§†é¢‘å…ƒç´ cursor:noneéšè—å…‰æ ‡ï¼Œå¦‚æœæœ‰mousemoveè¡Œä¸ºï¼Œå†æ˜¾ç¤ºå³å¯ï¼</p></blockquote></li></ul></li><li><p>é“¾æ¥å’ŒçŠ¶æ€</p><ul><li><p>cursor:pointerï¼šå…‰æ ‡è¡¨ç°ä¸ºä¸€åªä¼¸å‡ºé£ŸæŒ‡çš„æ‰‹ï¼Œç±»ä¼¼è¿™æ ·</p></li><li><p>cursor:helpï¼šå¸®åŠ©ï¼Œé€šå¸¸æ˜¯å…‰æ ‡å¤´ä¸Šå¸¦äº†ä¸ªé—®å·</p></li><li><p>cursor:progressï¼šè¡¨ç¤ºè¿›è¡Œä¸­çš„æ„æ€ã€‚ä»è¯­ä¹‰ä¸Šè®²ï¼Œå…¶é€‚åˆloadingå¤„ç†</p><blockquote><p>æœ‰ä¸€ä¸ªåœºæ™¯å´éå¸¸é€‚åˆä½¿ç”¨cursor:progressï¼Œé‚£å°±æ˜¯é¡µé¢åŠ è½½çš„æ—¶å€™ã€‚å¦‚ä»Šè¿›è¡ŒWebå¼€å‘ï¼Œæ²¡æœ‰JavaScriptå‡ ä¹å¯¸æ­¥éš¾è¡Œï¼Œè€ŒJavaScriptåŠ è½½å®Œæ¯•æ˜¯éœ€è¦ä¸€å®šæ—¶é—´çš„ï¼Œç½‘ç»œä¸å¥½çš„æ—¶å€™ï¼Œè¿™ä¸ªåŠ è½½æ—¶é—´å»¶è¿Ÿå¯èƒ½ä¼šéå¸¸æ˜æ˜¾ï¼Œäºæ˜¯ç”¨æˆ·å°±ä¼šé‡åˆ°æ˜æ˜ç•Œé¢å·²ç»å‘ˆç°äº†ï¼Œä½†æ˜¯ç‚¹å‡»â€œå±•å¼€æ›´å¤šâ€æŒ‰é’®å´æ²¡æœ‰ä»»ä½•ååº”ï¼ŒåŸå› å°±æ˜¯JavaScriptè¿˜æ²¡æœ‰å®Œå…¨åŠ è½½å®Œæ¯•ã€‚æ­¤æ—¶å°±éå¸¸é€‚åˆcursor:progresså‡ºé©¬äº†ï¼Œæˆ‘ä»¬é»˜è®¤åœ¨<body>æ ‡ç­¾ä¸Šè®¾ç½®ï¼š</p></blockquote>  <figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: progreess;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  jsåŠ è½½å®Œæ¯•å¯å†è®¾ç½®ä¸º auto</p></li><li><p> cursor:waitï¼šæˆ‘ä»¬å…ˆçœ‹çœ‹å…‰æ ‡å½¢çŠ¶ï¼Œå¯èƒ½æ˜¯[æ’å›¾]è¿™æ ·çš„è½¬åœˆåœˆï¼Œæˆ–è€…æ˜¯æ²™æ¼æˆ–è€…æ˜¯è¡¨ï¼Œæ€»ä¹‹å’Œç”µè„‘æ­»æœºæ—¶å€™çš„å…‰æ ‡æ˜¯ä¸€æ ·çš„ã€‚</p></li><li><p>cursor:context-menu:cursor:context-menuå…¼å®¹æ€§æ¯”è¾ƒå¤æ‚ï¼ŒMac OS Xå’ŒLinuxç³»ç»Ÿä¸‹çš„Chromeå’ŒFirefoxæµè§ˆå™¨æ˜¯æ”¯æŒçš„ï¼Œä½†æ˜¯Windowsç³»ç»Ÿä¸‹çš„Chromeå’ŒFirefoxæµè§ˆå™¨å´ä¸æ”¯æŒã€‚</p></li></ul></li><li><p>é€‰æ‹©</p><ul><li>cursor:textï¼šæ½œå°è¯æ˜¯æ–‡å­—å¯è¢«é€‰ä¸­ï¼Œå½¢çŠ¶ç±»ä¼¼ã€‚é»˜è®¤æ–‡æœ¬å­—ç¬¦æˆ–è€…å¯è¾“å…¥çš„å•å¤é€‰æ¡†çš„å…‰æ ‡å°±è¡¨ç°æˆè¿™æ ·ï¼Œå› ä¸ºæ–‡å­—å¯ä»¥è¢«é€‰ä¸­ï¼›åè¿‡æ¥ï¼Œå¦‚æœæ–‡å­—æ˜¯ä¸èƒ½è¢«é€‰ä¸­çš„ï¼Œå…‰æ ‡å°±ä¸åº”è¯¥æ˜¯cursor:textã€‚</li><li>cursor:vertical-textï¼šæ½œå°è¯æ˜¯æ–‡å­—å¯ä»¥å‚ç›´é€‰ä¸­ï¼Œå½¢çŠ¶ç±»ä¼¼ |â€”â€”|</li><li>cursor:crosshairï¼šåå­—å…‰æ ‡</li><li>cursor:cell:cursor:cellä¸­çš„cellå’Œdisplay:table-cellä¸­çš„cellå…¶å®å¯ä»¥çœ‹æˆæ˜¯åŒä¸€ä¸ªä¸œè¥¿ï¼Œä¹Ÿå°±æ˜¯å•å…ƒæ ¼</li></ul></li><li><p>æ‹–æ‹½</p><ul><li>cursor:moveï¼šå…‰æ ‡å˜æˆcursor:moveï¼Œå¾€å¾€å°±æ„å‘³ç€å½“å‰å…ƒç´ æ˜¯å¯ä»¥ç§»åŠ¨çš„</li><li>cursor:copyï¼šå…‰æ ‡å˜æˆcursor:copyï¼Œå¾€å¾€å°±æ„å‘³ç€å½“å‰å…ƒç´ æ˜¯å¯ä»¥è¢«å¤åˆ¶çš„</li><li>cursor:aliasï¼šå…‰æ ‡å˜æˆcursor:copyï¼Œå¾€å¾€å°±æ„å‘³ç€å½“å‰å…ƒç´ æ˜¯å¯ä»¥åˆ›å»ºåˆ«åæˆ–è€…å¿«æ·æ–¹å¼çš„</li><li>cursor:no-dropï¼šå…‰æ ‡å˜æˆcursor:copyï¼Œå¾€å¾€å°±æ„å‘³ç€å½“å‰å…ƒç´ æ”¾å¼€åˆ°å½“å‰ä½ç½®æ˜¯ä¸å…è®¸çš„</li><li>cursor:not-allowedï¼šå…‰æ ‡å˜æˆcursor:not-allowedï¼Œå¾€å¾€å°±æ„å‘³ç€å½“å‰è¡Œä¸ºæ˜¯ç¦æ­¢çš„ï¼Œå½¢çŠ¶ç±»ä¼¼ ğŸš«</li></ul></li><li><p>æ»šåŠ¨</p><ul><li>cursor:all-scrollï¼šè¡¨ç¤ºä¸Šä¸‹å·¦å³éƒ½å¯ä»¥æ»šåŠ¨ï¼Œä½†æœ‰ä¸€ä¸ªå¾ˆç³Ÿç³•çš„é—®é¢˜ï¼šWindowsç³»ç»Ÿä¸‹å…‰æ ‡è¡¨ç°å’Œcursor:moveä¸€æ ·ã€‚å†è€ƒè™‘åˆ°æœ¬èº«ä½œç”¨åœºæ™¯å±€é™ï¼Œæˆ‘è§‰å¾—å¯ä»¥å¿½ç•¥æ­¤å£°æ˜ã€‚</li></ul></li><li><p>æ‹‰ä¼¸</p><ul><li>cursor:col-resizeï¼šå…‰æ ‡å½¢çŠ¶ç±»ä¼¼ &lt;-||-&gt; å®ƒé€‚ç”¨äºç§»åŠ¨å‚ç›´çº¿æ¡</li><li>cursor:row-resizeï¼šå…‰æ ‡å½¢çŠ¶ç±»ä¼¼ ä¸Šé¢çš„æ—‹è½¬90Â° ã€‚å®ƒé€‚ç”¨äºç§»åŠ¨æ°´å¹³çº¿æ¡</li><li>å•å‘æ‹‰ä¼¸ï¼šæ€»å…±8ä¸ªæ–¹ä½8ä¸ªä¸åŒçš„å…³é”®å­—å±æ€§å€¼</li><li>åŒå‘æ‹‰ä¼¸ï¼šæ€»å…±4ä¸ªå¯¹ç«‹æ–¹ä½ç»„åˆ</li></ul></li><li><p>ç¼©æ”¾</p><ul><li>cursor:zoom-inï¼šå…‰æ ‡å½¢ä¼¼æ”¾å¤§é•œ</li><li>cursor:zoom-outï¼šå…‰æ ‡å½¢ä¼¼ç¼©å°é•œ</li></ul></li><li><p>æŠ“å–</p><ul><li>cursor:grabï¼šå…‰æ ‡æ˜¯ä¸€ä¸ªäº”æŒ‡å¼ å¼€çš„æ‰‹</li><li>cursor:grabbingï¼šå…‰æ ‡æ˜¯ä¸€ä¸ªäº”æŒ‡æ”¶èµ·çš„æ‰‹</li></ul></li></ol><p><strong>è‡ªå®šä¹‰å…‰æ ‡</strong></p><blockquote><p>ä»IE6å¼€å§‹ï¼Œæˆ‘ä»¬å°±å¯ä»¥è‡ªå®šä¹‰ç½‘é¡µä¸­çš„å…‰æ ‡æ ·å¼ï¼Œå› æ­¤ï¼Œå¯¹äºcursorå±æ€§ï¼Œå…¼å®¹æ€§éƒ½ä¸æ˜¯é—®é¢˜ã€‚ä¾‹å¦‚ï¼ŒIE8ä¸æ”¯æŒä¸Šé¢æåˆ°çš„cursor:noneï¼Œå°±æ˜¯é€šè¿‡è‡ªå®šä¹‰æ‰‹æ®µå®ç°å…¼å®¹çš„</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.cur-none</span> &#123;</span><br><span class="line">    <span class="attribute">cursor</span>: <span class="built_in">url</span>(<span class="string">transparent.cur</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹äºChromeç­‰æµè§ˆå™¨ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨PNGå›¾ç‰‡ä½œä¸ºå…‰æ ‡ï¼Œä½†æ˜¯IEæµè§ˆå™¨ä¸è¡Œã€‚IEä»…æ”¯æŒä¸“é—¨çš„ï¼curæ ¼å¼çš„å…‰æ ‡æ–‡ä»¶.</p><h3 id="æµå‘çš„æ”¹å˜"><a href="#æµå‘çš„æ”¹å˜" class="headerlink" title="æµå‘çš„æ”¹å˜"></a>æµå‘çš„æ”¹å˜</h3><blockquote><p>è‡³å°‘åœ¨æˆ‘æ¥è§¦çš„è¿™ä¹ˆå¤šé¡¹ç›®é‡Œï¼Œæ²¡æœ‰è§åˆ°æœ‰è°ä½¿ç”¨è¿‡CSSçš„directionå±æ€§ã€‚ä¸ºä»€ä¹ˆå‘¢ï¼Ÿæ˜¯å› ä¸ºdirectioné•¿å¾—ä¸‘å—ï¼Ÿè™½ç„¶è¯´directionç¡®å®å…¶è²Œä¸æ‰¬ï¼Œä½†æ˜¯CSSä¸–ç•Œä¸ä¼šæœ‰è¿™æ ·çš„æ­§è§†ã€‚é‚£æ˜¯å› ä¸ºå…¼å®¹æ€§å—ï¼Ÿæ›´ä¸æ˜¯äº†ï¼Œdirectionæ—©åœ¨IE6æ—¶ä»£å°±å·²ç»è¢«æ”¯æŒäº†</p><p>é‚£ç©¶ç«Ÿæ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ</p><p>æˆ‘è®¤ä¸ºå¤šåŠæ˜¯å› ä¸ºå®£ä¼ ä¸å¤Ÿã€‚è¦æ˜¯æ‰€æœ‰å‰ç«¯äººèƒ½å¤Ÿäººæ‰‹ä¸€æœ¬è¿™æœ¬ä¹¦ï¼Œè‡ªç„¶å°±ä¸ä¼šæœ‰è¿™æ ·çš„é—®é¢˜äº†ï¼Œå› ä¸ºæœ¬ä¹¦çƒ­è¡·äºæŒ–æ˜CSSå±æ€§çš„æ½œåŠ›ï¼Œå¯ä»¥è®©é‚£äº›é»˜é»˜æ— é—»ä½†æœ‰èƒ½åŠ›çš„CSSå±æ€§ç† ç† ç”Ÿè¾‰ã€ç„•å‘é’æ˜¥ã€‚directionå°±æ˜¯ä¸€ä¸ªå…¸å‹ï¼Œè¯¥å±æ€§ç®€å•ä¸”å¥½è®°ï¼Œå±æ€§å€¼å°‘ï¼Œå…¼å®¹æ€§å¥½ï¼Œå…³é”®æ—¶å€™çœå¿ƒçœåŠ›ã€‚</p></blockquote><h4 id="directionç®€ä»‹"><a href="#directionç®€ä»‹" class="headerlink" title="directionç®€ä»‹"></a><strong>directionç®€ä»‹</strong></h4><p>åŸºæœ¬ä¸Šåªè¦å…³å¿ƒè¿™ä¸¤ä¸ªå±æ€§</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">direction</span>: ltr;// å·¦åˆ°å³</span><br><span class="line"><span class="attribute">direction</span>: rtl// å³åˆ°å·¦</span><br></pre></td></tr></table></figure><p>directionå±æ€§é»˜è®¤æœ‰è¿™ä¹ˆä¸€ä¸ªç‰¹æ€§ï¼Œå³å¯ä»¥æ”¹å˜æ›¿æ¢å…ƒç´ æˆ–è€…inline-block/inline-tableå…ƒç´ çš„æ°´å¹³å‘ˆç°é¡ºåº</p><p><a href="https://demo.cssworld.cn/12/1-1.php">ä¸¾ä¸ªæ —å­</a></p><p>é€šå¸¸ï¼Œæˆ‘ä»¬è®©å•è¡Œæ–‡å­—æº¢å‡ºç”¨ç‚¹æ˜¾ç¤ºï¼Œè¿™ä¸ªç‚¹é€šå¸¸éƒ½æ˜¯åœ¨å³è¾¹çš„ï¼Œçœç•¥çš„éƒ½æ˜¯æœ€åçš„æ–‡å­—ï¼Œé…åˆdirectionå±æ€§ï¼Œæˆ‘ä»¬å¯ä»¥è®©è¿™ä¸ªç‚¹æ‰“åœ¨å¼€å¤´ï¼Œè®©å‰é¢çš„æ–‡å­—çœç•¥</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">.ell &#123;</span><br><span class="line">width: 240px;</span><br><span class="line">    white-space: nowrap;</span><br><span class="line">    text-overflow: ellipsis;</span><br><span class="line">    text-ovverflow: hidden;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">P</span> <span class="attr">class</span>=<span class="string">&quot;ell&quot;</span> <span class="attr">dir</span>=<span class="string">&quot;ltr&quot;</span>&gt;</span></span><br><span class="line">    å¼€å¤´ï¼Œä¸­é—´ï¼Œç»“æŸ</span><br><span class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">P</span> <span class="attr">class</span>=<span class="string">&quot;ell&quot;</span> <span class="attr">dir</span>=<span class="string">&quot;rtl&quot;</span>&gt;</span></span><br><span class="line">    å¼€å¤´ï¼Œä¸­é—´ï¼Œç»“æŸ</span><br><span class="line"><span class="tag">&lt;/<span class="name">P</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><a href="https://demo.cssworld.cn/12/1-2.php">ç¤ºä¾‹</a></p><p>directionå±æ€§è¿˜å¯ä»¥è½»æ¾æ”¹å˜è¡¨æ ¼ä¸­åˆ—çš„å‘ˆç°é¡ºåº,å°†è¡¨å¤´ä½ç½®åå‘</p><p>directionL:rtlè¿˜å¯ä»¥è®©text-justifyä¸¤ç«¯å¯¹é½å…ƒç´ ï¼Œæœ€åä¸€è¡Œè½å•çš„å…ƒç´ å³å¯¹é½æ˜¾ç¤º</p><p><a href="https://demo.cssworld.cn/12/1-3.php">ç¤ºä¾‹</a></p><p><strong>directionçš„é»„é‡‘æ­æ¡£unicode-bidi</strong></p><blockquote><p>directionå±æ€§ä¼¼ä¹åªèƒ½æ”¹å˜å›¾ç‰‡æˆ–è€…æŒ‰é’®çš„å‘ˆç°é¡ºåºï¼Œä½†å¯¹çº¯å­—ç¬¦å†…å®¹ï¼ˆå°¤å…¶ä¸­æ–‡ï¼‰å¥½åƒå¹¶æ²¡æœ‰ä»€ä¹ˆæ•ˆæœï¼Œä½†å®é™…ä¸Šï¼Œæˆ‘ä»¬ä¹Ÿæ˜¯å¯ä»¥æŒ‡å®šä¸­æ–‡æ¯ä¸ªå­—ç¬¦éƒ½åå‘å‘ˆç°çš„ï¼Œæ–¹æ³•å°±æ˜¯å€ŸåŠ©directionçš„æ­æ¡£å±æ€§unicode-bidiã€‚</p></blockquote><blockquote><p>unicode-bidi</p><p>ä¸­æ–‡å’Œè‹±æ–‡å¤¹æ‚ï¼Œæˆ–è€…é˜¿æ‹‰ä¼¯æ–‡å’Œè‹±æ–‡å¤¹æ‚ï¼Œæ­¤æ—¶å°±ä¼šå‡ºç°æ–‡æœ¬é˜…è¯»æ–¹å‘ä¸ä¸€æ ·çš„æƒ…å†µï¼Œé˜¿æ‹‰ä¼¯æ–‡æ˜¯ä»å³å¾€å·¦è¯»ï¼Œè‹±æ–‡æ˜¯ä»å·¦å¾€å³ï¼Œè€Œè¿™ç§æ··åˆæ–¹å‘åŒæ—¶å‡ºç°çš„ç°è±¡å°±ç§°ä¸ºâ€œåŒå‘æ€§â€ï¼Œå› æ­¤unicode-bidiä½œç”¨å°±æ˜¯æ˜ç¡®å­—ç¬¦å‡ºç°â€œåŒå‘æ€§â€æ—¶åº”å½“æœ‰çš„è¡¨ç°ã€‚</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">unicode-bidi</span>: normal</span><br><span class="line">unicode-bidi: embed</span><br><span class="line">unicode-bidi: bidi-override</span><br></pre></td></tr></table></figure><ul><li>normalï¼šæ­£å¸¸æ’åˆ—ã€‚å‡è®¾è®¾ç½®äº†direction:rtlï¼Œåˆ™å›¾ç‰‡ã€æŒ‰é’®ä»¥åŠé—®å·ã€åŠ å·ä¹‹ç±»çš„å­—ç¬¦ä¼šä»å³å¾€å·¦æ˜¾ç¤ºï¼Œä½†æ˜¯ä¸­æ–‡ã€è‹±æ–‡å­—ç¬¦è¿˜æ˜¯ä»å·¦å¾€å³æ˜¾ç¤ºã€‚</li><li>embed:embedå±æ€§å€¼è¦æƒ³èµ·ä½œç”¨ï¼Œåªèƒ½ä½œç”¨åœ¨å†…è”å…ƒç´ ä¸Šã€‚åœ¨é€šå¸¸æƒ…å†µä¸‹ï¼Œembedå±æ€§å€¼çš„è¡¨ç°å’Œnormalæ˜¯ä¸€æ ·çš„ï¼Œå¯¼è‡´å¾ˆå¤šäººä¸æ˜ç™½embedåˆ°åº•å’Œnormalæœ‰ä»€ä¹ˆåŒºåˆ«ã€‚å…¶å®å®ƒä»¬çš„åŒºåˆ«å¾ˆç®€å•ï¼Œembedå±æ€§å€¼çš„å­—ç¬¦æ’åºæ˜¯ç‹¬ç«‹å†…åµŒçš„ï¼Œä¸å—å¤–éƒ¨å½±å“  <a href="https://demo.cssworld.cn/12/1-4.php">ä¸¾ä¸ªæ —å­</a></li><li>bidi-overrideï¼šé¡¾åæ€ä¹‰ï¼Œbidi-overrideå°±æ˜¯â€œé‡å†™åŒå‘æ’åºè§„åˆ™â€ï¼Œé€šå¸¸æ ·å¼è¡¨ç°ä¸ºæ‰€æœ‰çš„å­—ç¬¦éƒ½æŒ‰ç…§ç»Ÿä¸€çš„directioné¡ºåºæ’åˆ—ï¼Œä¾‹å¦‚ï¼Œè‹¥è®¾ç½®direction:rtlï¼Œåˆ™æ‰€æœ‰å­—ç¬¦éƒ½ä¼šä»å³å¾€å·¦åå‘æ’åˆ—ï¼Œæ•ˆæœå¼ºçƒˆã€‚</li></ul><blockquote><p>å®é™…ä¸Šæˆ‘ä»¬æ— é¡»è®¾ç½®unicode-bidi:bidi-overrideä»¥åŠdirectionå±æ€§ï¼Œç›´æ¥åœ¨å…ƒç´ å‰ååˆ†åˆ«æ’å…¥U+202Eå­—ç¬¦å’ŒU+202Cå­—ç¬¦ï¼ˆå¯ç¼ºçœï¼‰ä¹Ÿå¯ä»¥å®ç°å­—ç¬¦åå‘æ’åˆ—æ•ˆæœ</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="symbol">&amp;#x202E;</span>123456789</span><br><span class="line"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br></pre></td></tr></table></figure></blockquote><h4 id="æ”¹å˜CSSä¸–ç•Œçºµæ¨ªè§„åˆ™çš„writing-mode"><a href="#æ”¹å˜CSSä¸–ç•Œçºµæ¨ªè§„åˆ™çš„writing-mode" class="headerlink" title="æ”¹å˜CSSä¸–ç•Œçºµæ¨ªè§„åˆ™çš„writing-mode"></a>æ”¹å˜CSSä¸–ç•Œçºµæ¨ªè§„åˆ™çš„writing-mode</h4><blockquote><p>writing-modeä¹‹æ‰€ä»¥ç»™äººâ€œç”Ÿåƒ»â€çš„æ„Ÿè§‰ï¼Œæ˜¯æœ‰åŸå› çš„ã€‚å®é™…ä¸Šwriting-modeè¿™ä¸ªCSSå±æ€§å¾ˆæ—©å°±è¯ç”Ÿäº†ï¼ŒIE5.5æµè§ˆå™¨å°±å·²ç»æ”¯æŒå®ƒäº†ã€‚é‚£å°±å¥‡æ€ªäº†ï¼writing-modeæ—¢ç„¶è¿™ä¹ˆå‰å®³ï¼Œå‡ºç°çš„æ—¶é—´æ—©ã€èµ„æ ¼è€ï¼Œä¸ºä»€ä¹ˆä¸€ç›´æ²‰å¯‚äº†å·®ä¸å¤š20å¹´å‘¢ï¼Ÿé‚£æ˜¯å› ä¸ºåœ¨å¾ˆé•¿ä¸€æ®µæ—¶é—´é‡Œï¼ŒFirefoxã€Chromeè¿™äº›ç°ä»£æµè§ˆå™¨éƒ½ä¸æ”¯æŒwriting-mode, writing-modeåŸºæœ¬ä¸Šå°±æ˜¯IEæµè§ˆå™¨çš„ç§æœ‰äº§ç‰©ã€‚å¾ˆå¤šäººå¯¹IEä¸€ç›´æ²¡ä»€ä¹ˆå¥½æ„Ÿï¼Œå¯¹å§ï¼Ÿç”±æ­¤åŠå½¼ï¼Œè‡ªç„¶å¯¹writing-modeä¹Ÿä¸å¾…è§ã€‚</p></blockquote><blockquote><p>å’Œfloatå±æ€§æœ‰äº›ç±»ä¼¼ï¼Œwriting-modeåŸæœ¬æ˜¯ä¸ºæ§åˆ¶å†…è”å…ƒç´ çš„æ˜¾ç¤ºè€Œè®¾è®¡çš„ï¼ˆå³æ‰€è°“çš„æ–‡æœ¬å¸ƒå±€ï¼‰ã€‚å› ä¸ºåœ¨äºšæ´²ï¼Œå°¤å…¶åƒä¸­å›½è¿™æ ·çš„ä¸œäºšå›½å®¶ï¼Œå­˜åœ¨æ–‡å­—çš„æ’ç‰ˆä¸æ˜¯æ°´å¹³è€Œæ˜¯å‚ç›´çš„æƒ…å†µï¼Œå¦‚ä¸­å›½çš„å¤è¯—æ–‡.å’Œfloatå±æ€§æœ‰äº›ç±»ä¼¼ï¼Œwriting-modeåŸæœ¬æ˜¯ä¸ºæ§åˆ¶å†…è”å…ƒç´ çš„æ˜¾ç¤ºè€Œè®¾è®¡çš„ï¼ˆå³æ‰€è°“çš„æ–‡æœ¬å¸ƒå±€ï¼‰ã€‚å› ä¸ºåœ¨äºšæ´²ï¼Œå°¤å…¶åƒä¸­å›½è¿™æ ·çš„ä¸œäºšå›½å®¶ï¼Œå­˜åœ¨æ–‡å­—çš„æ’ç‰ˆä¸æ˜¯æ°´å¹³è€Œæ˜¯å‚ç›´çš„æƒ…å†µï¼Œå¦‚ä¸­å›½çš„å¤è¯—æ–‡</p></blockquote><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*å…³é”®å­—å€¼*/</span></span><br><span class="line"><span class="attribute">writing-mode</span>: horizontal-tb;// æ°´å¹³æ–¹å‘</span><br><span class="line"><span class="attribute">writing-mode</span>: horizontal-rl;// å‚ç›´æ–¹å‘</span><br><span class="line"><span class="attribute">writing-mode</span>: horizontal-lr;// å‚ç›´æ–¹å‘</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20221020173039576.png" alt="image-20221020173039576"></p><p>è¡¥å……è¯´æ˜å¦‚ä¸‹ã€‚</p><p>â€¢ ç›¸åŒçš„writing-modeå±æ€§å€¼å¹¶ä¸ä¼šç´¯åŠ ã€‚ä¾‹å¦‚ï¼Œå¦‚æœçˆ¶å­å…ƒç´ å‡è®¾ç½®äº†writing-mode:tb-rlï¼Œåªä¼šæ¸²æŸ“ä¸€æ¬¡ï¼Œå­å…ƒç´ å¹¶ä¸ä¼šä¸¤æ¬¡â€œæ—‹è½¬â€ã€‚</p><p>â€¢ åœ¨IEæµè§ˆå™¨ä¸‹ï¼Œå¦‚æœä¸€ä¸ªè‡ªèº«å…·æœ‰å¸ƒå±€çš„å…ƒç´ ï¼ˆä¸æ˜¯çº¯æ–‡æœ¬ä¹‹ç±»å…ƒç´ ï¼‰writing-modeå±æ€§å€¼å’Œçˆ¶å…ƒç´ ä¸åŒï¼Œé‚£ä¹ˆå½“å­å…ƒç´ çš„å¸ƒå±€æµå˜åŒ–çš„æ—¶å€™ï¼Œå…¶çˆ¶å…ƒç´ åæ ‡ç³»ç»Ÿçš„å¯ç”¨ç©ºé—´ä¼šè¢«å……åˆ†åˆ©ç”¨ã€‚è¿™æ®µæ–‡å­—å¤ªè¿‡æœ¯è¯­åŒ–ï¼Œæˆ‘è§£é‡Šä¸€ä¸‹å°±æ˜¯ï¼šåœ¨IEæµè§ˆå™¨ä¸‹ï¼Œå½“å¸ƒå±€å…ƒç´ ä»æ°´å¹³å˜æˆå‚ç›´çš„æ—¶å€™ï¼ˆä¸¾ä¸ªä¾‹å­ï¼‰ï¼Œä½ å°±æƒ³è±¡ä¸ºå…ƒç´ åœ¨å‚ç›´æ–¹å‘æ˜¯100%è‡ªé€‚åº”çˆ¶å…ƒç´ é«˜åº¦çš„ã€‚å› æ­¤ï¼ŒIEæµè§ˆå™¨ä¸‹ï¼ˆä¸åŒ…æ‹¬Edge 13åŠä»¥ä¸Šç‰ˆæœ¬ï¼‰ï¼Œå…ƒç´ verticalæµçš„æ—¶å€™ä½ ä¼šå‘ç°é«˜åº¦é«˜å¾—å“äººï¼Œå¸ƒå±€å’Œå…¶ä»–ç°ä»£æµè§ˆå™¨ä¸ä¸€æ ·ï¼Œæ­£æ˜¯è¿™ä¸ªåŸå› ã€‚</p><p>â€¢ è™½ç„¶Chromeå’ŒOperaè®¤è¯†tb-rlç­‰è€çš„IEå±æ€§å€¼ï¼Œä½†ä¹Ÿä»…ä»…æ˜¯è®¤è¯†è€Œå·²ï¼Œå¹¶æ²¡æœ‰ä»»ä½•å®é™…æ•ˆæœï¼</p><p><strong>writing-modeä¸ç»æ„æ”¹å˜äº†å“ªäº›è§„åˆ™</strong></p><blockquote><p>writing-modeå°†é¡µé¢é»˜è®¤çš„æ°´å¹³æµæ”¹æˆäº†å‚ç›´æµï¼Œé¢ è¦†äº†æˆ‘ä»¬ä»¥å¾€çš„å¾ˆå¤šè®¤çŸ¥ï¼ŒåŸºäºåŸæœ¬æ°´å¹³æ–¹å‘æ‰é€‚ç”¨çš„è§„åˆ™å…¨éƒ¨éƒ½å¯ä»¥åœ¨å‚ç›´æ–¹å‘é€‚ç”¨ï¼</p></blockquote><p><a href="http://demo.cssworld.cn/12/2-1.php">æ°´å¹³æ–¹å‘marginåˆå¹¶</a></p><p><a href="http://demo.cssworld.cn/12/2-2.php">æ™®é€šå—å…ƒç´ å¯ä»¥ä½¿ç”¨margin:autoå®ç°å‚ç›´å±…ä¸­</a></p><p><a href="http://demo.cssworld.cn/12/2-3.php">writing-modeä¸‹å—å…ƒç´ å‚ç›´å±…ä¸­</a></p><p><a href="http://demo.cssworld.cn/12/2-5.php">ä½¿ç”¨text-indentå®ç°æ–‡å­—ä¸‹æ²‰æ•ˆæœ</a></p><p><a href="http://demo.cssworld.cn/12/2-6.php">æˆ‘ä»¬è¦å®ç°å°å›¾æ ‡çš„æ—‹è½¬æ•ˆæœæ˜¯å¾ˆéº»çƒ¦çš„ï¼Œå› </a></p><blockquote><p>writing-modeå’Œdirectionçš„å…³ç³»writing-modeã€directionå’Œunicode-bidiæ˜¯CSSä¸–ç•Œä¸­ä¸‰å¤§å¯ä»¥æ”¹å˜æ–‡æœ¬å¸ƒå±€æµå‘çš„å±æ€§ï¼Œå…¶ä¸­directionå’Œunicode-bidiå±äºè¿‘äº²ï¼Œç»å¸¸ä¸€èµ·ä½¿ç”¨ï¼Œä¹Ÿæ˜¯ä»…æœ‰çš„ä¸¤ä¸ªä¸å—CSS3çš„allå±æ€§å½±å“çš„CSSå±æ€§ï¼ŒåŸºæœ¬ä¸Šå°±æ˜¯å’Œå†…è”å…ƒç´ ä¸€èµ·ä½¿ç”¨ã€‚å®ƒè²Œä¼¼æ˜¯ä¸ºé˜¿æ‹‰ä¼¯æ–‡å­—è®¾è®¡çš„ã€‚</p><p>ä¹ä¸€çœ‹ï¼Œwriting-modeä¼¼ä¹åŒ…å«äº†directionå’Œunicode-bidiçš„æŸäº›åŠŸèƒ½å’Œè¡Œä¸ºï¼Œä¾‹å¦‚ï¼Œvertical-rlçš„rlå’Œdirectionçš„rtlå€¼æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œéƒ½æ˜¯ä»å³å¾€å·¦ã€‚ç„¶è€Œï¼Œå®é™…ä¸Šä¸¤è€…æ˜¯æ²¡æœ‰äº¤é›†çš„ã€‚å› ä¸ºvertical-rlæ­¤æ—¶çš„æ–‡æ¡£æµä¸ºå‚ç›´æ–¹å‘ï¼Œrlè¡¨ç¤ºæ°´å¹³æ–¹å‘ï¼Œæ­¤æ—¶å†è®¾ç½®direction:rtlï¼Œå®é™…ä¸Šå€¼rtlæ”¹å˜çš„æ˜¯å‚ç›´æ–¹å‘çš„å†…è”å…ƒç´ çš„æ–‡æœ¬æ–¹å‘ï¼Œä¸€æ¨ªä¸€çºµï¼Œæ²¡æœ‰äº¤é›†ã€‚è€Œä¸”writing-modeå¯ä»¥å¯¹å—çŠ¶å…ƒç´ äº§ç”Ÿå½±å“ï¼Œç›´æ¥æ”¹å˜äº†CSSä¸–ç•Œçš„çºµæ¨ªè§„åˆ™ï¼Œè¦æ¯”directionå¼ºå¤§å¾—å¤šã€‚å®ƒè²Œä¼¼æ˜¯ä¸ºä¸œäºšæ–‡å­—è®¾è®¡çš„ã€‚</p><p>ç„¶è€Œï¼ŒCSSçš„å¥‡å¦™ä¹‹å¤„å°±åœ¨äºï¼šæŸäº›ç‰¹æ€§å½“åˆå¯èƒ½å°±æ˜¯ä¸ºæŸäº›å›¾æ–‡æ’ç‰ˆè®¾è®¡çš„ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å®ƒå¸¦æ¥çš„ç‰¹æ€§å‘æŒ¥è‡ªå·±çš„åˆ›é€ åŠ›ï¼Œå®ç°å…¶ä»–å¾ˆå¤šæ„æƒ³ä¸åˆ°çš„æ•ˆæœã€‚å› æ­¤ï¼Œä¸Šé¢å‡ºç°çš„â€œä¸‰å‰‘å®¢â€éƒ½æ˜¯éå¸¸å¥½çš„èµ„æºã€‚</p></blockquote>]]></content>
    
    
    <summary type="html">&lt;p&gt;æœ¬ç« å†…å®¹æ¥è‡ªäºã€Šcssçš„ä¸–ç•Œã€‹-å¼ é‘«æ—­ï¼Œç±»ä¼¼äºè¯»ä¹¦ç¬”è®°å§ã€‚ä¸»è¦ä»‹ç»css2.1çš„è¯­æ³•ã€‚æœ¬ä¹¦ä¸»è¦ç”¨äºè¿›é˜¶å­¦ä¹ ï¼Œä¸é€‚ç”¨äºåˆå­¦è€…ï¼Œä¹¦ä¸­ä¹Ÿé»˜è®¤å¿½ç•¥ä¸€äº›åŸºç¡€çš„çŸ¥è¯†.&lt;/p&gt;
&lt;p&gt;CSS2.1ä¸­çš„CSSå±æ€§çš„è®¾è®¡åˆè¡·æ˜¯å±•ç¤ºå›¾æ–‡&lt;/p&gt;
&lt;h3 id=&quot;css-çš„ä¸–ç•Œ&quot;&gt;&lt;a href=&quot;#css-çš„ä¸–ç•Œ&quot; class=&quot;headerlink&quot; title=&quot;css çš„ä¸–ç•Œ&quot;&gt;&lt;/a&gt;css çš„ä¸–ç•Œ&lt;/h3&gt;&lt;blockquote&gt;
&lt;p&gt;å·²æ“ä½œç³»ç»Ÿåˆ’åˆ†ä¸–ç•Œï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿå°±æ˜¯å¹³è¡Œä¸–ç•Œã€‚æ¯ç§æµè§ˆå™¨å°±æ˜¯ä¸€ä¸ªç‹å›½ã€‚&lt;/p&gt;
&lt;p&gt;åœ¨CSSä¸–ç•Œä¸­ï¼ŒHTMLæ˜¯é­”æ³•çŸ³ï¼Œé€‰æ‹©å™¨å°±æ˜¯é€‰æ‹©æ³•å™¨ï¼ŒCSSå±æ€§å°±æ˜¯é­”æ³•å¸ˆï¼ŒCSSå„ç§å±æ€§å€¼å°±æ˜¯é­”æ³•å¸ˆçš„é­”æ³•æŠ€èƒ½ï¼Œæµè§ˆå™¨å°±æ˜¯ä»–ä»¬æ‰€åœ¨çš„â€œç‹å›½â€ï¼Œâ€œç‹å›½â€ä¼šä¸æ–­æ›´æ–°æ³•å¾‹æ³•è§„ï¼ˆç‰ˆæœ¬å‡çº§ï¼‰ï¼Œå†³å®šæ˜¯å¦å…è®¸ä½¿ç”¨æ–°çš„é­”æ³•çŸ³ï¼ˆHTML5æ–°æ ‡ç­¾æ–°å±æ€§ï¼‰ï¼Œæ˜¯å¦å…è®¸æ–°çš„é­”æ³•å¸ˆå…¥â€œå›½ç±â€ï¼ˆCSS3æ–°å±æ€§ï¼‰ï¼Œæˆ–è€…å…è®¸é­”æ³•å¸ˆä½¿ç”¨æŸäº›æ–°æŠ€èƒ½ï¼ˆCSSæ–°çš„å±æ€§å€¼ï¼‰ï¼Œä»¥åŠæ˜¯å¦èˆå¼ƒæŸäº›é­”æ³•æŠ€èƒ½ï¼ˆå¦‚display:run-inï¼‰ï¼›æ“ä½œç³»ç»Ÿå°±æ˜¯ä»–ä»¬æ‰€åœ¨çš„ä¸–ç•Œï¼Œä¸åŒçš„æ“ä½œç³»ç»Ÿä»£è¡¨ä¸åŒçš„å¹³è¡Œä¸–ç•Œï¼Œæ‰€ä»¥ï¼ŒCSSä¸–ç•Œæœ‰è¿™ä¹ˆå‡ ä¸ªæ¯”è¾ƒå¤§çš„å¹³è¡Œä¸–ç•Œï¼Œå³Windowsä¸–ç•Œã€OS Xä¸–ç•Œä»¥åŠç§»åŠ¨ç«¯çš„iOSä¸–ç•Œå’ŒAndroidä¸–ç•Œã€‚ä¸åŒä¸–ç•Œçš„æµè§ˆå™¨ç‹å›½çš„å‘½è¿ä¸ä¸€æ ·ï¼Œä¾‹å¦‚ï¼Œåœ¨OS Xä¸–ç•Œä¸­ï¼ŒIEç‹å›½æ˜¯ä¸å­˜åœ¨çš„ï¼Œè€ŒSafariç‹å›½å´å¼‚å¸¸å¼ºå¤§ï¼Œä½†åœ¨Windowsä¸–ç•Œä¸­ï¼ŒSafariç‹å›½å´å¼‚å¸¸è½å¯ã€‚ä»¥ä¸Šè¿™ä¸€åˆ‡å°±æ„æˆäº†å®Œæ•´çš„CSSä¸–ç•Œçš„â€œä¸–ç•Œè§‚â€ã€‚&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;ä¸“ä¸šæœ¯è¯­&quot;&gt;&lt;a href=&quot;#ä¸“ä¸šæœ¯è¯­&quot; class=&quot;headerlink&quot; title=&quot;ä¸“ä¸šæœ¯è¯­&quot;&gt;&lt;/a&gt;ä¸“ä¸šæœ¯è¯­&lt;/h3&gt;&lt;ol&gt;
&lt;li&gt;&lt;p&gt;å±æ€§&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å€¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å…³é”®å­—&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å˜é‡&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é•¿åº¦å•ä½&lt;/p&gt;
&lt;p&gt; æ—¶é—´å•ä½ï¼ˆå¦‚sã€msï¼‰ï¼Œè¿˜æœ‰è§’åº¦å•ä½ï¼ˆå¦‚degã€radç­‰ï¼‰&lt;/p&gt;
&lt;p&gt; ç›¸å¯¹é•¿åº¦å•ä½ï¼šå¦‚em,rem(ç›¸å¯¹å­—ä½“),vh,vw,vmin,vmax(ç›¸å¯¹è§†åŒº)&lt;/p&gt;
&lt;p&gt; ç»å¯¹é•¿åº¦å•ä½ï¼špx&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;åŠŸèƒ½ç¬¦&lt;/p&gt;
&lt;p&gt; å€¼ä»¥å‡½æ•°çš„å½¢å¼æŒ‡å®šï¼ˆå°±æ˜¯è¢«æ‹¬å·æ‹¬èµ·æ¥çš„é‚£ç§ï¼‰ï¼Œä¸»è¦ç”¨æ¥è¡¨ç¤ºé¢œè‰²ï¼ˆrgbaå’Œhslaï¼‰ã€èƒŒæ™¯å›¾ç‰‡åœ°å€ï¼ˆurlï¼‰ã€å…ƒç´ å±æ€§å€¼ã€è®¡ç®—ï¼ˆcalcï¼‰å’Œè¿‡æ¸¡æ•ˆæœç­‰ï¼Œå¦‚rgba(0,0,0, .5)ã€url(â€˜css-world.pngâ€™)ã€attr(â€˜hrefâ€™)å’Œscale(-1)ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å±æ€§å€¼&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å£°æ˜&lt;/p&gt;
&lt;p&gt; å±æ€§ååŠ ä¸Šå±æ€§å€¼å°±æ˜¯å£°æ˜&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å£°æ˜å—&lt;/p&gt;
&lt;p&gt; å°±æ˜¯é€‰æ‹©å™¨ {} åŒºåŸŸ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;è§„åˆ™æˆ–è§„åˆ™é›†&lt;/p&gt;
&lt;p&gt;é€‰æ‹©å™¨åé¢çš„å£°æ˜å—å°±æ˜¯ä¸€ä¸ªè§„åˆ™é›†&lt;/p&gt;
&lt;figure class=&quot;highlight css&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;selector-tag&quot;&gt;div&lt;/span&gt; &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;    ... è§„åˆ™é›†&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;é€‰æ‹©å™¨&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;å…³ç³»é€‰æ‹©å™¨&lt;/p&gt;
&lt;p&gt;å¸¸è§çš„ç¬¦å·æœ‰ç©ºæ ¼ã€&amp;gt;ã€ï½ï¼Œè¿˜æœ‰+ç­‰ï¼Œè¿™äº›éƒ½æ˜¯éå¸¸å¸¸ç”¨çš„é€‰æ‹©å™¨ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;@è§„åˆ™&lt;/p&gt;
&lt;p&gt;@è§„åˆ™æŒ‡çš„æ˜¯ä»¥@å­—ç¬¦å¼€å§‹çš„ä¸€äº›è§„åˆ™ï¼Œåƒ@mediaã€@font-faceã€@pageæˆ–è€…@supportï¼Œè¯¸å¦‚æ­¤ç±»&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;</summary>
    
    
    
    <category term="htmlcss" scheme="https://wyf195075595.github.io/categories/htmlcss/"/>
    
    
    <category term="CSS" scheme="https://wyf195075595.github.io/tags/CSS/"/>
    
  </entry>
  
</feed>
