---
title: 网络基础
date: 2022-06-17 08:23:10
tags: 科普
categories: computer
---
# 网络基础

## 1、Internet服务
> 每项服务都会有相对应的 协议规则
> www(网页服务)、FTP(文件传输)、E-mail（电子邮件）、Telnet（远程登陆）... 

###  1.1、 www(网页服务) 
> www是用浏览器访问网页的服务，所以网站的主页的域名前需要加上www。随着网站服务类型的增加，不同的二级、三级域名对应不同的业务，而业务的处理会分配到多个服务器，不在需要使用www来标注页面。但为了尊重用户习惯。很多网站还会做DNS解析www
![http](https://raw.githubusercontent.com/wyf195075595/images/main/blog/http.jpg)

<!--more-->

``` js

一、浏览器请求网页的流程

客户端（浏览器）输入网络地址（www.baidu.com）---> DNS域名解析（获取域名对应的IP）---> TCP/IP三次握手,建立TCP连接，发起HTTP请求 ---> Server服务端,服务端发送HTMl代码，发送静态资源（css,js,img...）---> 客户端（浏览器）渲染页面 四次挥手，中断连接请求--> Server服务端

```
### 1.2、TCP协议
> TCP: Transmission Control Protocol 传输控制协议
```js
特点：面向连接的（收发数据前，必须建立可靠的连接）
建立连接的基础：三次握手

应用场景：数据必须准确无误的收发
HTTP请求、FTP文件传输、邮件收发
优点：稳定、重传机制、拥塞控制机制、断开连接
缺点：速度慢、效率低、占用资源、容易被攻击（三次握手期间 ，DOS，DDOS攻击）

TCP/IP协议组：提供点对点的连接机制，制定了数据封装、定址、路由、数据接收的标准

三次握手的目的： 双方确认对方收，发的能力的最少次数

```
![image-20210224115228415](https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20210224115228415.png)

### 1.3、UDP协议

> UDP: User Data Protocol 用户数据报协议
```js
特点：面向无连接的（不可靠的协议，无状态传输机制）
应用场景：无需确保通讯质量且速度要求快，无需确保信息完整
消息发送、语音通话、直播
优点：安全、快速、漏洞少（UDP flood攻击）
缺点：不可靠、不稳定，容易丢包

总结：只要目的源地址，端口号 和 接收方 地址，端口确认，则可以直接发送信息报文，但不一定保证 一定能收到或完整收到

```
### 1.4、HTTP/HTTPS
> HTTP: HyperText Transfer Protocol 超文本传输协议
> 客户端和服务器端请求和应答的标准，用于从web服务器传输超文本到本地浏览器的传输协议
``` js
HTTP请求：按照协议规则将WEB服务器发送的超文本传输到浏览器
HTTPS：HTTP: HyperText Transfer Protocol Secure 超文本传输安全协议
定义：HTTP的安全版（基于 SSL/TLS）
SSL：Secure Sockets Layer 安全套接层
TLS：Transport Layer Security 传输层安全 （前身是SSL协议）

为网络通信及数据安全提供完整性的一种安全协议，对网络连接进行加密
理解：https 经http进行通信，通过 ssl/tls 建立安全通道，加密数据包 
HTTPS使用的主要目的是提供对网站服务器的身份认证，同时保护交换数据的隐私与完整性
```

## 2、DNS：Domain Name Server（域名服务器）
> 作用： 域名对应IP的转换服务器
> 特征：DNS中保存了一张域名对应Ip的表
> 一个域名只能对应一个IP，一个IP可以对应多个域名
> gTLD: generic Top-level DNS Server 顶级域名服务器
> 为所有的.com, .net, .org.....后缀做域名解析

![dns](https://raw.githubusercontent.com/wyf195075595/images/main/blog/dns.jpg)

``` js
域名解析
一、根域
就是所谓的 '.'，其实我们的网址www.baidu.com在配置当中应该是 www.baidu.com. (通常将.省略了)
根域服务器全世界有13台（应该说是13个ip地址）

二、域名划分
1、顶级域名（一级域名）jsplusplus.com

2、二级域名 www.jsplusplus.com (jsplusplus.com这个域里叫做www的主机)、 study.jsplusplus.com(jsplusplus.com这个域里叫做study的主机)

3、三级域名 qianduan.study.jsplusplus.com(study.jsplusplus.com变成了二级域，主机名是qianduan)

三、解析过程
我们有一台计算机，通过ISP（互联网提供商，如中国电信，移动，联通） 连入互联网，ISP会给我们分配一个DNS服务器（ISPNDS），这个服务器不是根服务器，而是相当于一个代理DNS解析服务器，它会帮我们迭代权威服务器返回应答，最终将ip返回
我们输入地址后，电脑先查找本地DNS（host文件），
如果没有，再请求ISPDNS。ISPDNS先读取缓存，如果缓存中有就直接返回给我们，
如果没有，ISPDNS会从配置文件里面读取13个根域名服务器的地址（这些地址是不变的，直接在BIND的配置文件中），最后给我们返回结果


```

## 3、IP/端口号

> 英文： Internet Protocol Address
> 中文： 互联网协议地址，IP地址
> 作用： 分配给用户上网使用的互联网协议
> 分类： Ipv4,ipv6 其他
> 形式： 192.168.0.1 （长度32位（4个字节）十进制表示）（ipv4）
> 
> v: version  4/6 版本号
> 优势：ipv6地址空间更大（8组 （128位）16进制）
> 路由表更小，跟高安全性，支持自动配置，组播支持及对流支持
> 形式： ABCD:EF01:1345:ABCD:EF01:2345:6789

``` js 
ip地址：上海迪士尼乐园地址（ipv4/6）
端口号：乐园中的不同游乐设施（80/443）
理解： ip地址就像是游乐园的地址，但是要体验游乐园的 某项娱乐服务时 。我们还要找到这个娱乐项目的地址，它就可以理解为端口号。

总结：每一个端口号 对应一个服务器的一个服务，访问不同的端口号相当于访问不同的业务

端口号范围： 0-65535
默认端口： http协议下（80），https协议下（443），FTP协议下（20，21）
```

## 4、流媒体协议

```js
RTSP协议、RTMP协议、HTTP协议的区别

共同点：
    1、RTSP RTMP HTTP都是在应用应用层。
    2、理论上RTSP RTMPHTTP都可以做直播和点播，但一般做直播用RTSP RTMP，做点播用HTTP。做视频会议的时候原来用SIP协议，现在基本上被RTMP协议取代了。


区别：
	1、HTTP: 即超文本传送协议(ftp即文件传输协议)。HTTP:（Real Time Streaming Protocol），实时流传输协议。
	2、HTTP将所有的数据作为文件做处理。http协议不是流媒体协议。
	
	RTMP和RTSP协议是流媒体协议。
	
	3、RTMP协议是Adobe的私有协议,未完全公开，RTSP协议和HTTP协议是公有协议，并有专门机构做维护。
	4、RTMP协议一般传输的是flv，f4v格式流，RTSP协议一般传输的是ts,mp4格式的流。HTTP没有特定的流。
	5、RTSP传输一般需要2-3个通道，命令和数据通道分离，HTTP和RTMP一般在TCP一个通道上传输命令和数据。
	
	
	
RTSP、RTCP、RTP区别

1：RTSP实时流协议

作为一个应用层协议，RTSP提供了一个可供扩展的框架，它的意义在于使得实时流媒体数据的受控和点播变得可能。总的说来，RTSP是一个流媒体表示 协议，主要用来控制具有实时特性的数据发送，但它本身并不传输数据，而是必须依赖于下层传输协议所提供的某些服务。RTSP可以对流媒体提供诸如播放、暂 停、快进等操作，它负责定义具体的控制消息、操作方法、状态码等，此外还描述了与RTP间的交互操作（RFC2326）。

 

2：RTCP控制协议

RTCP控制协议需要与RTP数据协议一起配合使用，当应用程序启动一个RTP会话时将同时占用两个端口，分别供RTP和RTCP使用。RTP本身并 不能为按序传输数据包提供可靠的保证，也不提供流量控制和拥塞控制，这些都由RTCP来负责完成。通常RTCP会采用与RTP相同的分发机制，向会话中的 所有成员周期性地发送控制信息，应用程序通过接收这些数据，从中获取会话参与者的相关资料，以及网络状况、分组丢失概率等反馈信息，从而能够对服务质量进 行控制或者对网络状况进行诊断。

RTCP协议的功能是通过不同的RTCP数据报来实现的，主要有如下几种类型：

SR：发送端报告，所谓发送端是指发出RTP数据报的应用程序或者终端，发送端同时也可以是接收端。(SERVER定时间发送给CLIENT)。

RR：接收端报告，所谓接收端是指仅接收但不发送RTP数据报的应用程序或者终端。(SERVER接收CLIENT端发送过来的响应)。

SDES：源描述，主要功能是作为会话成员有关标识信息的载体，如用户名、邮件地址、电话号码等，此外还具有向会话成员传达会话控制信息的功能。

BYE：通知离开，主要功能是指示某一个或者几个源不再有效，即通知会话中的其他成员自己将退出会话。

APP：由应用程序自己定义，解决了RTCP的扩展性问题，并且为协议的实现者提供了很大的灵活性。

 

3：RTP数据协议

RTP数据协议负责对流媒体数据进行封包并实现媒体流的实时传输，每一个RTP数据报都由头部（Header）和负载（Payload）两个部分组成，其中头部前12个字节的含义是固定的，而负载则可以是音频或者视频数据。

RTP用到的地方就是 PLAY ，服务器往客户端传输数据用UDP协议，RTP是在传输数据的前面加了个12字节的头(描述信息)。

RTP载荷封装设计本文的网络传输是基于IP协议，所以最大传输单元(MTU)最大为1500字节，在使用IP／UDP／RTP的协议层次结构的时候，这 其中包括至少20字节的IP头，8字节的UDP头，以及12字节的RTP头。这样，头信息至少要占用40个字节，那么RTP载荷的最大尺寸为1460字 节。以H264 为例，如果一帧数据大于1460，则需要分片打包，然后到接收端再拆包，组合成一帧数据，进行解码播放。




监控视频在前端的播放主要有如下三种方式

一、RTSP

咱们一种一种的说，首先是RTSP这种其实和海康插件是一样的，需要VLC插件的支持，所以也是要用老版本的浏览器才可以使用。其实刚接触的时候查到了一个js包vxg-video可以前端在线播放RTSP，但是接入的效果差强人意，虽然能播放但是延迟太高，遂放弃，感兴趣的可以自己了解一下。

二、RTMP

然后是RTMP视频流，这里放一个链接，感兴趣的可以自己了解它和RTSP有什么区别。

RTSP协议、RTMP协议、HTTP协议的区别

简单来说呢，就是RTMP是Adobe维护的，没开源，而RTSP和HTTP一样都是开源的。所以呢，要在前端播放RTMP视频就必须得使用flash插件，看主流浏览器对flash的态度，只能说且用且珍惜吧。

现在在前端播放RTMP主要有三种方案，videojs，jwplayer，ckplayer。先说接入效果吧，ckplayer和videojs成功了，jwplayer虽然失败了，但是在这里也谈一下吧，记录下失败的地点，等日后有实力了再试试能不能成功。


三、HLS

HLS是苹果公司提出的一种视频流类型，所以苹果的设备对它有原生支持，不过其他的浏览器也可以通过js包的形式进行播放，和rtmp相比，hls最大的坏处就是延迟高，rtmp基本可以控制在1秒内播放，而hls基本都是5-6秒开外。而且RTMP是基于TCP协议，播放更加的稳定。
```

## 互联网

### 互联网的传输介质

```js
◆有线传输介质
	▪双绞线 (传输距离短 <100m)
    	-非屏蔽双绞线（UTP）
            *五类、超五类： 100Mbps,1Gbps
            *六类：10Gbps
		-屏蔽双绞线（STP）
    ▪同轴电缆
    	-抗干扰能力好
		-1-2Gbps(1km)
    ▪光导纤维
        -传输速度快 10-100Gbps
        -距离远
        -抗电磁干扰
◆无限传输介质
```

### 互联网的关键设备

```js
1、有线网卡
	◆网络适配器（高速率网卡兼容低速率网络）
    	eg: 千兆网卡可以支持百兆网络
    ◆MAC地址（物理地址）
    	*设置在网络适配器（网卡）接口上，全球唯一
		*长度：6字节（48位）
			eg: D0-67-E5-17-B9-C0
		// 前三个由IEEE的注册管理机构给不同厂家分配
		// 后面三个是由各自厂家指派给生产的网络适配器接口

2、低端交换机
	◆用于搭建局域网，即插即用
    ◆实现多台计算机之间数据的并发交换
    ◆根据交换机表中的表项转发数据报文

3、路由器
	◆用于实现多个网络之间的互联
    ◆网络的调度中心和交通枢纽


4、无限网卡

5、高端交换机

6、无限路由器
```

### TCP/IP协议

```js
◆OSI（开放系统互连参考模型）
◆TCP/IP（传输控制协议/网际协议）
◆网络协议：为经行数据交换而建立的规则，标准或约定
	*语法：数据与控制信息的 "结构" 或 "格式"
	*语义：数据与控制信息的 "含义"
	*同步：规定事件实现 "顺序" 的详情说明
```

<img src="https://raw.githubusercontent.com/wyf195075595/images/main/blog/osi.png" style="zoom:75%;" />

> 层与层之间有协议，协议是网络节点的共同语言
>
> 应用层：HTTP,SMTP,FTP
>
> 传输层：TCP,UDP
>
> 网络层：IP
>
> 网络接口层：Ethernet(以太网协议)

![](https://raw.githubusercontent.com/wyf195075595/images/main/blog/iso-tcp.png)

### IP地址

```js
◆全网唯一性，标识每个设备的位置和身份
◆IPv4地址
	*用32位二进制数表示
		11000000 10101000 00001010 01111010
		192		168		10		123
		
IP地址的构成
	◆网络号 + 主机号
		-主机号全为0，代表本网络的网络地址号
		-主机号全为1，代表本网段的广播地址
	网络号	   主机号

	IP地址分为 ABCDE类，不同类型的ip网络号主机号位数不一致
    常用地址类型ABC
    
    A类地址范围：0.0.0.0~127.255.255.255
    特殊用途：0.X.Y.Z, 10.X.Y.Z, 127.X.Y.Z
	可分配 2^7 - 3 = 125 网络（8位网络号，开头为0，三个特殊用途）
    A网可容纳 2^24 -2 = 16777214台主机（主机号不能全1/全0）

    B类地址范围：128.0.0.0~191.255.255.255
    特殊用途：172.16.0.0~172.31.255.255
	可分配 2^14 - 16 = 16368 网络
    B网可容纳 2^16 -2 = 65534台主机
    
    C类地址范围：192.0.0.0~233.255.255.255
    特殊用途：192.168.0.0~192.168.255.255
	可分配 2^21 - 255 = 2096896 网络
    c网可容纳 2^8 -2 = 254台主机
```

![](https://raw.githubusercontent.com/wyf195075595/images/main/blog/ipType.png)

### 子网划分

```js
◆把一个较大的网络划分成几个较小的子网
◆从主机号分出若干位作为子网号
◆IP地址由两级变成三级

	两级 IP 地址 ： 网络号 主机号
    三级 IP 地址 ： 网络号 子网号 主机号
    
    rg:
	C类地址
	11000000 10101000 0001010 01111010
						    子网号 主机号
							01   111010
	划分后怎么确定IP地址的网络号？
    
    子网掩码（32位）： 前面全是网络号（1表示） 后面全是主机号（0表示）
    // 子网掩码的网络号 = 原网络号 + 子网号
    上面IP地址的子网掩码
    11111111 11111111 11111111 11000000
	//十进制
	255.255.255.192
    
```

### 域名

```js
因为IP不方便人们记忆，所以出现的域名
但实际使用时，电脑会将域名转换为IP在进行访问，由此出现了DNS域名服务器
▪采用层次结构，从左到右，域的范围变大

电脑没有设置DNS域名服务器，上网只能使用IP地址访问
```

![](https://raw.githubusercontent.com/wyf195075595/images/main/blog/%E5%9F%9F%E5%90%8D.png)





## 什么是操作系统？

```js
1、定位和作用
	▪管控计算机软硬件资源地程序
    ▪计算机系统中的重要核心软件，是其他软件地基础
    
2、操作系统核心功能
    ▪CPU管理
    ▪储存管理
    ▪文件系统
    ▪设备管理
```

