---
title:  vue å¤šé€‰æœˆä»½ç»„ä»¶
date: 2022-06-17 08:23:10
tags: ç»„ä»¶
categories: vue
---
### ğŸ“…å¤šé€‰æœˆä»½

<!--more-->

```vue
<template>
   <div class="selectMonthBoxSquare rel clearFixed" id="boxArea">
       <!-- el-inputè¾“å…¥æ¡†ï¼šreadonlyå’Œclearableå±æ€§ä¸èƒ½åŒæ—¶ä½¿ç”¨ -->
        <el-input class="inputStyle" v-model="inputValue" type="text" placeholder="è¯·é€‰æ‹©æŸ¥è¯¢æœˆä»½" readonly @focus="showBox = true">
            <i slot="prefix" class="el-input__icon el-icon-date"></i>
            <!-- æ¸…ç©ºå›¾æ ‡ï¼šæœ‰å†…å®¹çš„æ—¶å€™æ¸²æŸ“å‡ºæ¥ï¼Œé¼ æ ‡hoveråˆ°inputæ¡†çš„æ—¶å€™å†æ˜¾ç¤ºå‡ºæ¥ï¼ˆå³ï¼šè¾“å…¥æ¡†æœ‰å†…å®¹å¹¶ä¸”é¼ æ ‡æ‚¬æµ®æ—¶æ˜¾ç¤ºè¯¥å›¾æ ‡ï¼‰ -->
            <i slot="suffix" class="el-input__icon el-icon-circle-close clearIconStyle" v-if="showClear" @click="resetMonth"></i>
        </el-input>
        <!-- å¹´ä»½æœˆä»½é€‰æ‹©å¼¹æ¡† -->
        <div class="selectContentBox" v-if="showBox">
           <div class="contentArea">
               <!-- å¹´ä»½ -->
                <div class="flex flex-wrap flex-around" style="padding: 15px 0;border-bottom: 1px solid #e5e5e5;">
                    <div class="cursor" v-if="curIndex == DateList.length - 1" style="width: 15%;"><img src="../../../images/left_icon_gray.png" alt="" /></div>
                    <div class="cursor" v-else @click="reduceYear" style="width: 15%;"><img src="../../../images/left_icon.png" alt="" /></div>
                    <div>{{OneY}}å¹´</div>
                    <div class="cursor t-r" v-if="curIndex == 0" style="width: 15%;"><img src="../../../images/right_icon_gray.png" alt="" /></div>
                    <div class="cursor t-r" v-else @click="addYear" style="width: 15%;"><img src="../../../images/right_icon.png" alt="" /></div>
                </div>
                <!-- æœˆä»½ -->
                <div class="conterList">
                    <el-checkbox-group class="flex flex-wrap" v-model="optTime[curIndex].queryTime" @change="onChange" >
                        <el-checkbox class="onSelect flex-x-center" v-for="(item,index) in DateList[curIndex].queryTime" :key="index" :label="`${DateList[curIndex].TimeYear}-${(item<=9)?`0${item}`:item}`">
                        {{monthMap[item]}}æœˆ
                        </el-checkbox>
                    </el-checkbox-group>
                </div>
            </div>
            <!-- æŒ‰é’® -->
            <div class="buttonBox t-r">
                <el-button class="buttonStyle" size="mini" type="primary" plain @click.stop="handleSubmit">ç¡®å®š</el-button>
                <el-button class="buttonStyle" size="mini" plain @click.stop="resetMonth">é‡ç½®</el-button>
            </div>
       </div>
   </div>
</template>
<script>
export default {
    data(){
        return{
            DateList: [], // å¹´ä»½æœˆä»½æ•°ç»„
            optTime: [], // æœˆä»½é€‰ä¸­ç»“æœæ•°ç»„
            OneY: '', // å½“å‰å¹´ä»½
            curIndex: 0, // å½“å‰å¹´ä»½ä¸‹æ ‡å€¼
            optTimes: [], // ç‚¹å‡»æœˆä»½æ—¶çš„æ‰€æœ‰é€‰ä¸­ç»“æœ
            resultTimes: [], // ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®åçš„é€‰æ‹©ç»“æœ
            showBox: false, // æ˜¯å¦æ˜¾ç¤ºæœˆä»½é€‰æ‹©å¼¹æ¡†
            inputValue: '', // è¾“å…¥æ¡†çš„ç»‘å®šå€¼
            showClear: false, // æ˜¯å¦æ˜¾ç¤ºè¾“å…¥æ¡†å³è¾¹çš„â€œæ¸…ç©ºâ€å°å›¾æ ‡
            monthMap: { // æœˆä»½æ˜¾ç¤ºä¸ºä¸­æ–‡
                '1': 'ä¸€',
                '2': 'äºŒ',
                '3': 'ä¸‰',
                '4': 'å››',
                '5': 'äº”',
                '6': 'å…­',
                '7': 'ä¸ƒ',
                '8': 'å…«',
                '9': 'ä¹',
                '10': 'å',
                '11': 'åä¸€',
                '12': 'åäºŒ',
            }
        }
    },
    created(){
        this.init();
    },
    mounted() {
        //ç‚¹å‡»å¼¹æ¡†å¤–çš„ä»»æ„ä½ç½®å…³é—­åŒºåŸŸå¼¹çª—
        document.addEventListener('click',(e) => {
            //è·å–å¼¹çª—å¯¹è±¡
            const boxArea = document.getElementById('boxArea');
            //åˆ¤æ–­å¼¹çª—å¯¹è±¡ä¸­æ˜¯å¦åŒ…å«ç‚¹å‡»å¯¹è±¡
            if(boxArea &&ã€€!boxArea.contains(e.target)) {
                // åˆ¤æ–­å½“å‰é€‰ä¸­æœˆä»½ä¸ä¸Šæ¬¡ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®æ—¶çš„é€‰æ‹©ç»“æœæ˜¯å¦ä¸€è‡´
                let equalArr = this.resultTimes.sort().toString() == this.optTimes.sort().toString()
                if(!equalArr) {
                    // å¦‚æœä¸ä¸€è‡´ï¼ˆå› ä¸ºæ˜¯å¤šé€‰ï¼Œæ‰€ä»¥å¿…é¡»æ˜¯ç‚¹å‡»äº†â€œç¡®å®šâ€æŒ‰é’®åæ‰èƒ½è¿›è¡ŒæŸ¥è¯¢ï¼‰ï¼š
                    // å°†é€‰æ‹©ç»“æœæ¢å¤åˆ°ä¸Šæ¬¡ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®æ—¶çš„ç»“æœ
                    this.optTimes = this.resultTimes
                    // å°†è¾“å…¥æ¡†çš„å€¼æ¢å¤åˆ°ä¸Šæ¬¡ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®æ—¶çš„å€¼
                    this.inputValue = this.optTimes.join(',')
                    // æ ¹æ®è¾“å…¥æ¡†æ˜¯å¦æœ‰å€¼æ¥åˆ¤æ–­æ¸…ç©ºå›¾æ ‡æ˜¯å¦æ¸²æŸ“
                    this.showClear = this.inputValue == '' ? false : true
                    // å°†æœˆä»½é€‰ä¸­ç»“æœæ¢å¤åˆ°ä¸Šæ¬¡ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®æ—¶çš„é€‰ä¸­æœˆä»½
                    let _opt = this.resultTimes.map(v => { return v.substring(0,4) });
                    for( let item in this.optTime ){
                        this.optTime[item].queryTime = []
                        _opt.map((items,indexs)=>{
                            if( items == this.optTime[item].TimeYear ){
                                this.optTime[item].queryTime.push(this.resultTimes[indexs])
                            }
                        })
                    }
                }
                // å…³é—­å¼¹æ¡†
                this.showBox = false;
            }
        })
    },
    methods:{
        // åˆå§‹åŒ–æ•°æ®ï¼Œè·å–å‰20å¹´ï¼Œç„¶åå¾ªç¯ æ¯ä¸€å¹´é‡Œé¢éƒ½æœ‰12ä¸ªæœˆçš„ å¾—åˆ°æ•°ç»„ opTime å’Œ DateList
        init(){
            const _this = this;
            let _opt = [];
            let _optTime = []
            let arr = new Array(12);
            let optDate = this.getDateList();
            optDate.map((item,index)=>{
                // æœˆä»½é€‰æ‹©æ—¶el-checkbox-groupç»‘å®šçš„å€¼
                _optTime[index] = {
                    TimeYear: item,
                    queryTime: []
                }
                // ç»™æ¯ä¸€å¹´ä»½è®¾ç½®12ä¸ªæœˆä»½ï¼Œel-checkboxåˆå§‹åŒ–æ˜¾ç¤ºæ—¶ä½¿ç”¨
                _opt[index] = {
                    TimeYear: item, 
                    queryTime: []
                }
                for(let i = 1; i<= arr.length; i++){
                     _opt[index].queryTime.push(i)
                }
            })
            _this.optTime = _optTime
            _this.DateList = _opt;
        },
        // è·å–è¿‘20å¹´å¹´ä»½åˆ—è¡¨ï¼Œå€’åºæ’åˆ—ï¼Œæœ€æ–°ä¸€å¹´åœ¨æœ€å‰é¢
        getDateList(){
            let Dates = new Date();
            let year = Dates.getFullYear();
            this.OneY = year;
            let  optDate = [];
            for( let i = year - 20; i <= year; i++ ){
                optDate.push(i)
            }
            return optDate.reverse()
        },
        // ç¡®å®š
        handleSubmit(){
            const _this = this;
            // æ›´æ–°è¾“å…¥æ¡†çš„å€¼
            _this.inputValue = _this.optTimes.join(',')
            // æ ¹æ®è¾“å…¥æ¡†æ˜¯å¦æœ‰å€¼æ¥åˆ¤æ–­æ¸…ç©ºå›¾æ ‡æ˜¯å¦æ¸²æŸ“
            _this.showClear = _this.inputValue == '' ? false : true
            // å°†ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®çš„é€‰æ‹©ç»“æœä¿å­˜èµ·æ¥ï¼ˆè¯¥å€¼å°†åœ¨å“ªé‡Œä½¿ç”¨ï¼šåœ¨ç‚¹å‡»å¼¹æ¡†ä»¥å¤–åŒºåŸŸå…³é—­å¼¹æ¡†æ—¶ä½¿ç”¨ï¼Œmountedä¸­ï¼‰
            _this.resultTimes = _this.optTimes
            // å…³é—­å¼¹æ¡†
            _this.showBox = false
            _this.$emit('submitBtn',_this.resultTimes)
        },
        // é‡ç½®
        resetMonth() {
            const _this = this;
            // å°†å¹´ä»½é‡ç½®åˆ°å½“å‰å¹´ä»½
            let Dates = new Date();
            let year = Dates.getFullYear();
            _this.OneY = year;
            // å°†å·²é€‰æ‹©çš„æœˆä»½æ¸…ç©º
            _this.optTimes = [];
            for( let i in _this.optTime  ){
                _this.optTime[i].queryTime =[]
            }
            // å°†è¾“å…¥æ¡†æ¸…ç©º
            _this.inputValue = ''
            // æ ¹æ®è¾“å…¥æ¡†æ˜¯å¦æœ‰å€¼æ¥åˆ¤æ–­æ¸…ç©ºå›¾æ ‡æ˜¯å¦æ¸²æŸ“ï¼Œæ­¤å¤„å¿…ç„¶ä¸æ¸²æŸ“
            this.showClear = false
            // å°†ç‚¹å‡»â€œç¡®å®šâ€æŒ‰é’®çš„é€‰æ‹©ç»“æœæ¸…ç©º
            _this.resultTimes = []
            // å…³é—­æœˆä»½é€‰æ‹©å¼¹æ¡†
            _this.showBox = false
            _this.$emit('resetBtn')
        },
        // å·¦ä¸Šè§’å¹´ä»½å‡å°‘
        reduceYear() {
            const _this = this;
            // å¦‚æœå·²ç»æ˜¯æœ€åä¸€å¹´äº†ï¼Œåˆ™å¹´ä»½ä¸èƒ½å†å‡å°‘äº†
            if(_this.curIndex == _this.DateList.length - 1) return;
            // å½“å‰ä¸‹æ ‡å€¼+1ï¼Œæ ¹æ®ä¸‹æ ‡å€¼è·å–å¹´ä»½å€¼
            _this.curIndex = _this.curIndex + 1
            _this.OneY = _this.DateList[_this.curIndex].TimeYear
        },
        // å·¦ä¸Šè§’å¹´ä»½å¢åŠ 
        addYear() {
            const _this = this;
            // å¦‚æœå·²ç»æ˜¯å½“å‰å¹´ä»½äº†ï¼Œåˆ™å¹´ä»½ä¸èƒ½å†å¢åŠ äº†
            if(_this.curIndex == 0) return;
            // å½“å‰ä¸‹æ ‡å€¼-1ï¼Œæ ¹æ®ä¸‹æ ‡å€¼è·å–å¹´ä»½å€¼
            _this.curIndex = _this.curIndex - 1
            _this.OneY = _this.DateList[_this.curIndex].TimeYear
        },
        // é€‰æ‹©æœˆä»½
        onChange(){
            const _this = this;
            // éå†optTimeä¸­å·²é€‰æ‹©çš„æœˆä»½ï¼Œå°†å·²é€‰ç»“æœå¡åˆ°optTimesæ•°ç»„ä¸­
            let _opt = _this.optTime;
            let arr = [];
             for(let item in _opt ){
                if(_opt[item].queryTime.length > 0)  _opt[item].queryTime.filter( v => { arr.push(v) })
             }
            _this.optTimes = arr
            // æ›´æ–°è¾“å…¥æ¡†çš„å€¼
            _this.inputValue = _this.optTimes.join(',')
            // æ ¹æ®è¾“å…¥æ¡†æ˜¯å¦æœ‰å€¼æ¥åˆ¤æ–­æ¸…ç©ºå›¾æ ‡æ˜¯å¦æ¸²æŸ“
            _this.showClear = _this.inputValue == '' ? false : true
        }
    }
}
</script>
<style lang="scss">

.selectMonthBoxSquare {
    margin-top: 10px;
    width: 250px;
    .inputStyle {
        width: 250px;
    }
    .clearIconStyle {
        display: none;
    }
    .inputStyle:hover .clearIconStyle{
        display: block;
    }
    .selectContentBox {
        position: absolute;
        top: 35px;
        left: 0;
        z-index: 2021;
        background: #ffffff;
        border: 1px solid #e5e5e5;
        border-radius: 3px;
        
        .contentArea {
            width: 330px;
        }
    }
    .conterList{
        .onSelect{
            width: 25% !important;
            margin: 20px 0 !important;
        }
        .columWidth {
            width: 33.33%;
        }
        .el-checkbox__input {
            display: none !important;
        }
        .el-checkbox__label {
            padding-left: 0px !important;
        }
    }
    .selectBox {
        width: 100px;
        
        input {
            height: 25px;
            line-height: 25px;
        }
        .el-input .el-input__icon {
            line-height: 25px;
        }
    }
    .tagStyle {
        margin-right: 10px;
        height: 25px;
        line-height: 25px;
    }
    .lableStyle {
        font-size: 14px;
    }
    .el-button--mini {
        padding: 5px 15px;
        font-size: 12px;
        border-radius: 3px;
    }
    .buttonBox {
        border-top: 1px solid #e5e5e5;
        padding: 10px 10px 10px 0;
    }
}
</style>
```

### å¤šé€‰å¹´ä»½

```vue
<!--
 * @Description: å®ç°å¹´ä»½å¤šé€‰
 * @Author:  wyf
 * @Date: 2022-03-09 10:24:45
 * @LastEditTime: 2022-03-09 17:25:51
 * @LastEditors:  wyf
-->
<template>
   <div class="selectMonthBoxSquare" id="boxArea">
        <el-popover
            placement="bottom"
            width="290"
            trigger="focus"
            popper-class="my-selects-popper"
            :disabled="disabled"
        >
            <!-- å¹´ä»½æœˆä»½é€‰æ‹©å¼¹æ¡† -->
            <div class="selectContentBox">
                <div class="contentArea"   v-if="DateList.length">
                    <!-- æ ‡é¢˜ -->
                    <div class="title-tip" style="padding: 15px 0;border-bottom: 1px solid #e5e5e5;">
                        <div class="cursor" v-if="curIndex == DateList.length - 1" style="width: 15%;"><i class="el-icon-arrow-left" style="color:#ccc;"></i></div>
                        <div class="cursor" v-else @click="reduceYear" style="width: 15%;"><i class="el-icon-arrow-left" ></i></div>
                        <div>{{rangeYearString}}å¹´</div>
                        <div class="cursor t-r" v-if="curIndex == 0" style="width: 15%;"><i class="el-icon-arrow-right"  style="color:#ccc;"></i></div>
                        <div class="cursor t-r" v-else @click="addYear" style="width: 15%;"><i class="el-icon-arrow-right" ></i></div>
                    </div>
                    <!-- å¹´ä»½-->
                    <div class="conterList">
                        <el-checkbox-group class="flex flex-wrap"  v-model="optTime"  @change="onChange" >
                            <el-checkbox class="onSelect flex-x-center" v-for="(item) in DateList[curIndex]" :key="item" :label="item">
                            {{item}}å¹´
                            </el-checkbox>
                        </el-checkbox-group>
                    </div>
                </div>
            </div>
            <!-- el-inputè¾“å…¥æ¡†ï¼šreadonlyå’Œclearableå±æ€§ä¸èƒ½åŒæ—¶ä½¿ç”¨ -->
            <el-input slot="reference" class="inputStyle" v-model="inputValue" type="text" placeholder="è¯·é€‰æ‹©æŸ¥è¯¢æœˆä»½" readonly >
                <i slot="prefix" class="el-input__icon el-icon-date"></i>
                <!-- æ¸…ç©ºå›¾æ ‡ï¼šæœ‰å†…å®¹çš„æ—¶å€™æ¸²æŸ“å‡ºæ¥ï¼Œé¼ æ ‡hoveråˆ°inputæ¡†çš„æ—¶å€™å†æ˜¾ç¤ºå‡ºæ¥ï¼ˆå³ï¼šè¾“å…¥æ¡†æœ‰å†…å®¹å¹¶ä¸”é¼ æ ‡æ‚¬æµ®æ—¶æ˜¾ç¤ºè¯¥å›¾æ ‡ï¼‰ -->
                <i slot="suffix" class="el-input__icon el-icon-circle-close clearIconStyle" v-if="showClear" style="position: relative;z-index: 9999999999;" @click.stop="resetMonth"></i>
            </el-input>
        </el-popover>
        
   </div>
</template>
<script>
export default {
    props: {
        value: {
            type: String,
            default: ''
        },
        disabled: {
            type: Boolean,
            default: false
        }
    },
    model: {
        prop: "value",//æŒ‡å®šè‡ªå·±çš„pfooå±æ€§æ¥å—æ•°å€¼
        event: "input"//æŒ‡å®šè‡ªå·±çš„event1äº‹ä»¶å›é€æ•°æ®ç»™çˆ¶ç»„ä»¶
    },
    data(){
        return {
            DateList: [], // å¹´ä»½æ•°ç»„
            optTime: [], // å¹´ä»½é€‰ä¸­ç»“æœæ•°ç»„
            rangeYear: [], // å½“å‰å¹´ä»½èŒƒå›´
            curIndex: 0, // å½“å‰å¹´ä»½ä¸‹æ ‡å€¼
            inputValue: '', // è¾“å…¥æ¡†çš„ç»‘å®šå€¼
            showClear: false, // æ˜¯å¦æ˜¾ç¤ºè¾“å…¥æ¡†å³è¾¹çš„â€œæ¸…ç©ºâ€å°å›¾æ ‡
        }
    },
    mounted(){
        this.init();
    },
    computed: {
        rangeYearString: function () {
            return `${this.rangeYear[0]}~${this.rangeYear[1]}`
        }
    },
    watch: {
        value:{
            handler: function(val) {
                this.inputValue = val;
            },
            immediate: true
        },
        inputValue: {
            handler: function(val) {
                this.showClear = !!val && !this.disabled
            },
            immediate: true
        }
    },
    methods:{
        // åˆå§‹åŒ–æ•°æ®ï¼Œè·å–å‰20å¹´ï¼Œ DateList
        init(){
            const _this = this;
            let optDate = this.getDateList();
            _this.DateList = optDate;
            setTimeout(()=> {
                this.optTime = this.value?this.value.split(',').map(ele=>+ele): []
            })
        },
        // è·å–è¿‘XXXå¹´å¹´ä»½åˆ—è¡¨ï¼Œå€’åºæ’åˆ—ï¼Œæœ€æ–°ä¸€å¹´åœ¨æœ€å‰é¢
        getDateList(){
            let Dates = new Date();
            let year = Dates.getFullYear();
            this.rangeYear = [year, year+9];
            let  optDate = [];
            let pointer = 0;
            let sub = 0;
            for( let i = year - 100; i <= year + 100; i++ ){
                pointer += 1
                if(!optDate[sub]) optDate[sub] = [];
                optDate[sub].push(i)
                // è®¾ç½®å½“å‰å¹´ä»½é¡µæ•°
                if(i === year) {
                    this.curIndex = sub;
                }
                if(pointer == 10) {
                    pointer = 0
                    sub += 1
                }
            }
            return optDate.reverse()
        },
        // å·¦ä¸Šè§’å¹´ä»½å‡å°‘
        reduceYear() {
            const _this = this;
            // å¦‚æœå·²ç»æ˜¯æœ€åä¸€å¹´äº†ï¼Œåˆ™å¹´ä»½ä¸èƒ½å†å‡å°‘äº†
            if(_this.curIndex == _this.DateList.length - 1) return;
            // // å½“å‰ä¸‹æ ‡å€¼+1ï¼Œæ ¹æ®ä¸‹æ ‡å€¼è·å–å¹´ä»½å€¼
            _this.curIndex += 1
            _this.rangeYear = [_this.rangeYear[0] - 10, _this.rangeYear[0] - 1]
        },
        // å·¦ä¸Šè§’å¹´ä»½å¢åŠ 
        addYear() {
            const _this = this;
            // å¦‚æœå·²ç»æ˜¯å½“å‰å¹´ä»½äº†ï¼Œåˆ™å¹´ä»½ä¸èƒ½å†å¢åŠ äº†
            if(_this.curIndex == 0) return;
            // å½“å‰ä¸‹æ ‡å€¼-1ï¼Œæ ¹æ®ä¸‹æ ‡å€¼è·å–å¹´ä»½å€¼
            _this.curIndex -= 1
            _this.rangeYear = [_this.rangeYear[1] + 1,_this.rangeYear[1] + 10]
        },
        // é€‰æ‹©æœˆä»½
        onChange(){
            const _this = this;
            this.inputValue = this.optTime.toString()
            this.$emit('input', this.inputValue)
        },
        resetMonth() {
            this.optTime = []
            this.inputValue = ''
            this.$emit('input', '')
        }
    }
}
</script>
<style lang="scss" scoped>
.selectContentBox {
    .title-tip {
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .cursor {
        text-align: center;
    }
    .contentArea {
        width: 290px;
        color: #fff;
    }
    .conterList{
        .onSelect{
            width: 25% !important;
            margin: 20px 0 !important;
        }
        .columWidth {
            width: 33.33%;
        }
        .el-checkbox__input {
            display: none !important;
        }
        .el-checkbox__label {
            padding-left: 0px !important;
        }
    }

    .buttonBox {
        border-top: 1px solid #e5e5e5;
        padding: 10px 10px 10px 0;
    }
}

</style>
<style lang="scss">
    .my-selects-popper {
        background: #0a353b !important;
        .el-checkbox__input {
            display: none;
        }
    }
</style>
```



### element-ui å®ç°è¡¨æ ¼å¤šè¡Œæ˜¾ç¤ºè¶…å‡ºçœç•¥

```vue
<!--
 * @Description: 
 * @Author:  
 * @Date: 2022-11-09 14:10:15
 * @LastEditTime: 2022-11-09 15:30:35
 * @LastEditors:  

 <overflow-text slot-scope="{row}" :row="row" keyName="workContent" :clamp="2" />
 rowï¼šæœ¬è¡Œæ•°æ®
 keyName: è¦æ˜¾ç¤ºå†…å®¹çš„é”®å
 clampï¼š å±•ç¤ºå‡ è¡Œçœç•¥ï¼Œé»˜è®¤3
-->
<template >
  <el-tooltip
    placement="top"
    v-model="row[flag]"
    :open-delay="200"
    effect="dark"
    :enterable="false"
    :disabled="!row[flag]">
        <div slot="content">{{row[keyName]}}</div>
        <div @mouseenter="showTips($event)" class='overflow' :class="'line'+clamp">{{row[keyName]}}</div>
    </el-tooltip>
</template>

<script>
export default {
    props: {
        row: {
            type: Object,
            required: true
        },
        keyName: {
            type: String,
            required: true,
        },
        clamp: {
            type: Number,
            default: 3
        },
    },
    data(){
        return {
            // æ¯ä¸ªå®ä¾‹è¿”å›å”¯ä¸€é”®å€¼æ ‡è¯†
            flag: String(Date.now()+parseInt(Math.random()*10000000000))
        }
    },

    methods: {
        showTips(obj) {
            let row = this.row;
            let key = this.keyName;
            /*cellWidthä¸ºè¡¨æ ¼å®¹å™¨çš„å®½åº¦*/
            const cellWidth = obj.target.offsetWidth
            const cellHeight = obj.target.offsetHeight

            let TemporaryTag = document.createElement('div');
            TemporaryTag.style.width = cellWidth + 'px'
            TemporaryTag.innerText = row[key];
            TemporaryTag.className = 'getTextHeight';
            document.querySelector('body').appendChild(TemporaryTag);
            let currentHeight = document.querySelector('.getTextHeight').offsetHeight;
            document.querySelector('.getTextHeight').remove();
            
            /*å½“æ–‡æœ¬é«˜åº¦å¤§äº||ç­‰äºå®¹å™¨é«˜åº¦æ—¶ï¼Œä»£è¡¨æ–‡æœ¬æ˜¾ç¤ºæœªè¶…è¿‡æŒ‡å®šè¡Œæ•°*/
            if(currentHeight >= cellHeight) {
                row[this.flag] = true
            }

        }
    }
}
</script>

<style lang="scss" scoped>
.overflow {
    display: -webkit-box;
    overflow: hidden;
    text-overflow: ellipsis;
    word-break: break-all;
    -webkit-box-orient: vertical;
    white-space: normal;
}
.line3 {
    -webkit-line-clamp: 3;
}
.line2 {
    -webkit-line-clamp: 2;
}
</style>
```

### åŸºäºelement ui å°è£…ä¸‹æ‹‰æ ‘

> [å‚è€ƒæ–‡ç« ](https://juejin.cn/post/6844903997074063367?searchId=202404121048362AB3A2A9C9AB4871C5CC), vue3 element-plus æœ‰treeSelect ç»„ä»¶

ä½¿ç”¨

```vue
 <!-- ä¸‹æ‹‰æ ‘ -->
<selectbutton
  :props="props"
  :options="optionData"
  :value="valueId"
  :clearable="isClearable"
  :accordion="isAccordion"
  @getValue="getValue($event)"
  height="200"
></selectbutton>
```

å°è£…

```vue
<template>
  <el-select :value="valueTitle" :clearable="clearable" @clear="clearHandle"  ref="treeSelect">
    <el-input
      class="selectInput"
      :placeholder="placeholder"
      v-model="filterText">
    </el-input>

    <el-option :value="valueTitle" :label="valueTitle" class="options">
      <el-tree  id="tree-option"
        ref="selectTree"
        :accordion="accordion"
        :data="options"
        :props="props"
        :node-key="props.value"    
        :default-expanded-keys="defaultExpandedKey"
        :filter-node-method="filterNode"
        @node-click="handleNodeClick">
      </el-tree>
    </el-option>
  </el-select>
</template>
<script>
export default {
  name: "el-tree-select",
  props:{
    /* é…ç½®é¡¹ */
    props:{
      type: Object,
      default:()=>{
        return {
          value:'id',             // IDå­—æ®µå
          label: 'title',         // æ˜¾ç¤ºåç§°
          children: 'children'    // å­çº§å­—æ®µå
        }
      }
    },
    /* é€‰é¡¹åˆ—è¡¨æ•°æ®(æ ‘å½¢ç»“æ„çš„å¯¹è±¡æ•°ç»„) */
    options:{
      type: Array,       
      default: ()=>{ return [] }
    },
    /* åˆå§‹å€¼ */
    value:{
      type: Number,
      default: ()=>{ return null }
    },
    /* å¯æ¸…ç©ºé€‰é¡¹ */
    clearable:{
      type:Boolean,
      default:()=>{ return true }
    },
    /* è‡ªåŠ¨æ”¶èµ· */
    accordion:{
      type:Boolean,
      default:()=>{ return false }
    },
    placeholder:{
      type:String,
      default:()=>{return "æ£€ç´¢å…³é”®å­—"}
    }
  },
  data() {
    return {
      filterText: '',
      valueId:this.value,    // åˆå§‹å€¼
      valueTitle:'',
      defaultExpandedKey:[]    
    }
  },
  mounted(){
    this.initHandle()
  },
  methods: {
    // åˆå§‹åŒ–å€¼
    initHandle(){
      if(this.valueId){
        this.valueTitle = this.$refs.selectTree.getNode(this.valueId).data[this.props.label]     // åˆå§‹åŒ–æ˜¾ç¤º
        this.$refs.selectTree.setCurrentKey(this.valueId)       // è®¾ç½®é»˜è®¤é€‰ä¸­
        this.defaultExpandedKey = [this.valueId]      // è®¾ç½®é»˜è®¤å±•å¼€
      } 
      this.initScroll()
    },
    // åˆå§‹åŒ–æ»šåŠ¨æ¡
    initScroll(){
      this.$nextTick(()=>{
        let scrollWrap = document.querySelectorAll('.el-scrollbar .el-select-dropdown__wrap')[0]
        let scrollBar = document.querySelectorAll('.el-scrollbar .el-scrollbar__bar')
        scrollWrap.style.cssText = 'margin: 0px; max-height: none; overflow: hidden;'
        scrollBar.forEach(ele => ele.style.width = 0)
      })
    },
    // åˆ‡æ¢é€‰é¡¹
    handleNodeClick(node){
      this.valueTitle = node[this.props.label]
      this.valueId = node[this.props.value]
      this.$emit('getValue',this.valueId)
      this.defaultExpandedKey = []
      if(!node.childrenÂ ||Â !node.children.length)Â { //è¡¥å½•é€‰æ‹©å®Œé€‰é¡¹å¼¹æ¡†ä¸èƒ½æ”¶èµ·
Â Â Â Â Â Â Â Â this.$refs.treeSelect.blur()
Â Â Â Â Â Â }
    },
    // æ¸…é™¤é€‰ä¸­
    clearHandle(){
      this.valueTitle = ''
      this.valueId = null
      this.defaultExpandedKey = []
      this.clearSelected()
      this.$emit('getValue',null)
    },
    /* æ¸…ç©ºé€‰ä¸­æ ·å¼ */
    clearSelected(){
      let allNode = document.querySelectorAll('#tree-option .el-tree-node')
      allNode.forEach((element)=>element.classList.remove('is-current'))
    },
    filterNode(value, data) {
      if (!value) return true;
      return data.name.indexOf(value) !== -1;
    }
  },
  watch: {
    value(){
      this.valueId = this.value
      this.initHandle()
    },
    filterText(val) {
      this.$refs.selectTree.filter(val);
    }
  },
};
</script>
<!-- Add "scoped" attribute to limit CSS to this component only -->
<style scoped>
  .el-scrollbar .el-scrollbar__view .el-select-dropdown__item{
    height: auto;
    max-height: 274px;
    padding: 0;
    overflow: hidden;
    overflow-y: auto;
  }
  .el-select-dropdown__item.selected{
    font-weight: normal;
  }
  ul li >>>.el-tree .el-tree-node__content{
    height:auto;
    padding: 0 20px;
  }
  .el-tree-node__label{
    font-weight: normal;
  }
  .el-tree >>>.is-current .el-tree-node__label{
    color: #409EFF;
    font-weight: 700;
  }
  .el-tree >>>.is-current .el-tree-node__children .el-tree-node__label{
    color:#606266;
    font-weight: normal;
  }
  .selectInput{
    padding: 0 5px;
    box-sizing: border-box;
  }
</style>

```



### åŸºäºelement-plusçš„å¼¹çª—å°è£…

```vue
<template>
  <el-dialog   v-bind="$attrs" class="default-size" :close-on-click-modal="false">
    <template #header>
        <slot name="header"></slot>
    </template>
    <div class="dialog__content" :style="{height: $attrs.height}">
      <div class="dialog-box">
        <slot name="default"></slot>

      </div>
    </div>

    <template #footer>
        <slot name="footer"></slot>
    </template>
  </el-dialog>
</template>

<script setup>
const props = defineProps({

})
import {} from "vue"
</script>

<style lang="scss" scoped>

</style>
```

ä½¿ç”¨,

```vue
<Dialog
    v-model="isShow"
    :title="dialogTitle"
    width="35%"
    height="300px"
    @close="closeDialog(addFormRef)"
>
    <div class="box" style="width: 95%;margin:0 auto;height: 300px; position: relative; ">

    </div>
    <template #footer>
        <el-button @click="isShow = false">å–æ¶ˆ</el-button>
        <el-button type="primary" @click="handleSubmit(addFormRef)"> ç¡®è®¤ </el-button>
    </template>
</Dialog>
```



### åŸºäºelement çš„å›¾ç‰‡é¢„è§ˆå°è£…

preview/preview.vue

```vue
<template>
    <el-image-viewer
      v-if="showPreview"
      :urlList="previewImages"
      :on-close="closeViewer"
      :zIndex="99999"
    ></el-image-viewer>
  </template>
  <script>
  // å¯è‡ªè¡Œå»å¯¹åº”ç›®å½•æŸ¥çœ‹è¯¥ç»„ä»¶
  import ElImageViewer from "element-ui/packages/image/src/image-viewer";
  export default {
    data() {
      return {
        showPreview: false,
        previewImages: []
      };
    },
    components: {
      ElImageViewer
    },
    methods: {
      closeViewer() {
        this.showPreview = false;
        document.querySelector('body').classList.remove('el-popup-imageView--hidden')
      }
    }
  };
  </script>
```

preview/index.js

```js
import PreviewItem from "./Preview.vue";
 
const Preview = {};
 
// æ³¨å†Œ
Preview.install = function(Vue) {
  const PreviewConstructor = Vue.extend(PreviewItem);
  const instance = new PreviewConstructor();
  let div = document.createElement("div")
  div.style.position = 'absolute'
  div.style.zIndex = '999999'
  instance.$mount(document.createElement(div));
  document.body.appendChild(instance.$el);
 
  /**
   * æŒ‚è½½åœ¨vueåŸå‹ä¸Š
   * @param {Array} imgs éœ€è¦é¢„è§ˆçš„å›¾ç‰‡æ•°ç»„
   */
  Vue.prototype.$openPreview = function(imgs = []) {
    instance.showPreview = true;
    document.querySelector('body').classList.add('el-popup-imageView--hidden')
    instance.previewImages = imgs;
  };
};
 
export default Preview;
```

ä½¿ç”¨ï¼Œåœ¨main.js æ³¨å†Œç»„ä»¶

```js
// å›¾ç‰‡å¼¹çª—
import preview from '@/components/CommonPreview'
Vue.use(preview)
```

å…¨å±€è°ƒç”¨

```js
this.$openPreview(['url'])
```



### åŸºäºelement-plus å°è£…å›¾ç‰‡é¢„è§ˆç»„ä»¶

å‘½ä»¤å¼ç»„ä»¶

Preview/index.vue

```vue
<template>
    <div>
      <div class="demo-image__preview">
        <!-- element-pluså†…éƒ¨ç»„ä»¶ -->
        <el-image-viewer @close="props.close" v-if="props.imageList.length" :url-list="props.imageList" />
      </div>
    </div>
  </template>
   
  <script setup>
    import { ref } from 'vue'
    const props = defineProps({
      // å›¾ç‰‡åˆ—è¡¨
      imageList: {
        type: Array,
        default: () => []
      },
      close: {
        type: Function,
        default: () => {}
      }
    })
  </script>
```

Preview/index.js

```js
import PreviewImg from './index.vue'
import { createApp } from 'vue'

PreviewImg.view = (props, callback) => {
    const previewImg = createApp(PreviewImg, {
        ...props,
        close
    });
    let PreviewBox = document.createElement('div');
    open();
    function open() {
        previewImg.mount(PreviewBox);
        document.body.appendChild(PreviewBox);
    }
    function close() {
        previewImg.unmount();
    }
}

export default PreviewImg;
```

ä½¿ç”¨

```js
import previewImg from "@/components/PreviewImg"

previewImg.view({
    imageList: ['https://fuss10.elemecdn.com/a/3f/3302e58f9a181d2509f3dc0fa68b0jpeg.jpeg']
  })
```



### vite æ³¨å†Œæˆå…¨å±€ svg-icon ç»„ä»¶

vite é€šè¿‡ ä½¿ç”¨ vite-plugin-svg-icons æ’ä»¶ä½¿ç”¨ svg å›¾ç‰‡

```shell
yarn add vite-plugin-svg-icons -D
```

åœ¨main.js ä¸­

```js
import 'virtual:svg-icons-register'
```

é…ç½® vite.config.js

```js
//import path,{ resolve } from 'path'
import path from 'path'
import {createSvgIconsPlugin} from 'vite-plugin-svg-icons'
 
export default defineConfig((command) => {
 return {
    plugins: [
      createSvgIconsPlugin({
        // æŒ‡å®šè¦ç¼“å­˜çš„æ–‡ä»¶å¤¹
        iconDirs: [path.resolve(process.cwd(), 'src/assets/icons')],
        // æŒ‡å®šsymbolIdæ ¼å¼
        symbolId: '[name]'
      })
    ],
}
 
})
```

æ–°å¢ç»„ä»¶ icon-svg

```vue
<template>
  <svg aria-hidden="true">
    <use :class="fillClass" :href="symbolId" :xlink:href="symbolId" :fill="color" />
  </svg>
</template>

<script setup>
import {computed} from 'vue'

const props = defineProps({
    // æ˜¾ç¤ºå¾—SVG å›¾ç‰‡åç§°
    name: {
        type: String,
        required: true
    },
    // ç›´æ¥æŒ‡å®š SVG å›¾è¡¨é¢œè‰²
    color: {
        type: String,
    },
    // æŒ‡å®š svg é¢œè‰²çš„ç±»å
    fillClass: {
        type: String
    }
})

const symbolId = computed(()=> `#icon-${props.name}`)
</script>
```

å…¨å±€æ³¨å†Œ ç»„ä»¶ï¼Œ ä½¿ç”¨

```js
import { defineAsyncComponent } from 'vue'
export default {
  install(app) {
    // è·å–å½“å‰è·¯å¾„ä»»æ„æ–‡ä»¶å¤¹ä¸‹çš„ index.vue æ–‡ä»¶
    const components = import.meta.glob('./*/index.vue')
    // éå†è·å–åˆ°çš„ç»„ä»¶æ¨¡å—
    for (const [key, value] of Object.entries(components)) {
      // æ‹¼æ¥ç»„ä»¶æ³¨å†Œçš„ name
      const componentName = 'm-' + key.replace('./', '').split('/')[0]
      // é€šè¿‡ defineAsyncComponent å¼‚æ­¥å¯¼å…¥æŒ‡å®šè·¯å¾„ä¸‹çš„ç»„ä»¶
      app.component(componentName, defineAsyncComponent(value))
    }
  }
}
```

```vue
<m-svg-icon class="w-1.5 h-1.5" name="hamburger"></m-svg-icon>
```



### vue-cli æ³¨å†Œå…¨å±€ svg-icon ç»„ä»¶

components/SvgIcon/index.vue

```vue
<template>
  <div v-if="isExternal" :style="styleExternalIcon" class="svg-external-icon svg-icon" v-on="$listeners" />
  <svg v-else :class="svgClass" aria-hidden="true" v-on="$listeners">
    <use :xlink:href="iconName" />
  </svg>
</template>

<script>
function isExternal(path) {
  return /^(https?:|mailto:|tel:)/.test(path)
}
export default {
  name: 'SvgIcon',
  props: {
    iconClass: {
      type: String,
      required: true
    },
    className: {
      type: String,
      default: ''
    }
  },
  computed: {
    isExternal() {
      return isExternal(this.iconClass)
    },
    iconName() {
      return `#icon-${this.iconClass}`
    },
    svgClass() {
      if (this.className) {
        return 'svg-icon ' + this.className
      } else {
        return 'svg-icon'
      }
    },
    styleExternalIcon() {
      return {
        mask: `url(${this.iconClass}) no-repeat 50% 50%`,
        '-webkit-mask': `url(${this.iconClass}) no-repeat 50% 50%`
      }
    }
  }
}
</script>

<style scoped>
.svg-icon {
  width: 1em;
  height: 1em;
  vertical-align: -0.15em;
  fill: currentColor;
  overflow: hidden;
}

.svg-external-icon {
  background-color: currentColor;
  mask-size: cover!important;
  display: inline-block;
}
</style>

```

assets/icons/svg æ–‡ä»¶å¤¹ä¸‹æ”¾ç½® svg icon

assets/icons/index.js

```js
import Vue from 'vue'
import SvgIcon from '@/components/SvgIcon'// svg component

// register globally
Vue.component('svg-icon', SvgIcon)

// ç¼“å­˜å…¨éƒ¨ svg
const req = require.context('./svg', false, /\.svg$/)
const requireAll = requireContext => requireContext.keys().map(requireContext)
requireAll(req)
```

vue.config.js é…ç½® chainWebpack åŠ è½½ svg

```js
// set svg-sprite-loader
 chainWebpack: (config) => {
    config.module
      .rule('svg')
      .exclude.add(path.resolve('src/assets/icons'))
      .end()
    config.module
      .rule('icons')
      .test(/\.svg$/)
      .include.add(path.resolve('src/assets/icons'))
      .end()
      .use('svg-sprite-loader')
      .loader('svg-sprite-loader')
      .options({
        symbolId: 'icon-[name]'
      })
      .end()
 }
```

åœ¨main.js ä¸­æ³¨å†Œ

```js
import './assets/icons' // icon
```

ä½¿ç”¨

```vue
<svg-icon :icon-class="iconName" class-name="icon" style="height: 25px;width: 16px;"/>
```



### å›¾æ ‡é€‰æ‹©å™¨ç»„ä»¶

IconSelect/index.vue

```vue
<template>
  <div class="icon-body">
    <el-input v-model="name" class="icon-search" clearable placeholder="è¯·è¾“å…¥å›¾æ ‡åç§°" @clear="filterIcons" @input="filterIcons">
      <i slot="suffix" class="el-icon-search el-input__icon" />
    </el-input>
    <div class="icon-list">
      <div class="list-container">
        <div v-for="(item, index) in iconList" class="icon-item-wrapper" :key="index" @click="selectedIcon(item)">
          <div :class="['icon-item', { active: activeIcon === item }]">
            <svg-icon :icon-class="item" class-name="icon" style="height: 25px;width: 16px;"/>
            <span>{{ item }}</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<script>
import icons from './requireIcons'
export default {
  name: 'IconSelect',
  props: {
    activeIcon: {
      type: String
    }
  },
  data() {
    return {
      name: '',
      iconList: icons
    }
  },
  methods: {
    filterIcons() {
      this.iconList = icons
      if (this.name) {
        this.iconList = this.iconList.filter(item => item.includes(this.name))
      }
    },
    selectedIcon(name) {
      this.$emit('selected', name)
      document.body.click()
    },
    reset() {
      this.name = ''
      this.iconList = icons
    }
  }
}
</script>

<style lang="less" scoped>
  .icon-body {
    width: 100%;
    padding: 10px;
    .icon-search {
      position: relative;
      margin-bottom: 5px;
    }
    .icon-list {
      height: 200px;
      overflow: auto;
      .list-container {
        display: flex;
        flex-wrap: wrap;
        .icon-item-wrapper {
          width: calc(100% / 3);
          height: 25px;
          line-height: 25px;
          cursor: pointer;
          display: flex;
          .icon-item {
            display: flex;
            max-width: 100%;
            height: 100%;
            padding: 0 5px;
            &:hover {
              background: #ececec;
              border-radius: 5px;
            }
            .icon {
              flex-shrink: 0;
            }
            span {
              display: inline-block;
              vertical-align: -0.15em;
              fill: currentColor;
              padding-left: 2px;
              overflow: hidden;
              text-overflow: ellipsis;
              white-space: nowrap;
            }
          }
          .icon-item.active {
            background: #ececec;
            border-radius: 5px;
          }
        }
      }
    }
  }
</style>

```

IconSelect/requireIcons.js

```js
const req = require.context('../../assets/icons/svg', false, /\.svg$/)
const requireAll = requireContext => requireContext.keys()

const re = /\.\/(.*)\.svg/

const icons = requireAll(req).map(i => {
  return i.match(re)[1]
})

export default icons

```

ä½¿ç”¨

```vue
<el-col >
    <el-form-item label="èœå•å›¾æ ‡" prop="icon">
    <el-popover
        placement="bottom-start"
        width="460"
        trigger="click"
        @show="$refs['iconSelect'].reset()"
    >
        <IconSelect ref="iconSelect" @selected="selected" :active-icon="form.icon" />
        <el-input slot="reference" v-model="form.icon" placeholder="ç‚¹å‡»é€‰æ‹©å›¾æ ‡" readonly>
        <svg-icon
            v-if="form.icon"
            slot="prefix"
            :icon-class="form.icon"
            style="width: 25px;"
        />
        <i slot="prefix"  v-else  class="el-icon-search el-input__icon" />
        </el-input>
    </el-popover>
    </el-form-item>
</el-col>
```

### å¯¹è¯è¾“å…¥æ¡†

é€šç”¨çš„å¤§æ¨¡å‹å¯¹è¯æ¡†ï¼Œæ”¯æŒ æ¢è¡Œè¾“å…¥å°±ä¸¤è¡Œå±•ç¤ºï¼Œæ–‡æœ¬åŸŸè¶…å‡º4è¡Œå‡ºç°æ»šåŠ¨æ¡ï¼Œctrl+eneræ¢è¡Œï¼Œenteré”®è§¦å‘å‘é€

```html
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <title>Chat Input UI Preview</title>
    <style>
        body {
            background-color: #f3f4f6;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: Arial, sans-serif;
        }

       .chat-container {
            background-color: #ffffff;
            padding: 1rem;
            border-radius: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            width: 100%;
            max-width: 24rem;
        }

       .input-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

       .input-group.single-line {
            flex-direction: row;
            align-items: center;
            gap: 0.5rem;
        }

        textarea {
            resize: none;
            min-height: 1.5em; /* è°ƒæ•´ä¸ºå¤§è‡´ä¸€è¡Œæ–‡å­—é«˜åº¦ */
            max-height: 6em;
            overflow-y: auto;
            border: none;
            outline: none;
            padding: 0.25rem 0.5rem; /* è°ƒæ•´å†…è¾¹è· */
            flex-grow: 1;
            box-shadow: none;
            line-height: 1.5; /* è®¾ç½®è¡Œé«˜ */
        }

       .button-group {
            display: flex;
            justify-content: flex-end;
            gap: 0.5rem;
        }

        button {
            border: none;
            background: none;
            cursor: pointer;
        }

       .icon-button {
            color: #6b7280;
        }

       .icon-button:hover {
            color: #4b5563;
        }

       .send-button {
            background-color: #3b82f6;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
        }

       .send-button:hover {
            background-color: #2563eb;
        }
    </style>
</head>

<body>
    <div id="app">
        <div class="chat-container">
            <div :class="{'input-group single-line':!isMultiLine, 'input-group': isMultiLine}">
                <textarea
                    v-model="inputValue"
                    @keydown="handleKeyDown"
                    @input="handleInput"
                    ref="textareaRef"
                    placeholder="è¾“å…¥æ¶ˆæ¯..."
                ></textarea>
                <div class="button-group">
                    <button class="icon-button">
                        <i class="fa-solid fa-microphone"></i>
                    </button>
                    <button @click="sendMessage" class="send-button">
                        å‘é€
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const { createApp, ref, onMounted } = Vue;

        const app = createApp({
            setup() {
                const inputValue = ref('');
                const textareaRef = ref(null);
                const isMultiLine = ref(false);

                const handleInput = () => {
                    if (textareaRef.value) {
                        textareaRef.value.style.height = 'auto';
                        textareaRef.value.style.height = `${textareaRef.value.scrollHeight}px`;
                        isMultiLine.value = inputValue.value.includes('\n');
                    }
                };

                const handleKeyDown = (event) => {
                    if (event.key === 'Enter' && !event.shiftKey) {
                        event.preventDefault();
                        sendMessage();
                    }
                };

                const sendMessage = () => {
                    if (inputValue.value.trim()) {
                        alert(inputValue.value);
                        inputValue.value = '';
                        handleInput();
                    }
                };

                onMounted(() => {
                    handleInput();
                });

                return {
                    inputValue,
                    textareaRef,
                    isMultiLine,
                    handleInput,
                    handleKeyDown,
                    sendMessage
                };
            }
        });

        app.mount('#app');
    </script>
</body>

</html>    
```

