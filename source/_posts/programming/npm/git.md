---
title: git é…ç½®
date: 2022-06-17 18:23:10
tags: git
categories: git
---
### git å¯†ç éªŒè¯ä¸é€šè¿‡é—®é¢˜

> ç§æœ‰ä»“åº“ è´¦æˆ·å¯†ç èº«ä»½éªŒè¯åœ¨2021-08-13æ—¥å·²å–æ¶ˆï¼Œæ¢æˆä»¤ç‰Œçš„è®¤è¯æ–¹å¼

```
git remote set-url origin  https://<your_token>@github.com/<USERNAME>/<REPO>.git

git clone https://<TOKEN>@github.com/<user_name>/<repo_name>.git
```



## git éªŒè¯ä¼˜åŒ–

```js
// clone é¡¹ç›®åæ¯æ¬¡æ‹‰å»æäº¤ä»£ç  éœ€è¦è¾“å…¥å¯†ç éªŒè¯

// æ‰§è¡Œå è¾“å…¥ä¸€æ¬¡è´¦æˆ·å¯†ç å°±å¯ä»¥ä¸ç”¨åœ¨è¾“å…¥äº†
git config credential.helper store

// åè¾¹ åŠ  -glob å¯ä»¥å…¨å±€è®¾ç½®æ‰€æœ‰ä»“åº“ï¼Œä¸åŠ é»˜è®¤å½“å‰ä»“åº“ç”Ÿæ•ˆ
```

<!--more-->

## git æ’¤é”€æäº¤

#### ä¸€ã€æ’¤é”€æäº¤

ä¸€ç§å¸¸è§çš„åœºæ™¯æ˜¯ï¼Œæäº¤ä»£ç ä»¥åï¼Œä½ çªç„¶æ„è¯†åˆ°è¿™ä¸ªæäº¤æœ‰é—®é¢˜ï¼Œåº”è¯¥æ’¤é”€æ‰ï¼Œè¿™æ—¶æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥äº†ã€‚

> ```bash
> $ git revert HEAD
> ```

ä¸Šé¢å‘½ä»¤çš„åŸç†æ˜¯ï¼Œåœ¨å½“å‰æäº¤åé¢ï¼Œæ–°å¢ä¸€æ¬¡æäº¤ï¼ŒæŠµæ¶ˆæ‰ä¸Šä¸€æ¬¡æäº¤å¯¼è‡´çš„æ‰€æœ‰å˜åŒ–ã€‚å®ƒä¸ä¼šæ”¹å˜è¿‡å»çš„å†å²ï¼Œæ‰€ä»¥æ˜¯é¦–é€‰æ–¹å¼ï¼Œæ²¡æœ‰ä»»ä½•ä¸¢å¤±ä»£ç çš„é£é™©ã€‚

`git revert` å‘½ä»¤åªèƒ½æŠµæ¶ˆä¸Šä¸€ä¸ªæäº¤ï¼Œå¦‚æœæƒ³æŠµæ¶ˆå¤šä¸ªæäº¤ï¼Œå¿…é¡»åœ¨å‘½ä»¤è¡Œä¾æ¬¡æŒ‡å®šè¿™äº›æäº¤ã€‚æ¯”å¦‚ï¼ŒæŠµæ¶ˆå‰ä¸¤ä¸ªæäº¤ï¼Œè¦åƒä¸‹é¢è¿™æ ·å†™ã€‚

> ```bash
> $ git revert [å€’æ•°ç¬¬ä¸€ä¸ªæäº¤] [å€’æ•°ç¬¬äºŒä¸ªæäº¤]
> ```

`git revert`å‘½ä»¤è¿˜æœ‰ä¸¤ä¸ªå‚æ•°ã€‚

> - `--no-edit`ï¼šæ‰§è¡Œæ—¶ä¸æ‰“å¼€é»˜è®¤ç¼–è¾‘å™¨ï¼Œç›´æ¥ä½¿ç”¨ Git è‡ªåŠ¨ç”Ÿæˆçš„æäº¤ä¿¡æ¯ã€‚
> - `--no-commit`ï¼šåªæŠµæ¶ˆæš‚å­˜åŒºå’Œå·¥ä½œåŒºçš„æ–‡ä»¶å˜åŒ–ï¼Œä¸äº§ç”Ÿæ–°çš„æäº¤ã€‚

#### äºŒã€ä¸¢å¼ƒæäº¤

å¦‚æœå¸Œæœ›ä»¥å‰çš„æäº¤åœ¨å†å²ä¸­å½»åº•æ¶ˆå¤±ï¼Œè€Œä¸æ˜¯è¢«æŠµæ¶ˆæ‰ï¼Œå¯ä»¥ä½¿ç”¨`git reset`å‘½ä»¤ï¼Œä¸¢å¼ƒæ‰æŸä¸ªæäº¤ä¹‹åçš„æ‰€æœ‰æäº¤ã€‚

> ```bash
> $ git reset [last good SHA]
> ```

`git reset`çš„åŸç†æ˜¯ï¼Œè®©æœ€æ–°æäº¤çš„æŒ‡é’ˆå›åˆ°ä»¥å‰æŸä¸ªæ—¶ç‚¹ï¼Œè¯¥æ—¶ç‚¹ä¹‹åçš„æäº¤éƒ½ä»å†å²ä¸­æ¶ˆå¤±ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œ`git reset`ä¸æ”¹å˜å·¥ä½œåŒºçš„æ–‡ä»¶ï¼ˆä½†ä¼šæ”¹å˜æš‚å­˜åŒºï¼‰ï¼Œ`--hard`å‚æ•°å¯ä»¥è®©å·¥ä½œåŒºé‡Œé¢çš„æ–‡ä»¶ä¹Ÿå›åˆ°ä»¥å‰çš„çŠ¶æ€ã€‚

> ```bash
> $ git reset --hard [last good SHA]
> ```

æ‰§è¡Œ`git reset`å‘½ä»¤ä¹‹åï¼Œå¦‚æœæƒ³æ‰¾å›é‚£äº›ä¸¢å¼ƒæ‰çš„æäº¤ï¼Œå¯ä»¥ä½¿ç”¨`git reflog`å‘½ä»¤ï¼Œå…·ä½“åšæ³•å‚è€ƒ[è¿™é‡Œ](https://github.blog/2015-06-08-how-to-undo-almost-anything-with-git/#redo-after-undo-local)ã€‚ä¸è¿‡ï¼Œè¿™ç§åšæ³•æœ‰æ—¶æ•ˆæ€§ï¼Œæ—¶é—´é•¿äº†å¯èƒ½æ‰¾ä¸å›æ¥ã€‚

#### ä¸‰ã€æ›¿æ¢ä¸Šä¸€æ¬¡æäº¤

æäº¤ä»¥åï¼Œå‘ç°æäº¤ä¿¡æ¯å†™é”™äº†ï¼Œè¿™æ—¶å¯ä»¥ä½¿ç”¨`git commit`å‘½ä»¤çš„`--amend`å‚æ•°ï¼Œå¯ä»¥ä¿®æ”¹ä¸Šä¸€æ¬¡çš„æäº¤ä¿¡æ¯ã€‚

> ```bash
> $ git commit --amend -m "Fixes bug #42"
> ```

å®ƒçš„åŸç†æ˜¯äº§ç”Ÿä¸€ä¸ªæ–°çš„æäº¤å¯¹è±¡ï¼Œæ›¿æ¢æ‰ä¸Šä¸€æ¬¡æäº¤äº§ç”Ÿçš„æäº¤å¯¹è±¡ã€‚

è¿™æ—¶å¦‚æœæš‚å­˜åŒºæœ‰å‘ç”Ÿå˜åŒ–çš„æ–‡ä»¶ï¼Œä¼šä¸€èµ·æäº¤åˆ°ä»“åº“ã€‚æ‰€ä»¥ï¼Œ`--amend`ä¸ä»…å¯ä»¥ä¿®æ”¹æäº¤ä¿¡æ¯ï¼Œè¿˜å¯ä»¥æ•´ä¸ªæŠŠä¸Šä¸€æ¬¡æäº¤æ›¿æ¢æ‰ã€‚

#### å››ã€æ’¤é”€å·¥ä½œåŒºçš„æ–‡ä»¶ä¿®æ”¹

å¦‚æœå·¥ä½œåŒºçš„æŸä¸ªæ–‡ä»¶è¢«æ”¹ä¹±äº†ï¼Œä½†è¿˜æ²¡æœ‰æäº¤ï¼Œå¯ä»¥ç”¨`git checkout`å‘½ä»¤æ‰¾å›æœ¬æ¬¡ä¿®æ”¹ä¹‹å‰çš„æ–‡ä»¶ã€‚

> ```bash
> $ git checkout -- [filename]
> ```

å®ƒçš„åŸç†æ˜¯å…ˆæ‰¾æš‚å­˜åŒºï¼Œå¦‚æœè¯¥æ–‡ä»¶æœ‰æš‚å­˜çš„ç‰ˆæœ¬ï¼Œåˆ™æ¢å¤è¯¥ç‰ˆæœ¬ï¼Œå¦åˆ™æ¢å¤ä¸Šä¸€æ¬¡æäº¤çš„ç‰ˆæœ¬ã€‚

æ³¨æ„ï¼Œå·¥ä½œåŒºçš„æ–‡ä»¶å˜åŒ–ä¸€æ—¦è¢«æ’¤é”€ï¼Œå°±æ— æ³•æ‰¾å›äº†ã€‚

#### äº”ã€ä»æš‚å­˜åŒºæ’¤é”€æ–‡ä»¶

å¦‚æœä¸å°å¿ƒæŠŠä¸€ä¸ªæ–‡ä»¶æ·»åŠ åˆ°æš‚å­˜åŒºï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤æ’¤é”€ã€‚

> ```bash
> $ git rm --cached [filename]
> ```

ä¸Šé¢çš„å‘½ä»¤ä¸å½±å“å·²ç»æäº¤çš„å†…å®¹ã€‚

#### å…­ã€æ’¤é”€å½“å‰åˆ†æ”¯çš„å˜åŒ–

ä½ åœ¨å½“å‰åˆ†æ”¯ä¸Šåšäº†å‡ æ¬¡æäº¤ï¼Œçªç„¶å‘ç°æ”¾é”™äº†åˆ†æ”¯ï¼Œè¿™å‡ ä¸ªæäº¤æœ¬åº”è¯¥æ”¾åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ã€‚

> ```bash
> # æ–°å»ºä¸€ä¸ª feature åˆ†æ”¯ï¼ŒæŒ‡å‘å½“å‰æœ€æ–°çš„æäº¤
> # æ³¨æ„ï¼Œè¿™æ—¶ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯
> $ git branch feature
> 
> # åˆ‡æ¢åˆ°è¿™å‡ æ¬¡æäº¤ä¹‹å‰çš„çŠ¶æ€
> $ git reset --hard [å½“å‰åˆ†æ”¯æ­¤å‰çš„æœ€åä¸€æ¬¡æäº¤]
> 
> # åˆ‡æ¢åˆ° feature åˆ†æ”¯
> $ git checkout feature
> ```

ä¸Šé¢çš„æ“ä½œç­‰äºæ˜¯æ’¤é”€å½“å‰åˆ†æ”¯çš„å˜åŒ–ï¼Œå°†è¿™äº›å˜åŒ–æ”¾åˆ°ä¸€ä¸ªæ–°å»ºçš„åˆ†æ”¯ã€‚

### github-action

```
å‰ç«¯è‡ªåŠ¨åŒ–éƒ¨ç½²åˆ° GitHub
```

## å››ã€å®ä¾‹ï¼šReact é¡¹ç›®å‘å¸ƒåˆ° GitHub Pages

ä¸‹é¢æ˜¯ä¸€ä¸ªå®ä¾‹ï¼Œé€šè¿‡ GitHub Actions æ„å»ºä¸€ä¸ª React é¡¹ç›®ï¼Œå¹¶å‘å¸ƒåˆ° GitHub Pagesã€‚æœ€ç»ˆä»£ç éƒ½åœ¨[è¿™ä¸ªä»“åº“](https://github.com/ruanyf/github-actions-demo)é‡Œé¢ï¼Œå‘å¸ƒåçš„å‚è€ƒç½‘å€ä¸º[ruanyf.github.io/github-actions-demo](https://ruanyf.github.io/github-actions-demo)ã€‚

ç¬¬ä¸€æ­¥ï¼ŒGitHub Actions ç›®å‰è¿˜å¤„åœ¨æµ‹è¯•é˜¶æ®µï¼Œéœ€è¦[ç”³è¯·](https://github.com/features/actions/signup/)æµ‹è¯•èµ„æ ¼ã€‚ç”³è¯·ä»¥åï¼Œå¯èƒ½éœ€è¦å‡ å¤©æ‰èƒ½é€šè¿‡ã€‚æ®è¯´ï¼Œ2019å¹´11æœˆå°±ä¼šæ”¾å¼€ã€‚

è·å¾—èµ„æ ¼åï¼Œä»“åº“é¡¶éƒ¨çš„èœå•ä¼šå‡ºç°`Actions`ä¸€é¡¹ã€‚

![img](https://www.wangbase.com/blogimg/asset/201909/bg2019091106.jpg)

ç¬¬äºŒæ­¥ï¼Œè¿™ä¸ªç¤ºä¾‹éœ€è¦å°†æ„å»ºæˆæœå‘åˆ° GitHub ä»“åº“ï¼Œå› æ­¤éœ€è¦ GitHub å¯†é’¥ã€‚æŒ‰ç…§[æ–‡æ¡£](https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line)ï¼Œç”Ÿæˆä¸€ä¸ªå¯†é’¥ã€‚ç„¶åï¼Œå°†è¿™ä¸ªå¯†é’¥å‚¨å­˜åˆ°å½“å‰ä»“åº“çš„`Settings/Secrets`é‡Œé¢ã€‚

![img](https://www.wangbase.com/blogimg/asset/201909/bg2019091107.jpg)

ä¸Šå›¾æ˜¯å‚¨å­˜ç§˜å¯†çš„ç¯å¢ƒå˜é‡çš„åœ°æ–¹ã€‚ç¯å¢ƒå˜é‡çš„åå­—å¯ä»¥éšä¾¿èµ·ï¼Œè¿™é‡Œç”¨çš„æ˜¯`ACCESS_TOKEN`ã€‚å¦‚æœä½ ä¸ç”¨è¿™ä¸ªåå­—ï¼Œåé¢è„šæœ¬é‡Œçš„å˜é‡åä¹Ÿè¦è·Ÿç€æ”¹ã€‚

ç¬¬ä¸‰æ­¥ï¼Œæœ¬åœ°è®¡ç®—æœºä½¿ç”¨[`create-react-app`](https://github.com/facebook/create-react-app)ï¼Œç”Ÿæˆä¸€ä¸ªæ ‡å‡†çš„ React åº”ç”¨ã€‚

> ```bash
> $ npx create-react-app github-actions-demo
> $ cd github-actions-demo
> ```

ç„¶åï¼Œæ‰“å¼€`package.json`æ–‡ä»¶ï¼ŒåŠ ä¸€ä¸ª`homepage`å­—æ®µï¼Œè¡¨ç¤ºè¯¥åº”ç”¨å‘å¸ƒåçš„æ ¹ç›®å½•ï¼ˆå‚è§[æ–‡æ¡£](https://create-react-app.dev/docs/deployment#building-for-relative-paths)ï¼‰ã€‚

> ```javascript
> "homepage": "https://[username].github.io/github-actions-demo",
> ```

ä¸Šé¢ä»£ç ä¸­ï¼Œå°†`[username]`æ›¿æ¢æˆä½ çš„ GitHub ç”¨æˆ·åï¼Œå‚è§[èŒƒä¾‹](https://github.com/ruanyf/github-actions-demo/blob/master/package.json#L10)ã€‚

ç¬¬å››æ­¥ï¼Œåœ¨è¿™ä¸ªä»“åº“çš„`.github/workflows`ç›®å½•ï¼Œç”Ÿæˆä¸€ä¸ª workflow æ–‡ä»¶ï¼Œåå­—å¯ä»¥éšä¾¿å–ï¼Œè¿™ä¸ªç¤ºä¾‹æ˜¯`ci.yml`ã€‚

æˆ‘ä»¬é€‰ç”¨ä¸€ä¸ªåˆ«äººå·²ç»å†™å¥½çš„ actionï¼š[JamesIves/github-pages-deploy-action](https://github.com/marketplace/actions/deploy-to-github-pages)ï¼Œå®ƒæä¾›äº† workflow çš„èŒƒä¾‹æ–‡ä»¶ï¼Œç›´æ¥æ‹·è´è¿‡æ¥å°±è¡Œäº†ï¼ˆ[æºç ](https://github.com/ruanyf/github-actions-demo/blob/master/.github/workflows/ci.yml)ï¼‰ã€‚

> ```javascript
> name: Build and Deploy
> title: Test title
> description:  Test description
> on: [push]
> jobs:
>   build-and-deploy:
>     concurrency: ci-${{ github.ref }} 
>     runs-on: ubuntu-latest
>     steps:
>       - name: Checkout
>         uses: actions/checkout@v2
> 
>       - name: Install and Build ğŸ”§ 
>         run: |
>           npm ci
>           npm run build
> 
>       - name: Deploy
>         uses: JamesIves/github-pages-deploy-action@v4.2.3
>         with:
>           branch: gh-pages 
>           folder: build
> ```

ä¸Šé¢è¿™ä¸ª workflow æ–‡ä»¶çš„è¦ç‚¹å¦‚ä¸‹ã€‚

> 1. æ•´ä¸ªæµç¨‹åœ¨`master`åˆ†æ”¯å‘ç”Ÿ`push`äº‹ä»¶æ—¶è§¦å‘ã€‚
> 2. åªæœ‰ä¸€ä¸ª`job`ï¼Œè¿è¡Œåœ¨è™šæ‹Ÿæœºç¯å¢ƒ`ubuntu-latest`ã€‚
> 3. ç¬¬ä¸€æ­¥æ˜¯è·å–æºç ï¼Œä½¿ç”¨çš„ action æ˜¯`actions/checkout`ã€‚
> 4. ç¬¬äºŒæ­¥æ˜¯æ„å»ºå’Œéƒ¨ç½²ï¼Œä½¿ç”¨çš„ action æ˜¯`JamesIves/github-pages-deploy-action`ã€‚
> 5. ç¬¬äºŒæ­¥éœ€è¦å››ä¸ªç¯å¢ƒå˜é‡ï¼Œåˆ†åˆ«ä¸º GitHub å¯†é’¥ã€å‘å¸ƒåˆ†æ”¯ã€æ„å»ºæˆæœæ‰€åœ¨ç›®å½•ã€æ„å»ºè„šæœ¬ã€‚å…¶ä¸­ï¼Œåªæœ‰ GitHub å¯†é’¥æ˜¯ç§˜å¯†å˜é‡ï¼Œéœ€è¦å†™åœ¨åŒæ‹¬å·é‡Œé¢ï¼Œå…¶ä»–ä¸‰ä¸ªéƒ½å¯ä»¥ç›´æ¥å†™åœ¨æ–‡ä»¶é‡Œã€‚

ç¬¬äº”æ­¥ï¼Œä¿å­˜ä¸Šé¢çš„æ–‡ä»¶åï¼Œå°†æ•´ä¸ªä»“åº“æ¨é€åˆ° GitHubã€‚

GitHub å‘ç°äº† workflow æ–‡ä»¶ä»¥åï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œã€‚ä½ å¯ä»¥åœ¨ç½‘ç«™ä¸Šå®æ—¶æŸ¥çœ‹[è¿è¡Œæ—¥å¿—](https://github.com/ruanyf/github-actions-demo/commit/24fbf6a875351297f31434fd44bc3146accf9e59/checks)ï¼Œæ—¥å¿—é»˜è®¤ä¿å­˜30å¤©ã€‚

æœ€åé¡µé¢å¯èƒ½è¿˜æ˜¯æ‰“ä¸å¼€ï¼šThere isn't a GitHub Pages site here. 404

â€‹	å†ä»“åº“ç•Œé¢ï¼Œç‚¹å‡»settings -> pages é€‰æ‹©ä¸€ä¸ªä¸»é¢˜ï¼Œåé¢å°±å¯ä»¥äº†



## githubã€gitee ç”Ÿæˆè®¾ç½® ssh key

```js
1ã€github 

åˆ›å»ºä¸€ä¸ª SSH key 

$ ssh-keygen -t rsa -C "your_email@example.com"
ä»£ç å‚æ•°å«ä¹‰ï¼š

-t æŒ‡å®šå¯†é’¥ç±»å‹ï¼Œé»˜è®¤æ˜¯ rsa ï¼Œå¯ä»¥çœç•¥ã€‚
-C è®¾ç½®æ³¨é‡Šæ–‡å­—ï¼Œæ¯”å¦‚é‚®ç®±ã€‚
-f æŒ‡å®šå¯†é’¥æ–‡ä»¶å­˜å‚¨æ–‡ä»¶åã€‚æˆ–è€…åˆ°C:\Users\19507\.ssh ç›®å½•ä¸‹è¿è¡Œå°±å¯ä»¥ä¸æŒ‡å®šç›®å½•

ä»¥ä¸Šä»£ç çœç•¥äº† -f å‚æ•°ï¼Œå› æ­¤ï¼Œè¿è¡Œä¸Šé¢é‚£æ¡å‘½ä»¤åä¼šè®©ä½ è¾“å…¥ä¸€ä¸ªæ–‡ä»¶åï¼Œç”¨äºä¿å­˜åˆšæ‰ç”Ÿæˆçš„ SSH key ä»£ç 

æ¥ç€ï¼šä½ ä¹Ÿå¯ä»¥ä¸è¾“å…¥æ–‡ä»¶åï¼Œä½¿ç”¨é»˜è®¤æ–‡ä»¶åï¼ˆæ¨èï¼‰ï¼Œé‚£ä¹ˆå°±ä¼šç”Ÿæˆ id_rsa å’Œ id_rsa.pub ä¸¤ä¸ªç§˜é’¥æ–‡ä»¶ã€‚

å†ç„¶åï¼šæç¤ºä½ è¾“å…¥ä¸¤æ¬¡å¯†ç ï¼ˆè¯¥å¯†ç æ˜¯ä½ pushæ–‡ä»¶çš„æ—¶å€™è¦è¾“å…¥çš„å¯†ç ï¼Œè€Œä¸æ˜¯githubç®¡ç†è€…çš„å¯†ç ï¼‰ï¼Œ
å½“ç„¶ï¼Œä½ ä¹Ÿå¯ä»¥ä¸è¾“å…¥å¯†ç ï¼Œç›´æ¥æŒ‰å›è½¦ã€‚é‚£ä¹ˆpushçš„æ—¶å€™å°±ä¸éœ€è¦è¾“å…¥å¯†ç ï¼Œç›´æ¥æäº¤åˆ°githubä¸Šäº†

æœ€åï¼š
	æ‹·è´ id_rsa.pub æ–‡ä»¶çš„å†…å®¹ï¼Œå»GitHub ä¸Š è®¾ç½® ssh key
    
æµ‹è¯•ï¼š ssh -T git@github.com

2ã€gitee

ssh-keygen -t ed25519 -C "xxxxx@xxxxx.com"  
æ–‡ä»¶å
å¯†ç 

æµ‹è¯•ï¼šssh -T git@gitee.com
```

### git push ä¸€ç›´å¼¹å‡ºè¾“å…¥ç”¨æˆ·åå¯†ç æç¤ºï¼Œæˆ–è€…æŠ¥é”™ é—®é¢˜

```
åŸå› ï¼š
cloneçš„æ—¶å€™ç”¨çš„æ˜¯httpsé“¾æ¥

åœ¨é¡¹ç›®ç›®å½•.git/configæ–‡ä»¶

ä¿®æ”¹åŸåœ°å€ï¼š 
[remote "origin"]
	url = https://github.com/xxx.git

ä¸º
[remote "origin"]
	url = git@github.com:xxx.git

```

## gitå¤šè´¦å·ç®¡ç†

```js
åœ¨ .ssh æ–‡ä»¶å¤¹ä¸‹æ–°å»º config æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹

# gitee
Host gitee.com
HostName gitee.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/id_ed25519
# github
Host github.com
HostName github.com
PreferredAuthentications publickey
IdentityFile ~/.ssh/github_id

æäº¤ä»£ç æ—¶ä¸ºé¿å…å…¨å±€ global å½±å“ï¼Œè¦è®¾ç½® local
```



## [æ­å»ºä¸€ä¸ªæœ€ç®€å•çš„æœåŠ¡å™¨](https://www.ruanyifeng.com/blog/2022/10/git-server.html)

[å‚è€ƒæ–‡ç« ](https://www.gibbard.me/using_git_offline/)

ç†Ÿæ‚‰ Git çš„åŒå­¦å¯èƒ½çŸ¥é“ï¼ŒGit é»˜è®¤æ”¯æŒä¸¤ç§ä¼ è¾“åè®®ï¼šSSH å’Œ HTTP/HTTPSã€‚

æœåŠ¡å™¨ä¸€èˆ¬éƒ½è‡ªå¸¦ SSHï¼Œè¿™æ„å‘³ç€ï¼Œ**æˆ‘ä»¬å¯ä»¥ä»€ä¹ˆéƒ½ä¸å®‰è£…ï¼Œåªé€šè¿‡ SSH å°±æŠŠä»“åº“æ¨åˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚**

æ‰€ä»¥ï¼Œä¸€æ¡å‘½ä»¤å°±å¤Ÿäº†ã€‚æˆ‘ä»¬åªè¦åœ¨è¿œç¨‹æœåŠ¡å™¨ä¸Šï¼Œå»ºç«‹åŒåçš„ Git ä»“åº“ï¼ŒæœåŠ¡å™¨å°±æ­å»ºå¥½äº†ã€‚

> ```bash
> $ git init --bare [ä»“åº“å].git
> ```

ä¸Šé¢å‘½ä»¤ä¸­ï¼Œå„ä¸ªéƒ¨åˆ†çš„å«ä¹‰å¦‚ä¸‹ã€‚

ï¼ˆ1ï¼‰`git init`ï¼šåˆå§‹åŒ–ä¸€ä¸ª Git ä»“åº“ã€‚

ï¼ˆ2ï¼‰`--bare`ï¼šè¡¨ç¤ºæ–°ä»“åº“ä¸éœ€è¦å·¥ä½œç›®å½•ï¼Œåªå»ºç«‹ Git æ•°æ®ç›®å½•ã€‚

ï¼ˆ3ï¼‰`[ä»“åº“å].git`ï¼šæŒ‡å®šä»“åº“åï¼Œæ¯”å¦‚ä»“åº“åæ˜¯`example`ï¼Œé‚£ä¹ˆå°±è¦å»ºç«‹ä¸€ä¸ªå«åš`example.git`çš„ Git æ•°æ®ç›®å½•ã€‚

æ‰§è¡Œè¿™æ¡å‘½ä»¤ä»¥åï¼Œä¸€ä¸ªæœ€ç®€æ˜“çš„ Git æœåŠ¡å™¨å°±è¯ç”Ÿäº†ã€‚åé¢ï¼Œæˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ SSH è¿æ¥ï¼ŒæŠŠæœ¬åœ°ä»£ç æ¨é€åˆ°è¿™ä¸ªè¿œç¨‹ Git ä»“åº“äº†ã€‚

### è¿œç¨‹æœåŠ¡å™¨æ“ä½œ

ä¸‹é¢çš„æ“ä½œéƒ½åœ¨è¿œç¨‹æœåŠ¡å™¨å®Œæˆï¼Œå‡è®¾ä½ å·²ç»é€šè¿‡ SSH ç™»å½•ä¸Šå»äº†ã€‚ä¸ç†Ÿæ‚‰ SSH çš„åŒå­¦å¯ä»¥çœ‹å‚è€ƒè¿™ç¯‡[ã€ŠSSH å…¥é—¨ã€‹](https://www.ruanyifeng.com/blog/2011/12/ssh_remote_login.html)ã€‚

ç™»å½•è¿œç¨‹æœåŠ¡å™¨çš„ç›®çš„ï¼Œä¸»è¦æ˜¯æ–°å»ºä¸€ä¸ªä¸“é—¨çš„ç”¨æˆ·ï¼Œæ‰€æœ‰çš„ Git æ“ä½œéƒ½é€šè¿‡è¯¥ç”¨æˆ·å®Œæˆã€‚è¿™ä¸€æ­¥å…¶å®ä¸æ˜¯å¿…éœ€çš„ï¼Œä½†æ˜¯è¿™æ ·åæœŸæ“ä½œæ¯”è¾ƒçµæ´»ï¼ˆæ¯”å¦‚ä»“åº“å¯ä»¥è®©å¤šäººå…±äº«ï¼‰ã€‚

> ```bash
> $ sudo mkdir /home/git
> $ sudo useradd git
> $ sudo mkdir -m 700 /home/git/.ssh
> $ sudo cp ~/.ssh/authorized_keys /home/git/.ssh/
> ```

ä¸Šé¢å‘½ä»¤çš„å«ä¹‰å¦‚ä¸‹ã€‚

ï¼ˆ1ï¼‰æ–°å»ºæ–°ç”¨æˆ·çš„ä¸»ç›®å½•`/home/git`ã€‚

ï¼ˆ2ï¼‰æ–°å»ºä¸€ä¸ªç”¨æˆ·ï¼Œç”¨æˆ·åä¸º`git`ã€‚

ï¼ˆ3ï¼‰æ–°å»ºæ–°ç”¨æˆ·çš„ SSH ç›®å½•`/home/git/.ssh`ã€‚

ï¼ˆ4ï¼‰æŠŠå½“å‰ç”¨æˆ·çš„å…¬é’¥æ‹·è´ç»™`git`ç”¨æˆ·ï¼Œä»¥ä¾¿å¯†é’¥ç™»é™†ï¼Œè¯¦ç»†è§£é‡Šå¯ä»¥å‚è€ƒ[ã€ŠSSH å¯†é’¥ç™»å½•ã€‹](https://wangdoc.com/ssh/key.html)ã€‚

å¦‚æœä½ åªç”¨å¯†ç ç™»å½•ï¼Œä¸ä½¿ç”¨å¯†é’¥ç™»å½•ï¼Œé‚£ä¹ˆä¸Šé¢ç¬¬ä¸‰æ­¥å’Œç¬¬å››æ­¥æ˜¯ä¸éœ€è¦çš„ï¼Œä½†æ˜¯éœ€è¦ä¸º`git`ç”¨æˆ·è®¾å®šå¯†ç ï¼Œå‘½ä»¤å¦‚ä¸‹ã€‚

> ```bash
> $ sudo passwd git
> ```

### 4.2 æœ¬æœºè®¡ç®—æœºæ“ä½œ

åé¢çš„æ“ä½œéƒ½åœ¨æœ¬åœ°è®¡ç®—æœºå®Œæˆã€‚

å‡å®šä¸Šä¸€å°èŠ‚çš„è¿œç¨‹æœåŠ¡å™¨çš„ IP åœ°å€æ˜¯`192.168.1.25`ï¼Œæœ¬åœ°çš„ Git ä»“åº“åä¸º`example`ã€‚

> ```bash
> $ ssh git@192.168.1.25 git init --bare example.git
> ```

ä¸Šé¢å‘½ä»¤ä¸­ï¼Œ`ssh git@192.168.1.25`è¡¨ç¤ºä»¥`git`ç”¨æˆ·çš„èº«ä»½ï¼Œç™»å½•åˆ°è¿œç¨‹æœåŠ¡å™¨ã€‚åé¢çš„éƒ¨åˆ†æ˜¯ SSH çš„ä¸€ç§è¯­æ³•ï¼Œè¡¨ç¤ºç™»å½•ååœ¨è¿œç¨‹æœåŠ¡å™¨æ‰§è¡Œçš„å‘½ä»¤ï¼Œå³æ–°å»ºä¸€ä¸ªè¿œç¨‹ Git æ•°æ®ç›®å½•`example.git`ã€‚

è¿™æ¡å‘½ä»¤è¿è¡Œå®Œï¼Œå°±æœ‰äº†ä¸€ä¸ª Git æœåŠ¡å™¨äº†ï¼Œç„¶åå°±å¯ä»¥æ¨é€ä»£ç äº†ã€‚

> ```bash
> $ cd example
> $ git remote add myServer git@192.168.1.25:example.git
> $ git push myServer master
> ```

ä¸Šé¢çš„å‘½ä»¤å…ˆè¿›å…¥æœ¬åœ°ä»“åº“ï¼Œä¸ºè¿œç¨‹æœåŠ¡å™¨åŠ ä¸€ä¸ªåˆ«åï¼Œç„¶åæŠŠä»£ç æ¨é€è¿‡å»ã€‚



## é‡åˆ°çš„é”™è¯¯

### hexo deploy æäº¤ä»£ç  æŠ¥é”™

>  fatal: unable to access 'https://github.com/jgraph/drawio-desktop.git/': OpenSSL SSL_read: Connection was reset, errno 10054
>
> ç¿»è¯‘æˆä¸­æ–‡`æ‰“å¼€SSL SSL_readï¼šè¿æ¥å·²é‡ç½®ï¼Œé”™è¯¯ 10054`ã€‚
>
> è¿™æ ·è§£é‡Šå¯èƒ½ä¹Ÿæ¯”è¾ƒæ¨¡ç³Šï¼Œé€šä¿—ç‚¹è¯´æœåŠ¡å™¨çš„[SSLè¯ä¹¦](https://so.csdn.net/so/search?q=SSLè¯ä¹¦&spm=1001.2101.3001.7020)ç­æœ‰ç»è¿‡ç¬¬ä¸‰æ–¹æœºæ„çš„ç­¾ç½²ã€‚ä½†ä¹Ÿæœ‰äººè¯´å¯èƒ½æ˜¯ç½‘ç»œä¸ç¨³å®šï¼Œè¿æ¥è¶…æ—¶å¯¼è‡´ã€‚
>
> è§£å†³ï¼š
>
> git config --global http.sslVerify "false"
>
> git config --global https.sslVerify "false"
>
> 

### æœ¬åœ°ä»“åº“sshæäº¤å¤±è´¥

> æŠ¥é”™ï¼š
>
> fatal: Could not read from remote repository.

åŸå› ï¼šå®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„ssh keyä¸åŒ¹é…

é‡å†™ç”Ÿæˆssh key.

1. å…ˆåˆ é™¤ .ssh ç›®å½•ä¸‹ä¹‹å‰å¾—  id_rsaä»¥åŠid_rsa.pubè¿™ä¸¤ä¸ªæ–‡ä»¶

2. ç”Ÿæˆæ–°çš„

	```shell
	ssh-keygen -t rsa -C "youremail@example.com"
	```

3. å°†SSH key æ·»åŠ åˆ° ssh-agent

	```shell
	# id_rsa ä»¥ç”Ÿæˆå¾—æ–‡ä»¶åä¸ºä¸»
	ssh-add ~/.ssh/id_rsa
	
	#å¦‚æœå‡ºç°â€œCould not open a connection to your authentication agent.â€çš„é”™è¯¯å¯ä»¥ä½¿ç”¨ä»¥ä¸‹ä¸¤ç§æ–¹å¼è§£å†³ï¼š
	eval "$(ssh-agent -s)"
	eval `ssh-agent`
	
	# ç„¶åå†æ¬¡æ‰§è¡ŒæŒ‡ä»¤ã€‚
	ssh-add ~/.ssh/id_rsa 
	```

4. å»GitHub æ·»åŠ  sshKey

5. æµ‹è¯•

	```shell
	ssh -T git@github.com
	```

	

### SSHè¿æ¥æ—¶å‡ºç°Host key verification failed

> ç”¨OpenSSHçš„äººéƒ½çŸ¥sshä¼šæŠŠä½ æ¯ä¸ªä½ è®¿é—®è¿‡è®¡ç®—æœºçš„å…¬é’¥(public key)éƒ½è®°å½•åœ¨~/.ssh/known_hostsã€‚å½“ä¸‹æ¬¡è®¿é—®ç›¸åŒè®¡ç®—æœºæ—¶ï¼ŒOpenSSHä¼šæ ¸å¯¹å…¬é’¥ã€‚å¦‚æœå…¬é’¥ä¸åŒï¼ŒOpenSSHä¼šå‘å‡ºè­¦å‘Šï¼Œé¿å…ä½ å—åˆ°DNS Hijackä¹‹ç±»çš„æ”»å‡»ã€‚
>
> SSHå¯¹ä¸»æœºçš„public_keyçš„æ£€æŸ¥ç­‰çº§æ˜¯æ ¹æ®StrictHostKeyCheckingå˜é‡æ¥é…ç½®çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒStrictHostKeyChecking=askã€‚

ç®€å•è¯´ä¸‹å®ƒçš„ä¸‰ç§é…ç½®å€¼ï¼š

- StrictHostKeyChecking=no
	æœ€ä¸å®‰å…¨çš„çº§åˆ«ï¼Œå½“ç„¶ä¹Ÿæ²¡æœ‰é‚£ä¹ˆå¤šçƒ¦äººçš„æç¤ºäº†ï¼Œç›¸å¯¹å®‰å…¨çš„å†…ç½‘æ—¶å»ºè®®ä½¿ç”¨ã€‚å¦‚æœè¿æ¥serverçš„keyåœ¨æœ¬åœ°ä¸å­˜åœ¨ï¼Œé‚£ä¹ˆå°±è‡ªåŠ¨æ·»åŠ åˆ°æ–‡ä»¶ä¸­ï¼ˆé»˜è®¤æ˜¯known_hostsï¼‰ï¼Œå¹¶ä¸”ç»™å‡ºä¸€ä¸ªè­¦å‘Šã€‚

- StrictHostKeyChecking=ask
	é»˜è®¤çš„çº§åˆ«ï¼Œå°±æ˜¯å‡ºç°åˆšæ‰çš„æç¤ºäº†ã€‚å¦‚æœè¿æ¥å’Œkeyä¸åŒ¹é…ï¼Œç»™å‡ºæç¤ºï¼Œå¹¶æ‹’ç»ç™»å½•ã€‚

- StrictHostKeyChecking=yes
	æœ€å®‰å…¨çš„çº§åˆ«ï¼Œå¦‚æœè¿æ¥ä¸keyä¸åŒ¹é…ï¼Œå°±æ‹’ç»è¿æ¥ï¼Œä¸ä¼šæç¤ºè¯¦ç»†ä¿¡æ¯ã€‚

è§£å†³ï¼š

åˆ é™¤~/.ssh/known_hostsæ–‡ä»¶

### Failed to connect to github.com port 443 : Timed out

**é—®é¢˜åˆ†æï¼š** git æ‰€è®¾ç«¯å£ä¸ç³»ç»Ÿä»£ç†ä¸ä¸€è‡´ï¼Œéœ€é‡æ–°è®¾ç½®ã€‚

è§£å†³ï¼š

1. **æ‰“å¼€ è®¾ç½®>ç½‘ç»œä¸Internet>ä»£ç†** æ‰¾åˆ°ä»£ç†åœ°å€ å¦‚ï¼š **127.0.0.1:7890**

2. **ä¿®æ”¹gitçš„ç½‘ç»œè®¾ç½®**

	```shell
	git config --global http.proxy http://127.0.0.1:7890 
	git config --global https.proxy http://127.0.0.1:7890
	```

	

## git æäº¤ commit æ³¨é‡Šè§„èŒƒ

Gitæäº¤æ³¨é‡Šè§„èŒƒæ˜¯ç¡®ä¿é¡¹ç›®ä»£ç å˜æ›´è®°å½•æ¸…æ™°ã€æ˜“äºç†è§£å’Œç»´æŠ¤çš„é‡è¦çº¦å®šã€‚ä»¥ä¸‹æ˜¯ä¸€å¥—è¯¦ç»†çš„Gitæäº¤æ³¨é‡Šè§„èŒƒï¼š

### ä¸€ã€åŸºæœ¬ç»“æ„

Gitæäº¤æ³¨é‡Šé€šå¸¸ç”±ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼Œä½¿ç”¨ç©ºè¡Œåˆ†éš”ï¼š

1. **æ ‡é¢˜è¡Œï¼ˆHeaderï¼‰**ï¼šå¿…å¡«ï¼Œæè¿°ä¸»è¦ä¿®æ”¹ç±»å‹å’Œå†…å®¹ã€‚æ ¼å¼ä¸º`<type>(<scope>): <subject>`ã€‚
	- **type**ï¼šç”¨äºè¯´æ˜commitçš„ç±»åˆ«ï¼Œå¦‚`feat`è¡¨ç¤ºæ–°åŠŸèƒ½ï¼Œ`fix`è¡¨ç¤ºä¿®å¤bugï¼Œ`docs`è¡¨ç¤ºæ–‡æ¡£ä¿®æ”¹ï¼Œ`style`è¡¨ç¤ºä»£ç æ ¼å¼ä¿®æ”¹ï¼Œ`refactor`è¡¨ç¤ºä»£ç é‡æ„ï¼Œ`test`è¡¨ç¤ºæµ‹è¯•ç”¨ä¾‹ä¿®æ”¹ï¼Œ`build`è¡¨ç¤ºæ„å»ºç³»ç»Ÿæˆ–ä¾èµ–é¡¹ä¿®æ”¹ï¼Œ`ci`è¡¨ç¤ºæŒç»­é›†æˆç›¸å…³æ–‡ä»¶ä¿®æ”¹ï¼Œ`chore`è¡¨ç¤ºå…¶ä»–ä¿®æ”¹ï¼Œ`revert`è¡¨ç¤ºå›æ»šä¹‹å‰çš„commitç­‰ã€‚
	- **scope**ï¼šç”¨äºè¯´æ˜commitå½±å“çš„èŒƒå›´ï¼Œå¦‚æ•°æ®å±‚ã€æ§åˆ¶å±‚ã€è§†å›¾å±‚ç­‰ï¼Œæˆ–å½“å‰ä¿®æ”¹ç›®å½•ã€åŠŸèƒ½æ¨¡å—çš„åç§°ã€‚
	- **subject**ï¼šcommitç›®çš„çš„ç®€çŸ­æè¿°ï¼Œä¸è¶…è¿‡50ä¸ªå­—ç¬¦ï¼Œä»¥åŠ¨è¯å¼€å¤´ï¼Œä½¿ç”¨ç¬¬ä¸€äººç§°ç°åœ¨æ—¶ï¼Œå¦‚`change`ï¼Œç¬¬ä¸€ä¸ªå­—æ¯å°å†™ï¼Œç»“å°¾ä¸åŠ å¥å·ã€‚
2. **ä¸»é¢˜å†…å®¹ï¼ˆBodyï¼‰**ï¼šå¯é€‰ï¼Œæè¿°ä¸ºä»€ä¹ˆä¿®æ”¹ï¼Œåšäº†ä»€ä¹ˆæ ·çš„ä¿®æ”¹ï¼Œä»¥åŠå¼€å‘çš„æ€è·¯ç­‰ã€‚å¯ä»¥åˆ†æˆå¤šè¡Œã€‚
3. **é¡µè„šæ³¨é‡Šï¼ˆFooterï¼‰**ï¼šå¯é€‰ï¼Œé€šå¸¸æ”¾ç½®Breaking Changesæˆ–Closed Issuesç­‰å¤‡æ³¨ä¿¡æ¯ã€‚

### äºŒã€ç¤ºä¾‹

ä»¥ä¸‹æ˜¯ä¸€äº›ç¬¦åˆè§„èŒƒçš„Gitæäº¤æ³¨é‡Šç¤ºä¾‹ï¼š

**æ–°åŠŸèƒ½**ï¼š

```bash
feat(login): æ·»åŠ ç½‘ç«™ä¸»é¡µé™æ€é¡µé¢
 
æ·»åŠ äº†ç½‘ç«™ä¸»é¡µçš„é™æ€é¡µé¢ï¼ŒåŒ…æ‹¬å¤´éƒ¨ã€å¯¼èˆªæ å’Œåº•éƒ¨ç­‰ç»„ä»¶ã€‚
```

**ä¿®å¤bug**ï¼š

```bash
fix(parser): ä¿®å¤æ•°ç»„è§£ææ—¶å­—ç¬¦ä¸²ä¸­åŒ…å«å¤šä¸ªç©ºæ ¼çš„é—®é¢˜
 
å½“å­—ç¬¦ä¸²ä¸­åŒ…å«å¤šä¸ªç©ºæ ¼æ—¶ï¼Œä¹‹å‰çš„è§£æå™¨ä¼šå‡ºé”™ã€‚æ­¤commitä¿®å¤äº†è¯¥é—®é¢˜ï¼Œç°åœ¨å¯ä»¥æ­£ç¡®è§£æåŒ…å«å¤šä¸ªç©ºæ ¼çš„å­—ç¬¦ä¸²ã€‚
```

**ä»£ç é‡æ„**ï¼š

```bash
refactor(user-auth): é‡æ„ç”¨æˆ·éªŒè¯é€»è¾‘
 
ä¸ºäº†æé«˜ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œå¯¹ç”¨æˆ·éªŒè¯é€»è¾‘è¿›è¡Œäº†é‡æ„ã€‚
```

**æ€§èƒ½ä¼˜åŒ–**ï¼š

```bash
perf(image-loader): ä¼˜åŒ–å›¾ç‰‡åŠ è½½é€Ÿåº¦
 
é€šè¿‡æ”¹è¿›å›¾ç‰‡åŠ è½½ç®—æ³•ï¼Œæé«˜äº†å›¾ç‰‡åŠ è½½é€Ÿåº¦ï¼Œæå‡äº†ç”¨æˆ·ä½“éªŒã€‚
```

**æ–‡æ¡£ä¿®æ”¹**ï¼š

```bash
docs: æ›´æ–°READMEæ–‡ä»¶
 
æ›´æ–°äº†READMEæ–‡ä»¶ï¼Œæ·»åŠ äº†é¡¹ç›®ä»‹ç»å’Œå®‰è£…æ­¥éª¤ç­‰å†…å®¹ã€‚
```

**æ„å»ºç³»ç»Ÿä¿®æ”¹**ï¼š

```bash
build: å‡çº§webpackåˆ°ç‰ˆæœ¬5
 
ä¸ºäº†æ”¯æŒæ–°çš„JavaScriptç‰¹æ€§å’Œæ›´å¥½çš„æ€§èƒ½ï¼Œå°†webpackå‡çº§åˆ°ç‰ˆæœ¬5ã€‚
```

**å›æ»š**ï¼š

```bash
revert: feat(pencil): add â€˜graphiteWidthâ€™ option
 
æ­¤commitå›æ»šäº†ä¹‹å‰æ·»åŠ çš„â€˜graphiteWidthâ€™é€‰é¡¹çš„commitã€‚
```

### ä¸‰ã€æ³¨æ„äº‹é¡¹

1. **ç®€æ´æ˜äº†**ï¼šæ³¨é‡Šåº”ç®€æ´æ˜äº†ï¼Œé¿å…å†—é•¿å’Œå¤æ‚çš„æè¿°ã€‚
2. **ä¸€è‡´æ€§**ï¼šå›¢é˜Ÿå†…éƒ¨åº”ä¿æŒä¸€è‡´çš„æ³¨é‡Šé£æ ¼ï¼Œä»¥ä¾¿æ›´å¥½åœ°ç†è§£å’Œç»´æŠ¤ä»£ç ã€‚
3. **ä½¿ç”¨è‹±æ–‡**ï¼šå»ºè®®ä½¿ç”¨è‹±æ–‡è¿›è¡Œæ³¨é‡Šï¼Œä»¥ä¾¿æ›´å¹¿æ³›åœ°ä¸å…¨çƒå¼€å‘è€…äº¤æµã€‚å¦‚æœå›¢é˜Ÿå†…éƒ¨æœ‰ç‰¹å®šéœ€æ±‚ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ä¸­æ–‡æˆ–å…¶ä»–è¯­è¨€ã€‚
4. **éµå¾ªçº¦å®š**ï¼šéµå¾ªé¡¹ç›®æˆ–å›¢é˜Ÿå†…éƒ¨çš„Gitæäº¤æ³¨é‡Šçº¦å®šï¼Œä»¥ç¡®ä¿ä»£ç å˜æ›´è®°å½•çš„ä¸€è‡´æ€§å’Œå¯è¯»æ€§ã€‚

## ä½¿ç”¨ GitHub Actions å’Œ GitHub Pages æ„å»ºå’Œéƒ¨ç½²è‡ªå®šä¹‰ç«™ç‚¹

é¦–å…ˆï¼Œæ‚¨éœ€è¦ä¸ºä»“åº“å¯ç”¨ GitHub Pagesã€‚Settings -> Pages(æˆ–è®¿é—® `$repo/settings/pages`ï¼‰å¹¶å°†æ„å»ºæºè®¾ç½®ä¸ºâ€œGitHub Actionsâ€ã€‚

æœ€å° YAML é…æ–¹ - å°†å…¶ä¿å­˜åœ¨ `.github/workflows/publish.yml` æ–‡ä»¶ä¸­

```yml
name: Publish site

on:
  push:
  workflow_dispatch:

permissions:
  pages: write
  id-token: write

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v4
    - name: Build the site
      run: |
        mkdir _site
        echo '<h1>Hello, world!</h1>' > _site/index.html
    - name: Upload artifact
      uses: actions/upload-pages-artifact@v3
  deploy:
    environment:
      name: github-pages
      url: ${{ steps.deployment.outputs.page_url }}
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Deploy to GitHub Pages
        id: deployment
        uses: actions/deploy-pages@v4
```

è¯¥ `_site/` ç›®å½•ä¸­çš„ä»»ä½•å†…å®¹éƒ½å°†å‘å¸ƒåˆ° GitHub Pages ç«™ç‚¹ã€‚ç«™ç‚¹çš„é»˜è®¤ URL å°†ä¸º `https://$GITHUB_USERNAME.github.io/$REPO_NAME/` ã€‚å¦‚æœéœ€è¦ï¼Œæ‚¨å¯ä»¥å°†å…¶è®¾ç½®ä¸º [custom domain](https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site)ã€‚

å¦‚æœä½ çš„ä»“åº“åå­—ï¼ˆ$REPO_NAMEï¼‰è®¾ç½®ä¸º   $GITHUB_USERNAME.github.ioï¼Œå°†ç›´æ¥ä½¿ç”¨  `https://$GITHUB_USERNAME.github.ioå°±èƒ½è®¿é—®ä¸éœ€è¦ æ‹¼æ¥/$REPO_NAME