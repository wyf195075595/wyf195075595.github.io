---
title: java基础
date: 2023-01-09 13:00:00
tags: java基础
categories: java
---

## java 特性

### Java 程序的版本

> java SE (标准版)
>
> java EE（企业版）
>
> java ME（精简版）

### java 程序可移植性

> 什么是可移植性？
>
> java 程序可以做到一次编译，到处运行。可就是说可以运行到windows,linux等操作系统上。这个被称作Java程序的可移植性，或者叫跨平台。
>
> 如何实现呢？
>
> Windows操作系统于Linux操作系统的内核肯定不一样，系统执行指令的而方式也不一样。 Java程序不能直接和系统打交道，因为Java程序只有一份。操作系统原理都不同
>
> 解决：
>
> sum团队想到了一个办法，他们让Java程序运行在一台虚拟的计算机中，这个虚拟计算机叫Java虚拟机，简称JVM。Java虚拟机再和底层操作系统打交道。
>
> 这个虚拟机不能直接安装，而是通过安装适合自己操作系统的 **java jdk** 来实现的

### Java 的加载与执行

> 编译阶段主要任务是检查 Java 源程序是否符合 Java 语法（不进行运算），符合则生成正常字节码文件 (xxx.class)。不符合则无法生成字节码文件

.java -> .class -> 	类装载器 -> java 虚拟机（JVM） -> 操作系统 -> 硬件平台

**前两步为编译阶段，后面为运行阶段。两步操作可以在不同系统执行**

> 1. .java 是 java 程序源文件（源代码）必须符合Java 编码 规范
>
> 2. class 编译后的文件（字节码文件），使用 javac 编译源文件生成
>
> 	javac 是一个java编译工具/命令，一个Java 源文件可编译生成多个 .class 文件。
>
> 	语法：javac java源文件路径
>
> 	字节码文件是最终要执行的文件，所以删除Java源文件也不影响Java程序运行效果。但一般不删除源文件，以防需要修改。
>
> 	class 文件拷贝到其他操作系统也是可以运行的
>
> 3. 安装jdk后除了自带 javac.exe, 还有一个工具/命令 java.exe，主要负责运行阶段
>
> 	语法：java 类名
>
> 	例如：硬盘上有一个 A.class ,那么执行 java A。运行程序不要带 .class
>
> 4. 运行阶段
>
> 	在DOS窗口运行：java A
>
> 	Java.exe 命令会启动Java虚拟机（JVM），JVM 会启动类加载器ClassLoader 去硬盘上搜索 A.class文件，找到文件则将该字节码文件装载到JVM当中。JVM然后将A.class字节码文件解释成 二进制10101010这样的数据，最后由操作系统执行二进制文件和底层平台经行交互。
>
> 

### 安装jdk,jdk,jre,jvm 关系

- jdk	开发工具包,可单独安装，安装时会自带安装jre
- jre     开发运行环境，包括 jvm，可单独安装
- jvm    Java虚拟机

### jdk 目录介绍

> bin目录： 里面存放了很多命令，如 javac.exe,java.exe
>
> db目录：
>
> jre目录：自带的开发运行环境
>
> lib目录：
>
> include目录:

### 环境变量

- 系统环境变量 path

	可以通过配置 path,让命令在DOS窗口任意 目录下使用，相当于系统全局变量

- java 环境变量 classpath, 不配也没事（默认当前路径）

	默认ClassLoader 在当前目录路径下加载 xxx.class 字节码，配置classpath 可以给 ClassLoader 类加载器指定路径。更改默认指定路径

	配置 **classpath=.**	，相当于指定默认目录就是当前路径



### Java 注释

> 工具  javadoc.exe 可以将注释中的文字添加到帮助文档中。注释跟 js 一样

### Java SE类库的源码位置？

- SE库字节码：C:\Program Files\Java\jdk1.7.0_51\jre\lib\rt.jar
- SE库源码：C:\Program Files\Java\jdk1.7.0_51\src.zip

### 编码方式

> Java 语言采用 Unicode 编码方式，实际开发中使用 utf-8 较多

javac xxx.java 编译错误： 编码GBK的不可映射字符

解决方法：

以这种格式对文件经行重新编译	

javac -encoding utf-8 xxx.java

## Java 语法

### public class 和 class 的区别

- 一个Java源文件当中可以定义多个class
- 一个Java源文件当中 public class 不是必须的
- 一个class会定义生成一个 xxx.class字节码文件
- 一个Java源文件当中定义公开的类的话，只能有一个，并且该类必须和Java源文件名称一致。
- 每一个class当中都可以编写main方法，都可以设置程序入口。要执行B.class 中的main方法，执行 java B。如果B中没有main主方法，会报错

### 标识符

> Java语言中的标识符。

#### 什么是标识符？

在Java源码程序中，可以自己命名的单词都是标识符。

如：类名，方法名，常量名，接口名...

#### 标识符的命名规则？

- 一个合法的标识符只能由 数字，字母，下划线_，美元符号$ 组成，不能有其他符号。

- 不能数字开头

- 严格区分大小写
- 关键字不能用
- 理论上无长度限制

#### 标识符的命名规范？

只是一种规范，不输入语法，不遵守规范编译也可以通过。但是不方便他人理解代码

- 最好见名知意
- 遵守驼峰命名
- 类名，接口名：首字母大写（大驼峰
- 变量，方法名：首字母小写（小驼峰
- 常量名：全部大写



### 关键字

在Java中关键字都是小写

| class   | extend | implement | interface | important |
| ------- | ------ | --------- | --------- | --------- |
| package | break  | case      | continue  | default   |
| do      | if     | else      | for       | return    |
| switch  | while  | false     | true      | ...       |



### 字面值

> java 语言中所有字符串类型字面值必须使用双引号括起来，双引号是英文的
>
> Java 语言中所有的字符型字面量必须使用单引号括起来，单引号是英文的

- 10，1200
- 3.14
- "abc","123"  属于字符串
- 'a','1','人'  属于字面值
- true,false



### 变量

> 变量要求储存的具体的“数据”必须和变量的“数据类型”一致，当不一致的时候编译报错

#### 数据类型的作用？

- 不同数据类型底层分配不同大小的空间
- 数据类型是指导程序运行阶段应该分配多大的内存空间

#### 声明、定义变量的语法格式：

**数据类型 变量名**

#### 变量的分类：

- 局部变量

	在方法体当中声明的变量叫局部变量

- 成员变量

	在方法体外【类体之内】声明的变量叫做成员变量

**不同作用域下变量名可以相同**，Java 遵循就近原则 



### 数据类型

**基本数据类型**

1. 整数型 int，byte，short，long
2. 浮点型 float，double
3. 布尔型 boolean
4. 字符型 char 【表示现实中的文字，通过ASC码表转换】

#### 八种基本数据类型占用空间大小：

| 基本数据类型 | 占用空间大小(byte) | 取值范围                                | 默认值 |
| ------------ | ------------------ | --------------------------------------- | ------ |
| byte         | 1                  | -2^7~2^7-1(-128,127)                    | 0      |
| short        | 2                  | -2^15~2^15-1(-32768,32767)              | 0      |
| int          | 4                  | -2^31~-2^31-1                           | 0      |
| long         | 8                  | -2^63~2^63-1                            | 0L     |
| float        | 4                  | 大约±3.40282347E+38F(有效位15)          | 0      |
| double       | 8                  | 大约±1.79769313486231570E+308(有效位15) | 0.0    |
| boolean      | 1                  | true/false                              | false  |
| chart        | 2                  | 0~2^16-1(0, 65535)                      | \u0000 |

> 字节（byte）：
>
> 1 byte = 8 bit 【一个字节=8个比特位】1个比特位表示一个二进制位：1/0
>
> 1 KB = 1024 Byte
>
> 1 MB = 1024 KB
>
> 1 GB = 1024 MB
>
> byte 类型最大值： 2的7次方 - 1，127
>
> byte 类型最小值：-128
>
> byte 类型可以表示 256 个不同的数字

#### 关于八种基本数据类型的默认值：**一切向0看齐**

> 变量遵守这个语法：必须先声明，再赋值，才能访问。
>
> 成员变量没有手动赋值系统默认会赋值，但是局部变量不会

**引用数据类型**

字符串 “abc” 不属于基本数据类型，属于 “引用数据类型”，字符属于基本数据类型：

#### char 与 转译字符

> chart 支持 中文('中')，支持转义字符（'\n'）, 使用单引号括起来，

```java
// 这个输出命令会换行
System.out.println()
// 这个不会换行
System.out.print()
```

#### 整数型

> Java 语言当中的 **"整数型字面量值"被默认当作 int 类型来处理**。要让这个 "整数字面量值"后面添加 **l/L** ,建议使用大写**L**

**整数字面值的三种表示方式：**

1. 十进制：是一种缺省默认的方式
2. 八进制：需要以0开始
3. 十六进制：需要以0x开始

**类型转换**

> int 是小容量，long 类型是大容量。小容量可以自动转换成大容量，称为自动类型转换机制

```java
// 1、可以自动转换为大容量
int x = 123;

long y = x;

// 2、编译出错
long z = 2147483648; 

// 2147483648 字面量一开始会被当作int类型4个字节处理，但是这个字面值超出了int范围，所以报错

// 解决
long z = 2147483648L;

// 这样一开始字面量就会被当作long类型处理


// 3、大容量转换小容量需要强制转换，但是运行阶段可能损失精度（慎用）
// 转换原理：将原始二进制数据前 32个比特（4字节）去掉

int y = (int)z;

// 4、int 转换为byte类型，只要不超出byte存储范围不需要强制转换 
byte b = 127;
byte c = 128'// 编译出错

```



#### 浮点型

> 浮点型存储的值都是近似值，现实世界中有些数字是无限循环小数，计算机存储资源有限，所以只能存储近似值
>
> float 单精度【4个字节】
>
> double 双精度【8个字节，精度较高】
>
> 对于财务类型软件，double精度还是过低，所以Java提供了另一个引用类型： Java.math.bigDecima
>

在Java语言中，所有的浮点型字面值【3.0】，默认被当作 double 类型来处理，要想该字面值当作 float 类型来处理，需要在字面值后面添加 F/f;

```java
double d = 3.0;

float f = 5.1;// 编译错误
// 5.1 默认是double类型大容量， float 是单精度小容量，需要强制转换符

float f = (float)5.1;// 强制类型转换
float f = 5.1f;// 没有强制转换
```



#### 布尔值

> 只有两个值：true,false.
>
> 底层存储的时候Boolean类型占用1个字节，因为实际存储的时候false底层是0，true底层是1
>
> 主要使用在逻辑运算和条件控制语句中



#### 类型转换

> 1. 八种基本数据类型当中，除了**Boolean**类型其他类型都能互相转换
>
> 2. 小容量向大容量转换，称为自动类型转换，容量从小到大：
>
> 	byte < (short = char) < int < long < float < double
>
> 	任何浮点类型不管占用多少个字节，都是比整数型容量大
>
> 3. 小容量转大容量，必须加强制转换符，编译才能通过，但是运行阶段可能损失精度，慎用
>
> 4. 当整数字面量没有超出**byte，short，char**的取值范围，可以直接赋值给**byte，short，char**类型的变量
>
> 5. **byte，short，char**混合运算时，各自先转换成**int**类型在做运算
>
> 6. 多种数据类型混合运算，先转换成容量最大的那种类型再做运算
>
> 	
>
> 	**编写.java文件只考虑编译，不考虑运行**



#### 运算符

| 算数运算符       | +、-、*、/、++、--、%                                        |
| ---------------- | ------------------------------------------------------------ |
| 逻辑运算符       | &(与)、(或)、~(非)、^(异或)、&&(短路与)、\|\|(短路或)        |
| 关系运算符       | <、<=、>=、==、!=                                            |
| 布尔运算符       | &&、\|\|、\|、&、！                                          |
| 位运算符         | &(与)、\|(或)、~(非)、^(按位异)、>>(右移)、>>>(右移，左边空出的位0填充)、<<(左移) |
| 赋值类运算符     | =、+=、-=、*=、/=、%/                                        |
| 字符串连接运算符 | +                                                            |
| 条件运算符       | ?:                                                           |
| 其他运算符       | instanceof、new                                              |

**逻辑运算符**

- 逻辑运算符 要求两边的算子都是 真/假（布尔类型），且最终运算结果也是一个布尔类型

	异或（两边的算子只要不一样，结果就是 true）

- 短路与和逻辑与的运算结果相同，只不过短路与存在短路现象

- 短路或和逻辑或的运算结果相同，只不过短路或存在短路现象

**赋值运算符**

> 扩展类的赋值运算符，不改变运算结果类型，假设最初这个变量类型是 byte 类型，无论怎么进行追加，追减，最终该变量的数据类型还是byte类型

+运算符 在Java中的两个作用：

- 加法运算，求和
- 字符串的连接运算

当 "+" 运算符两边的数据都是字符串，一定是字符串连接运算。

- 数字 + 数字 --> 数字
- 数字 + "字符串" ---> "字符串" 【字符串连接】

在一个表达式中可以出现多个 "+" 号，如果没有 括号，那么就是从左到右依次运算



## 控制语句

Java控制语句可以分为7种

- 控制选择结构语句

	- if,else 括号中接受一个Boolean
	- switch 括号中接受一个 int/String

- 控制循环结构语句

	- for
	- while
	- do while

- 改变控制语句顺序

	- break 

		作用在for,while,do..while

	- continue



## 方法

> 语法结构：
>
> [修饰符列表] 返回值类型 方法名 (形参参数列表) {
>
> ​	方法体：
>
> }
>
> 返回值类型可以是基本类型也可以是引用类型，当返回类型是viod时，方法体不能 使用 return 语句 返回值
>
> 修饰符列表 统一写成： public  static

1. 对于方法的修饰符列表中有 static 关键字的：在方法体种调用时可以省略**类名.** 

2. 建议一个Java源文件当中只定义一个 class，清晰易读

3. 方法的内存分配情况

	![image-20230111111814126](https://raw.githubusercontent.com/wyf195075595/images/main/blog/image-20230111111814126.png)