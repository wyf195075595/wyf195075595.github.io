---
title: Nodejs ä¸»æµæ¡†æ¶
date: 2022-06-17 18:23:10
updated: 2024-01-19 09:05:00
tags: node
categories: node
---
## Nodejs ä¸»æµæ¡†æ¶

```js
1ã€Express
Nodeç•Œæœ€è€ç‰Œçš„Webæ¡†æ¶ï¼Œæœ€æˆç†Ÿï¼Œç”Ÿæ€æœ€å¥½ã€‚æä¾›äº†åŸºç¡€çš„è¯·æ±‚ä¸Šä¸‹æ–‡å°è£…ï¼Œè·¯ç”±ï¼Œä¸­é—´ä»¶ï¼Œæ¨¡æ¿å¼•æ“æ¥å£ï¼Œé™æ€èµ„æºæœåŠ¡ã€‚éº»é›€è™½å°ï¼Œäº”è„ä¿±å…¨ã€‚å¾ˆæ–¹ä¾¿çš„è¿›è¡Œæ‰©å±•ï¼Œå¤§é‡çš„åŸºäºExpressçš„æ¡†æ¶ã€‚

2ã€Koa
ExpressåŸç­äººé©¬æ‰“é€ ï¼Œå®šä¹‰ä¸ºä¸‹ä¸€ä»£Webå¼€å‘æ¡†æ¶ã€‚ä»…æä¾›ä¸€ä¸ªè¯·æ±‚ä¸Šä¸‹æ–‡ï¼Œä¸­é—´ä»¶æœºåˆ¶ï¼Œæ²¡æœ‰æ†ç»‘ä»»ä½•ä¸­é—´ä»¶ã€‚é€šè¿‡åˆ©ç”¨async/awaitï¼Œè®©ä½ å†™å‡ºæ›´ä¼˜é›…çš„ä»£ç ã€‚æ–¹ä¾¿å¼€å‘è€…é’ˆå¯¹è‡ªèº«éœ€æ±‚å¼€å‘è‡ªå®šä¹‰æ¡†æ¶ã€‚

3ã€egg
eggjsæ˜¯ç”±é˜¿é‡Œæ¨å‡ºçš„ä¸€æ¬¾webä¼ä¸šçº§æ¡†æ¶ï¼Œæä¾›äº†å®Œæ•´çš„Webå¼€å‘æ‰€éœ€çš„ç»„ä»¶ï¼Œä½¿ç”¨koaä½œä¸ºåº•å±‚ã€‚ä½¿ç”¨äº†çº¦å®šå¤§äºé…ç½®çš„ç†å¿µï¼Œæä¾›å¼ºå¤§çš„æ’ä»¶æœºåˆ¶ï¼Œæ–¹ä¾¿æ‰©å±•ã€‚

4ã€NestJs
NestJsçš„ä¸»è¦å–ç‚¹æ˜¯TypeScriptçš„å®Œå…¨æ”¯æŒã€‚å¤§é‡çš„ä½¿ç”¨è£…é¥°å™¨ï¼Œä»£ç çœ‹èµ·æ¥æ¸…çˆ½å¤šäº†ã€‚ormé‡‡ç”¨TypeORMï¼Œä½¿ç”¨ç±»å‹åŠ è£…é¥°å™¨ï¼Œä»£ç æ¯”ä¸€èˆ¬çš„ormæ•´æ´å¾—å¤šã€‚

5ã€Fastify
Fastifyå·ç§°æ˜¯æœ€å¿«çš„Nodejs webæ¡†æ¶ï¼Œåœ¨Jsonè¾“å‡ºçš„åœºæ™¯ä¸‹ï¼Œé€šè¿‡Json Schemaåºåˆ—åŒ–ä¸ºJsonæ•°æ®ï¼Œå¯ä»¥è¾¾åˆ°åŸç”ŸJSON.stringify 2å€çš„æ€§èƒ½ï¼Œåœ¨æç«¯æƒ…å†µä¸‹å¯è¾¾åˆ°10å€é€Ÿã€‚é‡‡ç”¨å¯¹è±¡æ± ï¼Œå°†è¯·æ±‚ä¸Šä¸‹æ–‡åŒ…è£…å¯¹è±¡è¿›è¡Œå¤ç”¨ã€‚ä½¿ç”¨trieæ ‘å­˜å‚¨è·¯ç”±ï¼ŒæŸ¥æ‰¾æ•ˆç‡æ›´é«˜ï¼ˆåœ¨å¤§é‡æœ‰è·¯ç”±çš„æƒ…å†µä¸‹ï¼‰ã€‚Fastifyæä¾›äº†å¼ºå¤§çš„æ’ä»¶æœºåˆ¶ï¼Œé€šè¿‡æ’ä»¶å¯ä»¥åˆ†å‰²è·¯ç”±åŠä¸­é—´ä»¶ã€‚


åœ°å€ï¼š
	https://npm-stat.com/
	https://npm-stat.com/charts.html?package=koa&from=2021-01-01&to=2022-04-27

åŒ…ä¸‹è½½é‡æŸ¥è¯¢ 2021-01-01 - 2022-04-27

Express	1,258,568,282
Koa	69,468,698
egg	2,177,325
NestJs	160,925
Fastify	19,580,835

githubæ˜Ÿæ•°

xpress	87.1k
Koa	32.5k
egg	17.9k
NestJs	46.5k
Fastify	22.8k
```

## nodejs åº“

### Sequelize

> Sequelize æ˜¯ä¸€ç§åŸºäº promise çš„ Node.js å¯¹è±¡å…³ç³»æ˜ å°„å™¨ ï¼ˆORMï¼‰ ä½¿ç”¨ï¼Œå®ƒä½¿å¼€å‘äººå‘˜æ›´å®¹æ˜“ä½¿ç”¨å…³ç³»æ•°æ®åº“ã€‚
> æ”¯æŒ PostgreSQLã€MySQLã€MariaDBã€SQLite ç­‰æ•°æ®åº“ã€‚

### CORS

> å®ƒä½¿ç”¨ Connect/Express æä¾›è·¨åŸŸèµ„æºå…±äº« ï¼ˆCORSï¼‰ ä½œä¸ºä¸­é—´ä»¶ã€‚

### Nodemailer

> Nodemailerç®€åŒ–äº†ä»Node.jsæœåŠ¡å™¨å‘é€ç”µå­é‚®ä»¶çš„è¿‡ç¨‹ã€‚

### passport

> Passport æ˜¯ä¸€ä¸ªæ¨¡å—åŒ–çš„ Node.js èº«ä»½éªŒè¯ä¸­é—´ä»¶ã€‚
>
> æ”¯æŒ 500 å¤šç§èº«ä»½éªŒè¯æ–¹æ¡ˆï¼ŒåŒ…æ‹¬ Googleã€Facebookã€Twitter å’Œå…¶ä»–è‡ªå®šä¹‰å’Œå•ç‚¹ç™»å½• ï¼ˆSSOï¼‰ æä¾›å•†ã€‚
>
> 

###  Async

> Async æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ Node.js å®ç”¨ç¨‹åºæ¨¡å—ï¼Œå¯å¸®åŠ©å¼€å‘äººå‘˜é€šè¿‡ä½¿ç”¨ JavaScriptâ€œå¼‚æ­¥â€æˆ–å›è°ƒæ¥å—æ–¹æ³•ä½¿ç”¨å¼‚æ­¥ JavaScriptã€‚
>
> æä¾› 70 å¤šç§å®ç”¨æ–¹æ³•ï¼Œç”¨äºè½»æ¾å¼€å‘å¼‚æ­¥æ§åˆ¶æµã€‚

### Winston

> Winston æ˜¯ Node.js çš„æ—¥å¿—è®°å½•åŒ…ï¼Œå…è®¸åœ¨è®¸å¤šä¼ è¾“ä¸Šè¿›è¡Œé€šç”¨æ—¥å¿—è®°å½•ã€‚

### Mongoose

> Mongoose æ˜¯ä¸€ä¸ª Nodeã€‚åŸºäº js çš„ MongoDB å¯¹è±¡å»ºæ¨¡å·¥å…·ï¼Œé€šå¸¸ç§°ä¸ºå¯¹è±¡æ•°æ®å»ºæ¨¡ ï¼ˆODMï¼‰ åº“ï¼Œæä¾›é’©å­ã€æ¨¡å‹éªŒè¯ã€è¿æ¥å’ŒæŸ¥è¯¢ç­‰åŠŸèƒ½ã€‚

### Socket.IO

> Socket.IO æ˜¯ä¸€ä¸ª Node .jsé€šä¿¡åŒ…ï¼Œå®ƒå…è®¸å®¢æˆ·ç«¯æµè§ˆå™¨å’ŒæœåŠ¡å™¨å®æ—¶ã€åŒå‘å’ŒåŸºäºäº‹ä»¶è¿›è¡Œé€šä¿¡ã€‚

### Lodash

> Lodash æ˜¯ä¸€ä¸ª JavaScript å®ç”¨ç¨‹åºåŒ…ï¼Œå¯å¸®åŠ©å¼€å‘äººå‘˜ç¼–å†™ç®€å•ä¸”å¯ç»´æŠ¤çš„ä»£ç ã€‚

### puppeteer

> Puppeteer æ˜¯ä¸€ä¸ª Node.js æ¡†æ¶ï¼Œå®ƒå…è®¸æ‚¨é€šè¿‡æä¾›ç”¨äºé€šè¿‡ DevTools åè®®æ§åˆ¶ Chrome/Chromium çš„é«˜çº§ APIï¼Œä»è€Œå®ç° Chrome çš„è‡ªåŠ¨åŒ–ã€‚
>
> å®ƒå¯ä»¥è‡ªåŠ¨æ‰§è¡Œå‰ç«¯æµ‹è¯•ï¼Œä¾‹å¦‚è¯·æ±‚å¤„ç†æµ‹è¯•ã€è¯†åˆ«å’Œæ¯”è¾ƒ UI ç»„ä»¶ä»¥åŠæ€§èƒ½æµ‹è¯•ç­‰ã€‚

### Multer

> Multer æ˜¯ä¸€ä¸ª Node.js ä¸­é—´ä»¶åº“ã€‚å®ƒå»ºç«‹åœ¨ HTML è¡¨å•è§£æå™¨ Busboy ä¹‹ä¸Šï¼Œæ”¯æŒå¤šéƒ¨åˆ†å’Œå¤šè¡¨å•æ•°æ®ã€‚
>
> åˆå§‹åŒ– Multer å®ä¾‹åï¼Œå…¶å‚æ•°ä¹‹ä¸€æ˜¯æµ‹è¯•å¯¹è±¡ï¼Œå®ƒæŒ‡å®šä¸Šä¼ çš„æ–‡ä»¶åœ¨æœåŠ¡å™¨ä¸Šçš„ä¿å­˜ä½ç½®ã€‚

### Dotenv

> Dotenv æ˜¯ä¸€ä¸ª Node.js å®ç”¨ç¨‹åºæ¨¡å—ï¼Œç”¨äºç»´æŠ¤åº”ç”¨ç¨‹åºç¯å¢ƒå˜é‡å¹¶ä¿æŠ¤å…³é”®é…ç½®æ•°æ®ã€‚

### [MQTT.js](https://github.com/mqttjs/MQTT.js)

> MQTTæ˜¯ä¸€ç§è½»é‡çº§çš„ã€åŸºäºå‘å¸ƒ/è®¢é˜…æ¨¡å¼çš„ç‰©è”ç½‘é€šä¿¡åè®®ï¼Œä¸“ä¸ºè®¡ç®—èƒ½åŠ›æœ‰é™å¹¶åœ¨ä½å¸¦å®½ã€ä¸å¯é ç½‘ç»œç¯å¢ƒä¸‹å·¥ä½œçš„è¿œç¨‹ä¼ æ„Ÿå™¨ã€æ§åˆ¶è®¾å¤‡é€šä¿¡è€Œè®¾è®¡ã€‚
>
> MQTTå’ŒSocketçš„ä¸»è¦åŒºåˆ«åœ¨äºå®ƒä»¬çš„åº”ç”¨åœºæ™¯å’Œç›®çš„ã€‚**MQTTæ›´é€‚ç”¨äºç‰©è”ç½‘åœºæ™¯**ï¼Œç‰¹åˆ«æ˜¯éœ€è¦å‘å¸ƒ/è®¢é˜…æ¨¡å¼ä»¥åŠä½å¸¦å®½ã€ä¸å¯é ç½‘ç»œç¯å¢ƒçš„åœºæ™¯ï¼›è€Œ**Socketåˆ™æ›´åå‘äºç½‘ç»œç¼–ç¨‹ä¸­çš„åŸºç¡€é€šä¿¡æ‰‹æ®µ**ï¼Œç”¨äºå»ºç«‹å¯é çš„è¿æ¥å’Œæ•°æ®ä¼ è¾“ã€‚åœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©åˆé€‚çš„åè®®æˆ–æŠ€æœ¯ã€‚

> [å®¢æˆ·ç«¯ mqtt-client.vue](src/views/able/mqtt-client.vue)

### [node-fluent-ffmpeg](https://github.com/fluent-ffmpeg/node-fluent-ffmpeg)

```shell
npm install fluent-ffmpeg
```



> è¯¥åº“å°† ffmpeg çš„å¤æ‚å‘½ä»¤è¡Œç”¨æ³•æŠ½è±¡ä¸ºä¸€ä¸ªæµç•…ã€æ˜“äºä½¿ç”¨çš„node.jsæ¨¡å—ã€‚ä¸ºäº†èƒ½å¤Ÿä½¿ç”¨æ­¤æ¨¡å—ï¼Œè¯·ç¡®ä¿æ‚¨çš„ç³»ç»Ÿä¸Šå®‰è£…äº† ffmpegï¼ˆåŒ…æ‹¬æ‰€æœ‰å¿…è¦çš„ç¼–ç åº“ï¼Œå¦‚ libmp3lame æˆ– libx264ï¼‰ã€‚

### [node mail](https://www.nodemailer.com/)

> Nodemailer æ˜¯ä¸€ä¸ªç”¨äºNode.jsåº”ç”¨ç¨‹åºçš„æ¨¡å—ï¼Œå¯ä»¥åƒè›‹ç³•ä¸€æ ·è½»æ¾å‘é€ç”µå­é‚®ä»¶ã€‚

```js
const nodemailer = require("nodemailer");

const transporter = nodemailer.createTransport({
  host: "smtp.ethereal.email",
  port: 587,
  secure: false, // Use `true` for port 465, `false` for all other ports
  auth: {
    user: "maddison53@ethereal.email",
    pass: "jn7jnAPss4f63QBp6D",
  },
});

// async..await is not allowed in global scope, must use a wrapper
async function main() {
  // send mail with defined transport object
  const info = await transporter.sendMail({
    from: '"Maddison Foo Koch ğŸ‘»" <maddison53@ethereal.email>', // sender address
    to: "bar@example.com, baz@example.com", // list of receivers
    subject: "Hello âœ”", // Subject line
    text: "Hello world?", // plain text body
    html: "<b>Hello world?</b>", // html body
  });

  console.log("Message sent: %s", info.messageId);
  // Message sent: <d786aa62-4e0a-070a-47ed-0b0666549519@ethereal.email>
}

main().catch(console.error);

```



## äº‘å‡½æ•°

### [lafäº‘å‡½æ•°](https://laf.dev)

> `laf` æ˜¯ä¸€ä¸ªé›†ã€Œå‡½æ•°è®¡ç®—ã€ã€ã€Œæ•°æ®åº“ã€ã€ã€Œå¯¹è±¡å­˜å‚¨ã€ç­‰äºä¸€èº«çš„ä¸€ç«™å¼å¼€å‘å¹³å°ã€‚
>
> æ”¯æŒget,post ç­‰å¸¸è§„è¯·æ±‚ã€‚æ”¯æŒsocketé•¿è¿æ¥ã€‚åŠŸèƒ½å¾ˆé½å…¨
>
> æ”¶è´¹æ–¹å¼æŒ‰æ—¶é—´è®¡ç®—ï¼Œå¯éšæ—¶å…³åœ

#### [**aircode**](https://docs-cn.aircode.io/guide/functions/post-params)

> AirCode æ˜¯ä¸€ä¸ªåœ¨çº¿å¼€å‘å’Œéƒ¨ç½² Node.js åº”ç”¨çš„å¹³å°ï¼Œä¸ºå…¨æ ˆå·¥ç¨‹å¸ˆé‡èº«å®šåˆ¶ï¼Œç›®æ ‡æ˜¯è®©å¼€å‘å˜å¾—ç®€å•ã€‚
>
> æˆ‘ä»¬é€šè¿‡æä¾›æè‡´ç®€å•çš„ WebIDE å’Œå¼€ç®±å³ç”¨çš„äº‘æœåŠ¡ï¼Œè®©å¼€å‘è€…æ— éœ€å†æ“å¿ƒåç«¯é€‰å‹ã€ç¯å¢ƒæ­å»ºå’Œçº¿ä¸Šè¿ç»´ç­‰ä¸€ç³»åˆ—ç¹çä¹‹äº‹ï¼Œåªéœ€æ‰“å¼€æµè§ˆå™¨å³å¯å®Œæˆäº§å“å¼€å‘ï¼Œå¹¶éƒ¨ç½²åˆ°å…¨çƒèŠ‚ç‚¹ã€‚

åŠŸèƒ½ä¸laf ç±»ä¼¼ï¼Œæ²¡æœ‰æä¾›socket é•¿è¿æ¥æœåŠ¡ã€‚ä½†æ˜¯æ‹¥æœ‰å…è´¹çš„é¢åº¦å¯ä»¥ç™½å«–

